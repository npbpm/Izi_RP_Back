(self.webpackChunkizi_rp=self.webpackChunkizi_rp||[]).push([[179],{904:(le,q,c)=>{"use strict";function p(t){return"function"==typeof t}function C(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const x=C(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function V(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(p(i))try{i()}catch(o){n=o instanceof x?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{O(o)}catch(s){n=null!=n?n:[],s instanceof x?n=[...n,...s.errors]:n.push(s)}}if(n)throw new x(n)}}add(n){var e;if(n&&n!==this)if(this.closed)O(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&V(e,n)}remove(n){const{_finalizers:e}=this;e&&V(e,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const t=new D;return t.closed=!0,t})();const I=D.EMPTY;function S(t){return t instanceof D||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function O(t){p(t)?t():t.unsubscribe()}const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(t,n,...e){const{delegate:i}=y;return(null==i?void 0:i.setTimeout)?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=y;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function h(t){y.setTimeout(()=>{const{onUnhandledError:n}=v;if(!n)throw t;n(t)})}function f(){}const g=_("C",void 0,void 0);function _(t,n,e){return{kind:t,value:n,error:e}}let m=null;function T(t){if(v.useDeprecatedSynchronousErrorHandling){const n=!m;if(n&&(m={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=m;if(m=null,e)throw i}}else t()}class $ extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,S(n)&&n.add(this)):this.destination=W}static create(n,e,i){return new R(n,e,i)}next(n){this.isStopped?G(function l(t){return _("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?G(function u(t){return _("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?G(g,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y=Function.prototype.bind;function B(t,n){return Y.call(t,n)}class F{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){U(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){U(i)}else U(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){U(e)}}}class R extends ${constructor(n,e,i){let r;if(super(),p(n)||!n)r={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&v.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&B(n.next,o),error:n.error&&B(n.error,o),complete:n.complete&&B(n.complete,o)}):r=n}this.destination=new F(r)}}function U(t){v.useDeprecatedSynchronousErrorHandling?function A(t){v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=t)}(t):h(t)}function G(t,n){const{onStoppedNotification:e}=v;e&&y.setTimeout(()=>e(t,n))}const W={closed:!0,next:f,error:function P(t){throw t},complete:f},ne="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}let Z=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function he(t){return t&&t instanceof $||function pe(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(t)&&S(t)}(e)?e:new R(e,i,r);return T(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=j(i))((r,o)=>{const s=new R({next:a=>{try{e(a)}catch(d){o(d),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ne](){return this}pipe(...e){return function Q(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=j(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function j(t){var n;return null!==(n=null!=t?t:v.Promise)&&void 0!==n?n:Promise}const J=C(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new te(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new J}next(e){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?I:(this.currentObservers=null,o.push(e),new D(()=>{this.currentObservers=null,V(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Z;return e.source=this,e}}return t.create=(n,e)=>new te(n,e),t})();class te extends Ee{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:I}}function ce(t){return p(null==t?void 0:t.lift)}function ue(t){return n=>{if(ce(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(t,n,e,i,r){return new M(t,n,e,i,r)}class M extends ${constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(d){n.error(d)}}:super._next,this._error=r?function(a){try{r(a)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function H(t,n){return ue((e,i)=>{let r=0;e.subscribe(N(i,o=>{i.next(t.call(n,o,r++))}))})}function wn(t){return this instanceof wn?(this.v=t,this):new wn(t)}function $n(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(se){i[se]&&(r[se]=function(me){return new Promise(function(Se,xe){o.push([se,me,Se,xe])>1||a(se,me)})})}function a(se,me){try{!function d(se){se.value instanceof wn?Promise.resolve(se.value.v).then(w,k):ee(o[0][2],se)}(i[se](me))}catch(Se){ee(o[0][3],Se)}}function w(se){a("next",se)}function k(se){a("throw",se)}function ee(se,me){se(me),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ie(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function mt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,d){!function r(o,s,a,d){Promise.resolve(d).then(function(w){o({value:w,done:a})},s)}(a,d,(s=t[o](s)).done,s.value)})}}}const Ne=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function je(t){return p(null==t?void 0:t.then)}function Ve(t){return p(t[ne])}function Be(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function qe(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const We=function He(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tt(t){return p(null==t?void 0:t[We])}function dt(t){return $n(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield wn(e.read());if(r)return yield wn(void 0);yield yield wn(i)}}finally{e.releaseLock()}})}function _t(t){return p(null==t?void 0:t.getReader)}function Ke(t){if(t instanceof Z)return t;if(null!=t){if(Ve(t))return function ut(t){return new Z(n=>{const e=t[ne]();if(p(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ne(t))return function ht(t){return new Z(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(je(t))return function Ct(t){return new Z(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,h)})}(t);if(Be(t))return pt(t);if(tt(t))return function Pt(t){return new Z(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(_t(t))return function dn(t){return pt(dt(t))}(t)}throw qe(t)}function pt(t){return new Z(n=>{(function an(t,n){var e,i,r,o;return function rt(t,n,e,i){return new(e||(e=Promise))(function(o,s){function a(k){try{w(i.next(k))}catch(ee){s(ee)}}function d(k){try{w(i.throw(k))}catch(ee){s(ee)}}function w(k){k.done?o(k.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(k.value).then(a,d)}w((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ie(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function pn(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Lt(t,n,e=1/0){return p(n)?Lt((i,r)=>H((o,s)=>n(i,o,r,s))(Ke(t(i,r))),e):("number"==typeof n&&(e=n),ue((i,r)=>function nr(t,n,e,i,r,o,s,a){const d=[];let w=0,k=0,ee=!1;const se=()=>{ee&&!d.length&&!w&&n.complete()},me=xe=>w<i?Se(xe):d.push(xe),Se=xe=>{o&&n.next(xe),w++;let Re=!1;Ke(e(xe,k++)).subscribe(N(n,Fe=>{null==r||r(Fe),o?me(Fe):n.next(Fe)},()=>{Re=!0},void 0,()=>{if(Re)try{for(w--;d.length&&w<i;){const Fe=d.shift();s?pn(n,s,()=>Se(Fe)):Se(Fe)}se()}catch(Fe){n.error(Fe)}}))};return t.subscribe(N(n,me,()=>{ee=!0,se()})),()=>{null==a||a()}}(i,r,t,e)))}function An(t=1/0){return Lt(X,t)}const Tn=new Z(t=>t.complete());function hr(t){return t&&p(t.schedule)}function yn(t){return t[t.length-1]}function to(t){return p(yn(t))?t.pop():void 0}function wi(t){return hr(yn(t))?t.pop():void 0}function Xo(t,n=0){return ue((e,i)=>{e.subscribe(N(i,r=>pn(i,t,()=>i.next(r),n),()=>pn(i,t,()=>i.complete(),n),r=>pn(i,t,()=>i.error(r),n)))})}function no(t,n=0){return ue((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function za(t,n){if(!t)throw new Error("Iterable cannot be null");return new Z(e=>{pn(e,n,()=>{const i=t[Symbol.asyncIterator]();pn(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Yn(t,n){return n?function Pu(t,n){if(null!=t){if(Ve(t))return function Au(t,n){return Ke(t).pipe(no(n),Xo(n))}(t,n);if(Ne(t))return function Wa(t,n){return new Z(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(je(t))return function es(t,n){return Ke(t).pipe(no(n),Xo(n))}(t,n);if(Be(t))return za(t,n);if(tt(t))return function Mu(t,n){return new Z(e=>{let i;return pn(e,n,()=>{i=t[We](),pn(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>p(null==i?void 0:i.return)&&i.return()})}(t,n);if(_t(t))return function Iu(t,n){return za(dt(t),n)}(t,n)}throw qe(t)}(t,n):Ke(t)}function kr(...t){const n=wi(t),e=function Oo(t,n){return"number"==typeof yn(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Ke(i[0]):An(e)(Yn(i,n)):Tn}function Ya(t={}){const{connector:n=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,d,w=0,k=!1,ee=!1;const se=()=>{null==a||a.unsubscribe(),a=void 0},me=()=>{se(),s=d=void 0,k=ee=!1},Se=()=>{const xe=s;me(),null==xe||xe.unsubscribe()};return ue((xe,Re)=>{w++,!ee&&!k&&se();const Fe=d=null!=d?d:n();Re.add(()=>{w--,0===w&&!ee&&!k&&(a=No(Se,r))}),Fe.subscribe(Re),!s&&w>0&&(s=new R({next:Me=>Fe.next(Me),error:Me=>{ee=!0,se(),a=No(me,e,Me),Fe.error(Me)},complete:()=>{k=!0,se(),a=No(me,i),Fe.complete()}}),Ke(xe).subscribe(s))})(o)}}function No(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new R({next:()=>{i.unsubscribe(),t()}});return n(...e).subscribe(i)}function un(t){for(let n in t)if(t[n]===un)return n;throw Error("Could not find renamed property on target object.")}function Ka(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function en(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(en).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Fs(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ts=un({__forward_ref__:un});function ct(t){return t.__forward_ref__=ct,t.toString=function(){return en(this())},t}function vt(t){return Li(t)?t():t}function Li(t){return"function"==typeof t&&t.hasOwnProperty(ts)&&t.__forward_ref__===ct}class St extends Error{constructor(n,e){super(function _r(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Dt(t){return"string"==typeof t?t:null==t?"":String(t)}function Bn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dt(t)}function ku(t,n){const e=n?` in ${n}`:"";throw new St(-201,`No provider for ${Bn(t)} found${e}`)}function Ui(t,n){null==t&&function cn(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function lp(t){return Vm(t,Ru)||Vm(t,Hm)}function Vm(t,n){return t.hasOwnProperty(n)?t[n]:null}function Um(t){return t&&(t.hasOwnProperty(up)||t.hasOwnProperty(_S))?t[up]:null}const Ru=un({\u0275prov:un}),up=un({\u0275inj:un}),Hm=un({ngInjectableDef:un}),_S=un({ngInjectorDef:un});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let cp;function xo(t){const n=cp;return cp=t,n}function Gm(t,n,e){const i=lp(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&xt.Optional?null:void 0!==n?n:void ku(en(t),"Injector")}function Ao(t){return{toString:t}.toString()}var mr=(()=>((mr=mr||{})[mr.OnPush=0]="OnPush",mr[mr.Default=1]="Default",mr))(),Rr=(()=>{return(t=Rr||(Rr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Rr;var t})();const gS="undefined"!=typeof globalThis&&globalThis,yS="undefined"!=typeof window&&window,vS="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fn=gS||"undefined"!=typeof global&&global||yS||vS,js={},hn=[],Fu=un({\u0275cmp:un}),dp=un({\u0275dir:un}),pp=un({\u0275pipe:un}),qm=un({\u0275mod:un}),ro=un({\u0275fac:un}),Za=un({__NG_ELEMENT_ID__:un});let bS=0;function Wt(t){return Ao(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rr.Emulated,id:"c",styles:t.styles||hn,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,s=t.pipes;return i.id+=bS++,i.inputs=Km(t.inputs,e),i.outputs=Km(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Wm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(zm):null,i})}function Wm(t){return ai(t)||function Mo(t){return t[dp]||null}(t)}function zm(t){return function ns(t){return t[pp]||null}(t)}const Ym={};function zt(t){return Ao(()=>{const n={type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ym[t.id]=t.type),n})}function Km(t,n){if(null==t)return js;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,n&&(n[r]=o)}return e}const Ze=Wt;function ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[Fu]||null}function ir(t,n){const e=t[qm]||null;if(!e&&!0===n)throw new Error(`Type ${en(t)} does not have '\u0275mod' property.`);return e}function Fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function yr(t){return Array.isArray(t)&&!0===t[1]}function _p(t){return 0!=(8&t.flags)}function Lu(t){return 2==(2&t.flags)}function Vu(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function DS(t){return 0!=(512&t[2])}function as(t,n){return t.hasOwnProperty(ro)?t[ro]:null}class xS{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ln(){return Jm}function Jm(t){return t.type.prototype.ngOnChanges&&(t.setInput=MS),AS}function AS(){const t=Xm(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===js)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function MS(t,n,e,i){const r=Xm(t)||function IS(t,n){return t[Qm]=n}(t,{previous:js,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],d=s[a];o[a]=new xS(d&&d.currentValue,n,s===js),t[i]=n}Ln.ngInherit=!0;const Qm="__ngSimpleChanges__";function Xm(t){return t[Qm]||null}let bp;function In(t){return!!t.listen}const eg={createRenderer:(t,n)=>function wp(){return void 0!==bp?bp:"undefined"!=typeof document?document:void 0}()};function Vn(t){for(;Array.isArray(t);)t=t[0];return t}function Uu(t,n){return Vn(n[t])}function Gi(t,n){return Vn(n[t.index])}function Cp(t,n){return t.data[n]}function qi(t,n){const e=n[t];return Fr(e)?e:e[0]}function tg(t){return 4==(4&t[2])}function Ep(t){return 128==(128&t[2])}function Io(t,n){return null==n?null:t[n]}function ng(t){t[18]=0}function Tp(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const Mt={lFrame:dg(null),bindingsEnabled:!0};function rg(){return Mt.bindingsEnabled}function Ge(){return Mt.lFrame.lView}function Zt(){return Mt.lFrame.tView}function ye(t){return Mt.lFrame.contextLView=t,t[8]}function Kn(){let t=og();for(;null!==t&&64===t.type;)t=t.parent;return t}function og(){return Mt.lFrame.currentTNode}function jr(t,n){const e=Mt.lFrame;e.currentTNode=t,e.isParent=n}function Sp(){return Mt.lFrame.isParent}function Dp(){Mt.lFrame.isParent=!1}function Ei(){const t=Mt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function oo(){return Mt.lFrame.bindingIndex}function Hs(){return Mt.lFrame.bindingIndex++}function so(t){const n=Mt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function KS(t,n){const e=Mt.lFrame;e.bindingIndex=e.bindingRootIndex=t,Op(n)}function Op(t){Mt.lFrame.currentDirectiveIndex=t}function lg(){return Mt.lFrame.currentQueryIndex}function xp(t){Mt.lFrame.currentQueryIndex=t}function JS(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ug(t,n,e){if(e&xt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&xt.Host||(r=JS(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;n=r,t=o}const i=Mt.lFrame=cg();return i.currentTNode=n,i.lView=t,!0}function Gu(t){const n=cg(),e=t[1];Mt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function cg(){const t=Mt.lFrame,n=null===t?null:t.child;return null===n?dg(t):n}function dg(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function pg(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fg=pg;function qu(){const t=pg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ti(){return Mt.lFrame.selectedIndex}function Po(t){Mt.lFrame.selectedIndex=t}function Sn(){const t=Mt.lFrame;return Cp(t.tView,t.selectedIndex)}function Wu(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:d,ngAfterViewChecked:w,ngOnDestroy:k}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),d&&(t.viewHooks||(t.viewHooks=[])).push(-e,d),w&&((t.viewHooks||(t.viewHooks=[])).push(e,w),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,w)),null!=k&&(t.destroyHooks||(t.destroyHooks=[])).push(e,k)}}function zu(t,n,e){hg(t,n,3,e)}function Yu(t,n,e,i){(3&t[2])===e&&hg(t,n,e,i)}function Ap(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function hg(t,n,e,i){const o=null!=i?i:-1,s=n.length-1;let a=0;for(let d=void 0!==i?65535&t[18]:0;d<s;d++)if("number"==typeof n[d+1]){if(a=n[d],null!=i&&a>=i)break}else n[d]<0&&(t[18]+=65536),(a<o||-1==o)&&(sD(t,e,n,d),t[18]=(4294901760&t[18])+d+2),d++}function sD(t,n,e,i){const r=e[i]<0,o=e[i+1],a=t[r?-e[i]:e[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class tl{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Ku(t,n,e){const i=In(t);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],d=e[r++];i?t.setAttribute(n,a,d,s):n.setAttributeNS(s,a,d)}else{const s=o,a=e[++r];Ip(s)?i&&t.setProperty(n,s,a):i?t.setAttribute(n,s,a):n.setAttribute(s,a),r++}}return r}function _g(t){return 3===t||4===t||6===t}function Ip(t){return 64===t.charCodeAt(0)}function Zu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||mg(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function mg(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function gg(t){return-1!==t}function Gs(t){return 32767&t}function qs(t,n){let e=function dD(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Pp=!0;function Ju(t){const n=Pp;return Pp=t,n}let pD=0;function il(t,n){const e=Rp(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,kp(i.data,t),kp(n,null),kp(i.blueprint,null));const r=Qu(t,n),o=t.injectorIndex;if(gg(r)){const s=Gs(r),a=qs(r,n),d=a[1].data;for(let w=0;w<8;w++)n[o+w]=a[s+w]|d[s+w]}return n[o+8]=r,o}function kp(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Rp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Qu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Xu(t,n,e){!function fD(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Za)&&(i=e[Za]),null==i&&(i=e[Za]=pD++);const r=255&i;n.data[t+(r>>5)]|=1<<r}(t,n,e)}function bg(t,n,e){if(e&xt.Optional)return t;ku(n,"NodeInjector")}function wg(t,n,e,i){if(e&xt.Optional&&void 0===i&&(i=null),0==(e&(xt.Self|xt.Host))){const r=t[9],o=xo(void 0);try{return r?r.get(n,i,e&xt.Optional):Gm(n,i,e&xt.Optional)}finally{xo(o)}}return bg(i,n,e)}function Cg(t,n,e,i=xt.Default,r){if(null!==t){const o=function gD(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Za)?t[Za]:void 0;return"number"==typeof n?n>=0?255&n:_D:n}(e);if("function"==typeof o){if(!ug(n,t,i))return i&xt.Host?bg(r,e,i):wg(n,e,i,r);try{const s=o(i);if(null!=s||i&xt.Optional)return s;ku(e)}finally{fg()}}else if("number"==typeof o){let s=null,a=Rp(t,n),d=-1,w=i&xt.Host?n[16][6]:null;for((-1===a||i&xt.SkipSelf)&&(d=-1===a?Qu(t,n):n[a+8],-1!==d&&Sg(i,!1)?(s=n[1],a=Gs(d),n=qs(d,n)):a=-1);-1!==a;){const k=n[1];if(Tg(o,a,k.data)){const ee=mD(a,n,e,s,i,w);if(ee!==Eg)return ee}d=n[a+8],-1!==d&&Sg(i,n[1].data[a+8]===w)&&Tg(o,a,n)?(s=k,a=Gs(d),n=qs(d,n)):a=-1}}}return wg(n,e,i,r)}const Eg={};function _D(){return new Ws(Kn(),Ge())}function mD(t,n,e,i,r,o){const s=n[1],a=s.data[t+8],k=ec(a,s,e,null==i?Lu(a)&&Pp:i!=s&&0!=(3&a.type),r&xt.Host&&o===a);return null!==k?rl(n,s,k,a):Eg}function ec(t,n,e,i,r){const o=t.providerIndexes,s=n.data,a=1048575&o,d=t.directiveStart,k=o>>20,se=r?a+k:t.directiveEnd;for(let me=i?a:a+k;me<se;me++){const Se=s[me];if(me<d&&e===Se||me>=d&&Se.type===e)return me}if(r){const me=s[d];if(me&&vr(me)&&me.type===e)return d}return null}function rl(t,n,e,i){let r=t[e];const o=n.data;if(function aD(t){return t instanceof tl}(r)){const s=r;s.resolving&&function ap(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new St(-200,`Circular dependency in DI detected for ${t}${e}`)}(Bn(o[e]));const a=Ju(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?xo(s.injectImpl):null;ug(t,i,xt.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function oD(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=Jm(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],n)}finally{null!==d&&xo(d),Ju(a),s.resolving=!1,fg()}}return r}function Tg(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Sg(t,n){return!(t&xt.Self||t&xt.Host&&n)}class Ws{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Cg(this._tNode,this._lView,n,i,e)}}function _i(t){return Ao(()=>{const n=t.prototype.constructor,e=n[ro]||Fp(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[ro]||Fp(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Fp(t){return Li(t)?()=>{const n=Fp(vt(t));return n&&n()}:as(t)}function ao(t){return function hD(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(_g(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(Kn(),t)}const Ys="__parameters__";function Zs(t,n,e){return Ao(()=>{const i=function jp(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(d,w,k){const ee=d.hasOwnProperty(Ys)?d[Ys]:Object.defineProperty(d,Ys,{value:[]})[Ys];for(;ee.length<=k;)ee.push(null);return(ee[k]=ee[k]||[]).push(s),d}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const vD=new kt("AnalyzeForEntryComponents");function sr(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),sr(i,n)):n!==t&&n.push(i)}return n}function $r(t,n){t.forEach(e=>Array.isArray(e)?$r(e,n):n(e))}function Og(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function tc(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function al(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Wi(t,n,e){let i=Js(t,n);return i>=0?t[1|i]=e:(i=~i,function CD(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Bp(t,n){const e=Js(t,n);if(e>=0)return t[1|e]}function Js(t,n){return function Ag(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const ll={},Vp="__NG_DI_FLAG__",ic="ngTempTokenPath",xD=/\n/gm,Ig="__source",MD=un({provide:String,useValue:un});let ul;function Pg(t){const n=ul;return ul=t,n}function ID(t,n=xt.Default){if(void 0===ul)throw new St(203,"");return null===ul?Gm(t,void 0,n):ul.get(t,n&xt.Optional?null:void 0,n)}function Xe(t,n=xt.Default){return(function mS(){return cp}()||ID)(vt(t),n)}const PD=Xe;function Up(t){const n=[];for(let e=0;e<t.length;e++){const i=vt(t[e]);if(Array.isArray(i)){if(0===i.length)throw new St(900,"");let r,o=xt.Default;for(let s=0;s<i.length;s++){const a=i[s],d=kD(a);"number"==typeof d?-1===d?r=a.token:o|=d:r=a}n.push(Xe(r,o))}else n.push(Xe(i))}return n}function cl(t,n){return t[Vp]=n,t.prototype[Vp]=n,t}function kD(t){return t[Vp]}const rc=cl(Zs("Inject",t=>({token:t})),-1),Ro=cl(Zs("Optional"),8),dl=cl(Zs("SkipSelf"),4);var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();const Vg="__ngContext__";function mi(t,n){t[Vg]=n}function qp(t){const n=function fl(t){return t[Vg]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function zp(t,n){return undefined(t,n)}function hl(t){const n=t[3];return yr(n)?n[3]:n}function Yp(t){return Yg(t[13])}function Kp(t){return Yg(t[4])}function Yg(t){for(;null!==t&&!yr(t);)t=t[4];return t}function Xs(t,n,e,i,r){if(null!=i){let o,s=!1;yr(i)?o=i:Fr(i)&&(s=!0,i=i[0]);const a=Vn(i);0===t&&null!==e?null==r?ey(n,e,a):ls(n,e,a,r||null,!0):1===t&&null!==e?ls(n,e,a,r||null,!0):2===t?function nf(t,n,e){const i=sc(t,n);i&&function dO(t,n,e,i){In(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=o&&function hO(t,n,e,i,r){const o=e[7];o!==Vn(e)&&Xs(n,t,i,o,r);for(let a=10;a<e.length;a++){const d=e[a];_l(d[1],d,t,n,i,o)}}(n,t,o,e,r)}}function Jp(t,n,e){if(In(t))return t.createElement(n,e);{const i=null!==e?function FS(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?t.createElement(n):t.createElementNS(i,n)}}function Zg(t,n){const e=t[9],i=e.indexOf(n),r=n[3];1024&n[2]&&(n[2]&=-1025,Tp(r,-1)),e.splice(i,1)}function Qp(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const r=i[17];null!==r&&r!==t&&Zg(r,i),n>0&&(t[e-1][4]=i[4]);const o=tc(t,10+n);!function iO(t,n){_l(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Jg(t,n){if(!(256&n[2])){const e=n[11];In(e)&&e.destroyNode&&_l(t,n,e,3,null,null),function sO(t){let n=t[13];if(!n)return Xp(t[1],t);for(;n;){let e=null;if(Fr(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Fr(n)&&Xp(n[1],n),n=n[3];null===n&&(n=t),Fr(n)&&Xp(n[1],n),e=n&&n[4]}n=e}}(n)}}function Xp(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function cO(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof tl)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],d=o[s+1];try{d.call(a)}finally{}}else try{o.call(r)}finally{}}}}(t,n),function uO(t,n){const e=t.cleanup,i=n[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(n):Vn(n[s]),d=i[r=e[o+2]],w=e[o+3];"boolean"==typeof w?a.removeEventListener(e[o],d,w):w>=0?i[r=w]():i[r=-w].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();n[7]=null}}(t,n),1===n[1].type&&In(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&yr(n[3])){e!==n[3]&&Zg(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function Qg(t,n,e){return function Xg(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Rr.None||r===Rr.Emulated)return null}return Gi(i,e)}(t,n.parent,e)}function ls(t,n,e,i,r){In(t)?t.insertBefore(n,e,i,r):n.insertBefore(e,i,r)}function ey(t,n,e){In(t)?t.appendChild(n,e):n.appendChild(e)}function ty(t,n,e,i,r){null!==i?ls(t,n,e,i,r):ey(t,n,e)}function sc(t,n){return In(t)?t.parentNode(n):n.parentNode}function ny(t,n,e){return ry(t,n,e)}let ry=function iy(t,n,e){return 40&t.type?Gi(t,e):null};function ac(t,n,e,i){const r=Qg(t,i,n),o=n[11],a=ny(i.parent||n[6],i,n);if(null!=r)if(Array.isArray(e))for(let d=0;d<e.length;d++)ty(o,r,e[d],a,!1);else ty(o,r,e,a,!1)}function lc(t,n){if(null!==n){const e=n.type;if(3&e)return Gi(n,t);if(4&e)return tf(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return lc(t,i);{const r=t[n.index];return yr(r)?tf(-1,r):Vn(r)}}if(32&e)return zp(n,t)()||Vn(t[n.index]);{const i=sy(t,n);return null!==i?Array.isArray(i)?i[0]:lc(hl(t[16]),i):lc(t,n.next)}}return null}function sy(t,n){return null!==n?t[16][6].projection[n.projection]:null}function tf(t,n){const e=10+t+1;if(e<n.length){const i=n[e],r=i[1].firstChild;if(null!==r)return lc(i,r)}return n[7]}function rf(t,n,e,i,r,o,s){for(;null!=e;){const a=i[e.index],d=e.type;if(s&&0===n&&(a&&mi(Vn(a),i),e.flags|=4),64!=(64&e.flags))if(8&d)rf(t,n,e.child,i,r,o,!1),Xs(n,t,r,a,o);else if(32&d){const w=zp(e,i);let k;for(;k=w();)Xs(n,t,r,k,o);Xs(n,t,r,a,o)}else 16&d?ay(t,n,i,e,r,o):Xs(n,t,r,a,o);e=s?e.projectionNext:e.next}}function _l(t,n,e,i,r,o){rf(e,i,t.firstChild,n,r,o,!1)}function ay(t,n,e,i,r,o){const s=e[16],d=s[6].projection[i.projection];if(Array.isArray(d))for(let w=0;w<d.length;w++)Xs(n,t,r,d[w],o);else rf(t,n,d,s[3],r,o,!0)}function ly(t,n,e){In(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function sf(t,n,e){In(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}class py{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fo(t){return t instanceof py?t.changingThisBreaksApplicationSecurity:t}const NO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xO=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function ff(t){const n=function yl(){const t=Ge();return t&&t[12]}();return n?n.sanitize(Un.URL,t)||"":function ml(t,n){const e=function TO(t){return t instanceof py&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}(t,"URL")?Fo(t):function dc(t){return(t=String(t)).match(NO)||t.match(xO)?t:"unsafe:"+t}(Dt(t))}function _f(t){return t.ngOriginalError}function WO(t,...n){t.error(...n)}class vl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=function qO(t){return t&&t.ngErrorLogger||WO}(n);i(this._console,"ERROR",n),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&_f(n);for(;e&&_f(e);)e=_f(e);return e||null}}const XO=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(fn))();function wy(t){return t.ownerDocument.defaultView}function Lr(t){return t instanceof Function?t():t}function Ey(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}const Ty="ng-template";function nN(t,n,e){let i=0;for(;i<t.length;){let r=t[i++];if(e&&"class"===r){if(r=t[i],-1!==Ey(r.toLowerCase(),n,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===n)return!0;return!1}}return!1}function Sy(t){return 4===t.type&&t.value!==Ty}function iN(t,n,e){return n===(4!==t.type||e?t.value:Ty)}function rN(t,n,e){let i=4;const r=t.attrs||[],o=function aN(t){for(let n=0;n<t.length;n++)if(_g(t[n]))return n;return t.length}(r);let s=!1;for(let a=0;a<n.length;a++){const d=n[a];if("number"!=typeof d){if(!s)if(4&i){if(i=2|1&i,""!==d&&!iN(t,d,e)||""===d&&1===n.length){if(br(i))return!1;s=!0}}else{const w=8&i?d:n[++a];if(8&i&&null!==t.attrs){if(!nN(t.attrs,w,e)){if(br(i))return!1;s=!0}continue}const ee=oN(8&i?"class":d,r,Sy(t),e);if(-1===ee){if(br(i))return!1;s=!0;continue}if(""!==w){let se;se=ee>o?"":r[ee+1].toLowerCase();const me=8&i?se:null;if(me&&-1!==Ey(me,w,0)||2&i&&w!==se){if(br(i))return!1;s=!0}}}}else{if(!s&&!br(i)&&!br(d))return!1;if(s&&br(d))continue;s=!1,i=d|1&i}}return br(i)||s}function br(t){return 0==(1&t)}function oN(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function lN(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function Dy(t,n,e=!1){for(let i=0;i<n.length;i++)if(rN(t,n[i],e))return!0;return!1}function uN(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Oy(t,n){return t?":not("+n.trim()+")":n}function cN(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!br(s)&&(n+=Oy(o,r),r=""),i=s,o=o||!br(i);e++}return""!==r&&(n+=Oy(o,r)),n}const It={};function de(t){Ny(Zt(),Ge(),Ti()+t,!1)}function Ny(t,n,e,i){if(!i)if(3==(3&n[2])){const o=t.preOrderCheckHooks;null!==o&&zu(n,o,e)}else{const o=t.preOrderHooks;null!==o&&Yu(n,o,0,e)}Po(e)}function fc(t,n){return t<<17|n<<2}function wr(t){return t>>17&32767}function mf(t){return 2|t}function lo(t){return(131068&t)>>2}function gf(t,n){return-131069&t|n<<2}function yf(t){return 1|t}function By(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=t.data[o];xp(r),s.contentQueries(2,n[o],o)}}}function bl(t,n,e,i,r,o,s,a,d,w){const k=n.blueprint.slice();return k[0]=r,k[2]=140|i,ng(k),k[3]=k[15]=t,k[8]=e,k[10]=s||t&&t[10],k[11]=a||t&&t[11],k[12]=d||t&&t[12]||null,k[9]=w||t&&t[9]||null,k[6]=o,k[16]=2==n.type?t[16]:k,k}function ta(t,n,e,i,r){let o=t.data[n];if(null===o)o=function Of(t,n,e,i,r){const o=og(),s=Sp(),d=t.data[n]=function NN(t,n,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=d),null!==o&&(s?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d)),d}(t,n,e,i,r),function YS(){return Mt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function el(){const t=Mt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jr(o,!0),o}function na(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function wl(t,n,e){Gu(n);try{const i=t.viewQuery;null!==i&&Ff(1,i,e);const r=t.template;null!==r&&Ly(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&By(t,n),t.staticViewQueries&&Ff(2,t.viewQuery,e);const o=t.components;null!==o&&function SN(t,n){for(let e=0;e<n.length;e++)WN(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,qu()}}function ia(t,n,e,i){const r=n[2];if(256!=(256&r)){Gu(n);try{ng(n),function sg(t){return Mt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Ly(t,n,e,2,i);const s=3==(3&r);if(s){const w=t.preOrderCheckHooks;null!==w&&zu(n,w,null)}else{const w=t.preOrderHooks;null!==w&&Yu(n,w,0,null),Ap(n,0)}if(function GN(t){for(let n=Yp(t);null!==n;n=Kp(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Tp(o,1),r[2]|=1024}}}(n),function HN(t){for(let n=Yp(t);null!==n;n=Kp(n))for(let e=10;e<n.length;e++){const i=n[e],r=i[1];Ep(i)&&ia(r,i,r.template,i[8])}}(n),null!==t.contentQueries&&By(t,n),s){const w=t.contentCheckHooks;null!==w&&zu(n,w)}else{const w=t.contentHooks;null!==w&&Yu(n,w,1),Ap(n,1)}!function EN(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Po(~r);else{const o=r,s=e[++i],a=e[++i];KS(s,o),a(2,n[o])}}}finally{Po(-1)}}(t,n);const a=t.components;null!==a&&function TN(t,n){for(let e=0;e<n.length;e++)qN(t,n[e])}(n,a);const d=t.viewQuery;if(null!==d&&Ff(2,d,i),s){const w=t.viewCheckHooks;null!==w&&zu(n,w)}else{const w=t.viewHooks;null!==w&&Yu(n,w,2),Ap(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,Tp(n[3],-1))}finally{qu()}}}function DN(t,n,e,i){const r=n[10],s=tg(n);try{!s&&r.begin&&r.begin(),s&&wl(t,n,i),ia(t,n,e,i)}finally{!s&&r.end&&r.end()}}function Ly(t,n,e,i,r){const o=Ti(),s=2&i;try{Po(-1),s&&n.length>20&&Ny(t,n,20,!1),e(i,r)}finally{Po(o)}}function Vy(t,n,e){if(_p(n)){const r=n.directiveEnd;for(let o=n.directiveStart;o<r;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Nf(t,n,e){!rg()||(function RN(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;t.firstCreatePass||il(e,n),mi(i,n);const s=e.initialInputs;for(let a=r;a<o;a++){const d=t.data[a],w=vr(d);w&&LN(n,e,d);const k=rl(n,t,a,e);mi(k,n),null!==s&&VN(0,a-r,k,d,0,s),w&&(qi(e.index,n)[8]=k)}}(t,n,e,Gi(e,n)),128==(128&e.flags)&&function FN(t,n,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function ZS(){return Mt.lFrame.currentDirectiveIndex}();try{Po(s);for(let d=i;d<r;d++){const w=t.data[d],k=n[d];Op(d),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Ky(w,k)}}finally{Po(-1),Op(a)}}(t,n,e))}function xf(t,n,e=Gi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(n,t):t[s];t[r++]=a}}}function Uy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=mc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function mc(t,n,e,i,r,o,s,a,d,w){const k=20+i,ee=k+r,se=function ON(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:It);return e}(k,ee),me="function"==typeof w?w():w;return se[1]={type:t,blueprint:se,template:e,queries:null,viewQuery:a,declTNode:n,data:se.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:d,consts:me,incompleteFirstPass:!1}}function qy(t,n,e,i){const r=tv(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&nv(t).push(i,r.length-1))}function Wy(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,r):e[i]=[n,r]}return e}function Yi(t,n,e,i,r,o,s,a){const d=Gi(n,e);let k,w=n.inputs;!a&&null!=w&&(k=w[i])?(ov(t,e,k,i,r),Lu(n)&&function MN(t,n){const e=qi(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function AN(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,In(o)?o.setProperty(d,i,r):Ip(i)||(d.setProperty?d.setProperty(i,r):d[i]=r))}function Af(t,n,e,i){let r=!1;if(rg()){const o=function jN(t,n,e){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Dy(e,s.selectors,!1)&&(r||(r=[]),Xu(il(e,n),t,s.type),vr(s)?(Zy(t,e),r.unshift(s)):r.push(s))}return r}(t,n,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Jy(e,t.data.length,o.length);for(let k=0;k<o.length;k++){const ee=o[k];ee.providersResolver&&ee.providersResolver(ee)}let a=!1,d=!1,w=na(t,n,o.length,null);for(let k=0;k<o.length;k++){const ee=o[k];e.mergedAttrs=Zu(e.mergedAttrs,ee.hostAttrs),Qy(t,e,n,w,ee),BN(w,ee,s),null!==ee.contentQueries&&(e.flags|=8),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(e.flags|=128);const se=ee.type.prototype;!a&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!d&&(se.ngOnChanges||se.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),d=!0),w++}!function xN(t,n){const i=n.directiveEnd,r=t.data,o=n.attrs,s=[];let a=null,d=null;for(let w=n.directiveStart;w<i;w++){const k=r[w],ee=k.inputs,se=null===o||Sy(n)?null:UN(ee,o);s.push(se),a=Wy(ee,w,a),d=Wy(k.outputs,w,d)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=d}(t,e)}s&&function $N(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new St(-301,!1);i.push(n[r],o)}}}(e,i,s)}return e.mergedAttrs=Zu(e.mergedAttrs,e.attrs),r}function Yy(t,n,e,i,r,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const d=~n.index;(function kN(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=d&&a.push(d),a.push(i,r,s)}}function Ky(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Zy(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function BN(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;vr(n)&&(e[""]=t)}}function Jy(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Qy(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=as(r.type)),s=new tl(o,vr(r),null);t.blueprint[i]=s,e[i]=s,Yy(t,n,0,i,na(t,e,r.hostVars,It),r)}function LN(t,n,e){const i=Gi(n,t),r=Uy(e),o=t[10],s=gc(t,bl(t,r,null,e.onPush?64:16,i,n,o,o.createRenderer(i,e),null,null));t[n.index]=s}function Vr(t,n,e,i,r,o){const s=Gi(t,n);!function Mf(t,n,e,i,r,o,s){if(null==o)In(t)?t.removeAttribute(n,r,e):n.removeAttribute(r);else{const a=null==s?Dt(o):s(o,i||"",r);In(t)?t.setAttribute(n,r,a,e):e?n.setAttributeNS(e,r,a):n.setAttribute(r,a)}}(n[11],s,o,t.value,e,i,r)}function VN(t,n,e,i,r,o){const s=o[n];if(null!==s){const a=i.setInput;for(let d=0;d<s.length;){const w=s[d++],k=s[d++],ee=s[d++];null!==a?i.setInput(e,ee,w,k):e[k]=ee}}}function UN(t,n){let e=null,i=0;for(;i<n.length;){const r=n[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,t[r],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Xy(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function qN(t,n){const e=qi(n,t);if(Ep(e)){const i=e[1];80&e[2]?ia(i,e,i.template,e[8]):e[5]>0&&If(e)}}function If(t){for(let i=Yp(t);null!==i;i=Kp(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];ia(s,o,s.template,o[8])}else o[5]>0&&If(o)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=qi(e[i],t);Ep(r)&&r[5]>0&&If(r)}}function WN(t,n){const e=qi(n,t),i=e[1];(function zN(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),wl(i,e,e[8])}function gc(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Pf(t){for(;t;){t[2]|=64;const n=hl(t);if(DS(t)&&!n)return t;t=n}return null}function ev(t){!function kf(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=qp(e),r=i[1];DN(r,i,r.template,e)}}(t[8])}function Ff(t,n,e){xp(0),n(t,e)}const KN=(()=>Promise.resolve(null))();function tv(t){return t[7]||(t[7]=[])}function nv(t){return t.cleanup||(t.cleanup=[])}function rv(t,n){const e=t[9],i=e?e.get(vl,null):null;i&&i.handleError(n)}function ov(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],d=n[s],w=t.data[s];null!==w.setInput?w.setInput(d,r,i,a):d[a]=r}}function uo(t,n,e){const i=Uu(n,t);!function Kg(t,n,e){In(t)?t.setValue(n,e):n.textContent=e}(t[11],i,e)}function yc(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=Fs(r,a):2==o&&(i=Fs(i,a+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}const jf=new kt("INJECTOR",-1);class sv{get(n,e=ll){if(e===ll){const i=new Error(`NullInjectorError: No provider for ${en(n)}!`);throw i.name="NullInjectorError",i}return e}}const $f=new kt("Set Injector scope."),Cl={},QN={};let Bf;function av(){return void 0===Bf&&(Bf=new sv),Bf}function lv(t,n=null,e=null,i){const r=uv(t,n,e,i);return r._resolveInjectorDefTypes(),r}function uv(t,n=null,e=null,i){return new XN(t,e,n||av(),i)}class XN{constructor(n,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&$r(e,a=>this.processProvider(a,n,e)),$r([n],a=>this.processInjectorType(a,[],o)),this.records.set(jf,ra(void 0,this));const s=this.records.get($f);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof n?null:en(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=ll,i=xt.Default){this.assertNotDestroyed();const r=Pg(this),o=xo(void 0);try{if(!(i&xt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const d=function l2(t){return"function"==typeof t||"object"==typeof t&&t instanceof kt}(n)&&lp(n);a=d&&this.injectableDefInScope(d)?ra(Lf(n),Cl):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&xt.Self?av():this.parent).get(n,e=i&xt.Optional&&e===ll?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[ic]=s[ic]||[]).unshift(en(n)),r)throw s;return function RD(t,n,e,i){const r=t[ic];throw n[Ig]&&r.unshift(n[Ig]),t.message=function FD(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=en(n);if(Array.isArray(n))r=n.map(en).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):en(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(xD,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[ic]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{xo(o),Pg(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,r)=>n.push(en(r))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new St(205,!1)}processInjectorType(n,e,i){if(!(n=vt(n)))return!1;let r=Um(n);const o=null==r&&n.ngModule||void 0,s=void 0===o?n:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Um(o)),null==r)return!1;if(null!=r.imports&&!a){let k;i.push(s);try{$r(r.imports,ee=>{this.processInjectorType(ee,e,i)&&(void 0===k&&(k=[]),k.push(ee))})}finally{}if(void 0!==k)for(let ee=0;ee<k.length;ee++){const{ngModule:se,providers:me}=k[ee];$r(me,Se=>this.processProvider(Se,se,me||hn))}}this.injectorDefTypes.add(s);const d=as(s)||(()=>new s);this.records.set(s,ra(d,Cl));const w=r.providers;if(null!=w&&!a){const k=n;$r(w,ee=>this.processProvider(ee,k,w))}return void 0!==o&&void 0!==n.providers}processProvider(n,e,i){let r=oa(n=vt(n))?n:vt(n&&n.provide);const o=function t2(t,n,e){return dv(t)?ra(void 0,t.useValue):ra(cv(t),Cl)}(n);if(oa(n)||!0!==n.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=ra(void 0,Cl,!0),s.factory=()=>Up(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,o)}hydrate(n,e){return e.value===Cl&&(e.value=QN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function a2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=vt(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Lf(t){const n=lp(t),e=null!==n?n.factory:as(t);if(null!==e)return e;if(t instanceof kt)throw new St(204,!1);if(t instanceof Function)return function e2(t){const n=t.length;if(n>0)throw al(n,"?"),new St(204,!1);const e=function fS(t){const n=t&&(t[Ru]||t[Hm]);if(n){const e=function hS(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new St(204,!1)}function cv(t,n,e){let i;if(oa(t)){const r=vt(t);return as(r)||Lf(r)}if(dv(t))i=()=>vt(t.useValue);else if(function r2(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Up(t.deps||[]));else if(function n2(t){return!(!t||!t.useExisting)}(t))i=()=>Xe(vt(t.useExisting));else{const r=vt(t&&(t.useClass||t.provide));if(!function s2(t){return!!t.deps}(t))return as(r)||Lf(r);i=()=>new r(...Up(t.deps))}return i}function ra(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function dv(t){return null!==t&&"object"==typeof t&&MD in t}function oa(t){return"function"==typeof t}let Jn=(()=>{class t{static create(e,i){var r;if(Array.isArray(e))return lv({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return lv({name:o},e.parent,e.providers,o)}}}return t.THROW_IF_NOT_FOUND=ll,t.NULL=new sv,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>Xe(jf)}),t.__NG_ELEMENT_ID__=-1,t})();function m2(t,n){Wu(qp(t)[1],Kn())}function ln(t){let n=function Ev(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(vr(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new St(903,"");r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=Hf(t.inputs),s.declaredInputs=Hf(t.declaredInputs),s.outputs=Hf(t.outputs);const a=r.hostBindings;a&&b2(t,a);const d=r.viewQuery,w=r.contentQueries;if(d&&y2(t,d),w&&v2(t,w),Ka(t.inputs,r.inputs),Ka(t.declaredInputs,r.declaredInputs),Ka(t.outputs,r.outputs),vr(r)&&r.data.animation){const k=t.data;k.animation=(k.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===ln&&(e=!1)}}n=Object.getPrototypeOf(n)}!function g2(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Zu(r.hostAttrs,e=Zu(e,r.hostAttrs))}}(i)}function Hf(t){return t===js?{}:t===hn?[]:t}function y2(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function v2(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function b2(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}let vc=null;function sa(){if(!vc){const t=fn.Symbol;if(t&&t.iterator)vc=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(vc=i)}}}return vc}function El(t){return!!Gf(t)&&(Array.isArray(t)||!(t instanceof Map)&&sa()in t)}function Gf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ur(t,n,e){return t[n]=e}function gi(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function cs(t,n,e,i){const r=gi(t,n,e);return gi(t,n+1,i)||r}function bc(t,n,e,i,r){const o=cs(t,n,e,i);return gi(t,n+2,r)||o}function Bt(t,n,e,i){const r=Ge();return gi(r,Hs(),n)&&(Zt(),Vr(Sn(),r,t,n,e,i)),Bt}function la(t,n,e,i){return gi(t,Hs(),e)?n+Dt(e)+i:It}function Te(t,n,e,i,r,o,s,a){const d=Ge(),w=Zt(),k=t+20,ee=w.firstCreatePass?function O2(t,n,e,i,r,o,s,a,d){const w=n.consts,k=ta(n,t,4,s||null,Io(w,a));Af(n,e,k,Io(w,d)),Wu(n,k);const ee=k.tViews=mc(2,k,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,w);return null!==n.queries&&(n.queries.template(n,k),ee.queries=n.queries.embeddedTView(k)),k}(k,w,d,n,e,i,r,o,s):w.data[k];jr(ee,!1);const se=d[11].createComment("");ac(w,d,se,ee),mi(se,d),gc(d,d[k]=Xy(se,d,se,ee)),Vu(ee)&&Nf(w,d,ee),null!=s&&xf(d,ee,a)}function ze(t){return function Us(t,n){return t[n]}(function zS(){return Mt.lFrame.contextLView}(),20+t)}function be(t,n=xt.Default){const e=Ge();return null===e?Xe(t,n):Cg(Kn(),e,vt(t),n)}function Kf(){throw new Error("invalid")}function ve(t,n,e){const i=Ge();return gi(i,Hs(),n)&&Yi(Zt(),Sn(),i,t,n,i[11],e,!1),ve}function Zf(t,n,e,i,r){const s=r?"class":"style";ov(t,e,n.inputs[s],s,i)}function b(t,n,e,i){const r=Ge(),o=Zt(),s=20+t,a=r[11],d=r[s]=Jp(a,n,function rD(){return Mt.lFrame.currentNamespace}()),w=o.firstCreatePass?function Y2(t,n,e,i,r,o,s){const a=n.consts,w=ta(n,t,2,r,Io(a,o));return Af(n,e,w,Io(a,s)),null!==w.attrs&&yc(w,w.attrs,!1),null!==w.mergedAttrs&&yc(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(s,o,r,0,n,e,i):o.data[s];jr(w,!0);const k=w.mergedAttrs;null!==k&&Ku(a,d,k);const ee=w.classes;null!==ee&&sf(a,d,ee);const se=w.styles;return null!==se&&ly(a,d,se),64!=(64&w.flags)&&ac(o,r,d,w),0===function US(){return Mt.lFrame.elementDepthCount}()&&mi(d,r),function HS(){Mt.lFrame.elementDepthCount++}(),Vu(w)&&(Nf(o,r,w),Vy(o,w,r)),null!==i&&xf(r,w),b}function E(){let t=Kn();Sp()?Dp():(t=t.parent,jr(t,!1));const n=t;!function GS(){Mt.lFrame.elementDepthCount--}();const e=Zt();return e.firstCreatePass&&(Wu(e,t),_p(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function uD(t){return 0!=(16&t.flags)}(n)&&Zf(e,n,Ge(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function cD(t){return 0!=(32&t.flags)}(n)&&Zf(e,n,Ge(),n.stylesWithoutHost,!1),E}function Pe(t,n,e,i){return b(t,n,e,i),E(),Pe}function co(t,n,e){const i=Ge(),r=Zt(),o=t+20,s=r.firstCreatePass?function K2(t,n,e,i,r){const o=n.consts,s=Io(o,i),a=ta(n,t,8,"ng-container",s);return null!==s&&yc(a,s,!0),Af(n,e,a,Io(o,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,r,i,n,e):r.data[o];jr(s,!0);const a=i[o]=i[11].createComment("");return ac(r,i,a,s),mi(a,i),Vu(s)&&(Nf(r,i,s),Vy(r,s,i)),null!=e&&xf(i,s),co}function po(){let t=Kn();const n=Zt();return Sp()?Dp():(t=t.parent,jr(t,!1)),n.firstCreatePass&&(Wu(n,t),_p(t)&&n.queries.elementEnd(t)),po}function Cc(t,n,e){return co(t,n,e),po(),Cc}function Le(){return Ge()}function Sl(t){return!!t&&"function"==typeof t.then}const Jf=function Hv(t){return!!t&&"function"==typeof t.subscribe};function _e(t,n,e,i){const r=Ge(),o=Zt(),s=Kn();return function qv(t,n,e,i,r,o,s,a){const d=Vu(i),k=t.firstCreatePass&&nv(t),ee=n[8],se=tv(n);let me=!0;if(3&i.type||a){const Re=Gi(i,n),Fe=a?a(Re):Re,Me=se.length,Ye=a?Qe=>a(Vn(Qe[i.index])):i.index;if(In(e)){let Qe=null;if(!a&&d&&(Qe=function Z2(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=n[7],d=r[o+2];return a.length>d?a[d]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=o,Qe.__ngLastListenerFn__=o,me=!1;else{o=Qf(i,n,ee,o,!1);const nt=e.listen(Fe,r,o);se.push(o,nt),k&&k.push(r,Ye,Me,Me+1)}}else o=Qf(i,n,ee,o,!0),Fe.addEventListener(r,o,s),se.push(o),k&&k.push(r,Ye,Me,s)}else o=Qf(i,n,ee,o,!1);const Se=i.outputs;let xe;if(me&&null!==Se&&(xe=Se[r])){const Re=xe.length;if(Re)for(let Fe=0;Fe<Re;Fe+=2){const yt=n[xe[Fe]][xe[Fe+1]].subscribe(o),Xt=se.length;se.push(o,yt),k&&k.push(r,i.index,Xt,-(Xt+1))}}}(o,r,r[11],s,t,n,!!e,i),_e}function Wv(t,n,e,i){try{return!1!==e(i)}catch(r){return rv(t,r),!1}}function Qf(t,n,e,i,r){return function o(s){if(s===Function)return i;const a=2&t.flags?qi(t.index,n):n;0==(32&n[2])&&Pf(a);let d=Wv(n,0,i,s),w=o.__ngNextListenerFn__;for(;w;)d=Wv(n,0,w,s)&&d,w=w.__ngNextListenerFn__;return r&&!1===d&&(s.preventDefault(),s.returnValue=!1),d}}function ae(t=1){return function QS(t){return(Mt.lFrame.contextLView=function XS(t,n){for(;t>0;)n=n[15],t--;return n}(t,Mt.lFrame.contextLView))[8]}(t)}function J2(t,n){let e=null;const i=function sN(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?Dy(t,o,!0):uN(i,o))return r}else e=r}return e}function Dl(t){const n=Ge()[16][6];if(!n.projection){const i=n.projection=al(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=t?J2(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Ol(t,n=0,e){const i=Ge(),r=Zt(),o=ta(r,20+t,16,null,e||null);null===o.projection&&(o.projection=n),Dp(),64!=(64&o.flags)&&function fO(t,n,e){ay(n[11],0,n,e,Qg(t,e,n),ny(e.parent||n[6],e,n))}(r,i,o)}function ot(t,n,e){return ga(t,"",n,"",e),ot}function ga(t,n,e,i,r){const o=Ge(),s=la(o,n,e,i);return s!==It&&Yi(Zt(),Sn(),o,t,s,o[11],r,!1),ga}function t0(t,n,e,i,r){const o=t[e+1],s=null===n;let a=i?wr(o):lo(o),d=!1;for(;0!==a&&(!1===d||s);){const k=t[a+1];ex(t[a],n)&&(d=!0,t[a+1]=i?yf(k):mf(k)),a=i?wr(k):lo(k)}d&&(t[e+1]=i?mf(o):yf(o))}function ex(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Js(t,n)>=0}const Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n0(t){return t.substring(Qn.key,Qn.keyEnd)}function r0(t,n){const e=Qn.textEnd;return e===n?-1:(n=Qn.keyEnd=function rx(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Qn.key=n,e),ya(t,n,e))}function ya(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Ki(t,n,e){return Er(t,n,e,!1),Ki}function on(t,n){return Er(t,n,null,!0),on}function Bo(t){!function Tr(t,n,e,i){const r=Zt(),o=so(2);r.firstUpdatePass&&c0(r,null,o,i);const s=Ge();if(e!==It&&gi(s,o,e)){const a=r.data[Ti()];if(h0(a,i)&&!u0(r,o)){let d=i?a.classesWithoutHost:a.stylesWithoutHost;null!==d&&(e=Fs(d,e||"")),Zf(r,a,s,e,i)}else!function fx(t,n,e,i,r,o,s,a){r===It&&(r=hn);let d=0,w=0,k=0<r.length?r[0]:null,ee=0<o.length?o[0]:null;for(;null!==k||null!==ee;){const se=d<r.length?r[d+1]:void 0,me=w<o.length?o[w+1]:void 0;let xe,Se=null;k===ee?(d+=2,w+=2,se!==me&&(Se=ee,xe=me)):null===ee||null!==k&&k<ee?(d+=2,Se=k):(w+=2,Se=ee,xe=me),null!==Se&&p0(t,n,e,i,Se,xe,s,a),k=d<r.length?r[d]:null,ee=w<o.length?o[w]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function px(t,n,e){if(null==e||""===e)return hn;const i=[],r=Fo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}(Wi,Gr,t,!0)}function Gr(t,n){for(let e=function nx(t){return function s0(t){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=t.length}(t),r0(t,ya(t,0,Qn.textEnd))}(n);e>=0;e=r0(n,e))Wi(t,n0(n),!0)}function Er(t,n,e,i){const r=Ge(),o=Zt(),s=so(2);o.firstUpdatePass&&c0(o,t,s,i),n!==It&&gi(r,s,n)&&p0(o,o.data[Ti()],r,r[11],t,r[s+1]=function hx(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=en(Fo(t)))),t}(n,e),i,s)}function u0(t,n){return n>=t.expandoStartIndex}function c0(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[Ti()],s=u0(t,e);h0(o,i)&&null===n&&!s&&(n=!1),n=function lx(t,n,e,i){const r=function Np(t){const n=Mt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=Nl(e=Xf(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=Xf(r,t,n,e,i),null===o){let d=function ux(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==lo(i))return t[wr(i)]}(t,n,i);void 0!==d&&Array.isArray(d)&&(d=Xf(null,t,n,d[1],i),d=Nl(d,n.attrs,i),function cx(t,n,e,i){t[wr(e?n.classBindings:n.styleBindings)]=i}(t,n,i,d))}else o=function dx(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Nl(i,t[o].hostAttrs,e);return Nl(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function Q2(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=wr(s),d=lo(s);t[i]=e;let k,w=!1;if(Array.isArray(e)){const ee=e;k=ee[1],(null===k||Js(ee,k)>0)&&(w=!0)}else k=e;if(r)if(0!==d){const se=wr(t[a+1]);t[i+1]=fc(se,a),0!==se&&(t[se+1]=gf(t[se+1],i)),t[a+1]=function fN(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=fc(a,0),0!==a&&(t[a+1]=gf(t[a+1],i)),a=i;else t[i+1]=fc(d,0),0===a?a=i:t[d+1]=gf(t[d+1],i),d=i;w&&(t[i+1]=mf(t[i+1])),t0(t,k,i,!0),t0(t,k,i,!1),function X2(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&Js(o,n)>=0&&(e[i+1]=yf(e[i+1]))}(n,k,t,i,o),s=fc(a,d),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function Xf(t,n,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],i=Nl(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function Nl(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wi(t,s,!!e||n[++o]))}return void 0===t?null:t}function p0(t,n,e,i,r,o,s,a){if(!(3&n.type))return;const d=t.data,w=d[a+1];Ec(function My(t){return 1==(1&t)}(w)?f0(d,n,e,r,lo(w),s):void 0)||(Ec(o)||function Ay(t){return 2==(2&t)}(w)&&(o=f0(d,null,e,r,a,s)),function _O(t,n,e,i,r){const o=In(t);if(n)r?o?t.addClass(e,i):e.classList.add(i):o?t.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:zi.DashCase;if(null==r)o?t.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=zi.Important),o?t.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Uu(Ti(),e),r,o))}function f0(t,n,e,i,r,o){const s=null===n;let a;for(;r>0;){const d=t[r],w=Array.isArray(d),k=w?d[1]:d,ee=null===k;let se=e[r+1];se===It&&(se=ee?hn:void 0);let me=ee?Bp(se,i):k===i?se:void 0;if(w&&!Ec(me)&&(me=Bp(d,i)),Ec(me)&&(a=me,s))return a;const Se=t[r+1];r=s?wr(Se):lo(Se)}if(null!==n){let d=o?n.residualClasses:n.residualStyles;null!=d&&(a=Bp(d,i))}return a}function Ec(t){return void 0!==t}function h0(t,n){return 0!=(t.flags&(n?16:32))}function K(t,n=""){const e=Ge(),i=Zt(),r=t+20,o=i.firstCreatePass?ta(i,r,1,n,null):i.data[r],s=e[r]=function Zp(t,n){return In(t)?t.createText(n):t.createTextNode(n)}(e[11],n);ac(i,e,s,o),jr(o,!1)}function bt(t){return Jt("",t,""),bt}function Jt(t,n,e){const i=Ge(),r=la(i,t,n,e);return r!==It&&uo(i,Ti(),r),Jt}function va(t,n,e,i,r){const o=Ge(),s=function ua(t,n,e,i,r,o){const a=cs(t,oo(),e,r);return so(2),a?n+Dt(e)+i+Dt(r)+o:It}(o,t,n,e,i,r);return s!==It&&uo(o,Ti(),s),va}function eh(t,n,e,i,r,o,s){const a=Ge(),d=function ca(t,n,e,i,r,o,s,a){const w=bc(t,oo(),e,r,s);return so(3),w?n+Dt(e)+i+Dt(r)+o+Dt(s)+a:It}(a,t,n,e,i,r,o,s);return d!==It&&uo(a,Ti(),d),eh}function fo(t,n,e){const i=Ge();return gi(i,Hs(),n)&&Yi(Zt(),Sn(),i,t,n,i[11],e,!0),fo}const ds=void 0;var kx=["en",[["a","p"],["AM","PM"],ds],[["AM","PM"],ds,ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ds,"{1} 'at' {0}",ds],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Px(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ba={};function Di(t){const n=function Rx(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=I0(n);if(e)return e;const i=n.split("-")[0];if(e=I0(i),e)return e;if("en"===i)return kx;throw new Error(`Missing locale data for the locale "${t}".`)}function I0(t){return t in ba||(ba[t]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[t]),ba[t]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const Tc="en-US";let P0=Tc;function rh(t,n,e,i,r){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)rh(t[o],n,e,i,r);else{const o=Zt(),s=Ge();let a=oa(t)?t:vt(t.provide),d=cv(t);const w=Kn(),k=1048575&w.providerIndexes,ee=w.directiveStart,se=w.providerIndexes>>20;if(oa(t)||!t.multi){const me=new tl(d,r,be),Se=ah(a,n,r?k:k+se,ee);-1===Se?(Xu(il(w,s),o,a),oh(o,t,n.length),n.push(a),w.directiveStart++,w.directiveEnd++,r&&(w.providerIndexes+=1048576),e.push(me),s.push(me)):(e[Se]=me,s[Se]=me)}else{const me=ah(a,n,k+se,ee),Se=ah(a,n,k,k+se),xe=me>=0&&e[me],Re=Se>=0&&e[Se];if(r&&!Re||!r&&!xe){Xu(il(w,s),o,a);const Fe=function MA(t,n,e,i,r){const o=new tl(t,e,be);return o.multi=[],o.index=n,o.componentProviders=0,i1(o,r,i&&!e),o}(r?AA:xA,e.length,r,i,d);!r&&Re&&(e[Se].providerFactory=Fe),oh(o,t,n.length,0),n.push(a),w.directiveStart++,w.directiveEnd++,r&&(w.providerIndexes+=1048576),e.push(Fe),s.push(Fe)}else oh(o,t,me>-1?me:Se,i1(e[r?Se:me],d,!r&&i));!r&&i&&Re&&e[Se].componentProviders++}}}function oh(t,n,e,i){const r=oa(n),o=function o2(t){return!!t.useClass}(n);if(r||o){const d=(o?vt(n.useClass):n).prototype.ngOnDestroy;if(d){const w=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const k=w.indexOf(e);-1===k?w.push(e,[i,d]):w[k+1].push(i,d)}else w.push(e,d)}}}function i1(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ah(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function xA(t,n,e,i){return lh(this.multi,[])}function AA(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=rl(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),lh(r,o);for(let d=s;d<a.length;d++)o.push(a[d])}else o=[],lh(r,o);return o}function lh(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function tn(t,n=[]){return e=>{e.providersResolver=(i,r)=>function NA(t,n,e){const i=Zt();if(i.firstCreatePass){const r=vr(t);rh(e,i.data,i.blueprint,r,!0),rh(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class r1{}class kA{resolveComponentFactory(n){throw function PA(t){const n=Error(`No component factory found for ${en(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Ca=(()=>{class t{}return t.NULL=new kA,t})();function RA(){return Ea(Kn(),Ge())}function Ea(t,n){return new Qt(Gi(t,n))}let Qt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=RA,t})();function FA(t){return t instanceof Qt?t.nativeElement:t}class uh{}let Ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function $A(){const t=Ge(),e=qi(Kn().index,t);return function jA(t){return t[11]}(Fr(e)?e:t)}(),t})(),BA=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Pl{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const LA=new Pl("13.3.12"),ch={};function xc(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&i.push(Vn(o)),yr(o))for(let a=10;a<o.length;a++){const d=o[a],w=d[1].firstChild;null!==w&&xc(d[1],d,w,i)}const s=e.type;if(8&s)xc(t,n,e.child,i);else if(32&s){const a=zp(e,n);let d;for(;d=a();)i.push(d)}else if(16&s){const a=sy(n,e);if(Array.isArray(a))i.push(...a);else{const d=hl(n[16]);xc(d[1],d,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class kl{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return xc(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(yr(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Qp(n,i),tc(e,i))}this._attachedToViewContainer=!1}Jg(this._lView[1],this._lView)}onDestroy(n){qy(this._lView[1],this._lView,null,n)}markForCheck(){Pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Rf(t,n,e){const i=n[10];i.begin&&i.begin();try{ia(t,n,t.template,e)}catch(r){throw rv(n,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new St(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oO(t,n){_l(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new St(902,"");this._appRef=n}}class VA extends kl{constructor(n){super(n),this._view=n}detectChanges(){ev(this._view)}checkNoChanges(){}get context(){return null}}class s1 extends Ca{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ai(n);return new dh(e,this.ngModule)}}function a1(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class dh extends r1{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function dN(t){return t.map(cN).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return a1(this.componentDef.inputs)}get outputs(){return a1(this.componentDef.outputs)}create(n,e,i,r){const o=(r=r||this.ngModule)?function HA(t,n){return{get:(e,i,r)=>{const o=t.get(e,ch,r);return o!==ch||i===ch?o:n.get(e,i,r)}}}(n,r.injector):n,s=o.get(uh,eg),a=o.get(BA,null),d=s.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",k=i?function Gy(t,n,e){if(In(t))return t.selectRootElement(n,e===Rr.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(d,i,this.componentDef.encapsulation):Jp(s.createRenderer(null,this.componentDef),w,function UA(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(w)),ee=this.componentDef.onPush?576:528,se=function Cv(t,n){return{components:[],scheduler:t||XO,clean:KN,playerHandler:n||null,flags:0}}(),me=mc(0,null,null,1,0,null,null,null,null,null),Se=bl(null,me,se,ee,null,null,s,d,a,o);let xe,Re;Gu(Se);try{const Fe=function bv(t,n,e,i,r,o){const s=e[1];e[20]=t;const d=ta(s,20,2,"#host",null),w=d.mergedAttrs=n.hostAttrs;null!==w&&(yc(d,w,!0),null!==t&&(Ku(r,t,w),null!==d.classes&&sf(r,t,d.classes),null!==d.styles&&ly(r,t,d.styles)));const k=i.createRenderer(t,n),ee=bl(e,Uy(n),null,n.onPush?64:16,e[20],d,i,k,o||null,null);return s.firstCreatePass&&(Xu(il(d,e),s,n.type),Zy(s,d),Jy(d,e.length,1)),gc(e,ee),e[20]=ee}(k,this.componentDef,Se,s,d);if(k)if(i)Ku(d,k,["ng-version",LA.full]);else{const{attrs:Me,classes:Ye}=function pN(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!br(r))break;r=o}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Me&&Ku(d,k,Me),Ye&&Ye.length>0&&sf(d,k,Ye.join(" "))}if(Re=Cp(me,20),void 0!==e){const Me=Re.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const Qe=e[Ye];Me.push(null!=Qe?Array.from(Qe):null)}}xe=function wv(t,n,e,i,r){const o=e[1],s=function PN(t,n,e){const i=Kn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Qy(t,i,n,na(t,n,1,null),e));const r=rl(n,t,i.directiveStart,i);mi(r,n);const o=Gi(i,n);return o&&mi(o,n),r}(o,e,n);if(i.components.push(s),t[8]=s,r&&r.forEach(d=>d(s,n)),n.contentQueries){const d=Kn();n.contentQueries(1,s,d.directiveStart)}const a=Kn();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Po(a.index),Yy(e[1],a,0,a.directiveStart,a.directiveEnd,n),Ky(n,s)),s}(Fe,this.componentDef,Se,se,[m2]),wl(me,Se,null)}finally{qu()}return new qA(this.componentType,xe,Ea(Re,Se),Se,Re)}}class qA extends class IA{}{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new VA(r),this.componentType=n}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ho{}class l1{}const Ta=new Map;class d1 extends ho{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new s1(this);const i=ir(n);this._bootstrapComponents=Lr(i.bootstrap),this._r3Injector=uv(n,e,[{provide:ho,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],en(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Jn.THROW_IF_NOT_FOUND,i=xt.Default){return n===Jn||n===ho||n===jf?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ph extends l1{constructor(n){super(),this.moduleType=n,null!==ir(n)&&function zA(t){const n=new Set;!function e(i){const r=ir(i,!0),o=r.id;null!==o&&(function u1(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${en(n)} vs ${en(n.name)}`)}(o,Ta.get(o),i),Ta.set(o,i));const s=Lr(r.imports);for(const a of s)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new d1(this.moduleType,n)}}function _o(t,n,e,i){return function h1(t,n,e,i,r,o){const s=n+e;return gi(t,s,r)?Ur(t,s+1,o?i.call(o,r):i(r)):Rl(t,s+1)}(Ge(),Ei(),t,n,e,i)}function Sa(t,n,e,i,r){return function _1(t,n,e,i,r,o,s){const a=n+e;return cs(t,a,r,o)?Ur(t,a+2,s?i.call(s,r,o):i(r,o)):Rl(t,a+2)}(Ge(),Ei(),t,n,e,i,r)}function Ac(t,n,e,i,r,o){return function m1(t,n,e,i,r,o,s,a){const d=n+e;return bc(t,d,r,o,s)?Ur(t,d+3,a?i.call(a,r,o,s):i(r,o,s)):Rl(t,d+3)}(Ge(),Ei(),t,n,e,i,r,o)}function f1(t,n,e,i,r,o,s){return function g1(t,n,e,i,r,o,s,a,d){const w=n+e;return function ar(t,n,e,i,r,o){const s=cs(t,n,e,i);return cs(t,n+2,r,o)||s}(t,w,r,o,s,a)?Ur(t,w+4,d?i.call(d,r,o,s,a):i(r,o,s,a)):Rl(t,w+4)}(Ge(),Ei(),t,n,e,i,r,o,s)}function Rl(t,n){const e=t[n];return e===It?void 0:e}function fh(t){return n=>{setTimeout(t,void 0,n)}}const gt=class sM extends Ee{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var r,o,s;let a=n,d=e||(()=>null),w=i;if(n&&"object"==typeof n){const ee=n;a=null===(r=ee.next)||void 0===r?void 0:r.bind(ee),d=null===(o=ee.error)||void 0===o?void 0:o.bind(ee),w=null===(s=ee.complete)||void 0===s?void 0:s.bind(ee)}this.__isAsync&&(d=fh(d),a&&(a=fh(a)),w&&(w=fh(w)));const k=super.subscribe({next:a,error:d,complete:w});return n instanceof D&&n.add(k),k}};function aM(){return this._results[sa()]()}class hh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=sa(),i=hh.prototype;i[e]||(i[e]=aM)}get changes(){return this._changes||(this._changes=new gt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=sr(n);(this._changesDetected=!function bD(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let At=(()=>{class t{}return t.__NG_ELEMENT_ID__=cM,t})();const lM=At,uM=class extends lM{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=bl(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),wl(e,i,n),new kl(i)}};function cM(){return Mc(Kn(),Ge())}function Mc(t,n){return 4&t.type?new uM(n,t,Ea(t,n)):null}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=dM,t})();function dM(){return w1(Kn(),Ge())}const pM=lr,v1=class extends pM{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Ea(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=Qu(this._hostTNode,this._hostLView);if(gg(n)){const e=qs(n,this._hostLView),i=Gs(n);return new Ws(e[1].data[i+8],e)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=b1(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const r=n.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(n,e,i,r,o){const s=n&&!function sl(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const ee=e||{};a=ee.index,i=ee.injector,r=ee.projectableNodes,o=ee.ngModuleRef}const d=s?n:new dh(ai(n)),w=i||this.parentInjector;if(!o&&null==d.ngModule){const se=(s?w:this.parentInjector).get(ho,null);se&&(o=se)}const k=d.create(w,r,void 0,o);return this.insert(k.hostView,a),k}insert(n,e){const i=n._lView,r=i[1];if(function VS(t){return yr(t[3])}(i)){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const ee=i[3],se=new v1(ee,ee[6],ee[3]);se.detach(se.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;!function aO(t,n,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=n),i<o-10?(n[4]=e[r],Og(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function lO(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(r,i,s,o);const a=tf(o,s),d=i[11],w=sc(d,s[7]);return null!==w&&function rO(t,n,e,i,r,o){i[0]=r,i[6]=n,_l(t,i,e,1,r,o)}(r,s[6],d,i,w,a),n.attachToViewContainerRef(),Og(_h(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=b1(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Qp(this._lContainer,e);i&&(tc(_h(this._lContainer),e),Jg(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=Qp(this._lContainer,e);return i&&null!=tc(_h(this._lContainer),e)?new kl(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function b1(t){return t[8]}function _h(t){return t[8]||(t[8]=[])}function w1(t,n){let e;const i=n[t.index];if(yr(i))e=i;else{let r;if(8&t.type)r=Vn(i);else{const o=n[11];r=o.createComment("");const s=Gi(t,n);ls(o,sc(o,s),r,function pO(t,n){return In(t)?t.nextSibling(n):n.nextSibling}(o,s),!1)}n[t.index]=e=Xy(i,n,r,t),gc(n,e)}return new v1(e,t,n)}class mh{constructor(n){this.queryList=n,this.matches=null}clone(){return new mh(this.queryList)}setDirty(){this.queryList.setDirty()}}class gh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new gh(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==D1(n,e).matches&&this.queries[e].setDirty()}}class C1{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class yh{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new yh(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class vh{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new vh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,_M(e,o)),this.matchTNodeWithReadOption(n,e,ec(e,n,o,!1,!1))}else i===At?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ec(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Qt||r===lr||r===At&&4&e.type)this.addMatch(e.index,-2);else{const o=ec(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function _M(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function gM(t,n,e,i){return-1===e?function mM(t,n){return 11&t.type?Ea(t,n):4&t.type?Mc(t,n):null}(n,t):-2===e?function yM(t,n,e){return e===Qt?Ea(n,t):e===At?Mc(n,t):e===lr?w1(n,t):void 0}(t,n,i):rl(t,t[1],e,n)}function E1(t,n,e,i){const r=n[19].queries[i];if(null===r.matches){const o=t.data,s=e.matches,a=[];for(let d=0;d<s.length;d+=2){const w=s[d];a.push(w<0?null:gM(n,o[w],s[d+1],e.metadata.read))}r.matches=a}return r.matches}function bh(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=E1(t,n,r,e);for(let a=0;a<o.length;a+=2){const d=o[a];if(d>0)i.push(s[a/2]);else{const w=o[a+1],k=n[-d];for(let ee=10;ee<k.length;ee++){const se=k[ee];se[17]===se[3]&&bh(se[1],se,w,i)}if(null!==k[9]){const ee=k[9];for(let se=0;se<ee.length;se++){const me=ee[se];bh(me[1],me,w,i)}}}}}return i}function jt(t){const n=Ge(),e=Zt(),i=lg();xp(i+1);const r=D1(e,i);if(t.dirty&&tg(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?bh(e,n,i,[]):E1(e,n,r,i);t.reset(o,FA),t.notifyOnChanges()}return!0}return!1}function Vo(t,n,e){const i=Zt();i.firstCreatePass&&(S1(i,new C1(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),T1(i,Ge(),n)}function nn(t,n,e,i){const r=Zt();if(r.firstCreatePass){const o=Kn();S1(r,new C1(n,e,i),o.index),function bM(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}T1(r,Ge(),e)}function $t(){return function vM(t,n){return t[19].queries[n].queryList}(Ge(),lg())}function T1(t,n,e){const i=new hh(4==(4&e));qy(t,n,i,i.destroy),null===n[19]&&(n[19]=new gh),n[19].queries.push(new mh(i))}function S1(t,n,e){null===t.queries&&(t.queries=new yh),t.queries.track(new vh(n,e))}function D1(t,n){return t.queries.getByIndex(n)}function it(t,n){return Mc(t,n)}function kc(...t){}const Dh=new kt("Application Initializer");let Oh=(()=>{class t{constructor(e){this.appInits=e,this.resolve=kc,this.reject=kc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Sl(o))e.push(o);else if(Jf(o)){const s=new Promise((a,d)=>{o.subscribe({complete:a,error:d})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Xe(Dh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $l=new kt("AppId",{providedIn:"root",factory:function H1(){return`${Nh()}${Nh()}${Nh()}`}});function Nh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const G1=new kt("Platform Initializer"),Rc=new kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q1=new kt("appBootstrapListener");let jM=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Uo=new kt("LocaleId",{providedIn:"root",factory:()=>PD(Uo,xt.Optional|xt.SkipSelf)||function $M(){return"undefined"!=typeof $localize&&$localize.locale||Tc}()});class LM{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let W1=(()=>{class t{compileModuleSync(e){return new ph(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Lr(ir(e).declarations).reduce((s,a)=>{const d=ai(a);return d&&s.push(new dh(d)),s},[]);return new LM(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const UM=(()=>Promise.resolve(0))();function xh(t){"undefined"==typeof Zone?UM.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class mn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function HM(){let t=fn.requestAnimationFrame,n=fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function WM(t){const n=()=>{!function qM(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mh(t),t.isCheckStableRunning=!0,Ah(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return z1(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Y1(t)}},onInvoke:(e,i,r,o,s,a,d)=>{try{return z1(t),e.invoke(r,o,s,a,d)}finally{t.shouldCoalesceRunChangeDetection&&n(),Y1(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Mh(t),Ah(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,GM,kc,kc);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const GM={};function Ah(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function z1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y1(t){t._nesting--,Ah(t)}class zM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}let Ih=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mn.assertNotInAngularZone(),xh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(Xe(mn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),YM=(()=>{class t{constructor(){this._applications=new Map,Ph.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ph.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class KM{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let Ph=new KM,ps=null;const K1=new kt("AllowMultipleToken"),Z1=new kt("PlatformOnDestroy");class J1{constructor(n,e){this.name=n,this.token=e}}function Q1(t,n,e=[]){const i=`Platform: ${n}`,r=new kt(i);return(o=[])=>{let s=kh();if(!s||s.injector.get(K1,!1)){const a=[...e,...o,{provide:r,useValue:!0}];t?t(a):function XM(t){if(ps&&!ps.get(K1,!1))throw new St(400,"");ps=t;const n=t.get(X1),e=t.get(G1,null);e&&e.forEach(i=>i())}(function tI(t=[],n){return Jn.create({name:n,providers:[{provide:$f,useValue:"platform"},{provide:Z1,useValue:()=>ps=null},...t]})}(a,i))}return function eI(t){const n=kh();if(!n)throw new St(401,"");return n}()}}function kh(){var t;return null!==(t=null==ps?void 0:ps.get(X1))&&void 0!==t?t:null}let X1=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function nI(t,n){let e;return e="noop"===t?new zM:("zone.js"===t?void 0:t)||new mn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:mn,useValue:a}];return a.run(()=>{const w=Jn.create({providers:d,parent:this.injector,name:e.moduleType.name}),k=e.create(w),ee=k.injector.get(vl,null);if(!ee)throw new St(402,"");return a.runOutsideAngular(()=>{const se=a.onError.subscribe({next:me=>{ee.handleError(me)}});k.onDestroy(()=>{Rh(this._modules,k),se.unsubscribe()})}),function iI(t,n,e){try{const i=e();return Sl(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(ee,a,()=>{const se=k.injector.get(Oh);return se.runInitializers(),se.donePromise.then(()=>(function Bx(t){Ui(t,"Expected localeId to be defined"),"string"==typeof t&&(P0=t.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Uo,Tc)||Tc),this._moduleDoBootstrap(k),k))})})}bootstrapModule(e,i=[]){const r=eb({},i);return function JM(t,n,e){const i=new ph(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Bl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new St(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new St(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Z1,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Xe(Jn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eb(t,n){return Array.isArray(n)?n.reduce(eb,t):Object.assign(Object.assign({},t),n)}let Bl=(()=>{class t{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Z(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),a=new Z(d=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{mn.assertNotInAngularZone(),xh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{mn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{w.unsubscribe(),k.unsubscribe()}});this.isStable=kr(s,a.pipe(Ya()))}bootstrap(e,i){if(!this._initStatus.done)throw new St(405,"");let r;r=e instanceof r1?e:this._injector.get(Ca).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function QM(t){return t.isBoundToModule}(r)?void 0:this._injector.get(ho),a=r.create(Jn.NULL,[],i||r.selector,o),d=a.location.nativeElement,w=a.injector.get(Ih,null),k=w&&a.injector.get(YM);return w&&k&&k.registerApplication(d,w),a.onDestroy(()=>{this.detachView(a.hostView),Rh(this.components,a),k&&k.unregisterApplication(d)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new St(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(q1,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Xe(mn),Xe(Jn),Xe(vl),Xe(Oh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let nb=!0,Zi=(()=>{class t{}return t.__NG_ELEMENT_ID__=sI,t})();function sI(t){return function aI(t,n,e){if(Lu(t)&&!e){const i=qi(t.index,n);return new kl(i,i)}return 47&t.type?new kl(n[16],n):null}(Kn(),Ge(),16==(16&t))}class ab{constructor(){}supports(n){return El(n)}create(n){return new fI(n)}}const pI=(t,n)=>n;class fI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||pI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<ub(i,r,o)?e:i,a=ub(s,r,o),d=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const w=a-r,k=d-r;if(w!=k){for(let se=0;se<w;se++){const me=se<o.length?o[se]:o[se]=0,Se=me+se;k<=Se&&Se<w&&(o[se]=me+1)}o[s.previousIndex]=k-w}}a!==d&&n(s,a,d)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!El(n))throw new St(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function D2(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[sa()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new hI(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new lb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class hI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class lb{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new _I,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ub(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class cb{constructor(){}supports(n){return n instanceof Map||Gf(n)}create(){return new mI}}class mI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Gf(n)))throw new St(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new gI(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class gI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new $c([new ab])}let $c=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||db()),deps:[[t,new dl,new Ro]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new St(901,"")}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:db}),t})();function pb(){return new Ll([new cb])}let Ll=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||pb()),deps:[[t,new dl,new Ro]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new St(901,"")}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:pb}),t})();const bI=Q1(null,"core",[]);let wI=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Xe(Bl))},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})(),Bc=null;function qr(){return Bc}const Hn=new kt("DocumentToken");let hs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function SI(){return Xe(fb)}()},providedIn:"platform"}),t})();const DI=new kt("Location Initialized");let fb=(()=>{class t extends hs{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(e){const i=qr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=qr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){hb()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){hb()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn))},t.\u0275prov=ft({token:t,factory:function(){return function OI(){return new fb(Xe(Hn))}()},providedIn:"platform"}),t})();function hb(){return!!window.history.pushState}function Lh(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function _b(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function mo(t){return t&&"?"!==t[0]?"?"+t:t}let Oa=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function NI(t){const n=Xe(Hn).location;return new mb(Xe(hs),n&&n.origin||"")}()},providedIn:"root"}),t})();const Vh=new kt("appBaseHref");let mb=(()=>{class t extends Oa{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Lh(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+mo(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+mo(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(hs),Xe(Vh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),xI=(()=>{class t extends Oa{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Lh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+mo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+mo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(hs),Xe(Vh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Uh=(()=>{class t{constructor(e,i){this._subject=new gt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=_b(gb(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+mo(i))}normalize(e){return t.stripTrailingSlash(function MI(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,gb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mo(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mo(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=mo,t.joinWithSlash=Lh,t.stripTrailingSlash=_b,t.\u0275fac=function(e){return new(e||t)(Xe(Oa),Xe(hs))},t.\u0275prov=ft({token:t,factory:function(){return function AI(){return new Uh(Xe(Oa),Xe(hs))}()},providedIn:"root"}),t})();function gb(t){return t.replace(/\/index.html$/,"")}var kn=(()=>((kn=kn||{})[kn.Format=0]="Format",kn[kn.Standalone=1]="Standalone",kn))(),qt=(()=>((qt=qt||{})[qt.Narrow=0]="Narrow",qt[qt.Abbreviated=1]="Abbreviated",qt[qt.Wide=2]="Wide",qt[qt.Short=3]="Short",qt))(),Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.Medium=1]="Medium",Dn[Dn.Long=2]="Long",Dn[Dn.Full=3]="Full",Dn))(),wt=(()=>((wt=wt||{})[wt.Decimal=0]="Decimal",wt[wt.Group=1]="Group",wt[wt.List=2]="List",wt[wt.PercentSign=3]="PercentSign",wt[wt.PlusSign=4]="PlusSign",wt[wt.MinusSign=5]="MinusSign",wt[wt.Exponential=6]="Exponential",wt[wt.SuperscriptingExponent=7]="SuperscriptingExponent",wt[wt.PerMille=8]="PerMille",wt[wt.Infinity=9]="Infinity",wt[wt.NaN=10]="NaN",wt[wt.TimeSeparator=11]="TimeSeparator",wt[wt.CurrencyDecimal=12]="CurrencyDecimal",wt[wt.CurrencyGroup=13]="CurrencyGroup",wt))();function Lc(t,n){return cr(Di(t)[lt.DateFormat],n)}function Vc(t,n){return cr(Di(t)[lt.TimeFormat],n)}function Uc(t,n){return cr(Di(t)[lt.DateTimeFormat],n)}function ur(t,n){const e=Di(t),i=e[lt.NumberSymbols][n];if(void 0===i){if(n===wt.CurrencyDecimal)return e[lt.NumberSymbols][wt.Decimal];if(n===wt.CurrencyGroup)return e[lt.NumberSymbols][wt.Group]}return i}function vb(t){if(!t[lt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[lt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cr(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function Gh(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const GI=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vl={},qI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xn=(()=>((Xn=Xn||{})[Xn.Short=0]="Short",Xn[Xn.ShortGMT=1]="ShortGMT",Xn[Xn.Long=2]="Long",Xn[Xn.Extended=3]="Extended",Xn))(),Tt=(()=>((Tt=Tt||{})[Tt.FullYear=0]="FullYear",Tt[Tt.Month=1]="Month",Tt[Tt.Date=2]="Date",Tt[Tt.Hours=3]="Hours",Tt[Tt.Minutes=4]="Minutes",Tt[Tt.Seconds=5]="Seconds",Tt[Tt.FractionalSeconds=6]="FractionalSeconds",Tt[Tt.Day=7]="Day",Tt))(),Ft=(()=>((Ft=Ft||{})[Ft.DayPeriods=0]="DayPeriods",Ft[Ft.Days=1]="Days",Ft[Ft.Months=2]="Months",Ft[Ft.Eras=3]="Eras",Ft))();function WI(t,n,e,i){let r=function tP(t){if(Cb(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(a=>+a);return Hc(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(GI))return function nP(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,d=Number(t[6]||0),w=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,s,a,d,w),n}(i)}const n=new Date(t);if(!Cb(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=go(e,n)||n;let a,s=[];for(;n;){if(a=qI.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const k=s.pop();if(!k)break;n=k}}let d=r.getTimezoneOffset();i&&(d=wb(i,d),r=function eP(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function XI(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(wb(n,r)-r))}(r,i,!0));let w="";return s.forEach(k=>{const ee=function QI(t){if(Wh[t])return Wh[t];let n;switch(t){case"G":case"GG":case"GGG":n=gn(Ft.Eras,qt.Abbreviated);break;case"GGGG":n=gn(Ft.Eras,qt.Wide);break;case"GGGGG":n=gn(Ft.Eras,qt.Narrow);break;case"y":n=qn(Tt.FullYear,1,0,!1,!0);break;case"yy":n=qn(Tt.FullYear,2,0,!0,!0);break;case"yyy":n=qn(Tt.FullYear,3,0,!1,!0);break;case"yyyy":n=qn(Tt.FullYear,4,0,!1,!0);break;case"Y":n=zc(1);break;case"YY":n=zc(2,!0);break;case"YYY":n=zc(3);break;case"YYYY":n=zc(4);break;case"M":case"L":n=qn(Tt.Month,1,1);break;case"MM":case"LL":n=qn(Tt.Month,2,1);break;case"MMM":n=gn(Ft.Months,qt.Abbreviated);break;case"MMMM":n=gn(Ft.Months,qt.Wide);break;case"MMMMM":n=gn(Ft.Months,qt.Narrow);break;case"LLL":n=gn(Ft.Months,qt.Abbreviated,kn.Standalone);break;case"LLLL":n=gn(Ft.Months,qt.Wide,kn.Standalone);break;case"LLLLL":n=gn(Ft.Months,qt.Narrow,kn.Standalone);break;case"w":n=qh(1);break;case"ww":n=qh(2);break;case"W":n=qh(1,!0);break;case"d":n=qn(Tt.Date,1);break;case"dd":n=qn(Tt.Date,2);break;case"c":case"cc":n=qn(Tt.Day,1);break;case"ccc":n=gn(Ft.Days,qt.Abbreviated,kn.Standalone);break;case"cccc":n=gn(Ft.Days,qt.Wide,kn.Standalone);break;case"ccccc":n=gn(Ft.Days,qt.Narrow,kn.Standalone);break;case"cccccc":n=gn(Ft.Days,qt.Short,kn.Standalone);break;case"E":case"EE":case"EEE":n=gn(Ft.Days,qt.Abbreviated);break;case"EEEE":n=gn(Ft.Days,qt.Wide);break;case"EEEEE":n=gn(Ft.Days,qt.Narrow);break;case"EEEEEE":n=gn(Ft.Days,qt.Short);break;case"a":case"aa":case"aaa":n=gn(Ft.DayPeriods,qt.Abbreviated);break;case"aaaa":n=gn(Ft.DayPeriods,qt.Wide);break;case"aaaaa":n=gn(Ft.DayPeriods,qt.Narrow);break;case"b":case"bb":case"bbb":n=gn(Ft.DayPeriods,qt.Abbreviated,kn.Standalone,!0);break;case"bbbb":n=gn(Ft.DayPeriods,qt.Wide,kn.Standalone,!0);break;case"bbbbb":n=gn(Ft.DayPeriods,qt.Narrow,kn.Standalone,!0);break;case"B":case"BB":case"BBB":n=gn(Ft.DayPeriods,qt.Abbreviated,kn.Format,!0);break;case"BBBB":n=gn(Ft.DayPeriods,qt.Wide,kn.Format,!0);break;case"BBBBB":n=gn(Ft.DayPeriods,qt.Narrow,kn.Format,!0);break;case"h":n=qn(Tt.Hours,1,-12);break;case"hh":n=qn(Tt.Hours,2,-12);break;case"H":n=qn(Tt.Hours,1);break;case"HH":n=qn(Tt.Hours,2);break;case"m":n=qn(Tt.Minutes,1);break;case"mm":n=qn(Tt.Minutes,2);break;case"s":n=qn(Tt.Seconds,1);break;case"ss":n=qn(Tt.Seconds,2);break;case"S":n=qn(Tt.FractionalSeconds,1);break;case"SS":n=qn(Tt.FractionalSeconds,2);break;case"SSS":n=qn(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=qc(Xn.Short);break;case"ZZZZZ":n=qc(Xn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=qc(Xn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=qc(Xn.Long);break;default:return null}return Wh[t]=n,n}(k);w+=ee?ee(r,e,d):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function Hc(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function go(t,n){const e=function II(t){return Di(t)[lt.LocaleId]}(t);if(Vl[e]=Vl[e]||{},Vl[e][n])return Vl[e][n];let i="";switch(n){case"shortDate":i=Lc(t,Dn.Short);break;case"mediumDate":i=Lc(t,Dn.Medium);break;case"longDate":i=Lc(t,Dn.Long);break;case"fullDate":i=Lc(t,Dn.Full);break;case"shortTime":i=Vc(t,Dn.Short);break;case"mediumTime":i=Vc(t,Dn.Medium);break;case"longTime":i=Vc(t,Dn.Long);break;case"fullTime":i=Vc(t,Dn.Full);break;case"short":const r=go(t,"shortTime"),o=go(t,"shortDate");i=Gc(Uc(t,Dn.Short),[r,o]);break;case"medium":const s=go(t,"mediumTime"),a=go(t,"mediumDate");i=Gc(Uc(t,Dn.Medium),[s,a]);break;case"long":const d=go(t,"longTime"),w=go(t,"longDate");i=Gc(Uc(t,Dn.Long),[d,w]);break;case"full":const k=go(t,"fullTime"),ee=go(t,"fullDate");i=Gc(Uc(t,Dn.Full),[k,ee])}return i&&(Vl[e][n]=i),i}function Gc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Sr(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.substr(s.length-n)),o+s}function qn(t,n,e=0,i=!1,r=!1){return function(o,s){let a=function YI(t,n){switch(t){case Tt.FullYear:return n.getFullYear();case Tt.Month:return n.getMonth();case Tt.Date:return n.getDate();case Tt.Hours:return n.getHours();case Tt.Minutes:return n.getMinutes();case Tt.Seconds:return n.getSeconds();case Tt.FractionalSeconds:return n.getMilliseconds();case Tt.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||a>-e)&&(a+=e),t===Tt.Hours)0===a&&-12===e&&(a=12);else if(t===Tt.FractionalSeconds)return function zI(t,n){return Sr(t,3).substr(0,n)}(a,n);const d=ur(s,wt.MinusSign);return Sr(a,n,d,i,r)}}function gn(t,n,e=kn.Format,i=!1){return function(r,o){return function KI(t,n,e,i,r,o){switch(e){case Ft.Months:return function RI(t,n,e){const i=Di(t),o=cr([i[lt.MonthsFormat],i[lt.MonthsStandalone]],n);return cr(o,e)}(n,r,i)[t.getMonth()];case Ft.Days:return function kI(t,n,e){const i=Di(t),o=cr([i[lt.DaysFormat],i[lt.DaysStandalone]],n);return cr(o,e)}(n,r,i)[t.getDay()];case Ft.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const w=function BI(t){const n=Di(t);return vb(n),(n[lt.ExtraData][2]||[]).map(i=>"string"==typeof i?Gh(i):[Gh(i[0]),Gh(i[1])])}(n),k=function LI(t,n,e){const i=Di(t);vb(i);const o=cr([i[lt.ExtraData][0],i[lt.ExtraData][1]],n)||[];return cr(o,e)||[]}(n,r,i),ee=w.findIndex(se=>{if(Array.isArray(se)){const[me,Se]=se,xe=s>=me.hours&&a>=me.minutes,Re=s<Se.hours||s===Se.hours&&a<Se.minutes;if(me.hours<Se.hours){if(xe&&Re)return!0}else if(xe||Re)return!0}else if(se.hours===s&&se.minutes===a)return!0;return!1});if(-1!==ee)return k[ee]}return function PI(t,n,e){const i=Di(t),o=cr([i[lt.DayPeriodsFormat],i[lt.DayPeriodsStandalone]],n);return cr(o,e)}(n,r,i)[s<12?0:1];case Ft.Eras:return function FI(t,n){return cr(Di(t)[lt.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function qc(t){return function(n,e,i){const r=-1*i,o=ur(e,wt.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Xn.Short:return(r>=0?"+":"")+Sr(s,2,o)+Sr(Math.abs(r%60),2,o);case Xn.ShortGMT:return"GMT"+(r>=0?"+":"")+Sr(s,1,o);case Xn.Long:return"GMT"+(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);case Xn.Extended:return 0===i?"Z":(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function bb(t){return Hc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function qh(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=bb(e),s=function JI(t){const n=Hc(t,0,1).getDay();return Hc(t,0,1+(n<=4?4:11)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Sr(r,t,ur(i,wt.MinusSign))}}function zc(t,n=!1){return function(e,i){return Sr(bb(e).getFullYear(),t,ur(i,wt.MinusSign),n)}}const Wh={};function wb(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Cb(t){return t instanceof Date&&!isNaN(t.valueOf())}function Db(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}let Ob=(()=>{class t{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(El(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${en(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(be($c),be(Ll),be(Qt),be(Ri))},t.\u0275dir=Ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class _P{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class t{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _P(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Nb(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Nb(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(be(lr),be(At),be($c))},t.\u0275dir=Ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Nb(t,n){t.context.$implicit=n.item}let ji=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new mP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(be(lr),be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class mP{constructor(){this.$implicit=null,this.ngIf=null}}function xb(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${en(n)}'.`)}let Mb=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(be(Qt),be(Ll),be(Ri))},t.\u0275dir=Ze({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),_s=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(be(lr))},t.\u0275dir=Ze({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ln]}),t})();const xP=new kt("DATE_PIPE_DEFAULT_TIMEZONE");let Ib=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return WI(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw function Dr(t,n){return new St(2100,"")}()}}}return t.\u0275fac=function(e){return new(e||t)(be(Uo,16),be(xP,24))},t.\u0275pipe=ki({name:"date",type:t,pure:!0}),t})(),li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();let GP=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new qP(Xe(Hn),window)}),t})();class qP{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function WP(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Rb(this.window.history)||Rb(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Rb(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Fb{}class n_ extends class zP extends class TI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function EI(t){Bc||(Bc=t)}(new n_)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function YP(){return Hl=Hl||document.querySelector("base"),Hl?Hl.getAttribute("href"):null}();return null==e?null:function KP(t){Kc=Kc||document.createElement("a"),Kc.setAttribute("href",t);const n=Kc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Db(document.cookie,n)}}let Kc,Hl=null;const jb=new kt("TRANSITION_ID"),JP=[{provide:Dh,useFactory:function ZP(t,n,e){return()=>{e.get(Oh).donePromise.then(()=>{const i=qr(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[jb,Hn,Jn],multi:!0}];class i_{static init(){!function ZM(t){Ph=t}(new i_)}addToWindow(n){fn.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},fn.getAllAngularTestabilities=()=>n.getAllTestabilities(),fn.getAllAngularRootElements=()=>n.getAllRootElements(),fn.frameworkStabilizers||(fn.frameworkStabilizers=[]),fn.frameworkStabilizers.push(i=>{const r=fn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(d){s=s||d,o--,0==o&&i(s)};r.forEach(function(d){d.whenStable(a)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const r=n.getTestability(e);return null!=r?r:i?qr().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let QP=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Zc=new kt("EventManagerPlugins");let Jc=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Zc),Xe(mn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class $b{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=qr().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Bb=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Gl=(()=>{class t extends Bb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Lb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Lb))}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Lb(t){qr().remove(t)}const r_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},o_=/%COMP%/g;function Qc(t,n,e){for(let i=0;i<n.length;i++){let r=n[i];Array.isArray(r)?Qc(t,r,e):(r=r.replace(o_,t),e.push(r))}return e}function Hb(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let s_=(()=>{class t{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new a_(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Rr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new rk(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Rr.ShadowDom:return new ok(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Qc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Xe(Jc),Xe(Gl),Xe($l))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class a_{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(r_[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=r_[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=r_[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(zi.DashCase|zi.Important)?n.style.setProperty(e,i,r&zi.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&zi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Hb(i)):this.eventManager.addEventListener(n,e,Hb(i))}}class rk extends a_{constructor(n,e,i,r){super(n),this.component=i;const o=Qc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function tk(t){return"_ngcontent-%COMP%".replace(o_,t)}(r+"-"+i.id),this.hostAttr=function nk(t){return"_nghost-%COMP%".replace(o_,t)}(r+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class ok extends a_{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Qc(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let sk=(()=>{class t extends $b{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const qb=["alt","control","meta","shift"],lk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ck=(()=>{class t extends $b{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="";if(qb.forEach(d=>{const w=i.indexOf(d);w>-1&&(i.splice(w,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function dk(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Wb.hasOwnProperty(n)&&(n=Wb[n]))}return lk[n]||n}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qb.forEach(o=>{o!=r&&uk[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{t.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const _k=Q1(bI,"browser",[{provide:Rc,useValue:"browser"},{provide:G1,useValue:function pk(){n_.makeCurrent(),i_.init()},multi:!0},{provide:Hn,useFactory:function hk(){return function jS(t){bp=t}(document),document},deps:[]}]),mk=[{provide:$f,useValue:"root"},{provide:vl,useFactory:function fk(){return new vl},deps:[]},{provide:Zc,useClass:sk,multi:!0,deps:[Hn,mn,Rc]},{provide:Zc,useClass:ck,multi:!0,deps:[Hn]},{provide:s_,useClass:s_,deps:[Jc,Gl,$l]},{provide:uh,useExisting:s_},{provide:Bb,useExisting:Gl},{provide:Gl,useClass:Gl,deps:[Hn]},{provide:Ih,useClass:Ih,deps:[mn]},{provide:Jc,useClass:Jc,deps:[Zc,mn]},{provide:Fb,useClass:QP,deps:[]}];let gk=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:$l,useValue:e.appId},{provide:jb,useExisting:$l},JP]}}}return t.\u0275fac=function(e){return new(e||t)(Xe(t,12))},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:mk,imports:[li,wI]}),t})();function Nt(...t){return Yn(t,wi(t))}"undefined"!=typeof window&&window;class oi extends Ee{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:Nk}=Array,{getPrototypeOf:xk,prototype:Ak,keys:Mk}=Object;function Kb(t){if(1===t.length){const n=t[0];if(Nk(n))return{args:n,keys:null};if(function Ik(t){return t&&"object"==typeof t&&xk(t)===Ak}(n)){const e=Mk(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:Pk}=Array;function u_(t){return H(n=>function kk(t,n){return Pk(n)?t(...n):t(n)}(t,n))}function Zb(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Jb(t,n,e){t?pn(e,t,n):n()}function Xc(t,n){const e=p(t)?t:()=>t,i=r=>r.error(e());return new Z(n?r=>n.schedule(i,0,r):i)}const ed=C(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ql(...t){return function Fk(){return An(1)}()(Yn(t,wi(t)))}function Qb(t){return new Z(n=>{Ke(t()).subscribe(n)})}function Xb(){return ue((t,n)=>{let e=null;t._refCount++;const i=N(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class jk extends Z{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ce(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const e=this.getSubject();n.add(this.source.subscribe(N(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return Xb()(this)}}function yo(t,n){return ue((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(N(i,d=>{null==r||r.unsubscribe();let w=0;const k=o++;Ke(t(d,k)).subscribe(r=N(i,ee=>i.next(n?n(d,ee,k,w++):ee),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function yi(t){return t<=0?()=>Tn:ue((n,e)=>{let i=0;n.subscribe(N(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Wl(...t){const n=wi(t);return ue((e,i)=>{(n?ql(t,e,n):ql(t,e)).subscribe(i)})}function $k(t,n,e,i,r){return(o,s)=>{let a=e,d=n,w=0;o.subscribe(N(s,k=>{const ee=w++;d=a?t(d,k,ee):(a=!0,k),i&&s.next(d)},r&&(()=>{a&&s.next(d),s.complete()})))}}function ew(t,n){return ue($k(t,n,arguments.length>=2,!0))}function ei(t,n){return ue((e,i)=>{let r=0;e.subscribe(N(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Go(t){return ue((n,e)=>{let o,i=null,r=!1;i=n.subscribe(N(e,void 0,void 0,s=>{o=Ke(t(s,Go(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Na(t,n){return p(n)?Lt(t,n,1):Lt(t,1)}function d_(t){return t<=0?()=>Tn:ue((n,e)=>{let i=[];n.subscribe(N(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function tw(t=Bk){return ue((n,e)=>{let i=!1;n.subscribe(N(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Bk(){return new ed}function nw(t){return ue((n,e)=>{let i=!1;n.subscribe(N(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function xa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ei((r,o)=>t(r,o,i)):X,yi(1),e?nw(n):tw(()=>new ed))}function ui(t,n,e){const i=p(t)||n||e?{next:t,error:n,complete:e}:t;return i?ue((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(N(o,d=>{var w;null===(w=i.next)||void 0===w||w.call(i,d),o.next(d)},()=>{var d;a=!1,null===(d=i.complete)||void 0===d||d.call(i),o.complete()},d=>{var w;a=!1,null===(w=i.error)||void 0===w||w.call(i,d),o.error(d)},()=>{var d,w;a&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(w=i.finalize)||void 0===w||w.call(i)}))}):X}class vo{constructor(n,e){this.id=n,this.url=e}}class p_ extends vo{constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zl extends vo{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iw extends vo{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uk extends vo{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hk extends vo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gk extends vo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qk extends vo{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wk extends vo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zk extends vo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rw{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ow{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yk{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kk{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zk{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jk{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ut="primary";class Qk{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Aa(t){return new Qk(t)}const aw="ngNavigationCancelingError";function f_(t){const n=Error("NavigationCancelingError: "+t);return n[aw]=!0,n}function eR(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Wr(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!lw(t[r],n[r]))return!1;return!0}function lw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}return t===n}function uw(t){return Array.prototype.concat.apply([],t)}function cw(t){return t.length>0?t[t.length-1]:null}function ci(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function zr(t){return Jf(t)?t:Sl(t)?Yn(Promise.resolve(t)):Nt(t)}const iR={exact:function fw(t,n,e){if(!gs(t.segments,n.segments)||!td(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!fw(t.children[i],n.children[i],e))return!1;return!0},subset:hw},dw={exact:function rR(t,n){return Wr(t,n)},subset:function oR(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>lw(t[e],n[e]))},ignored:()=>!0};function pw(t,n,e){return iR[e.paths](t.root,n.root,e.matrixParams)&&dw[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function hw(t,n,e){return _w(t,n,n.segments,e)}function _w(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!gs(r,e)||n.hasChildren()||!td(r,e,i))}if(t.segments.length===e.length){if(!gs(t.segments,e)||!td(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!hw(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(gs(t.segments,r)&&td(t.segments,r,i)&&t.children[Ut])&&_w(t.children[Ut],n,o,i)}}function td(t,n,e){return n.every((i,r)=>dw[e](t[r].parameters,i.parameters))}class ms{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Aa(this.queryParams)),this._queryParamMap}toString(){return lR.serialize(this)}}class Yt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,ci(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nd(this)}}class Yl{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Aa(this.parameters)),this._parameterMap}toString(){return bw(this)}}function gs(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class mw{}class gw{parse(n){const e=new gR(n);return new ms(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Kl(n.root,!0)}`,i=function dR(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${id(e)}=${id(r)}`).join("&"):`${id(e)}=${id(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function uR(t){return encodeURI(t)}(n.fragment)}`:""}`}}const lR=new gw;function nd(t){return t.segments.map(n=>bw(n)).join("/")}function Kl(t,n){if(!t.hasChildren())return nd(t);if(n){const e=t.children[Ut]?Kl(t.children[Ut],!1):"",i=[];return ci(t.children,(r,o)=>{o!==Ut&&i.push(`${o}:${Kl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function aR(t,n){let e=[];return ci(t.children,(i,r)=>{r===Ut&&(e=e.concat(n(i,r)))}),ci(t.children,(i,r)=>{r!==Ut&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===Ut?[Kl(t.children[Ut],!1)]:[`${r}:${Kl(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ut]?`${nd(t)}/${e[0]}`:`${nd(t)}/(${e.join("//")})`}}function yw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(t){return yw(t).replace(/%3B/gi,";")}function h_(t){return yw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rd(t){return decodeURIComponent(t)}function vw(t){return rd(t.replace(/\+/g,"%20"))}function bw(t){return`${h_(t.path)}${function cR(t){return Object.keys(t).map(n=>`;${h_(n)}=${h_(t[n])}`).join("")}(t.parameters)}`}const pR=/^[^\/()?;=#]+/;function od(t){const n=t.match(pR);return n?n[0]:""}const fR=/^[^=?&#]+/,_R=/^[^&#]+/;class gR{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Ut]=new Yt(n,e)),i}parseSegment(){const n=od(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Yl(rd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=od(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=od(this.remaining);r&&(i=r,this.capture(i))}n[rd(e)]=rd(i)}parseQueryParam(n){const e=function hR(t){const n=t.match(fR);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function mR(t){const n=t.match(_R);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=vw(e),o=vw(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=od(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Ut);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ut]:new Yt([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class ww{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=__(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=__(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=m_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return m_(n,this._root).map(e=>e.value)}}function __(t,n){if(t===n.value)return n;for(const e of n.children){const i=__(t,e);if(i)return i}return null}function m_(t,n){if(t===n.value)return[n];for(const e of n.children){const i=m_(t,e);if(i.length)return i.unshift(n),i}return[]}class bo{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ma(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Cw extends ww{constructor(n,e){super(n),this.snapshot=e,g_(this,n)}toString(){return this.snapshot.toString()}}function Ew(t,n){const e=function yR(t,n){const s=new sd([],{},{},"",{},Ut,n,null,t.root,-1,{});return new Sw("",new bo(s,[]))}(t,n),i=new oi([new Yl("",{})]),r=new oi({}),o=new oi({}),s=new oi({}),a=new oi(""),d=new Ia(i,r,s,a,o,Ut,n,e.root);return d.snapshot=e.root,new Cw(new bo(d,[]),e)}class Ia{constructor(n,e,i,r,o,s,a,d){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(n=>Aa(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(n=>Aa(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tw(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function vR(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sd{constructor(n,e,i,r,o,s,a,d,w,k,ee){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=d,this._urlSegment=w,this._lastPathIndex=k,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Aa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Aa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sw extends ww{constructor(n,e){super(e),this.url=n,g_(this,e)}toString(){return Dw(this._root)}}function g_(t,n){n.value._routerState=t,n.children.forEach(e=>g_(t,e))}function Dw(t){const n=t.children.length>0?` { ${t.children.map(Dw).join(", ")} } `:"";return`${t.value}${n}`}function y_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Wr(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Wr(n.params,e.params)||t.params.next(e.params),function tR(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Wr(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Wr(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function v_(t,n){const e=Wr(t.params,n.params)&&function sR(t,n){return gs(t,n)&&t.every((e,i)=>Wr(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||v_(t.parent,n.parent))}function Zl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function wR(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Zl(t,i,r);return Zl(t,i)})}(t,n,e);return new bo(i,r)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Zl(t,a)),s}}const i=function CR(t){return new Ia(new oi(t.url),new oi(t.params),new oi(t.queryParams),new oi(t.fragment),new oi(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(o=>Zl(t,o));return new bo(i,r)}}function ad(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jl(t){return"object"==typeof t&&null!=t&&t.outlets}function b_(t,n,e,i,r){let o={};if(i&&ci(i,(a,d)=>{o[d]=Array.isArray(a)?a.map(w=>`${w}`):`${a}`}),t===n)return new ms(e,o,r);const s=Ow(t,n,e);return new ms(s,o,r)}function Ow(t,n,e){const i={};return ci(t.children,(r,o)=>{i[o]=r===n?e:Ow(r,n,e)}),new Yt(t.segments,i)}class Nw{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&ad(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Jl);if(r&&r!==cw(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class w_{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function xw(t,n,e){if(t||(t=new Yt([],{})),0===t.segments.length&&t.hasChildren())return ld(t,n,e);const i=function NR(t,n,e){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;const s=t.segments[r],a=e[i];if(Jl(a))break;const d=`${a}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===d)break;if(d&&w&&"object"==typeof w&&void 0===w.outlets){if(!Mw(d,w,s))return o;i+=2}else{if(!Mw(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new Yt(t.segments.slice(0,i.pathIndex),{});return o.children[Ut]=new Yt(t.segments.slice(i.pathIndex),t.children),ld(o,0,r)}return i.match&&0===r.length?new Yt(t.segments,{}):i.match&&!t.hasChildren()?C_(t,n,e):i.match?ld(t,0,r):C_(t,n,e)}function ld(t,n,e){if(0===e.length)return new Yt(t.segments,{});{const i=function OR(t){return Jl(t[0])?t[0].outlets:{[Ut]:t}}(e),r={};return ci(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=xw(t.children[s],n,o))}),ci(t.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Yt(t.segments,r)}}function C_(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const o=e[r];if(Jl(o)){const d=xR(o.outlets);return new Yt(i,d)}if(0===r&&ad(e[0])){i.push(new Yl(t.segments[n].path,Aw(e[0]))),r++;continue}const s=Jl(o)?o.outlets[Ut]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&ad(a)?(i.push(new Yl(s,Aw(a))),r+=2):(i.push(new Yl(s,{})),r++)}return new Yt(i,{})}function xR(t){const n={};return ci(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=C_(new Yt([],{}),0,e))}),n}function Aw(t){const n={};return ci(t,(e,i)=>n[i]=`${e}`),n}function Mw(t,n,e){return t==e.path&&Wr(n,e.parameters)}class MR{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),y_(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Ma(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ci(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=Ma(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Jk(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Kk(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(y_(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),y_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=function IR(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),d=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=d,s.outlet&&s.outlet.activateWith(r,d),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class E_{constructor(n,e){this.routes=n,this.module=e}}function qo(t){return"function"==typeof t}function ys(t){return t instanceof ms}const Ql=Symbol("INITIAL_VALUE");function Xl(){return yo(t=>function c_(...t){const n=wi(t),e=to(t),{args:i,keys:r}=Kb(t);if(0===i.length)return Yn([],n);const o=new Z(function Rk(t,n,e=X){return i=>{Jb(n,()=>{const{length:r}=t,o=new Array(r);let s=r,a=r;for(let d=0;d<r;d++)Jb(n,()=>{const w=Yn(t[d],n);let k=!1;w.subscribe(N(i,ee=>{o[d]=ee,k||(k=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>Zb(r,s):X));return e?o.pipe(u_(e)):o}(t.map(n=>n.pipe(yi(1),Wl(Ql)))).pipe(ew((n,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Ql?r:(o===Ql&&(i=!0),i||!1!==o&&s!==e.length-1&&!ys(o)?r:o),n)},Ql),ei(n=>n!==Ql),H(n=>ys(n)?n:!0===n),yi(1)))}class $R{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eu,this.attachRef=null}}class eu{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new $R,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let Pa=(()=>{class t{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.name=o||Ut,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,d=new BR(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(be(eu),be(lr),be(Ca),ao("name"),be(Zi))},t.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class BR{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Ia?this.route:n===eu?this.childContexts:this.parent.get(n,e)}}let Iw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Pe(0,"router-outlet")},directives:[Pa],encapsulation:2}),t})();function Pw(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];LR(i,VR(n,i))}}function LR(t,n){t.children&&Pw(t.children,n)}function VR(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function T_(t){const n=t.children&&t.children.map(T_),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Ut&&(e.component=Iw),e}function dr(t){return t.outlet||Ut}function kw(t,n){const e=t.filter(i=>dr(i)===n);return e.push(...t.filter(i=>dr(i)!==n)),e}const Rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ud(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},Rw):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||eR)(e,t,n);if(!o)return Object.assign({},Rw);const s={};ci(o.posParams,(d,w)=>{s[w]=d.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function cd(t,n,e,i,r="corrected"){if(e.length>0&&function GR(t,n,e){return e.some(i=>dd(t,n,i)&&dr(i)!==Ut)}(t,e,i)){const s=new Yt(n,function HR(t,n,e,i){const r={};r[Ut]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const o of e)if(""===o.path&&dr(o)!==Ut){const s=new Yt([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,r[dr(o)]=s}return r}(t,n,i,new Yt(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function qR(t,n,e){return e.some(i=>dd(t,n,i))}(t,e,i)){const s=new Yt(t.segments,function UR(t,n,e,i,r,o){const s={};for(const a of i)if(dd(t,e,a)&&!r[dr(a)]){const d=new Yt([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:n.length,s[dr(a)]=d}return Object.assign(Object.assign({},r),s)}(t,n,e,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const o=new Yt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}function dd(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function Fw(t,n,e,i){return!!(dr(t)===i||i!==Ut&&dd(n,e,t))&&("**"===t.path||ud(n,t,e).matched)}function jw(t,n,e){return 0===n.length&&!t.children[e]}class pd{constructor(n){this.segmentGroup=n||null}}class $w{constructor(n){this.urlTree=n}}function tu(t){return Xc(new pd(t))}function Bw(t){return Xc(new $w(t))}class KR{constructor(n,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=n.get(ho)}apply(){const n=cd(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ut).pipe(H(o=>this.createUrlTree(S_(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Go(o=>{if(o instanceof $w)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof pd?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Ut).pipe(H(r=>this.createUrlTree(S_(r),n.queryParams,n.fragment))).pipe(Go(r=>{throw r instanceof pd?this.noMatchError(r):r}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const r=n.segments.length>0?new Yt([],{[Ut]:n}):n;return new ms(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(H(o=>new Yt([],o))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Yn(r).pipe(Na(o=>{const s=i.children[o],a=kw(e,o);return this.expandSegmentGroup(n,a,s,o).pipe(H(d=>({segment:d,outlet:o})))}),ew((o,s)=>(o[s.outlet]=s.segment,o),{}),function Lk(t,n){const e=arguments.length>=2;return i=>i.pipe(t?ei((r,o)=>t(r,o,i)):X,d_(1),e?nw(n):tw(()=>new ed))}())}expandSegment(n,e,i,r,o,s){return Yn(i).pipe(Na(a=>this.expandSegmentAgainstRoute(n,e,i,a,r,o,s).pipe(Go(w=>{if(w instanceof pd)return Nt(null);throw w}))),xa(a=>!!a),Go((a,d)=>{if(a instanceof ed||"EmptyError"===a.name)return jw(e,r,o)?Nt(new Yt([],{})):tu(e);throw a}))}expandSegmentAgainstRoute(n,e,i,r,o,s,a){return Fw(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s):tu(e):tu(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Bw(o):this.lineralizeSegments(i,o).pipe(Lt(s=>{const a=new Yt(s,{});return this.expandSegment(n,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){const{matched:a,consumedSegments:d,remainingSegments:w,positionalParamSegments:k}=ud(e,r,o);if(!a)return tu(e);const ee=this.applyRedirectCommands(d,r.redirectTo,k);return r.redirectTo.startsWith("/")?Bw(ee):this.lineralizeSegments(r,ee).pipe(Lt(se=>this.expandSegment(n,e,i,se.concat(w),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Nt(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe(H(ee=>(i._loadedConfig=ee,new Yt(r,{})))):Nt(new Yt(r,{}));const{matched:s,consumedSegments:a,remainingSegments:d}=ud(e,i,r);return s?this.getChildConfig(n,i,r).pipe(Lt(k=>{const ee=k.module,se=k.routes,{segmentGroup:me,slicedSegments:Se}=cd(e,a,d,se),xe=new Yt(me.segments,me.children);if(0===Se.length&&xe.hasChildren())return this.expandChildren(ee,se,xe).pipe(H(Ye=>new Yt(a,Ye)));if(0===se.length&&0===Se.length)return Nt(new Yt(a,{}));const Re=dr(i)===o;return this.expandSegment(ee,xe,se,Se,Re?Ut:o,!0).pipe(H(Me=>new Yt(a.concat(Me.segments),Me.children)))})):tu(e)}getChildConfig(n,e,i){return e.children?Nt(new E_(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?Nt(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe(Lt(r=>r?this.configLoader.load(n.injector,e).pipe(H(o=>(e._loadedConfig=o,o))):function zR(t){return Xc(f_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):Nt(new E_([],n))}runCanLoadGuards(n,e,i){const r=e.canLoad;return r&&0!==r.length?Nt(r.map(s=>{const a=n.get(s);let d;if(function kR(t){return t&&qo(t.canLoad)}(a))d=a.canLoad(e,i);else{if(!qo(a))throw new Error("Invalid CanLoad guard");d=a(e,i)}return zr(d)})).pipe(Xl(),ui(s=>{if(!ys(s))return;const a=f_(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),H(s=>!0===s)):Nt(!0)}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[Ut])return Xc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));r=r.children[Ut]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,r){const o=this.createSegmentGroup(n,e.root,i,r);return new ms(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return ci(n,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(n,e,i,r){const o=this.createSegments(n,e.segments,i,r);let s={};return ci(e.children,(a,d)=>{s[d]=this.createSegmentGroup(n,a,i,r)}),new Yt(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}function S_(t){const n={};for(const i of Object.keys(t.children)){const o=S_(t.children[i]);(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function ZR(t){if(1===t.numberOfChildren&&t.children[Ut]){const n=t.children[Ut];return new Yt(t.segments.concat(n.segments),n.children)}return t}(new Yt(t.segments,n))}class Lw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class fd{constructor(n,e){this.component=n,this.route=e}}function QR(t,n,e){const i=t._root;return nu(i,n?n._root:null,e,[i.value])}function hd(t,n,e){const i=function e3(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function nu(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ma(n);return t.children.forEach(s=>{(function t3(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const d=function n3(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!gs(t.url,n.url);case"pathParamsOrQueryParamsChange":return!gs(t.url,n.url)||!Wr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(t,n)||!Wr(t.queryParams,n.queryParams);default:return!v_(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Lw(i)):(o.data=s.data,o._resolvedData=s._resolvedData),nu(t,n,o.component?a?a.children:null:e,i,r),d&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fd(a.outlet.component,s))}else s&&iu(n,a,r),r.canActivateChecks.push(new Lw(i)),nu(t,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),ci(o,(s,a)=>iu(s,e.getContext(a),r)),r}function iu(t,n,e){const i=Ma(t),r=t.value;ci(i,(o,s)=>{iu(o,r.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new fd(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}class p3{}function Vw(t){return new Z(n=>n.error(t))}class h3{constructor(n,e,i,r,o,s){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const n=cd(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Ut);if(null===e)return null;const i=new sd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bo(i,e),o=new Sw(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(n){const e=n.value,i=Tw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=kw(n,o),d=this.processSegmentGroup(a,s,o);if(null===d)return null;i.push(...d)}const r=Uw(i);return function _3(t){t.sort((n,e)=>n.value.outlet===Ut?-1:e.value.outlet===Ut?1:n.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(n,e,i,r){for(const o of n){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return jw(e,i,r)?[]:null}processSegmentAgainstRoute(n,e,i,r){if(n.redirectTo||!Fw(n,e,i,r))return null;let o,s=[],a=[];if("**"===n.path){const me=i.length>0?cw(i).parameters:{};o=new sd(i,me,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qw(n),dr(n),n.component,n,Hw(e),Gw(e)+i.length,Ww(n))}else{const me=ud(e,n,i);if(!me.matched)return null;s=me.consumedSegments,a=me.remainingSegments,o=new sd(s,me.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qw(n),dr(n),n.component,n,Hw(e),Gw(e)+s.length,Ww(n))}const d=function m3(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:w,slicedSegments:k}=cd(e,s,a,d.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===k.length&&w.hasChildren()){const me=this.processChildren(d,w);return null===me?null:[new bo(o,me)]}if(0===d.length&&0===k.length)return[new bo(o,[])];const ee=dr(n)===r,se=this.processSegment(d,w,k,ee?Ut:r);return null===se?null:[new bo(o,se)]}}function g3(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Uw(t){const n=[],e=new Set;for(const i of t){if(!g3(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=Uw(i.children);n.push(new bo(i.value,r))}return n.filter(i=>!e.has(i))}function Hw(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Gw(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function qw(t){return t.data||{}}function Ww(t){return t.resolve||{}}function zw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function D_(t){return yo(n=>{const e=t(n);return e?Yn(e).pipe(H(()=>n)):Nt(n)})}class S3 extends class T3{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const O_=new kt("ROUTES");class Yw{constructor(n,e,i,r){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(H(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(n);return new E_(uw(s.injector.get(O_,void 0,xt.Self|xt.Optional)).map(T_),s)}),Go(o=>{throw e._loader$=void 0,o}));return e._loader$=new jk(r,()=>new Ee).pipe(Xb()),e._loader$}loadModuleFactory(n){return zr(n()).pipe(Lt(e=>e instanceof l1?Nt(e):Yn(this.compiler.compileModuleAsync(e))))}}class O3{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function N3(t){throw t}function x3(t,n,e){return n.parse("/")}function Kw(t,n){return Nt(null)}const A3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class t{constructor(e,i,r,o,s,a,d){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=N3,this.malformedUriErrorHandler=x3,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kw,afterPreactivation:Kw},this.urlHandlingStrategy=new O3,this.routeReuseStrategy=new S3,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(ho),this.console=s.get(jM);const ee=s.get(mn);this.isNgZoneEnabled=ee instanceof mn&&mn.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function nR(){return new ms(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yw(s,a,se=>this.triggerEvent(new rw(se)),se=>this.triggerEvent(new ow(se))),this.routerState=Ew(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ei(r=>0!==r.id),H(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),yo(r=>{let o=!1,s=!1;return Nt(r).pipe(ui(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yo(a=>{const d=this.browserUrlTree.toString(),w=!this.navigated||a.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Zw(a.source)&&(this.browserUrlTree=a.extractedUrl),Nt(a).pipe(yo(ee=>{const se=this.transitions.getValue();return i.next(new p_(ee.id,this.serializeUrl(ee.extractedUrl),ee.source,ee.restoredState)),se!==this.transitions.getValue()?Tn:Promise.resolve(ee)}),function JR(t,n,e,i){return yo(r=>function YR(t,n,e,i,r){return new KR(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(H(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ui(ee=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ee.urlAfterRedirects})}),function y3(t,n,e,i,r){return Lt(o=>function f3(t,n,e,i,r="emptyOnly",o="legacy"){try{const s=new h3(t,n,e,i,r,o).recognize();return null===s?Vw(new p3):Nt(s)}catch(s){return Vw(s)}}(t,n,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(H(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,ee=>this.serializeUrl(ee),this.paramsInheritanceStrategy,this.relativeLinkResolution),ui(ee=>{if("eager"===this.urlUpdateStrategy){if(!ee.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl);this.setBrowserUrl(me,ee)}this.browserUrlTree=ee.urlAfterRedirects}const se=new Hk(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot);i.next(se)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:se,extractedUrl:me,source:Se,restoredState:xe,extras:Re}=a,Fe=new p_(se,this.serializeUrl(me),Se,xe);i.next(Fe);const Me=Ew(me,this.rootComponentType).snapshot;return Nt(Object.assign(Object.assign({},a),{targetSnapshot:Me,urlAfterRedirects:me,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Tn}),D_(a=>{const{targetSnapshot:d,id:w,extractedUrl:k,rawUrl:ee,extras:{skipLocationChange:se,replaceUrl:me}}=a;return this.hooks.beforePreactivation(d,{navigationId:w,appliedUrlTree:k,rawUrlTree:ee,skipLocationChange:!!se,replaceUrl:!!me})}),ui(a=>{const d=new Gk(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(d)}),H(a=>Object.assign(Object.assign({},a),{guards:QR(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function r3(t,n){return Lt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Nt(Object.assign(Object.assign({},e),{guardsResult:!0})):function o3(t,n,e,i){return Yn(t).pipe(Lt(r=>function d3(t,n,e,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(a=>{const d=hd(a,n,r);let w;if(function jR(t){return t&&qo(t.canDeactivate)}(d))w=zr(d.canDeactivate(t,n,e,i));else{if(!qo(d))throw new Error("Invalid CanDeactivate guard");w=zr(d(t,n,e,i))}return w.pipe(xa())})).pipe(Xl()):Nt(!0)}(r.component,r.route,e,n,i)),xa(r=>!0!==r,!0))}(s,i,r,t).pipe(Lt(a=>a&&function PR(t){return"boolean"==typeof t}(a)?function s3(t,n,e,i){return Yn(n).pipe(Na(r=>ql(function l3(t,n){return null!==t&&n&&n(new Yk(t)),Nt(!0)}(r.route.parent,i),function a3(t,n){return null!==t&&n&&n(new Zk(t)),Nt(!0)}(r.route,i),function c3(t,n,e){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function XR(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Qb(()=>Nt(s.guards.map(d=>{const w=hd(d,s.node,e);let k;if(function FR(t){return t&&qo(t.canActivateChild)}(w))k=zr(w.canActivateChild(i,t));else{if(!qo(w))throw new Error("Invalid CanActivateChild guard");k=zr(w(i,t))}return k.pipe(xa())})).pipe(Xl())));return Nt(o).pipe(Xl())}(t,r.path,e),function u3(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(o=>Qb(()=>{const s=hd(o,n,e);let a;if(function RR(t){return t&&qo(t.canActivate)}(s))a=zr(s.canActivate(n,t));else{if(!qo(s))throw new Error("Invalid CanActivate guard");a=zr(s(n,t))}return a.pipe(xa())}));return Nt(r).pipe(Xl())}(t,r.route,e))),xa(r=>!0!==r,!0))}(i,o,t,n):Nt(a)),H(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ui(a=>{if(ys(a.guardsResult)){const w=f_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw w.url=a.guardsResult,w}const d=new qk(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(d)}),ei(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),D_(a=>{if(a.guards.canActivateChecks.length)return Nt(a).pipe(ui(d=>{const w=new Wk(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(w)}),yo(d=>{let w=!1;return Nt(d).pipe(function v3(t,n){return Lt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Nt(e);let o=0;return Yn(r).pipe(Na(s=>function b3(t,n,e,i){return function w3(t,n,e,i){const r=zw(t);if(0===r.length)return Nt({});const o={};return Yn(r).pipe(Lt(s=>function C3(t,n,e,i){const r=hd(t,n,i);return zr(r.resolve?r.resolve(n,e):r(n,e))}(t[s],n,e,i).pipe(ui(a=>{o[s]=a}))),d_(1),Lt(()=>zw(o).length===r.length?Nt(o):Tn))}(t._resolve,t,n,i).pipe(H(o=>(t._resolvedData=o,t.data=Object.assign(Object.assign({},t.data),Tw(t,e).resolve),null)))}(s.route,i,t,n)),ui(()=>o++),d_(1),Lt(s=>o===r.length?Nt(e):Tn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ui({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),ui(d=>{const w=new zk(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(w)}))}),D_(a=>{const{targetSnapshot:d,id:w,extractedUrl:k,rawUrl:ee,extras:{skipLocationChange:se,replaceUrl:me}}=a;return this.hooks.afterPreactivation(d,{navigationId:w,appliedUrlTree:k,rawUrlTree:ee,skipLocationChange:!!se,replaceUrl:!!me})}),H(a=>{const d=function bR(t,n,e){const i=Zl(t,n._root,e?e._root:void 0);return new Cw(i,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:d})}),ui(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>H(i=>(new MR(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ui({next(){o=!0},complete(){o=!0}}),function Vk(t){return ue((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Go(a=>{if(s=!0,function Xk(t){return t&&t[aw]}(a)){const d=ys(a.url);d||(this.navigated=!0,this.restoreHistory(r,!0));const w=new iw(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(w),d?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),ee={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zw(r.source)};this.scheduleNavigation(k,"imperative",null,ee,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const d=new Uk(r.id,this.serializeUrl(r.extractedUrl),a);i.next(d);try{r.resolve(this.errorHandler(a))}catch(w){r.reject(w)}}return Tn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const d=Object.assign({},s);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(o.state=d)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Pw(e),this.config=e.map(T_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:d}=i,w=r||this.routerState.root,k=d?this.currentUrlTree.fragment:s;let ee=null;switch(a){case"merge":ee=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":ee=this.currentUrlTree.queryParams;break;default:ee=o||null}return null!==ee&&(ee=this.removeEmptyProps(ee)),function ER(t,n,e,i,r){if(0===e.length)return b_(n.root,n.root,n.root,i,r);const o=function TR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nw(!0,0,t);let n=0,e=!1;const i=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ci(o.outlets,(d,w)=>{a[w]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,d)=>{0==d&&"."===a||(0==d&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Nw(e,n,i)}(e);if(o.toRoot())return b_(n.root,n.root,new Yt([],{}),i,r);const s=function SR(t,n,e){if(t.isAbsolute)return new w_(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new w_(o,o===n.root,0)}const i=ad(t.commands[0])?0:1;return function DR(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new w_(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,n,t),a=s.processChildren?ld(s.segmentGroup,s.index,o.commands):xw(s.segmentGroup,s.index,o.commands);return b_(n.root,s.segmentGroup,a,i,r)}(w,this.currentUrlTree,e,ee,null!=k?k:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ys(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function I3(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},A3):!1===i?Object.assign({},M3):i,ys(e))return pw(this.currentUrlTree,e,r);const o=this.parseUrl(e);return pw(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new zl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,d;if(this.disposed)return Promise.resolve(!1);let w,k,ee;s?(w=s.resolve,k=s.reject,ee=s.promise):ee=new Promise((Se,xe)=>{w=Se,k=xe});const se=++this.navigationId;let me;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),me=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):me=0,this.setTransition({id:se,targetPageId:me,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:w,reject:k,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(Se=>Promise.reject(Se))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new iw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){Kf()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Zw(t){return"imperative"!==t}let Yr=(()=>{class t{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ee,this.subscription=e.events.subscribe(o=>{o instanceof zl&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,s){if(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ka(this.skipLocationChange),replaceUrl:ka(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ka(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(be(Rn),be(Ia),be(Oa))},t.\u0275dir=Ze({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&_e("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Bt("target",i.target)("href",i.href,ff)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ln]}),t})();function ka(t){return""===t||!!t}class Jw{}class Qw{preload(n,e){return Nt(null)}}let Xw=(()=>{class t{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Yw(r,i,d=>e.triggerEvent(new rw(d)),d=>e.triggerEvent(new ow(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(ei(e=>e instanceof zl),Na(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ho);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return Yn(r).pipe(An(),H(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Nt(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Lt(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Xe(Rn),Xe(W1),Xe(Jn),Xe(Jw))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),x_=(()=>{class t{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof p_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new sw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Kf()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const vs=new kt("ROUTER_CONFIGURATION"),eC=new kt("ROUTER_FORROOT_GUARD"),F3=[Uh,{provide:mw,useClass:gw},{provide:Rn,useFactory:function V3(t,n,e,i,r,o,s={},a,d){const w=new Rn(null,t,n,e,i,r,uw(o));return a&&(w.urlHandlingStrategy=a),d&&(w.routeReuseStrategy=d),function U3(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,w),s.enableTracing&&w.events.subscribe(k=>{var ee,se;null===(ee=console.group)||void 0===ee||ee.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(se=console.groupEnd)||void 0===se||se.call(console)}),w},deps:[mw,eu,Uh,Jn,W1,O_,vs,[class D3{},new Ro],[class E3{},new Ro]]},eu,{provide:Ia,useFactory:function H3(t){return t.routerState.root},deps:[Rn]},Xw,Qw,class R3{preload(n,e){return e().pipe(Go(()=>Nt(null)))}},{provide:vs,useValue:{enableTracing:!1}}];function j3(){return new J1("Router",Rn)}let Ra=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[F3,tC(e),{provide:eC,useFactory:L3,deps:[[Rn,new Ro,new dl]]},{provide:vs,useValue:i||{}},{provide:Oa,useFactory:B3,deps:[hs,[new rc(Vh),new Ro],vs]},{provide:x_,useFactory:$3,deps:[Rn,GP,vs]},{provide:Jw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Qw},{provide:J1,multi:!0,useFactory:j3},[A_,{provide:Dh,multi:!0,useFactory:G3,deps:[A_]},{provide:nC,useFactory:q3,deps:[A_]},{provide:q1,multi:!0,useExisting:nC}]]}}static forChild(e){return{ngModule:t,providers:[tC(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Xe(eC,8),Xe(Rn,8))},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();function $3(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new x_(t,n,e)}function B3(t,n,e={}){return e.useHash?new xI(t,n):new mb(t,n)}function L3(t){return"guarded"}function tC(t){return[{provide:vD,multi:!0,useValue:t},{provide:O_,multi:!0,useValue:t}]}let A_=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(DI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(Rn),s=this.injector.get(vs);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(vs),r=this.injector.get(Xw),o=this.injector.get(x_),s=this.injector.get(Rn),a=this.injector.get(Bl);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Xe(Jn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function G3(t){return t.appInitializer.bind(t)}function q3(t){return t.bootstrapListener.bind(t)}const nC=new kt("Router Initializer");let z3=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["app-forgot-password-ok"]],decls:7,vars:0,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Votre demande \xe0 bien \xe9t\xe9 prise en compte."),E(),b(5,"p",3),K(6,"Vous allez recevoir la proc\xe9dure de r\xe9initialisation \xe0 l'adresse :"),E()()()())},styles:[""]}),t})();function iC(...t){const n=to(t),{args:e,keys:i}=Kb(t),r=new Z(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let d=s,w=s;for(let k=0;k<s;k++){let ee=!1;Ke(e[k]).subscribe(N(o,se=>{ee||(ee=!0,w--),a[k]=se},()=>d--,void 0,()=>{(!d||!ee)&&(w||o.next(i?Zb(i,a):a),o.complete())}))}});return n?r.pipe(u_(n)):r}let rC=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(Qt))},t.\u0275dir=Ze({type:t}),t})(),bs=(()=>{class t extends rC{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,features:[ln]}),t})();const Ji=new kt("NgValueAccessor"),K3={provide:Ji,useExisting:ct(()=>xi),multi:!0},J3=new kt("CompositionEventMode");let xi=(()=>{class t extends rC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Z3(){const t=qr()?qr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(Qt),be(J3,8))},t.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&_e("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[tn([K3]),ln]}),t})();function Wo(t){return null==t||0===t.length}function sC(t){return null!=t&&"number"==typeof t.length}const vi=new kt("NgValidators"),zo=new kt("NgAsyncValidators"),Q3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class di{static min(n){return aC(n)}static max(n){return lC(n)}static required(n){return uC(n)}static requiredTrue(n){return function cC(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function dC(t){return Wo(t.value)||Q3.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function pC(t){return n=>Wo(n.value)||!sC(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function fC(t){return n=>sC(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function hC(t){if(!t)return _d;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Wo(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return bC(n)}static composeAsync(n){return wC(n)}}function aC(t){return n=>{if(Wo(n.value)||Wo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function lC(t){return n=>{if(Wo(n.value)||Wo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function uC(t){return Wo(t.value)?{required:!0}:null}function _d(t){return null}function _C(t){return null!=t}function mC(t){const n=Sl(t)?Yn(t):t;return Jf(n),n}function gC(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function yC(t,n){return n.map(e=>e(t))}function vC(t){return t.map(n=>function X3(t){return!t.validate}(n)?n:e=>n.validate(e))}function bC(t){if(!t)return null;const n=t.filter(_C);return 0==n.length?null:function(e){return gC(yC(e,n))}}function M_(t){return null!=t?bC(vC(t)):null}function wC(t){if(!t)return null;const n=t.filter(_C);return 0==n.length?null:function(e){return iC(yC(e,n).map(mC)).pipe(H(gC))}}function I_(t){return null!=t?wC(vC(t)):null}function CC(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function EC(t){return t._rawValidators}function TC(t){return t._rawAsyncValidators}function P_(t){return t?Array.isArray(t)?t:[t]:[]}function md(t,n){return Array.isArray(t)?t.includes(n):t===n}function SC(t,n){const e=P_(n);return P_(t).forEach(r=>{md(e,r)||e.push(r)}),e}function DC(t,n){return P_(n).filter(e=>!md(t,e))}class OC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=I_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Yo extends OC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ai extends OC{get formDirective(){return null}get path(){return null}}class NC{constructor(n){this._cd=n}is(n){var e,i,r;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[n])}}let Qi=(()=>{class t extends NC{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Yo,2))},t.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&on("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[ln]}),t})(),wo=(()=>{class t extends NC{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ai,10))},t.\u0275dir=Ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&on("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[ln]}),t})();function yd(t,n){return[...n.path,t]}function ru(t,n){F_(t,n),n.valueAccessor.writeValue(t.value),function aF(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&AC(t,n)})}(t,n),function uF(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function lF(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&AC(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function sF(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function vd(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),wd(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bd(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function F_(t,n){const e=EC(t);null!==n.validator?t.setValidators(CC(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=TC(t);null!==n.asyncValidator?t.setAsyncValidators(CC(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();bd(n._rawValidators,r),bd(n._rawAsyncValidators,r)}function wd(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=EC(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=TC(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return bd(n._rawValidators,i),bd(n._rawAsyncValidators,i),e}function AC(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function MC(t,n){F_(t,n)}function j_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function PC(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function $_(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===xi?e=o:function pF(t){return Object.getPrototypeOf(t.constructor)===bs}(o)?i=o:r=o}),r||i||e||null}function B_(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const ou="VALID",Cd="INVALID",Fa="PENDING",su="DISABLED";function V_(t){return(Ed(t)?t.validators:t)||null}function kC(t){return Array.isArray(t)?M_(t):t||null}function U_(t,n){return(Ed(n)?n.asyncValidators:t)||null}function RC(t){return Array.isArray(t)?I_(t):t||null}function Ed(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const H_=t=>t instanceof On,Td=t=>t instanceof pr,FC=t=>t instanceof LC;function jC(t){return H_(t)?t.value:t.getRawValue()}function $C(t,n){const e=Td(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new St(1e3,"");if(!i[n])throw new St(1001,"")}function BC(t,n){Td(t),t._forEachChild((i,r)=>{if(void 0===n[r])throw new St(1002,"")})}class G_{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=kC(this._rawValidators),this._composedAsyncValidatorFn=RC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ou}get invalid(){return this.status===Cd}get pending(){return this.status==Fa}get disabled(){return this.status===su}get enabled(){return this.status!==su}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=kC(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=RC(n)}addValidators(n){this.setValidators(SC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(SC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(DC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(DC(n,this._rawAsyncValidators))}hasValidator(n){return md(this._rawValidators,n)}hasAsyncValidator(n){return md(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Fa,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=su,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ou,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ou||this.status===Fa)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Fa,this._hasOwnPendingAsyncValidator=!0;const e=mC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function fF(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(r=>{i=Td(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:FC(i)&&i.at(r)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?Cd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fa)?Fa:this._anyControlsHaveStatus(Cd)?Cd:ou}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ed(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class On extends G_{constructor(n=null,e,i){super(V_(e),U_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){B_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){B_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class pr extends G_{constructor(n,e,i){super(V_(e),U_(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){BC(this,n),Object.keys(n).forEach(i=>{$C(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=jC(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class LC extends G_{constructor(n,e,i){super(V_(e),U_(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){BC(this,n),n.forEach((i,r)=>{$C(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>jC(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const hF={provide:Ai,useExisting:ct(()=>Sd)},au=(()=>Promise.resolve(null))();let Sd=(()=>{class t extends Ai{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new gt,this.form=new pr({},M_(e),I_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){au.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ru(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){au.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){au.then(()=>{const i=this._findContainer(e.path),r=new pr({});MC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){au.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){au.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,PC(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(be(vi,10),be(zo,10))},t.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([hF]),ln]}),t})();const mF={provide:Yo,useExisting:ct(()=>Kr)},HC=(()=>Promise.resolve(null))();let Kr=(()=>{class t extends Yo{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new On,this._registered=!1,this.update=new gt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=$_(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),j_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ru(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){HC.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;HC.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?yd(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(be(Ai,9),be(vi,10),be(zo,10),be(Ji,10),be(Zi,8))},t.\u0275dir=Ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tn([mF]),ln,Ln]}),t})(),Co=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const gF={provide:Ji,useExisting:ct(()=>lu),multi:!0};let lu=(()=>{class t extends bs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&_e("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[tn([gF]),ln]}),t})(),GC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();const q_=new kt("NgModelWithFormControlWarning"),CF={provide:Ai,useExisting:ct(()=>Zr)};let Zr=(()=>{class t extends Ai{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ru(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){vd(e.control||null,e,!1),B_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,PC(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(vd(i||null,e),H_(r)&&(ru(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);MC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function cF(t,n){return wd(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){F_(this.form,this),this._oldForm&&wd(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(be(vi,10),be(zo,10))},t.\u0275dir=Ze({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([CF]),ln,Ln]}),t})();const SF={provide:Yo,useExisting:ct(()=>Eo)};let Eo=(()=>{class t extends Yo{constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new gt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=$_(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),j_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(be(Ai,13),be(vi,10),be(zo,10),be(Ji,10),be(q_,8))},t.\u0275dir=Ze({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[tn([SF]),ln,Ln]}),t})();const DF={provide:Ji,useExisting:ct(()=>Dd),multi:!0};function KC(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Dd=(()=>{class t extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=KC(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function OF(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&_e("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([DF]),ln]}),t})(),ws=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(KC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(be(Qt),be(Ri),be(Dd,9))},t.\u0275dir=Ze({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const NF={provide:Ji,useExisting:ct(()=>Y_),multi:!0};function ZC(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Y_=(()=>{class t extends bs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const w=this._getOptionValue(s[a].value);r.push(w)}}else{const s=i.options;for(let a=0;a<s.length;a++){const d=s[a];if(d.selected){const w=this._getOptionValue(d.value);r.push(w)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function xF(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&_e("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([NF]),ln]}),t})(),Cs=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ZC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ZC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(be(Qt),be(Ri),be(Y_,9))},t.\u0275dir=Ze({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function QC(t){return"number"==typeof t?t:parseFloat(t)}let Es=(()=>{class t{constructor(){this._validator=_d}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_d,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,features:[Ln]}),t})();const MF={provide:vi,useExisting:ct(()=>K_),multi:!0};let K_=(()=>{class t extends Es{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>QC(e),this.createValidator=e=>lC(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Bt("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[tn([MF]),ln]}),t})();const IF={provide:vi,useExisting:ct(()=>Z_),multi:!0};let Z_=(()=>{class t extends Es{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>QC(e),this.createValidator=e=>aC(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Bt("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[tn([IF]),ln]}),t})();const PF={provide:vi,useExisting:ct(()=>Ts),multi:!0};let Ts=(()=>{class t extends Es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function AF(t){return null!=t&&!1!==t&&"false"!=`${t}`}(e),this.createValidator=e=>uC}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=_i(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&Bt("required",i._enabled?"":null)},inputs:{required:"required"},features:[tn([PF]),ln]}),t})(),rE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[GC]]}),t})(),J_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[rE]}),t})(),uu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:q_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[rE]}),t})(),ja=(()=>{class t{group(e,i=null){const r=this._reduceControls(e);let a,o=null,s=null;return null!=i&&(function BF(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(o=null!=i.validators?i.validators:null,s=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,s=null!=i.asyncValidator?i.asyncValidator:null)),new pr(r,{asyncValidators:s,updateOn:a,validators:o})}control(e,i,r){return new On(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new LC(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return H_(e)||Td(e)||FC(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:uu}),t})();class oE{}class sE{}class Je{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Je;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Je?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class LF{encodeKey(n){return aE(n)}encodeValue(n){return aE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const UF=/%(\d[a-f0-9])/gi,HF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function aE(t){return encodeURIComponent(t).replace(UF,(n,e)=>{var i;return null!==(i=HF[e])&&void 0!==i?i:n})}function lE(t){return`${t}`}class Ko{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new LF,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VF(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],d=e.get(s)||[];d.push(a),e.set(s,d)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ko({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(lE(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(lE(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class GF{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function uE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function cE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function dE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class cu{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function qF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Je),this.context||(this.context=new GF),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Ko,this.urlWithParams=e}serializeBody(){return null===this.body?null:uE(this.body)||cE(this.body)||dE(this.body)||function WF(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ko?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dE(this.body)?null:cE(this.body)?this.body.type||null:uE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ko?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,d=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,k=n.params||this.params;const ee=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((se,me)=>se.set(me,n.setHeaders[me]),w)),n.setParams&&(k=Object.keys(n.setParams).reduce((se,me)=>se.set(me,n.setParams[me]),k)),new cu(i,r,s,{params:k,headers:w,context:ee,reportProgress:d,responseType:o,withCredentials:a})}}var Wn=(()=>((Wn=Wn||{})[Wn.Sent=0]="Sent",Wn[Wn.UploadProgress=1]="UploadProgress",Wn[Wn.ResponseHeader=2]="ResponseHeader",Wn[Wn.DownloadProgress=3]="DownloadProgress",Wn[Wn.Response=4]="Response",Wn[Wn.User=5]="User",Wn))();class Q_{constructor(n,e=200,i="OK"){this.headers=n.headers||new Je,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class X_ extends Q_{constructor(n={}){super(n),this.type=Wn.ResponseHeader}clone(n={}){return new X_({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Od extends Q_{constructor(n={}){super(n),this.type=Wn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Od({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class pE extends Q_{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function em(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Fn=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof cu)o=e;else{let d,w;d=r.headers instanceof Je?r.headers:new Je(r.headers),r.params&&(w=r.params instanceof Ko?r.params:new Ko({fromObject:r.params})),o=new cu(e,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Nt(o).pipe(Na(d=>this.handler.handle(d)));if(e instanceof cu||"events"===r.observe)return s;const a=s.pipe(ei(d=>d instanceof Od));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(H(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return a.pipe(H(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return a.pipe(H(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return a.pipe(H(d=>d.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ko).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,em(r,i))}post(e,i,r={}){return this.request("POST",e,em(r,i))}put(e,i,r={}){return this.request("PUT",e,em(r,i))}}return t.\u0275fac=function(e){return new(e||t)(Xe(oE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class fE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const hE=new kt("HTTP_INTERCEPTORS");let zF=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const YF=/^\)\]\}',?\n/;let _E=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Z(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((me,Se)=>r.setRequestHeader(me,Se.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const me=e.detectContentTypeHeader();null!==me&&r.setRequestHeader("Content-Type",me)}if(e.responseType){const me=e.responseType.toLowerCase();r.responseType="json"!==me?me:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const me=r.statusText||"OK",Se=new Je(r.getAllResponseHeaders()),xe=function KF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new X_({headers:Se,status:r.status,statusText:me,url:xe}),s},d=()=>{let{headers:me,status:Se,statusText:xe,url:Re}=a(),Fe=null;204!==Se&&(Fe=void 0===r.response?r.responseText:r.response),0===Se&&(Se=Fe?200:0);let Me=Se>=200&&Se<300;if("json"===e.responseType&&"string"==typeof Fe){const Ye=Fe;Fe=Fe.replace(YF,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(Qe){Fe=Ye,Me&&(Me=!1,Fe={error:Qe,text:Fe})}}Me?(i.next(new Od({body:Fe,headers:me,status:Se,statusText:xe,url:Re||void 0})),i.complete()):i.error(new pE({error:Fe,headers:me,status:Se,statusText:xe,url:Re||void 0}))},w=me=>{const{url:Se}=a(),xe=new pE({error:me,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Se||void 0});i.error(xe)};let k=!1;const ee=me=>{k||(i.next(a()),k=!0);let Se={type:Wn.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(Se.total=me.total),"text"===e.responseType&&!!r.responseText&&(Se.partialText=r.responseText),i.next(Se)},se=me=>{let Se={type:Wn.UploadProgress,loaded:me.loaded};me.lengthComputable&&(Se.total=me.total),i.next(Se)};return r.addEventListener("load",d),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),e.reportProgress&&(r.addEventListener("progress",ee),null!==o&&r.upload&&r.upload.addEventListener("progress",se)),r.send(o),i.next({type:Wn.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",d),r.removeEventListener("timeout",w),e.reportProgress&&(r.removeEventListener("progress",ee),null!==o&&r.upload&&r.upload.removeEventListener("progress",se)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fb))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const tm=new kt("XSRF_COOKIE_NAME"),nm=new kt("XSRF_HEADER_NAME");class mE{}let ZF=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Db(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn),Xe(Rc),Xe(tm))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),im=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(mE),Xe(nm))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),JF=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(hE,[]);this.chain=i.reduceRight((r,o)=>new fE(r,o),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(sE),Xe(Jn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),QF=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:im,useClass:zF}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:tm,useValue:e.cookieName}:[],e.headerName?{provide:nm,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:[im,{provide:hE,useExisting:im,multi:!0},{provide:mE,useClass:ZF},{provide:tm,useValue:"XSRF-TOKEN"},{provide:nm,useValue:"X-XSRF-TOKEN"}]}),t})(),gE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:[Fn,{provide:oE,useClass:JF},_E,{provide:sE,useExisting:_E}],imports:[[QF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const rm={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let zn=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getUserByMail(e){return this.http.get(this.apiUrl+"/user/"+e,rm)}updatePersonalData(e,i,r){return this.http.put(this.apiUrl+"/user/personalData/"+e,{firstName_:r,lastName_:i},rm)}updatePassword(e,i){return this.http.put(this.apiUrl+"/user/"+e,{password:i},rm)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XF=(()=>{class t{constructor(e,i,r){this.http=e,this.userService=i,this.router=r,this.changePasswordForm=new pr({password:new On("",di.required)}),this.errorMessage=""}ngOnInit(){}get formControls(){return this.changePasswordForm.controls}changePassword(){if(this.changePasswordForm.invalid)return void(this.errorMessage="Veuillez rentrer un nouveau mot de passe");const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put(`/api/user/${this.userService.id}`,{password:this.changePasswordForm.value.password,adminGeneration:!1},e).subscribe(r=>{"Password Updated"==Object.values(r)[0]&&this.router.navigate(["/app/home"])})}}return t.\u0275fac=function(e){return new(e||t)(be(Fn),be(zn),be(Rn))},t.\u0275cmp=Wt({type:t,selectors:[["app-change-password"]],decls:19,vars:2,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"],[1,"row","d-flex","justify-content-center"],[1,"col-md-6","col-xl-4"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","name","password","placeholder","New Password","formControlName","password",1,"form-control"],[1,"mb-2","text-danger","font-weight-light"],[1,"mb-1"],["type","submit",1,"btn","btn-primary","d-block","w-100"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Premi\xe8re connexion"),E(),b(5,"p",3),K(6," Afin d'assurer votre s\xe9curit\xe9, veuillez changer votre mot de passe s'il vous plait. "),E()()(),b(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),_e("ngSubmit",function(){return i.changePassword()}),b(12,"div",9),Pe(13,"input",10),E(),b(14,"div",11),K(15),E(),b(16,"div",12)(17,"button",13),K(18," Changer le mot de passe "),E()()()()()()()()),2&e&&(de(11),ve("formGroup",i.changePasswordForm),de(4),Jt(" ",i.errorMessage," "))},directives:[Co,wo,Zr,xi,Qi,Eo],styles:[""]}),t})();const ej={headers:new Je({"Content-Type":"application/json"})};let Nd=(()=>{class t{constructor(e,i){this.http=e,this.userService=i}signin(e,i){return this.http.post("/api/connexion",{mail:e,password:i},ej)}isSignin(){return null!==localStorage.getItem("ACCESS_TOKEN")}signOut(){localStorage.removeItem("ACCESS_TOKEN"),localStorage.removeItem("EMAIL"),localStorage.removeItem("FIRSTNAME"),localStorage.removeItem("LASTNAME"),localStorage.removeItem("ADMIN"),localStorage.removeItem("ID")}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn),Xe(zn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();new Je({"Content-Type":"application/json"});let Jr=(()=>{class t{constructor(e){this.http=e}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tj=(()=>{class t{constructor(e,i,r,o,s){this.authService=e,this.userService=i,this.fb=r,this.router=o,this.userinfo=s,this.loginForm=new pr({email:new On("",di.required),password:new On("",di.required)}),this.errorMessage=""}ngOnInit(){}get formControls(){return this.loginForm.controls}login(){if(this.loginForm.invalid)return void(this.errorMessage="Tous les champs sont requis.");const e=this.loginForm.value.email;this.authService.signin(e,this.loginForm.value.password).subscribe(r=>{r.authorization?(localStorage.setItem("ACCESS_TOKEN",r.token),this.userService.getUserByMail(e).subscribe(o=>{console.log("this is the data"),console.log(o),localStorage.setItem("ADMIN",o.admin),localStorage.setItem("EMAIL",o.email),localStorage.setItem("FIRSTNAME",o.firstName),localStorage.setItem("LASTNAME",o.lastName),localStorage.setItem("ID",o._id),this.userService.firstName=o.firstName,this.userService.lastName=o.lastName,this.userService.mail=o.email,this.userService.admin=o.admin,this.userService.id=o._id,this.userService.isConnected=!0,this.userinfo.admin=o.admin,this.userinfo.mail=o.email,this.router.navigate(!0===this.userService.admin?["/admin/home"]:!1===o.firstConn?["/app/home"]:["/change-password"])})):(console.log("Identifiants incorrects"),this.errorMessage="Mail ou mot de passe erron\xe9.")})}}return t.\u0275fac=function(e){return new(e||t)(be(Nd),be(zn),be(ja),be(Rn),be(Jr))},t.\u0275cmp=Wt({type:t,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"],["id","modif",1,"row","d-flex","justify-content-center"],[1,"col-md-6","col-xl-4"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"form","mt-3",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","email","name","email","placeholder","E-mail","formControlName","email",1,"form-control"],[1,"mb-2"],["type","password","name","password","placeholder","Mot de passe","formControlName","password",1,"form-control"],[1,"mb-2","text-danger","font-weight-light"],["type","checkbox","id","remember-me",1,"form-check-input"],["for","exampleCheck1",1,"mx-2","text-secondary","form-check-label"],[1,"mb-1"],["type","submit",1,"btn","btn-primary","d-block","w-100"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Connexion"),E(),b(5,"p",3),K(6,"Connectez-vous \xe0 votre espace de gestion iZi-RP."),E()()()(),b(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),_e("ngSubmit",function(){return i.login()}),b(12,"div",9),Pe(13,"input",10),E(),b(14,"div",11),Pe(15,"input",12),E(),b(16,"div",13),K(17),E(),b(18,"div",9),Pe(19,"input",14),b(20,"label",15),K(21,"Se souvenir de moi"),E()(),b(22,"div",16)(23,"button",17),K(24," Connexion "),E()()()()()()()),2&e&&(de(11),ve("formGroup",i.loginForm),de(6),Jt(" ",i.errorMessage," "))},directives:[Co,wo,Zr,xi,Qi,Eo],styles:["#modif[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();function nj(t,n){if(1&t){const e=Le();b(0,"li")(1,"a",23),_e("click",function(){return ye(e),ae().change()}),Pe(2,"i",18),K(3," Admin"),E()()}}let om=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.userinfo=i,this.router=r,this.userService=o,this.test=!1}start(){console.log(this.userinfo),1==this.userinfo.admin&&(this.test=!0)}ngOnInit(){this.start()}change(){this.userService.mail=this.userinfo.mail,this.userService.admin=this.userinfo.admin,console.log(this.userService.mail)}logout(){this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=!1,this.authService.signOut(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(be(Nd),be(Jr),be(Rn),be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-secure"]],decls:43,vars:2,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/app/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,"mr-4"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/app/verifications-rp",1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/missions-rp",1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/travailleurs-exposes",1,"nav-link","px-2","text-light","link-secondary"],[1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/materiels",1,"nav-link","px-2","text-light","link-secondary"],[1,"dropdown","text-end"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","text-light","text-decoration-none","dropdown-toggle"],[1,"mail"],[1,"icon"],[1,"bi","bi-person-circle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small"],["routerLink","/app/settings",1,"dropdown-item"],[1,"bi","bi-gear"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-left"],["routerLink","/admin/home",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),K(8,"V\xe9rifications RP"),E()(),b(9,"li")(10,"a",7),K(11,"Missions RP"),E()(),b(12,"li")(13,"a",8),K(14,"Travailleurs Expos\xe9s"),E()(),b(15,"li")(16,"a",9),K(17,"Agenda"),E()(),b(18,"li")(19,"a",10),K(20,"Equipements"),E()(),b(21,"li")(22,"a",9),K(23,"Outils"),E()()(),b(24,"div",11)(25,"a",12)(26,"span",13),K(27),E(),b(28,"span",14),Pe(29,"i",15),E()(),b(30,"ul",16)(31,"li")(32,"a",17),Pe(33,"i",18),K(34," Param\xe8tres"),E()(),Te(35,nj,4,0,"li",19),b(36,"li"),Pe(37,"hr",20),E(),b(38,"li")(39,"a",21),_e("click",function(){return i.logout()}),Pe(40,"i",22),K(41," D\xe9connexion"),E()()()()()()(),Pe(42,"router-outlet")),2&e&&(de(27),bt(i.userService.mail),de(8),ve("ngIf",i.test))},directives:[Yr,ji,Pa],styles:["body[_ngcontent-%COMP%]{background-color:#5d5b5b;color:#000}header[_ngcontent-%COMP%]{background-color:#21504b}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}.icon[_ngcontent-%COMP%]{font-size:larger}.mail[_ngcontent-%COMP%]{margin-right:5%}"]}),t})(),ij=(()=>{class t{constructor(e,i){this.fb=e,this.http=i,this.myElement=document.getElementById("user-input"),this.text="hello",this.input=document.querySelector("input"),this.log=document.getElementById("values"),this.captcha=!1}ngOnInit(){this.contactForm=this.fb.group({email:new On,lastname:new On,firstname:new On,text:new On,recaptcha:["",di.required]}),this.captchaText()}randomNumberBetween(e,i){return Math.random()*(i-e)+e}textGenerator(){let e="";for(let i=0;i<3;i++)e+=String.fromCharCode(this.randomNumberBetween(65,90)),e+=String.fromCharCode(this.randomNumberBetween(97,122)),e+=String.fromCharCode(this.randomNumberBetween(84,57));return e}drawStringOnCanvas(e){let r=document.getElementById("canvas").getContext("2d");r.clearRect(0,0,r.canvas.width,r.canvas.height);const o=["rgb(0,0,0)","rgb(130,130,130)"],s=150/e.length;for(let a=0;a<e.length;a++)r.font="21px Roboto Mono",r.fillStyle=o[this.randomNumberBetween(0,1)],r.fillText(e[a],25+a*s,this.randomNumberBetween(25,40),100)}sendForm(){if(this.captcha){const e={headers:new Je({"Content-Type":"application/json"})},i=document.getElementById("email"),r=document.getElementById("text"),o=document.getElementById("firstName"),s=document.getElementById("lastName");this.http.post("/api/email",{userMail:i.value,message:r.value,firstName:o.value,lastName:s.value},e).subscribe(d=>{console.log(d)}),this.captcha=!1}else alert("Erreur captcha !"),this.captchaText()}onChange(){var e=document.getElementById("user-input");console.log("New value = "+e.value),e.value==this.text?(this.captcha=!0,alert("Votre captcha est correct")):(alert("ctVotre captcha est incorrect. Veuillez r\xe9essayer."),this.captcha=!1,this.captchaText())}captchaText(){this.text=this.textGenerator(),console.log(this.text),this.text=[...this.text].sort(()=>Math.random()-.5).join(""),this.drawStringOnCanvas(this.text)}recharger(){this.text=this.textGenerator(),console.log(this.text),this.text=[...this.text].sort(()=>Math.random()-.5).join(""),this.drawStringOnCanvas(this.text)}}return t.\u0275fac=function(e){return new(e||t)(be(ja),be(Fn))},t.\u0275cmp=Wt({type:t,selectors:[["app-contact"]],decls:45,vars:1,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-10","col-xl-10"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],["novalidate","",1,"needs-validation","bg-",3,"formGroup"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","id","firstName","placeholder","Saisissez votre pr\xe9nom ...","value","","required","","formControlName","firstname",1,"form-control"],[1,"invalid-feedback"],["for","lastName",1,"form-label"],["type","text","id","lastName","placeholder","saisissez votre nom ...","value","","required","","formControlName","lastname",1,"form-control"],[1,"col-12"],["for","email",1,"form-label"],["type","email","id","email","placeholder","you@example.com","formControlName","email",1,"form-control"],["for","text",1,"form-label"],["type","text","id","text","placeholder","Votre message ...","formControlName","text",1,"form-control",2,"height","20em"],[1,"wrapper"],["id","canvas","width","200","height","80"],["id","reload-button",3,"click"],["type","text","id","user-input","placeholder","Enter the text in the image"],["id","submit-button",3,"click"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Contact"),E()()(),b(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),K(13,"Pr\xe9nom"),E(),Pe(14,"input",11),b(15,"div",12),K(16,"Votre pr\xe9nom est requis."),E()(),b(17,"div",9)(18,"label",13),K(19,"Nom"),E(),Pe(20,"input",14),b(21,"div",12),K(22,"Votre nom est requis."),E()(),b(23,"div",15)(24,"label",16),K(25,"Email"),E(),Pe(26,"input",17),b(27,"div",12),K(28,"Entrez une adresse email valide."),E()(),b(29,"div",15)(30,"label",18),K(31,"Message"),E(),Pe(32,"textarea",19),b(33,"div",12),K(34,"Entrez un message valide."),E()(),b(35,"div",20),Pe(36,"canvas",21),b(37,"button",22),_e("click",function(){return i.recharger()}),b(38,"i"),K(39,"Refresh"),E()()(),Pe(40,"input",23),b(41,"button",24),_e("click",function(){return i.onChange()}),K(42,"valider"),E(),b(43,"button",24),_e("click",function(){return i.sendForm()}),K(44,"Envoyer"),E()()()()()()()()),2&e&&(de(9),ve("formGroup",i.contactForm))},directives:[Co,wo,Zr,xi,Ts,Qi,Eo],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";#captchaBackground[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:220px;\\2002\\2002\\2002\\2002width:250px;\\2002\\2002\\2002\\2002 background-color:#2d3748;\\2002\\2002\\2002\\2002 display:flex;\\2002\\2002\\2002\\2002 align-items:center;\\2002\\2002\\2002\\2002justify-content:center;\\2002\\2002\\2002\\2002 flex-direction:column}#captchaHeading[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:white}#captcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:80%;\\2002\\2002\\2002\\2002width:80%;\\2002\\2002\\2002\\2002 font-size:30px;\\2002\\2002\\2002\\2002letter-spacing:3px;\\2002\\2002\\2002\\2002margin:auto;\\2002\\2002\\2002\\2002 display:block;\\2002\\2002\\2002\\2002top:0;\\2002\\2002\\2002\\2002 bottom:0;\\2002\\2002\\2002\\2002left:0;\\2002\\2002\\2002\\2002right:0}.center[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 display:flex;\\2002\\2002\\2002\\2002 flex-direction:column;\\2002\\2002\\2002\\2002 align-items:center}#submitButton[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002margin-top:2em;\\2002\\2002\\2002\\2002margin-bottom:2em;\\2002\\2002\\2002\\2002 background-color:#08e5ff;\\2002\\2002\\2002\\2002 border:0px;\\2002\\2002\\2002\\2002 font-weight:bold}#refreshButton[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 background-color:#08e5ff;\\2002\\2002\\2002\\2002 border:0px;\\2002\\2002\\2002\\2002 font-weight:bold}#textBox[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:25px}.incorrectCaptcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:#FF0000}.correctCaptcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:#7FFF00}canvas[_ngcontent-%COMP%]{border:2px solid #000000;border-radius:.2em}.wrapper[_ngcontent-%COMP%]{display:flex;align-content:center;margin:1em 2px 1em 0;height:5em}button#reload-button[_ngcontent-%COMP%]{font-size:16px;width:5.6em;background-color:#9daaab;border:none;border-radius:.4em;color:#fff}']}),t})(),rj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["app-mentions-legales"]],decls:119,vars:0,consts:[[2,"background-color","#fbfbfb","border","1px solid #fbfbfb","margin","40px 0px","padding","10px 30px","box-shadow","rgba(0, 0, 0, 0.2) 2px 2px 20px 0px","text-align","left"],[2,"text-align","center"],[2,"text-align","left"],["href","http://www.izirp.com"],[2,"color","#b51a00"],[2,"color","rgb(0, 0, 0)"],["href","http://www.test.com"],["href","http://www.tse-ping.com"],["title","g\xe9n\xe9rateur de mentions l\xe9gales pour site internet gratuit","href","http://www.generateur-de-mentions-legales.com"],["title","imprimerie paris, imprimeur paris","href","http://welye.com"],[2,"color","#323333"],[2,"color","#000000"],["href","http://www.cnil.fr/"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"p",1)(2,"span",2)(3,"b"),K(4,"Mentions l\xe9gales "),E(),b(5,"em"),K(6,"IziRp"),E()()(),b(7,"p"),K(8," Merci de lire avec attention les diff\xe9rentes modalit\xe9s d\u2019utilisation du pr\xe9sent site avant d\u2019y parcourir ses pages. En vous connectant sur ce site, vous acceptez sans r\xe9serves les pr\xe9sentes modalit\xe9s. Aussi, conform\xe9ment \xe0 l\u2019article n\xb06 de la Loi n\xb02004-575 du 21 Juin 2004 pour la confiance dans l\u2019\xe9conomie num\xe9rique, les responsables du pr\xe9sent site internet "),b(9,"a",3),K(10,"www.izirp.com"),E(),K(11," sont : "),E(),b(12,"p",4)(13,"span",5)(14,"b"),K(15,"Editeur du Site : "),E()()(),K(16," Nom : TSE Pr\xe9nom : MAX DOCTEUR ANNINO Email : izi@rp.fr Site Web : "),b(17,"a",3),K(18,"www.izirp.com"),E(),b(19,"p",4)(20,"b")(21,"span",5),K(22,"H\xe9bergement :"),E()()(),K(23," H\xe9bergeur : OVS DOCTEUR ANNINO Site Web : "),b(24,"a",6),K(25,"www.test.com"),E(),b(26,"p",4)(27,"span",5)(28,"b"),K(29,"D\xe9veloppement"),E(),b(30,"b"),K(31," : "),E()()(),K(32," D\xe9velopper TSE Adresse : DOCTEUR ANNINO Site Web : "),b(33,"a",7),K(34,"www.tse-ping.com"),E(),b(35,"p",4)(36,"span",5)(37,"b"),K(38,"Conditions d\u2019utilisation : "),E()()(),K(39," Ce site ("),b(40,"a",3),K(41,"www.izirp.com"),E(),K(42,") est propos\xe9 en diff\xe9rents langages web (HTML, HTML5, Javascript, CSS, etc\u2026) pour un meilleur confort d'utilisation et un graphisme plus agr\xe9able, nous vous recommandons de recourir \xe0 des navigateurs modernes comme Internet explorer, Safari, Firefox, Google Chrome, etc\u2026 Les mentions l\xe9gales ont \xe9t\xe9 g\xe9n\xe9r\xe9es sur le site "),b(43,"a",8),K(44,"G\xe9n\xe9rateur de mentions l\xe9gales"),E(),K(45,", offert par "),b(46,"a",9),K(47,"Welye"),E(),K(48,". "),b(49,"span",10),K(50,"TSE MAX"),Pe(51,"b"),E(),K(52,"met en \u0153uvre tous les moyens dont elle dispose, pour assurer une information fiable et une mise \xe0 jour fiable de ses sites internet. Toutefois, des erreurs ou omissions peuvent survenir. L'internaute devra donc s'assurer de l'exactitude des informations aupr\xe8s de , et signaler toutes modifications du site qu'il jugerait utile. n'est en aucun cas responsable de l'utilisation faite de ces informations, et de tout pr\xe9judice direct ou indirect pouvant en d\xe9couler. "),b(53,"b"),K(54,"Cookies"),E(),K(55," : Le site "),b(56,"a",3),K(57,"www.izirp.com"),E(),K(58," peut-\xeatre amen\xe9 \xe0 vous demander l\u2019acceptation des cookies pour des besoins de statistiques et d'affichage. Un cookies est une information d\xe9pos\xe9e sur votre disque dur par le serveur du site que vous visitez. Il contient plusieurs donn\xe9es qui sont stock\xe9es sur votre ordinateur dans un simple fichier texte auquel un serveur acc\xe8de pour lire et enregistrer des informations . Certaines parties de ce site ne peuvent \xeatre fonctionnelles sans l\u2019acceptation de cookies. "),b(59,"b"),K(60,"Liens hypertextes :"),E(),K(61," Les sites internet de peuvent offrir des liens vers d\u2019autres sites internet ou d\u2019autres ressources disponibles sur Internet. TSE MAX ne dispose d'aucun moyen pour contr\xf4ler les sites en connexion avec ses sites internet. ne r\xe9pond pas de la disponibilit\xe9 de tels sites et sources externes, ni ne la garantit. Elle ne peut \xeatre tenue pour responsable de tout dommage, de quelque nature que ce soit, r\xe9sultant du contenu de ces sites ou sources externes, et notamment des informations, produits ou services qu\u2019ils proposent, ou de tout usage qui peut \xeatre fait de ces \xe9l\xe9ments. Les risques li\xe9s \xe0 cette utilisation incombent pleinement \xe0 l'internaute, qui doit se conformer \xe0 leurs conditions d'utilisation. Les utilisateurs, les abonn\xe9s et les visiteurs des sites internet de ne peuvent mettre en place un hyperlien en direction de ce site sans l'autorisation expresse et pr\xe9alable de TSE MAX. Dans l'hypoth\xe8se o\xf9 un utilisateur ou visiteur souhaiterait mettre en place un hyperlien en direction d\u2019un des sites internet de TSE MAX, il lui appartiendra d'adresser un email accessible sur le site afin de formuler sa demande de mise en place d'un hyperlien. TSE MAX se r\xe9serve le droit d\u2019accepter ou de refuser un hyperlien sans avoir \xe0 en justifier sa d\xe9cision. "),b(62,"p",4)(63,"span",5)(64,"b"),K(65,"Services fournis : "),E()()(),b(66,"p",10),K(67," L'ensemble des activit\xe9s ainsi que ses informations sont pr\xe9sent\xe9s sur notre site "),b(68,"a",3),K(69,"www.izirp.com"),E(),K(70,". "),E(),b(71,"p",10),K(72," TSE MAX s\u2019efforce de fournir sur le site www.izirp.com des informations aussi pr\xe9cises que possible. les renseignements figurant sur le site "),b(73,"a",3),K(74,"www.izirp.com"),E(),K(75," ne sont pas exhaustifs et les photos non contractuelles. Ils sont donn\xe9s sous r\xe9serve de modifications ayant \xe9t\xe9 apport\xe9es depuis leur mise en ligne. Par ailleurs, tous les informations indiqu\xe9es sur le site www.izirp.com"),b(76,"span",11),Pe(77,"b"),E(),K(78,"sont donn\xe9es \xe0 titre indicatif, et sont susceptibles de changer ou d\u2019\xe9voluer sans pr\xe9avis. "),E(),b(79,"p",4)(80,"span",5)(81,"b"),K(82,"Limitation contractuelles sur les donn\xe9es : "),E()()(),K(83," Les informations contenues sur ce site sont aussi pr\xe9cises que possible et le site remis \xe0 jour \xe0 diff\xe9rentes p\xe9riodes de l\u2019ann\xe9e, mais peut toutefois contenir des inexactitudes ou des omissions. Si vous constatez une lacune, erreur ou ce qui parait \xeatre un dysfonctionnement, merci de bien vouloir le signaler par email, \xe0 l\u2019adresse izi@rp.fr, en d\xe9crivant le probl\xe8me de la mani\xe8re la plus pr\xe9cise possible (page posant probl\xe8me, type d\u2019ordinateur et de navigateur utilis\xe9, \u2026). Tout contenu t\xe9l\xe9charg\xe9 se fait aux risques et p\xe9rils de l'utilisateur et sous sa seule responsabilit\xe9. En cons\xe9quence, ne saurait \xeatre tenu responsable d'un quelconque dommage subi par l'ordinateur de l'utilisateur ou d'une quelconque perte de donn\xe9es cons\xe9cutives au t\xe9l\xe9chargement. "),b(84,"span",10),K(85,"De plus, l\u2019utilisateur du site s\u2019engage \xe0 acc\xe9der au site en utilisant un mat\xe9riel r\xe9cent, ne contenant pas de virus et avec un navigateur de derni\xe8re g\xe9n\xe9ration mis-\xe0-jour"),E(),K(86," Les liens hypertextes mis en place dans le cadre du pr\xe9sent site internet en direction d'autres ressources pr\xe9sentes sur le r\xe9seau Internet ne sauraient engager la responsabilit\xe9 de TSE MAX. "),b(87,"p",4)(88,"span",5)(89,"b"),K(90,"Propri\xe9t\xe9 intellectuelle :"),E()()(),K(91," Tout le contenu du pr\xe9sent sur le site "),b(92,"a",3),K(93,"www.izirp.com"),E(),K(94,", incluant, de fa\xe7on non limitative, les graphismes, images, textes, vid\xe9os, animations, sons, logos, gifs et ic\xf4nes ainsi que leur mise en forme sont la propri\xe9t\xe9 exclusive de la TSE MAX \xe0 l'exception des marques, logos ou contenus appartenant \xe0 d'autres soci\xe9t\xe9s partenaires ou auteurs. Toute reproduction, distribution, modification, adaptation, retransmission ou publication, m\xeame partielle, de ces diff\xe9rents \xe9l\xe9ments est strictement interdite sans l'accord expr\xe8s par \xe9crit de TSE MAX. Cette repr\xe9sentation ou reproduction, par quelque proc\xe9d\xe9 que ce soit, constitue une contrefa\xe7on sanctionn\xe9e par les articles L.335-2 et suivants du Code de la propri\xe9t\xe9 intellectuelle. Le non-respect de cette interdiction constitue une contrefa\xe7on pouvant engager la responsabilit\xe9 civile et p\xe9nale du contrefacteur. En outre, les propri\xe9taires des Contenus copi\xe9s pourraient intenter une action en justice \xe0 votre encontre. "),b(95,"p",4)(96,"span",5)(97,"b"),K(98,"D\xe9claration \xe0 la CNIL : "),E()()(),K(99," Conform\xe9ment \xe0 la loi 78-17 du 6 janvier 1978 (modifi\xe9e par la loi 2004-801 du 6 ao\xfbt 2004 relative \xe0 la protection des personnes physiques \xe0 l'\xe9gard des traitements de donn\xe9es \xe0 caract\xe8re personnel) relative \xe0 l'informatique, aux fichiers et aux libert\xe9s, ce site a fait l'objet d'une d\xe9claration XXXXXXXXXXXXXXXXX aupr\xe8s de la Commission nationale de l'informatique et des libert\xe9s ("),b(100,"a",12),K(101,"www.cnil.fr"),E(),K(102,"). "),b(103,"p",4)(104,"span",5)(105,"b"),K(106,"Litiges : "),E()()(),K(107," Les pr\xe9sentes conditions du site "),b(108,"a",3),K(109,"www.izirp.com"),E(),K(110," sont r\xe9gies par les lois fran\xe7aises et toute contestation ou litiges qui pourraient na\xeetre de l'interpr\xe9tation ou de l'ex\xe9cution de celles-ci seront de la comp\xe9tence exclusive des tribunaux. La langue de r\xe9f\xe9rence, pour le r\xe8glement de contentieux \xe9ventuels, est le fran\xe7ais. "),b(111,"p",4)(112,"span",5)(113,"b"),K(114,"Donn\xe9es personnelles :"),E()()(),K(115," De mani\xe8re g\xe9n\xe9rale, vous n\u2019\xeates pas tenu de nous communiquer vos donn\xe9es personnelles lorsque vous visitez notre site Internet "),b(116,"a",3),K(117,"www.izirp.com"),E(),K(118,". Cependant, ce principe comporte certaines exceptions. En effet, pour certains services propos\xe9s par notre site, vous pouvez \xeatre amen\xe9s \xe0 nous communiquer certaines donn\xe9es telles que : votre nom, votre fonction, le nom de votre soci\xe9t\xe9, votre adresse \xe9lectronique, et votre num\xe9ro de t\xe9l\xe9phone. Tel est le cas lorsque vous remplissez le formulaire qui vous est propos\xe9 en ligne, dans la rubrique \xab contact \xbb. Dans tous les cas, vous pouvez refuser de fournir vos donn\xe9es personnelles. Dans ce cas, vous ne pourrez pas utiliser les services du site, notamment celui de solliciter des renseignements sur nos activit\xe9s, ou de recevoir les lettres d\u2019information. Enfin, nous pouvons collecter de mani\xe8re automatique certaines informations vous concernant lors d\u2019une simple navigation sur notre site Internet, notamment : des informations concernant l\u2019utilisation de notre site, comme les zones que vous visitez et les services auxquels vous acc\xe9dez, votre adresse IP, le type de votre navigateur, vos temps d'acc\xe8s. De telles informations sont utilis\xe9es exclusivement \xe0 des fins de statistiques internes, de mani\xe8re \xe0 am\xe9liorer la qualit\xe9 des services qui vous sont propos\xe9s. Les bases de donn\xe9es sont prot\xe9g\xe9es par les dispositions de la loi du 1er juillet 1998 transposant la directive 96/9 du 11 mars 1996 relative \xe0 la protection juridique des bases de donn\xe9es.\n"),E())},styles:[""]}),t})(),oj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["app-conditions-utilisations"]],decls:128,vars:0,consts:[[2,"background-color","#fbfbfb","border","1px solid #fbfbfb","margin","40px 0px","padding","10px 30px","box-shadow","rgba(0, 0, 0, 0.2) 2px 2px 20px 0px","text-align","left"],[2,"text-align","center"],[2,"text-align","left"],["href","https://www.legalplace.fr/guides/mentions-legales/\n  "]],template:function(e,i){1&e&&(b(0,"div",0)(1,"p",1)(2,"span",2)(3,"b"),K(4,"Conditions g\xe9n\xe9rales d\u2019utilisation du site "),E(),b(5,"em"),K(6,"IziRp"),E()()(),b(7,"blockquote")(8,"p")(9,"b"),K(10,"Article 1"),E(),K(11,"\xa0: Objet"),E(),b(12,"p"),K(13," Les pr\xe9sentes CGU ou Conditions G\xe9n\xe9rales d\u2019Utilisation encadrent juridiquement l\u2019utilisation des services du site lapetiteperle (ci-apr\xe8s d\xe9nomm\xe9 \xab\xa0le site\xa0\xbb). "),E(),b(14,"p"),K(15," Constituant le contrat entre la soci\xe9t\xe9 La Petite Perle, l\u2019Utilisateur, l\u2019acc\xe8s au site doit \xeatre pr\xe9c\xe9d\xe9 de l\u2019acceptation de ces CGU. L\u2019acc\xe8s \xe0 cette plateforme signifie l\u2019acceptation des pr\xe9sentes CGU. "),E(),b(16,"p")(17,"b"),K(18,"Article 2"),E(),K(19,"\xa0: "),b(20,"a",3),K(21,"Mentions l\xe9gales"),E()(),b(22,"p"),K(23," L\u2019\xe9dition du site lapetiteperle est assur\xe9e par la soci\xe9t\xe9 La Petite Perle inscrite au RCS sous le num\xe9ro 451\xa0432\xa0228, dont le si\xe8ge social est localis\xe9 au 3 Rue Docteur Joubert, 59110, La Madeleine, France M\xe9tropolitaine. "),E(),b(24,"p"),K(25," L\u2019h\xe9bergeur du site lapetiteperle.fr est la soci\xe9t\xe9 LHW, sise au 5 Rue Keller, 59100 Roubaix, France. "),E(),b(26,"p")(27,"b"),K(28,"Article 3"),E(),K(29,"\xa0: Acc\xe8s au site"),E(),b(30,"p"),K(31," Le site lapetiteperle permet d\u2019acc\xe9der gratuitement aux services suivants\xa0: "),E(),b(32,"ul")(33,"li"),K(34,"Vente de bijoux (en or, en argent\u2026)\xa0;"),E(),b(35,"li"),K(36,"Location de bijoux (en or, en argent\u2026)\xa0;"),E(),b(37,"li"),K(38,"D\xe9p\xf4t-vente de bijoux."),E()(),b(39,"p"),K(40," Le site est accessible gratuitement depuis n\u2019importe o\xf9 par tout utilisateur disposant d\u2019un acc\xe8s \xe0 Internet. Tous les frais n\xe9cessaires pour l\u2019acc\xe8s aux services (mat\xe9riel informatique, connexion Internet\u2026) sont \xe0 la charge de l\u2019utilisateur. "),E(),b(41,"p"),K(42," L\u2019acc\xe8s aux services d\xe9di\xe9s aux membres s\u2019effectue \xe0 l\u2019aide d\u2019un identifiant et d\u2019un mot de passe. "),E(),b(43,"p"),K(44," Pour des raisons de maintenance ou autres, l\u2019acc\xe8s au site peut \xeatre interrompu ou suspendu par l\u2019\xe9diteur sans pr\xe9avis ni justification. "),E(),b(45,"p")(46,"b"),K(47,"Article 4"),E(),K(48,"\xa0: Collecte des donn\xe9es"),E(),b(49,"p"),K(50," Pour la cr\xe9ation du compte de l\u2019Utilisateur, la collecte des informations au moment de l\u2019inscription sur le site est n\xe9cessaire et obligatoire. Conform\xe9ment \xe0 la loi n\xb078-17 du 6 janvier relative \xe0 l\u2019informatique, aux fichiers et aux libert\xe9s, la collecte et le traitement d\u2019informations personnelles s\u2019effectuent dans le respect de la vie priv\xe9e. "),E(),b(51,"p"),K(52," Suivant la loi Informatique et Libert\xe9s en date du 6 janvier 1978, articles 39 et 40, l\u2019Utilisateur dispose du droit d\u2019acc\xe9der, de rectifier, de supprimer et d\u2019opposer ses donn\xe9es personnelles. L\u2019exercice de ce droit s\u2019effectue par\xa0: "),E(),b(53,"ul")(54,"li"),K(55,"Le formulaire de contact\xa0;"),E(),b(56,"li"),K(57,"Son espace client."),E()(),b(58,"p")(59,"b"),K(60,"Article 5"),E(),K(61,"\xa0: Propri\xe9t\xe9 intellectuelle"),E(),b(62,"p"),K(63," Les marques, logos ainsi que les contenus du site lapetiteperle (illustrations graphiques, textes\u2026) sont prot\xe9g\xe9s par le Code de la propri\xe9t\xe9 intellectuelle et par le droit d\u2019auteur. "),E(),b(64,"p"),K(65," La reproduction et la copie des contenus par l\u2019Utilisateur requi\xe8rent une autorisation pr\xe9alable du site. Dans ce cas, toute utilisation \xe0 des usages commerciaux ou \xe0 des fins publicitaires est proscrite. "),E(),b(66,"p")(67,"b"),K(68,"Article 6"),E(),K(69,"\xa0: Responsabilit\xe9"),E(),b(70,"p"),K(71," Bien que les informations publi\xe9es sur le site soient r\xe9put\xe9es fiables, le site se r\xe9serve la facult\xe9 d\u2019une non-garantie de la fiabilit\xe9 des sources. "),E(),b(72,"p"),K(73," Les informations diffus\xe9es sur le site lapetiteperle sont pr\xe9sent\xe9es \xe0 titre purement informatif et sont sans valeur contractuelle. En d\xe9pit des mises \xe0 jour r\xe9guli\xe8res, la responsabilit\xe9 du site ne peut \xeatre engag\xe9e en cas de modification des dispositions administratives et juridiques apparaissant apr\xe8s la publication. Il en est de m\xeame pour l\u2019utilisation et l\u2019interpr\xe9tation des informations communiqu\xe9es sur la plateforme. "),E(),b(74,"p"),K(75," Le site d\xe9cline toute responsabilit\xe9 concernant les \xe9ventuels virus pouvant infecter le mat\xe9riel informatique de l\u2019Utilisateur apr\xe8s l\u2019utilisation ou l\u2019acc\xe8s \xe0 ce site. "),E(),b(76,"p"),K(77," Le site ne peut \xeatre tenu pour responsable en cas de force majeure ou du fait impr\xe9visible et insurmontable d\u2019un tiers. "),E(),b(78,"p"),K(79," La garantie totale de la s\xe9curit\xe9 et la confidentialit\xe9 des donn\xe9es n\u2019est pas assur\xe9e par le site. Cependant, le site s\u2019engage \xe0 mettre en \u0153uvre toutes les m\xe9thodes requises pour le faire au mieux. "),E(),b(80,"p")(81,"b"),K(82,"Article 7"),E(),K(83,"\xa0: Liens hypertextes"),E(),b(84,"p"),K(85," Le site peut \xeatre constitu\xe9 de liens hypertextes. En cliquant sur ces derniers, l\u2019Utilisateur sortira de la plateforme. Cette derni\xe8re n\u2019a pas de contr\xf4le et ne peut pas \xeatre tenue responsable du contenu des pages web relatives \xe0 ces liens. "),E(),b(86,"p")(87,"b"),K(88,"Article 8"),E(),K(89,"\xa0: Cookies"),E(),b(90,"p"),K(91," Lors des visites sur le site, l\u2019installation automatique d\u2019un cookie sur le logiciel de navigation de l\u2019Utilisateur peut survenir. "),E(),b(92,"p"),K(93," Les cookies correspondent \xe0 de petits fichiers d\xe9pos\xe9s temporairement sur le disque dur de l\u2019ordinateur de l\u2019Utilisateur. Ces cookies sont n\xe9cessaires pour assurer l\u2019accessibilit\xe9 et la navigation sur le site. Ces fichiers ne comportent pas d\u2019informations personnelles et ne peuvent pas \xeatre utilis\xe9s pour l\u2019identification d\u2019une personne. "),E(),b(94,"p"),K(95," L\u2019information pr\xe9sente dans les cookies est utilis\xe9e pour am\xe9liorer les performances de navigation sur le site lapetiteperle.fr. "),E(),b(96,"p"),K(97," En naviguant sur le site, l\u2019Utilisateur accepte les cookies. Leur d\xe9sactivation peut s\u2019effectuer via les param\xe8tres du logiciel de navigation. "),E(),b(98,"p")(99,"b"),K(100,"Article 9"),E(),K(101,"\xa0: Publication par l\u2019Utilisateur"),E(),b(102,"p"),K(103,"Le site lapetiteperle permet aux membres de publier des commentaires."),E(),b(104,"p"),K(105," Dans ses publications, le membre est tenu de respecter les r\xe8gles de la Netiquette ainsi que les r\xe8gles de droit en vigueur. "),E(),b(106,"p"),K(107," Le site dispose du droit d\u2019exercer une mod\xe9ration \xe0 priori sur les publications et peut refuser leur mise en ligne sans avoir \xe0 fournir de justification. "),E(),b(108,"p"),K(109," Le membre garde l\u2019int\xe9gralit\xe9 de ses droits de propri\xe9t\xe9 intellectuelle. Toutefois, toute publication sur le site implique la d\xe9l\xe9gation du droit non exclusif et gratuit \xe0 la soci\xe9t\xe9 \xe9ditrice de repr\xe9senter, reproduire, modifier, adapter, distribuer et diffuser la publication n\u2019importe o\xf9 et sur n\u2019importe quel support pour la dur\xe9e de la propri\xe9t\xe9 intellectuelle. Cela peut se faire directement ou par l\u2019interm\xe9diaire d\u2019un tiers autoris\xe9. Cela concerne notamment le droit d\u2019utilisation de la publication sur le web et sur les r\xe9seaux de t\xe9l\xe9phonie mobile. "),E(),b(110,"p"),K(111," \xc0 chaque utilisation, l\u2019\xe9diteur s\u2019engage \xe0 mentionner le nom du membre \xe0 proximit\xe9 de la publication. "),E(),b(112,"p"),K(113," L\u2019Utilisateur est tenu responsable de tout contenu qu\u2019il met en ligne. L\u2019Utilisateur s\u2019engage \xe0 ne pas publier de contenus susceptibles de porter atteinte aux int\xe9r\xeats de tierces personnes. Toutes proc\xe9dures engag\xe9es en justice par un tiers l\xe9s\xe9 \xe0 l\u2019encontre du site devront \xeatre prises en charge par l\u2019Utilisateur. "),E(),b(114,"p"),K(115," La suppression ou la modification par le site du contenu de l\u2019Utilisateur peut s\u2019effectuer \xe0 tout moment, pour n\u2019importe quelle raison et sans pr\xe9avis. "),E(),b(116,"p")(117,"b"),K(118,"Article 11"),E(),K(119,"\xa0: Dur\xe9e du contrat"),E(),b(120,"p"),K(121," Le pr\xe9sent contrat est valable pour une dur\xe9e ind\xe9termin\xe9e. Le d\xe9but de l\u2019utilisation des services du site marque l\u2019application du contrat \xe0 l\u2019\xe9gard de l\u2019Utilisateur. "),E(),b(122,"p")(123,"b"),K(124,"Article 12"),E(),K(125,"\xa0: Droit applicable et juridiction comp\xe9tente"),E(),b(126,"p"),K(127," Le pr\xe9sent contrat est soumis \xe0 la l\xe9gislation fran\xe7aise. L\u2019absence de r\xe9solution \xe0 l\u2019amiable des cas de litige entre les parties implique le recours aux tribunaux fran\xe7ais comp\xe9tents pour r\xe9gler le contentieux. "),E()()())},styles:[""]}),t})(),sm=(()=>{class t{constructor(e){this.userService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-home"]],decls:50,vars:1,consts:[[1,"container"],[1,"row","mb-5"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-3"],["routerLink","/app/verifications-rp",1,"text-decoration-none","text-dark"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"bi","bi-check-circle"],[1,"card-title","text-center"],["routerLink","/app/missions-rp",1,"text-decoration-none","text-dark"],[1,"bi","bi-list"],["routerLink","/app/travailleurs-exposes",1,"text-decoration-none","text-dark"],[1,"bi","bi-person"],[1,"bi","bi-calendar-event"],["routerLink","/app/materiels",1,"text-decoration-none","text-dark"],[1,"bi","bi-boxes"],[1,"bi","bi-tools"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4),E()()(),b(5,"div",3)(6,"div",4)(7,"a",5)(8,"div",6)(9,"div",7)(10,"h3"),Pe(11,"i",8),E(),b(12,"h5",9),K(13,"V\xe9rifications RP"),E()()()()(),b(14,"div",4)(15,"a",10)(16,"div",6)(17,"div",7)(18,"h3"),Pe(19,"i",11),E(),b(20,"h5",9),K(21,"Missions RP"),E()()()()(),b(22,"div",4)(23,"a",12)(24,"div",6)(25,"div",7)(26,"h3"),Pe(27,"i",13),E(),b(28,"h5",9),K(29,"Travailleurs Expos\xe9s"),E()()()()()(),b(30,"div",3)(31,"div",4)(32,"div",6)(33,"div",7)(34,"h5",9),Pe(35,"i",14),K(36," Agenda"),E()()()(),b(37,"div",4)(38,"a",15)(39,"div",6)(40,"div",7)(41,"h5",9),Pe(42,"i",16),K(43," Equipements"),E()()()()(),b(44,"div",4)(45,"div",6)(46,"div",7)(47,"h5",9),Pe(48,"i",17),K(49," Outils"),E()()()()()()),2&e&&(de(4),Jt("Bienvenue ",i.userService.firstName,""))},directives:[Yr],styles:[".httpclient-table[_ngcontent-%COMP%]{border-radius:10px}.httpclient-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff}.httpclient-table.blue-gradient[_ngcontent-%COMP%]{background:linear-gradient(40deg,#45cafc,#5664bd)!important}"]}),t})();function sj(t,n){if(1&t&&(b(0,"li",9),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.description)}}function aj(t,n){if(1&t&&(b(0,"li",9),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.description)}}function lj(t,n){if(1&t&&(b(0,"li",9),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.description)}}let uj=(()=>{class t{constructor(){this.title="nos offres",this.filter="all",this.allItems=[{description:"L\u2019option Confort vous permet une assistance aux missions techniques du CRP"},{description:"L\u2019option Expert vous permet une assistance \xe0 toutes les missions du CRP"},{description:"L\u2019option Externalisation\xa0: nous sommes votre conseiller en radioprotection."}],this.allServices=[{description:"Audits Radioprotection"},{description:"Assistance lors des inspections de l\u2019autorit\xe9 de suret\xe9 nucl\xe9aire"},{description:"Gestion des dossiers ASN"},{description:"Veille r\xe8glementaire"},{description:"Plateforme WEB pour la gestion de la radioprotection"},{description:"Formation radioprotection (des travailleurs expos\xe9s, des patients)"},{description:"V\xe9rification p\xe9riodique de radioprotection"},{description:"Evaluation des risques"},{description:"Evaluation individuelle d\u2019exposition"},{description:"D\xe9limitation des zones r\xe9glement\xe9es"},{description:"Conformit\xe9 \xe0 la norme NF C15-160"}]}get items12(){return this.allItems}get items3(){return this.allItems}get services(){return this.allServices}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["app-notre-offre"]],decls:31,vars:3,consts:[[1,"container"],[1,"row","mb-3"],["id","border"],["id","D",1,"col-md-0"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"col-12","col-md-11"],["class","ms-md-3",4,"ngFor","ngForOf"],["id","para",1,"col-12","col-md-11"],["routerLink","/contact"],[1,"ms-md-3"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),K(5,"Notre objectif : vous proposer une prestation personnalis\xe9e, adapt\xe9e aux enjeux de votre activit\xe9 afin de vous permettre d\u2019assurer une conformit\xe9 totale de la r\xe9glementation en radioprotection. Nos ing\xe9nieurs en radioprotection sont pr\xe9sents pour assurer les missions n\xe9cessaires r\xe9glementaires pour la conformit\xe9 de votre \xe9tablissement. iZi RadioProtection vous propose des prestations \xe9labor\xe9es et \xe9tudier \xe0 partir d\u2019un audit initial qui permettra de mettre en place un plan d\u2019action annuel. Nos sp\xe9cialistes s\u2019assurent d\u2019une conformit\xe9 p\xe9renne de votre \xe9tablissement. iZi RadioProtection c\u2019est votre conformit\xe9 r\xe9glementaire simple et efficace."),E()()()()(),b(6,"div",0)(7,"div",4)(8,"h2"),K(9,"Nos services :"),E()(),b(10,"div",5)(11,"h5"),K(12,"Si vous avez votre conseiller en radioprotection\xa0:"),E(),Te(13,sj,2,1,"li",6),E(),b(14,"div",4)(15,"h2"),K(16,"Nos offres"),E()(),b(17,"h5"),K(18," Pour assurer votre conformit\xe9 r\xe9glementaire en radioprotection, iZiRadioProtection vous propose 3 offres contractuelles\xa0:"),E(),b(19,"div",7)(20,"h5"),K(21,"Si vous avez votre conseiller en radioprotection\xa0:"),E(),Te(22,aj,2,1,"li",6),E(),b(23,"div",7)(24,"h5"),K(25,"Si vous n\u2019avez pas de conseiller en radioprotection\xa0:"),E(),Te(26,lj,2,1,"li",6),E(),b(27,"p")(28,"a",8),K(29," Contactez-nous "),E(),K(30," d\xe8s maintenant pour plus d'informations sur nos offres en radioprotection pour le milieu m\xe9dical."),E()()),2&e&&(de(13),ve("ngForOf",i.services),de(9),ve("ngForOf",i.items12),de(4),ve("ngForOf",i.items3))},directives:[Ni,Yr],styles:[".valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}#myHeader[_ngcontent-%COMP%]{color:#000;padding:70px;text-align:center;font-size:40px}*[_ngcontent-%COMP%]   #D[_ngcontent-%COMP%]{text-indent:50px;text-align:justify;font-size:10px}#border[_ngcontent-%COMP%]{border:1px solid gray;padding:10px;font-size:10px}p[_ngcontent-%COMP%]{font-size:10px;padding:20px}h2[_ngcontent-%COMP%]{padding:20px}#para[_ngcontent-%COMP%]{padding:10px}"]}),t})();const cj=["addListener","removeListener"],dj=["addEventListener","removeEventListener"],pj=["on","off"];function ti(t,n,e,i){if(p(e)&&(i=e,e=void 0),i)return ti(t,n,e).pipe(u_(i));const[r,o]=function _j(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?dj.map(s=>a=>t[s](n,a,e)):function fj(t){return p(t.addListener)&&p(t.removeListener)}(t)?cj.map(yE(t,n)):function hj(t){return p(t.on)&&p(t.off)}(t)?pj.map(yE(t,n)):[];if(!r&&Ne(t))return Lt(s=>ti(s,n,e))(Ke(t));if(!r)throw new TypeError("Invalid event target");return new Z(s=>{const a=(...d)=>s.next(1<d.length?d:d[0]);return r(a),()=>o(a)})}function yE(t,n){return e=>i=>t[e](n,i)}class mj extends D{constructor(n,e){super()}schedule(n,e=0){return this}}const xd={setInterval(t,n,...e){const{delegate:i}=xd;return(null==i?void 0:i.setInterval)?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=xd;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class am extends mj{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return xd.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&xd.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,V(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const vE={now:()=>(vE.delegate||Date).now(),delegate:void 0};class du{constructor(n,e=du.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}du.now=vE.now;class lm extends du{constructor(n,e=du.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const pu=new lm(am),gj=pu;function bE(t){return t instanceof Date&&!isNaN(t)}function Ad(t=0,n,e=gj){let i=-1;return null!=n&&(hr(n)?e=n:i=n),new Z(r=>{let o=bE(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:yj}=Array;function wE(t){return 1===t.length&&yj(t[0])?t[0]:t}function CE(...t){return 1===(t=wE(t)).length?Ke(t[0]):new Z(function vj(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(Ke(t[i]).subscribe(N(n,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}n.next(r)})))}}(t))}function Md(...t){const n=to(t),e=wE(t);return e.length?new Z(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)Ke(e[s]).subscribe(N(i,a=>{if(r[s].push(a),r.every(d=>d.length)){const d=r.map(w=>w.shift());i.next(n?n(...d):d),r.some((w,k)=>!w.length&&o[k])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Tn}function vn(t){return ue((n,e)=>{Ke(t).subscribe(N(e,()=>e.complete(),f)),!e.closed&&n.subscribe(e)})}function cm(...t){const n=to(t);return ue((e,i)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),a=!1;for(let d=0;d<r;d++)Ke(t[d]).subscribe(N(i,w=>{o[d]=w,!a&&!s[d]&&(s[d]=!0,(a=s.every(X))&&(s=null))},f));e.subscribe(N(i,d=>{if(a){const w=[d,...o];i.next(n?n(...w):w)}}))})}function TE(t,n){return n?e=>ql(n.pipe(yi(1),function Cj(){return ue((t,n)=>{t.subscribe(N(n,f))})}()),e.pipe(TE(t))):Lt((e,i)=>t(e,i).pipe(yi(1),function Ej(t){return H(()=>t)}(e)))}function SE(t,n=pu){const e=Ad(t,n);return TE(()=>e)}new Z(f);var Sj={left:"right",right:"left",bottom:"top",top:"bottom"};function Id(t){return t.replace(/left|right|bottom|top/g,function(n){return Sj[n]})}function Qr(t){return t.split("-")[0]}var Dj={start:"end",end:"start"};function DE(t){return t.replace(/start|end/g,function(n){return Dj[n]})}var Xi="top",Or="bottom",Nr="right",er="left",dm="auto",fu=[Xi,Or,Nr,er],$a="start",hu="end",OE="viewport",_u="popper",NE=fu.reduce(function(t,n){return t.concat([n+"-"+$a,n+"-"+hu])},[]),xE=[].concat(fu,[dm]).reduce(function(t,n){return t.concat([n,n+"-"+$a,n+"-"+hu])},[]),$j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function tr(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ss(t){return t instanceof tr(t).Element||t instanceof Element}function fr(t){return t instanceof tr(t).HTMLElement||t instanceof HTMLElement}function pm(t){return"undefined"!=typeof ShadowRoot&&(t instanceof tr(t).ShadowRoot||t instanceof ShadowRoot)}function Zo(t){return((Ss(t)?t.ownerDocument:t.document)||window.document).documentElement}var Ds=Math.max,Pd=Math.min,Ba=Math.round;function fm(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function AE(){return!/^((?!chrome|android).)*safari/i.test(fm())}function La(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),r=1,o=1;n&&fr(t)&&(r=t.offsetWidth>0&&Ba(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ba(i.height)/t.offsetHeight||1);var a=(Ss(t)?tr(t):window).visualViewport,d=!AE()&&e,w=(i.left+(d&&a?a.offsetLeft:0))/r,k=(i.top+(d&&a?a.offsetTop:0))/o,ee=i.width/r,se=i.height/o;return{width:ee,height:se,top:k,right:w+ee,bottom:k+se,left:w,x:w,y:k}}function hm(t){var n=tr(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function _m(t){return La(Zo(t)).left+hm(t).scrollLeft}function To(t){return tr(t).getComputedStyle(t)}function Xr(t){return t?(t.nodeName||"").toLowerCase():null}function kd(t){return"html"===Xr(t)?t:t.assignedSlot||t.parentNode||(pm(t)?t.host:null)||Zo(t)}function mm(t){var n=To(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function ME(t){return["html","body","#document"].indexOf(Xr(t))>=0?t.ownerDocument.body:fr(t)&&mm(t)?t:ME(kd(t))}function mu(t,n){var e;void 0===n&&(n=[]);var i=ME(t),r=i===(null==(e=t.ownerDocument)?void 0:e.body),o=tr(i),s=r?[o].concat(o.visualViewport||[],mm(i)?i:[]):i,a=n.concat(s);return r?a:a.concat(mu(kd(s)))}function Vj(t){return["table","td","th"].indexOf(Xr(t))>=0}function IE(t){return fr(t)&&"fixed"!==To(t).position?t.offsetParent:null}function gu(t){for(var n=tr(t),e=IE(t);e&&Vj(e)&&"static"===To(e).position;)e=IE(e);return e&&("html"===Xr(e)||"body"===Xr(e)&&"static"===To(e).position)?n:e||function Uj(t){var n=/firefox/i.test(fm());if(/Trident/i.test(fm())&&fr(t)&&"fixed"===To(t).position)return null;var r=kd(t);for(pm(r)&&(r=r.host);fr(r)&&["html","body"].indexOf(Xr(r))<0;){var o=To(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||n&&"filter"===o.willChange||n&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(t)||n}function PE(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&pm(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function gm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kE(t,n,e){return n===OE?gm(function Bj(t,n){var e=tr(t),i=Zo(t),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,d=0;if(r){o=r.width,s=r.height;var w=AE();(w||!w&&"fixed"===n)&&(a=r.offsetLeft,d=r.offsetTop)}return{width:o,height:s,x:a+_m(t),y:d}}(t,e)):Ss(n)?function Hj(t,n){var e=La(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):gm(function Lj(t){var n,e=Zo(t),i=hm(t),r=null==(n=t.ownerDocument)?void 0:n.body,o=Ds(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ds(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+_m(t),d=-i.scrollTop;return"rtl"===To(r||e).direction&&(a+=Ds(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:d}}(Zo(t)))}function Va(t){return t.split("-")[1]}function ym(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function RE(t){var d,n=t.reference,e=t.element,i=t.placement,r=i?Qr(i):null,o=i?Va(i):null,s=n.x+n.width/2-e.width/2,a=n.y+n.height/2-e.height/2;switch(r){case Xi:d={x:s,y:n.y-e.height};break;case Or:d={x:s,y:n.y+n.height};break;case Nr:d={x:n.x+n.width,y:a};break;case er:d={x:n.x-e.width,y:a};break;default:d={x:n.x,y:n.y}}var w=r?ym(r):null;if(null!=w){var k="y"===w?"height":"width";switch(o){case $a:d[w]=d[w]-(n[k]/2-e[k]/2);break;case hu:d[w]=d[w]+(n[k]/2-e[k]/2)}}return d}function jE(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function $E(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function vm(t,n){void 0===n&&(n={});var i=n.placement,r=void 0===i?t.placement:i,o=n.strategy,s=void 0===o?t.strategy:o,a=n.boundary,d=void 0===a?"clippingParents":a,w=n.rootBoundary,k=void 0===w?OE:w,ee=n.elementContext,se=void 0===ee?_u:ee,me=n.altBoundary,Se=void 0!==me&&me,xe=n.padding,Re=void 0===xe?0:xe,Fe=jE("number"!=typeof Re?Re:$E(Re,fu)),Ye=t.rects.popper,Qe=t.elements[Se?se===_u?"reference":_u:se],nt=function qj(t,n,e,i){var r="clippingParents"===n?function Gj(t){var n=mu(kd(t)),i=["absolute","fixed"].indexOf(To(t).position)>=0&&fr(t)?gu(t):t;return Ss(i)?n.filter(function(r){return Ss(r)&&PE(r,i)&&"body"!==Xr(r)}):[]}(t):[].concat(n),o=[].concat(r,[e]),a=o.reduce(function(d,w){var k=kE(t,w,i);return d.top=Ds(k.top,d.top),d.right=Pd(k.right,d.right),d.bottom=Pd(k.bottom,d.bottom),d.left=Ds(k.left,d.left),d},kE(t,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Ss(Qe)?Qe:Qe.contextElement||Zo(t.elements.popper),d,k,s),yt=La(t.elements.reference),Xt=RE({reference:yt,element:Ye,strategy:"absolute",placement:r}),sn=gm(Object.assign({},Ye,Xt)),Nn=se===_u?sn:yt,xn={top:nt.top-Nn.top+Fe.top,bottom:Nn.bottom-nt.bottom+Fe.bottom,left:nt.left-Nn.left+Fe.left,right:Nn.right-nt.right+Fe.right},bn=t.modifiersData.offset;if(se===_u&&bn){var Ii=bn[r];Object.keys(xn).forEach(function(ii){var Mr=[Nr,Or].indexOf(ii)>=0?1:-1,Ir=[Xi,Or].indexOf(ii)>=0?"y":"x";xn[ii]+=Ii[Ir]*Mr})}return xn}const Kj={name:"flip",enabled:!0,phase:"main",fn:function Yj(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,d=e.fallbackPlacements,w=e.padding,k=e.boundary,ee=e.rootBoundary,se=e.altBoundary,me=e.flipVariations,Se=void 0===me||me,xe=e.allowedAutoPlacements,Re=n.options.placement,Fe=Qr(Re),Ye=d||(Fe!==Re&&Se?function zj(t){if(Qr(t)===dm)return[];var n=Id(t);return[DE(t),n,DE(n)]}(Re):[Id(Re)]),Qe=[Re].concat(Ye).reduce(function(qa,Qo){return qa.concat(Qr(Qo)===dm?function Wj(t,n){void 0===n&&(n={});var r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,d=n.allowedAutoPlacements,w=void 0===d?xE:d,k=Va(n.placement),ee=k?a?NE:NE.filter(function(Se){return Va(Se)===k}):fu,se=ee.filter(function(Se){return w.indexOf(Se)>=0});0===se.length&&(se=ee);var me=se.reduce(function(Se,xe){return Se[xe]=vm(t,{placement:xe,boundary:r,rootBoundary:o,padding:s})[Qr(xe)],Se},{});return Object.keys(me).sort(function(Se,xe){return me[Se]-me[xe]})}(n,{placement:Qo,boundary:k,rootBoundary:ee,padding:w,flipVariations:Se,allowedAutoPlacements:xe}):Qo)},[]),nt=n.rects.reference,yt=n.rects.popper,Xt=new Map,sn=!0,Nn=Qe[0],xn=0;xn<Qe.length;xn++){var bn=Qe[xn],Ii=Qr(bn),ii=Va(bn)===$a,Mr=[Xi,Or].indexOf(Ii)>=0,Ir=Mr?"width":"height",pi=vm(n,{placement:bn,boundary:k,rootBoundary:ee,altBoundary:se,padding:w}),Pr=Mr?ii?Nr:er:ii?Or:Xi;nt[Ir]>yt[Ir]&&(Pr=Id(Pr));var np=Id(Pr),Ps=[];if(o&&Ps.push(pi[Ii]<=0),a&&Ps.push(pi[Pr]<=0,pi[np]<=0),Ps.every(function(qa){return qa})){Nn=bn,sn=!1;break}Xt.set(bn,Ps)}if(sn)for(var jm=function(Qo){var xu=Qe.find(function(op){var ks=Xt.get(op);if(ks)return ks.slice(0,Qo).every(function($m){return $m})});if(xu)return Nn=xu,"break"},Nu=Se?3:1;Nu>0&&"break"!==jm(Nu);Nu--);n.placement!==Nn&&(n.modifiersData[i]._skip=!0,n.placement=Nn,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yu(t,n,e){return Ds(t,Pd(n,e))}function bm(t){var n=La(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const Xj={name:"preventOverflow",enabled:!0,phase:"main",fn:function Qj(t){var n=t.state,e=t.options,i=t.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,se=e.tether,me=void 0===se||se,Se=e.tetherOffset,xe=void 0===Se?0:Se,Re=vm(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Fe=Qr(n.placement),Me=Va(n.placement),Ye=!Me,Qe=ym(Fe),nt=function Zj(t){return"x"===t?"y":"x"}(Qe),yt=n.modifiersData.popperOffsets,Xt=n.rects.reference,sn=n.rects.popper,Nn="function"==typeof xe?xe(Object.assign({},n.rects,{placement:n.placement})):xe,xn="number"==typeof Nn?{mainAxis:Nn,altAxis:Nn}:Object.assign({mainAxis:0,altAxis:0},Nn),bn=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Ii={x:0,y:0};if(yt){if(o){var ii,Mr="y"===Qe?Xi:er,Ir="y"===Qe?Or:Nr,pi="y"===Qe?"height":"width",Pr=yt[Qe],np=Pr+Re[Mr],Ps=Pr-Re[Ir],ip=me?-sn[pi]/2:0,jm=Me===$a?Xt[pi]:sn[pi],Nu=Me===$a?-sn[pi]:-Xt[pi],rp=n.elements.arrow,qa=me&&rp?bm(rp):{width:0,height:0},Qo=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},xu=Qo[Mr],op=Qo[Ir],ks=yu(0,Xt[pi],qa[pi]),$m=Ye?Xt[pi]/2-ip-ks-xu-xn.mainAxis:jm-ks-xu-xn.mainAxis,i9=Ye?-Xt[pi]/2+ip+ks+op+xn.mainAxis:Nu+ks+op+xn.mainAxis,Bm=n.elements.arrow&&gu(n.elements.arrow),tS=null!=(ii=null==bn?void 0:bn[Qe])?ii:0,s9=Pr+i9-tS,nS=yu(me?Pd(np,Pr+$m-tS-(Bm?"y"===Qe?Bm.clientTop||0:Bm.clientLeft||0:0)):np,Pr,me?Ds(Ps,s9):Ps);yt[Qe]=nS,Ii[Qe]=nS-Pr}if(a){var iS,Rs=yt[nt],sp="y"===nt?"height":"width",rS=Rs+Re["x"===Qe?Xi:er],oS=Rs-Re["x"===Qe?Or:Nr],Lm=-1!==[Xi,er].indexOf(Fe),sS=null!=(iS=null==bn?void 0:bn[nt])?iS:0,aS=Lm?rS:Rs-Xt[sp]-sn[sp]-sS+xn.altAxis,lS=Lm?Rs+Xt[sp]+sn[sp]-sS-xn.altAxis:oS,uS=me&&Lm?function Jj(t,n,e){var i=yu(t,n,e);return i>e?e:i}(aS,Rs,lS):yu(me?aS:rS,Rs,me?lS:oS);yt[nt]=uS,Ii[nt]=uS-Rs}n.modifiersData[i]=Ii}},requiresIfExists:["offset"]},i4={name:"arrow",enabled:!0,phase:"main",fn:function t4(t){var n,e=t.state,i=t.name,r=t.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Qr(e.placement),d=ym(a),k=[er,Nr].indexOf(a)>=0?"height":"width";if(o&&s){var ee=function(n,e){return jE("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:$E(n,fu))}(r.padding,e),se=bm(o),me="y"===d?Xi:er,Se="y"===d?Or:Nr,xe=e.rects.reference[k]+e.rects.reference[d]-s[d]-e.rects.popper[k],Re=s[d]-e.rects.reference[d],Fe=gu(o),Me=Fe?"y"===d?Fe.clientHeight||0:Fe.clientWidth||0:0,yt=Me/2-se[k]/2+(xe/2-Re/2),Xt=yu(ee[me],yt,Me-se[k]-ee[Se]);e.modifiersData[i]=((n={})[d]=Xt,n.centerOffset=Xt-yt,n)}},effect:function n4(t){var n=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=n.elements.popper.querySelector(r))||!PE(n.elements.popper,r)||(n.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function a4(t,n,e){void 0===e&&(e=!1);var i=fr(n),r=fr(n)&&function s4(t){var n=t.getBoundingClientRect(),e=Ba(n.width)/t.offsetWidth||1,i=Ba(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),o=Zo(n),s=La(t,r,e),a={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!e)&&(("body"!==Xr(n)||mm(o))&&(a=function o4(t){return t!==tr(t)&&fr(t)?function r4(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):hm(t)}(n)),fr(n)?((d=La(n,!0)).x+=n.clientLeft,d.y+=n.clientTop):o&&(d.x=_m(o))),{x:s.left+a.scrollLeft-d.x,y:s.top+a.scrollTop-d.y,width:s.width,height:s.height}}function l4(t){var n=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var d=n.get(a);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.set(o.name,o)}),t.forEach(function(o){e.has(o.name)||r(o)}),i}function c4(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var BE={placement:"bottom",modifiers:[],strategy:"absolute"};function LE(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function p4(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,r=t.defaultOptions,o=void 0===r?BE:r;return function(a,d,w){void 0===w&&(w=o);var k={placement:"bottom",orderedModifiers:[],options:Object.assign({},BE,o),modifiersData:{},elements:{reference:a,popper:d},attributes:{},styles:{}},ee=[],se=!1,me={state:k,setOptions:function(Fe){var Me="function"==typeof Fe?Fe(k.options):Fe;xe(),k.options=Object.assign({},o,k.options,Me),k.scrollParents={reference:Ss(a)?mu(a):a.contextElement?mu(a.contextElement):[],popper:mu(d)};var Ye=function u4(t){var n=l4(t);return $j.reduce(function(e,i){return e.concat(n.filter(function(r){return r.phase===i}))},[])}(function d4(t){var n=t.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,k.options.modifiers)));return k.orderedModifiers=Ye.filter(function(bn){return bn.enabled}),function Se(){k.orderedModifiers.forEach(function(Re){var Me=Re.options,Qe=Re.effect;if("function"==typeof Qe){var nt=Qe({state:k,name:Re.name,instance:me,options:void 0===Me?{}:Me});ee.push(nt||function(){})}})}(),me.update()},forceUpdate:function(){if(!se){var Fe=k.elements,Me=Fe.reference,Ye=Fe.popper;if(LE(Me,Ye)){k.rects={reference:a4(Me,gu(Ye),"fixed"===k.options.strategy),popper:bm(Ye)},k.reset=!1,k.placement=k.options.placement,k.orderedModifiers.forEach(function(bn){return k.modifiersData[bn.name]=Object.assign({},bn.data)});for(var nt=0;nt<k.orderedModifiers.length;nt++)if(!0!==k.reset){var yt=k.orderedModifiers[nt],Xt=yt.fn,sn=yt.options;"function"==typeof Xt&&(k=Xt({state:k,options:void 0===sn?{}:sn,name:yt.name,instance:me})||k)}else k.reset=!1,nt=-1}}},update:c4(function(){return new Promise(function(Re){me.forceUpdate(),Re(k)})}),destroy:function(){xe(),se=!0}};if(!LE(a,d))return me;function xe(){ee.forEach(function(Re){return Re()}),ee=[]}return me.setOptions(w).then(function(Re){!se&&w.onFirstUpdate&&w.onFirstUpdate(Re)}),me}}var Rd={passive:!0},g4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VE(t){var n,e=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,d=t.gpuAcceleration,w=t.adaptive,k=t.roundOffsets,ee=t.isFixed,se=s.x,me=void 0===se?0:se,Se=s.y,xe=void 0===Se?0:Se,Re="function"==typeof k?k({x:me,y:xe}):{x:me,y:xe};me=Re.x,xe=Re.y;var Fe=s.hasOwnProperty("x"),Me=s.hasOwnProperty("y"),Ye=er,Qe=Xi,nt=window;if(w){var yt=gu(e),Xt="clientHeight",sn="clientWidth";yt===tr(e)&&"static"!==To(yt=Zo(e)).position&&"absolute"===a&&(Xt="scrollHeight",sn="scrollWidth"),(r===Xi||(r===er||r===Nr)&&o===hu)&&(Qe=Or,xe-=(ee&&yt===nt&&nt.visualViewport?nt.visualViewport.height:yt[Xt])-i.height,xe*=d?1:-1),r!==er&&(r!==Xi&&r!==Or||o!==hu)||(Ye=Nr,me-=(ee&&yt===nt&&nt.visualViewport?nt.visualViewport.width:yt[sn])-i.width,me*=d?1:-1)}var ii,bn=Object.assign({position:a},w&&g4),Ii=!0===k?function y4(t,n){var i=t.y,r=n.devicePixelRatio||1;return{x:Ba(t.x*r)/r||0,y:Ba(i*r)/r||0}}({x:me,y:xe},tr(e)):{x:me,y:xe};return me=Ii.x,xe=Ii.y,Object.assign({},bn,d?((ii={})[Qe]=Me?"0":"",ii[Ye]=Fe?"0":"",ii.transform=(nt.devicePixelRatio||1)<=1?"translate("+me+"px, "+xe+"px)":"translate3d("+me+"px, "+xe+"px, 0)",ii):((n={})[Qe]=Me?xe+"px":"",n[Ye]=Fe?me+"px":"",n.transform="",n))}var T4=p4({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function f4(t){var n=t.state,e=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,d=tr(n.elements.popper),w=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&w.forEach(function(k){k.addEventListener("scroll",e.update,Rd)}),a&&d.addEventListener("resize",e.update,Rd),function(){o&&w.forEach(function(k){k.removeEventListener("scroll",e.update,Rd)}),a&&d.removeEventListener("resize",e.update,Rd)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function _4(t){var n=t.state;n.modifiersData[t.name]=RE({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function v4(t){var n=t.state,e=t.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,d=void 0===a||a,k={placement:Qr(n.placement),variation:Va(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,VE(Object.assign({},k,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:s,roundOffsets:d})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,VE(Object.assign({},k,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function w4(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},r=n.attributes[e]||{},o=n.elements[e];!fr(o)||!Xr(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function C4(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var r=n.elements[i],o=n.attributes[i]||{},a=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(d,w){return d[w]="",d},{});!fr(r)||!Xr(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}},requires:["computeStyles"]}]});function N4(t,n){}function x4(t,n){if(1&t&&(b(0,"button",3),K(1),Te(2,N4,0,0,"ng-template",4),E()),2&t){const e=n.$implicit;ve("ngbPanelToggle",e),de(1),Jt(" ",e.title,""),de(1),ve("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function A4(t,n){}function M4(t,n){}function I4(t,n){if(1&t){const e=Le();b(0,"div",8),_e("ngbRef",function(r){return ye(e),ae().$implicit.panelDiv=r}),b(1,"div",9),Te(2,M4,0,0,"ng-template",4),E()()}if(2&t){const e=ae().$implicit;ot("id",e.id),Bt("aria-labelledby",e.id+"-header"),de(2),ve("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const P4=function(t,n){return{$implicit:t,opened:n}};function k4(t,n){if(1&t&&(b(0,"div")(1,"div",5),Te(2,A4,0,0,"ng-template",6),E(),Te(3,I4,3,3,"div",7),E()),2&t){const e=n.$implicit,i=ae(),r=ze(1);Bo("accordion-item "+(e.cardClass||"")),de(1),Bo("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),ga("id","",e.id,"-header"),de(1),ve("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||r)("ngTemplateOutletContext",Sa(8,P4,e,e.isOpen)),de(1),ve("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}const UE=["*"],Q4=["dialog"];function Cm(t){return"string"==typeof t}function Os(t){return null!=t}function Ua(t){return(t||document.body).getBoundingClientRect()}const GE={animation:!0,transitionTimerDelayMs:5},W5=()=>{},{transitionTimerDelayMs:z5}=GE,vu=new Map,Mi=(t,n,e,i)=>{let r=i.context||{};const o=vu.get(n);if(o)switch(i.runningTransition){case"continue":return Tn;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),vu.delete(n)}const s=e(n,i.animation,r)||W5;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),Nt(void 0).pipe(function G5(t){return n=>new Z(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new Ee,d=new Ee,w=a.pipe(function bj(...t){return n=>ql(n,Nt(...t))}(!0));vu.set(n,{transition$:a,complete:()=>{d.next(),d.complete()},context:r});const k=function q5(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const ee=ti(n,"transitionend").pipe(vn(w),ei(({target:me})=>me===n));CE(Ad(k+z5).pipe(vn(w)),ee,d).pipe(vn(w)).subscribe(()=>{vu.delete(n),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},qE=(t,n,e)=>{let{direction:i,maxHeight:r}=e;const{classList:o}=t;function s(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(n)return r||(r=function K5(t){if("undefined"==typeof navigator)return"0px";const{classList:n}=t,e=n.contains("show");e||n.add("show"),t.style.height="";const i=t.getBoundingClientRect().height+"px";return e||n.remove("show"),i}(t),e.maxHeight=r,t.style.height="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Ua(t),o.add("collapsing")),t.style.height="show"===i?r:"0px",()=>{s(),o.remove("collapsing"),t.style.height=""};s()};let bu=(()=>{class t{constructor(){this.animation=GE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Z5=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Xe(bu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),J5=0,Tm=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelHeader",""]]}),t})(),Sm=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelTitle",""]]}),t})(),Dm=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelContent",""]]}),t})(),jd=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+J5++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new gt,this.hidden=new gt}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,i,r){if(1&e&&(nn(r,Sm,4),nn(r,Tm,4),nn(r,Dm,4)),2&e){let o;jt(o=$t())&&(i.titleTpls=o),jt(o=$t())&&(i.headerTpls=o),jt(o=$t())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),t})(),Q5=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new gt}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(be(Qt))},t.\u0275dir=Ze({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),t})(),Om=(()=>{class t{constructor(e,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new gt,this.shown=new gt,this.hidden=new gt,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){Cm(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(yi(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,Mi(this._ngZone,i,qE,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let r=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{r=!0}}),r||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(r=>{r.id!==e&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Mi(this._ngZone,i.panelDiv,qE,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return t.\u0275fac=function(e){return new(e||t)(be(Z5),be(mn),be(Zi))},t.\u0275cmp=Wt({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,i,r){if(1&e&&nn(r,jd,4),2&e){let o;jt(o=$t())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&Bt("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(Te(0,x4,3,3,"ng-template",0,1,it),Te(2,k4,4,11,"ng-template",2)),2&e&&(de(2),ve("ngForOf",i.panels))},directives:function(){return[Tm,WE,_s,Ni,ji,Q5]},encapsulation:2}),t})(),WE=(()=>{class t{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(be(Om),be(jd,9))},t.\u0275dir=Ze({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&_e("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(fo("disabled",i.panel.disabled),Bt("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),on("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),$d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,i){2&e&&on("btn",!0)("active",i.active)("disabled",i.disabled)("focus",i.focused)}}),t})(),e$=0,Nm=(()=>{class t{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+e$++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[tn([{provide:Ji,useExisting:ct(()=>t),multi:!0}])]}),t})(),KE=(()=>{class t{constructor(e,i,r,o,s){this._group=e,this._label=i,this._renderer=r,this._element=o,this._cd=s,this._value=null,this._group.register(this),this.updateDisabled()}set value(e){this._value=e;const i=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",i),this._group.onRadioValueUpdate()}set disabled(e){this._disabled=!1!==e,this.updateDisabled()}set focused(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return t.\u0275fac=function(e){return new(e||t)(be(Nm),be($d),be(Ri),be(Qt),be(Zi))},t.\u0275dir=Ze({type:t,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,i){1&e&&_e("change",function(){return i.onChange()})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&fo("checked",i.checked)("disabled",i.disabled)("name",i.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),t})(),ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),eT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();var ni=(()=>{return(t=ni||(ni={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",ni;var t})();const Ld=(t,n)=>!!n&&n.some(e=>e.contains(t)),tT=(t,n)=>!n||null!=function H5(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),p$="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const iT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rT(t){const n=Array.from(t.querySelectorAll(iT)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const _$=/\s+/,m$=/  +/gi,g$=/^start/,y$=/^end/,v$=/-(top|left)$/,b$=/-(bottom|right)$/,C$=/^left/,E$=/^right/,T$=/^start/,S$=/^end/;function oT({placement:t,baseClass:n}){let e=Array.isArray(t)?t:t.split(_$),r=e.findIndex(d=>"auto"===d);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(d){null==e.find(w=>-1!==w.search("^"+d))&&e.splice(r++,1,d)});const o=e.map(d=>function w$(t){return t.replace(g$,"left").replace(y$,"right").replace(v$,"-start").replace(b$,"-end")}(d));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:d}){const w=new RegExp(n+"(-[a-z]+)*","gi"),k=d.elements.popper,ee=d.placement;let se=k.className;se=se.replace(w,""),se+=` ${function D$(t,n){let[e,i]=n.split("-");const r=e.replace(C$,"start").replace(E$,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(T$,"top").replace(S$,"bottom")),o.push(`${r}-${s}`)}return t&&(o=o.map(s=>`${t}-${s}`)),o.join(" ")}(n,ee)}`,se=se.trim().replace(m$," "),k.className=se}},Kj,Xj,i4,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function sT(t){return t}new Date(1882,10,12),new Date(2174,10,25);let fT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li,J_]]}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();class Ms{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class $${constructor(n,e,i,r,o,s){this._type=n,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(yi(1),Lt(()=>Mi(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(n=!1){return this._windowRef?Mi(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(ui(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Nt(void 0)}_getContentRef(n,e){if(n){if(n instanceof At){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new Ms([i.rootNodes],i)}return new Ms([[this._renderer.createText(`${n}`)]])}return new Ms([])}}let B$=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(yi(1)).subscribe(()=>{Mi(this._zone,this._el.nativeElement,(e,i)=>{i&&Ua(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(be(Qt),be(mn))},t.\u0275cmp=Wt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(Bo("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),on("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class bi{close(n){}dismiss(n){}}class L${constructor(n,e,i,r){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ee,this._dismissed=new Ee,this._hidden=new Ee,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function HE(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Nt(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Md(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Tu=(()=>{return(t=Tu||(Tu={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Tu;var t})();let V$=(()=>{class t{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ee,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new gt,this.shown=new Ee,this.hidden=new Ee}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Cm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(yi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Md(Mi(this._zone,e,()=>e.classList.remove("show"),i),Mi(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Md(Mi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Ua(o),o.classList.add("show")},e),Mi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ti(e,"keydown").pipe(vn(this._closed$),ei(r=>r.which===ni.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Tu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ti(this._dialogEl.nativeElement,"mousedown").pipe(vn(this._closed$),ui(()=>i=!1),yo(()=>ti(e,"mouseup").pipe(vn(this._closed$),yi(1))),ei(({target:r})=>e===r)).subscribe(()=>{i=!0}),ti(e,"click").pipe(vn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Tu.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=rT(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(be(Hn),be(Qt),be(mn))},t.\u0275cmp=Wt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Vo(Q4,7),2&e){let r;jt(r=$t())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Bt("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Bo("modal d-block"+(i.windowClass?" "+i.windowClass:"")),on("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:UE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Dl(),b(0,"div",0,1)(2,"div",2),Ol(3),E()()),2&e&&Bo("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),U$=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}}return t.\u0275fac=function(e){return new(e||t)(Xe(Hn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),H$=(()=>{class t{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Ee,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new gt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ti(n,"focusin").pipe(vn(e),H(o=>o.target));ti(n,"keydown").pipe(vn(e),ei(o=>o.which===ni.Tab),cm(r)).subscribe(([o,s])=>{const[a,d]=rT(n);(s===a||s===n)&&o.shiftKey&&(d.focus(),o.preventDefault()),s===d&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ti(n,"click").pipe(vn(e),cm(r),H(o=>o[1])).subscribe(o=>o.focus())})})(0,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:Os(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new bi,w=this._getContentRef(e,o.injector||i,r,d,o);let k=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,ee=this._attachWindowComponent(e,s,w),se=new L$(ee,w,k,o.beforeDismiss);return this._registerModalRef(se),this._registerWindowCmpt(ee),se.hidden.pipe(yi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=me=>{se.close(me)},d.dismiss=me=>{se.dismiss(me)},this._applyWindowOptions(ee.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),k&&k.instance&&(this._applyBackdropOptions(k.instance,o),k.changeDetectorRef.detectChanges()),ee.changeDetectorRef.detectChanges(),se}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(B$).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(V$).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Os(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Os(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof At?this._createFromTemplateRef(r,o):Cm(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Ms([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Ms([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ms([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),d=Jn.create({providers:[{provide:bi,useValue:o}],parent:i}),w=a.create(d),k=w.location.nativeElement;return s.scrollable&&k.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Ms([[k]],w.hostView,w)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Xe(Bl),Xe(Jn),Xe(Hn),Xe(U$),Xe(uh),Xe(mn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$i=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Xe(bu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bi=(()=>{class t{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Xe(Ca),Xe(Jn),Xe(H$),Xe($i))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:[Bi]}),t})(),CT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),AT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})();class K${constructor(n,e){this.open=n,this.close=e,e||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const Z$={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},MT=t=>t>0?SE(t):n=>n;let IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),PT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),kT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),RT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),FT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),iB=(()=>{class t{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Xe(bu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rB=0,oB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(fo("id",i.id),Bo("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),on("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:UE,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(Dl(),Pe(0,"div",0),b(1,"div",1),Ol(2),E())},encapsulation:2,changeDetection:0}),t})(),sB=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=d,this._changeDetector=w,this.shown=new gt,this.hidden=new gt,this._ngbTooltipWindowId="ngb-tooltip-"+rB++,this._windowRef=null,this._positioning=function aT(){let t=null;return{createPopper(n){if(!t){let i=(n.updatePopperOptions||sT)(oT(n));t=T4(n.hostElement,n.targetElement,i)}},update(){t&&t.update()},setOptions(n){if(t){let i=(n.updatePopperOptions||sT)(oT(n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(),this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new $$(oB,r,o,i,this._ngZone,k)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function nT(t,n,e,i,r,o,s,a){e&&t.runOutsideAngular((t=>p$?()=>setTimeout(()=>t(),100):t)(()=>{const w=ti(n,"keydown").pipe(vn(r),ei(se=>se.which===ni.Escape),ui(se=>se.preventDefault())),k=ti(n,"mousedown").pipe(H(se=>{const me=se.target;return 2!==se.button&&!Ld(me,s)&&("inside"===e?Ld(me,o)&&tT(me,a):"outside"===e?!Ld(me,o):tT(me,a)||!Ld(me,o))}),vn(r)),ee=ti(n,"mouseup").pipe(cm(k),ei(([se,me])=>me),SE(0),vn(r));CE([w.pipe(H(se=>0)),ee.pipe(H(se=>1))]).subscribe(se=>t.run(()=>i(se)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(e).subscribe(()=>{var i;this._windowRef=null,this._positioning.destroy(),null===(i=this._zoneSubscription)||void 0===i||i.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function eB(t,n,e,i,r,o,s=0,a=0){const d=function J$(t,n=Z$){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=n[o[0]]||o;return new K$(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===d.length&&d[0].isManual())return()=>{};const w=function Q$(t,n,e,i){return new Z(r=>{const o=[],s=()=>r.next(!0),a=()=>r.next(!1),d=()=>r.next(!i());return e.forEach(w=>{w.open===w.close?o.push(t.listen(n,w.open,d)):o.push(t.listen(n,w.open,s),t.listen(n,w.close,a))}),()=>{o.forEach(w=>w())}})}(t,n,d,i).pipe(function X$(t,n,e){return i=>{let r=null;const o=i.pipe(H(d=>({open:d})),ei(d=>{const w=e();return w===d.open||r&&r.open!==w?(r&&r.open!==d.open&&(r=null),!1):(r=d,!0)}),Ya());return kr(o.pipe(ei(d=>d.open),MT(t)),o.pipe(ei(d=>!d.open),MT(n))).pipe(ei(d=>d===r&&(r=null,d.open!==e())),H(d=>d.open))}}(s,a,i)).subscribe(k=>k?r():o());return()=>w.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){var e;this.close(!1),null===(e=this._unregisterListenersFn)||void 0===e||e.call(this)}}return t.\u0275fac=function(e){return new(e||t)(be(Qt),be(Ri),be(Jn),be(lr),be(iB),be(mn),be(Hn),be(Zi),be(Bl))},t.\u0275dir=Ze({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[Ln]}),t})(),jT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();new kt("live announcer delay",{providedIn:"root",factory:function aB(){return 100}});let $T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li]]}),t})(),BT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({}),t})();const lB=[zE,YE,ZE,XE,eT,fT,gT,yT,CT,BT,AT,IT,PT,kT,RT,FT,jT,$T];let LT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[lB,zE,YE,ZE,XE,eT,fT,gT,yT,CT,BT,AT,IT,PT,kT,RT,FT,jT,$T]}),t})();const Wd={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let zd=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getSitesByUserMail(e){return this.http.get(this.apiUrl+"/user/"+e,Wd)}getMissionsBySiteID(e){return console.log("id_ ",e),console.log(Wd),this.http.get(this.apiUrl+"/uploads/files/"+e,Wd)}getMission(e){return console.log("siteId ",e),this.http.get(this.apiUrl+"/uploads/files/"+e,Wd)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yd=(()=>{class t{constructor(e){this.http=e}UploadData(e){const i={headers:new Je({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};return this.http.post("/api/uploads",e,i)}UploadDataVerif(e){const i=new Je({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`});return this.http.post("/api/verifications/uploads",e,{headers:i})}UploadDataWorker(e){const i=new Je({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`});return this.http.post("/api/workers/uploads",e,{headers:i})}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ga={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let Is=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getUsers(){return this.http.get(this.apiUrl+"/users",Ga)}addUser(e,i,r,o,s,a){return this.http.post(this.apiUrl+"/user",{last_name:i,first_name:r,mail:o,password:s,structure_id:a,admin:0,user_id:e},Ga)}delUser(e,i){return this.http.delete(this.apiUrl+"/user?user_id="+e+"&id="+i)}getStructures(){return this.http.get(this.apiUrl+"/structures",Ga)}addStructure(e,i){return this.http.post(this.apiUrl+"/structure",{user_id:e,name:i},Ga)}delStructure(e,i){return this.http.delete(this.apiUrl+"/structure?user_id="+e+"&structure_id="+i)}updateStructure(e,i,r){return this.http.put(this.apiUrl+"/structure?user_id="+e+"&structure_id="+i+"&name="+r,{})}getSiteByStructureId(e){return this.http.get(this.apiUrl+"/structure/sites?structure_id="+e,Ga)}addSite(e,i,r){return this.http.post(this.apiUrl+"/site",{user_id:e,structure_id:i,name:r},Ga)}delSite(e,i){return this.http.delete(this.apiUrl+"/site/?user_id="+e+"&site_id="+i)}updateSite(e,i,r){return this.http.put(this.apiUrl+"/site?user_id="+e+"&site_id="+i+"&name="+r,{})}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uB(t,n){if(1&t&&(b(0,"option"),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.name)}}function cB(t,n){1&t&&Pe(0,"i",18)}function dB(t,n){1&t&&Pe(0,"i",19)}function pB(t,n){1&t&&Pe(0,"i",20)}function fB(t,n){if(1&t&&(b(0,"b"),K(1),E(),K(2,"!")),2&t){const e=ae(3).$implicit;de(1),bt(e.name)}}function hB(t,n){if(1&t&&(b(0,"div"),Te(1,fB,3,1,"ng-template",null,21,it),b(3,"div",22)(4,"button",23),Pe(5,"i",24),E()()()),2&t){const e=ze(2);de(4),ve("ngbTooltip",e)}}function _B(t,n){if(1&t&&(b(0,"div",12),Te(1,cB,1,0,"i",13),Te(2,dB,1,0,"i",14),Te(3,pB,1,0,"i",15),b(4,"span",16),K(5),E()(),Te(6,hB,6,1,"div",17)),2&t){const e=ae().$implicit;de(1),ve("ngIf",0===e.verif),de(1),ve("ngIf",1===e.verif),de(1),ve("ngIf",2===e.verif),de(2),bt(e.name),de(1),ve("ngIf",0==e.sous_missions.length)}}function mB(t,n){1&t&&Pe(0,"div")}function gB(t,n){1&t&&Pe(0,"i",18)}function yB(t,n){1&t&&Pe(0,"i",19)}function vB(t,n){1&t&&Pe(0,"i",20)}function bB(t,n){if(1&t&&(K(0,"Hello, "),b(1,"b"),K(2),E()),2&t){const e=ae(6).$implicit;de(2),bt(e.name)}}function wB(t,n){if(1&t&&(b(0,"div",22)(1,"button",23),Pe(2,"i",24),E()()),2&t){ae();const e=ze(2);de(1),ve("ngbTooltip",e)}}function CB(t,n){if(1&t&&(b(0,"div"),Te(1,bB,3,1,"ng-template",null,21,it),Te(3,wB,3,1,"div",29),E()),2&t){const e=ae(5).$implicit;de(3),ve("ngIf",e.sous_missions.length>0)}}function EB(t,n){if(1&t&&(b(0,"div",12),Te(1,gB,1,0,"i",13),Te(2,yB,1,0,"i",14),Te(3,vB,1,0,"i",15),b(4,"span",16),K(5),E()(),Te(6,CB,4,1,"div",17)),2&t){const e=ae().$implicit;de(1),ve("ngIf",0===e.verif),de(1),ve("ngIf",1===e.verif),de(1),ve("ngIf",2===e.verif),de(2),bt(e.name),de(1),ve("ngIf",0==e.sous_missions2.length)}}function TB(t,n){1&t&&Pe(0,"div")}function SB(t,n){1&t&&Pe(0,"i",18)}function DB(t,n){1&t&&Pe(0,"i",19)}function OB(t,n){1&t&&Pe(0,"i",20)}function NB(t,n){if(1&t&&(K(0,"Hello, "),b(1,"b"),K(2),E(),K(3,"!")),2&t){const e=ae(8).$implicit;de(2),bt(e.name)}}function xB(t,n){if(1&t&&(b(0,"div",12),Te(1,SB,1,0,"i",13),Te(2,DB,1,0,"i",14),Te(3,OB,1,0,"i",15),b(4,"span",16),K(5),E()(),Te(6,NB,4,1,"ng-template",null,21,it),b(8,"div",22)(9,"button",23),Pe(10,"i",24),E()()),2&t){const e=ze(7),i=ae().$implicit;de(1),ve("ngIf",0===i.verif),de(1),ve("ngIf",1===i.verif),de(1),ve("ngIf",2===i.verif),de(2),bt(i.name),de(4),ve("ngbTooltip",e)}}function AB(t,n){1&t&&Pe(0,"div")}function MB(t,n){if(1&t){const e=Le();b(0,"div",34)(1,"label",35),Pe(2,"i",36),b(3,"input",37),_e("change",function(r){ye(e);const o=ae(2).$implicit,s=ae(3).$implicit,a=ae(3).$implicit;return ae().onFileSelected2(r,a.id,s.id,o.id)}),E()(),K(4),E()}if(2&t){const e=ae(2).$implicit,i=ae(7);de(1),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function IB(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2," Suppression de fichier "),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",48),K(9),E()()(),b(10,"p")(11,"span",49),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",50)(14,"button",51),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",52),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function PB(t,n){if(1&t){const e=Le();b(0,"button",42),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(3).$implicit,a=ae(3).$implicit,d=ae(3).$implicit;return ae().open2(o,d.id,r,a.id,s.id)}),Pe(1,"i",53),E()}}function kB(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,IB,18,1,"ng-template",null,39,it),b(3,"td")(4,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,PB,2,0,"button",41),b(9,"button",42),_e("click",function(){const o=ye(e).index,s=ae(3).$implicit,a=ae(3).$implicit,d=ae(3).$implicit;return ae().download2(d.id,o,a.id,s.id)}),Pe(10,"i",43),E()()()}if(2&t){const e=n.$implicit,i=ae(10);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function RB(t,n){if(1&t){const e=Le();b(0,"table",38)(1,"thead")(2,"tr")(3,"th"),K(4,"Nom"),E(),b(5,"th"),K(6,"Date"),E(),b(7,"th"),K(8,"Action"),E()()(),b(9,"tbody"),Te(10,kB,11,5,"tr",6),E()(),b(11,"div",34)(12,"label",35),Pe(13,"i",36),b(14,"input",37),_e("change",function(r){ye(e);const o=ae(2).$implicit,s=ae(3).$implicit,a=ae(3).$implicit;return ae().onFileSelected2(r,a.id,s.id,o.id)}),E()(),K(15),E()}if(2&t){const e=ae(2).$implicit,i=ae(7);de(10),ve("ngForOf",e.fichier),de(2),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function FB(t,n){if(1&t&&(Te(0,AB,1,0,"div",25),Te(1,MB,5,3,"ng-template",null,32,it),Te(3,RB,16,4,"ng-template",null,33,it)),2&t){const e=ze(2),i=ze(4);ve("ngIf",0==ae().$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function jB(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",9),Te(3,xB,11,5,"ng-template",10),Te(4,FB,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;de(2),ve("id","toggle-"+e.id)}}function $B(t,n){if(1&t&&(b(0,"div",0),Te(1,jB,5,1,"ngb-accordion",6),E()),2&t){const e=ae(2).$implicit;de(1),ve("ngForOf",e.sous_missions2)}}function BB(t,n){1&t&&Pe(0,"div")}function LB(t,n){if(1&t){const e=Le();b(0,"div",34)(1,"label",35),Pe(2,"i",36),b(3,"input",37),_e("change",function(r){ye(e);const o=ae(3).$implicit,s=ae(3).$implicit;return ae().onFileSelected1(r,s.id,o.id)}),E()(),K(4),E()}if(2&t){const e=ae(3).$implicit,i=ae(4);de(1),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function VB(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2," Suppression de fichier "),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",48),K(9),E()()(),b(10,"p")(11,"span",49),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",50)(14,"button",51),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",52),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function UB(t,n){if(1&t){const e=Le();b(0,"button",42),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(4).$implicit,a=ae(3).$implicit;return ae().open1(o,a.id,r,s.id)}),Pe(1,"i",53),E()}}function HB(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,VB,18,1,"ng-template",null,57,it),b(3,"td")(4,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,UB,2,0,"button",41),b(9,"button",42),_e("click",function(){const o=ye(e).index,s=ae(4).$implicit,a=ae(3).$implicit;return ae().download1(a.id,o,s.id)}),Pe(10,"i",43),E()()()}if(2&t){const e=n.$implicit,i=ae(8);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function GB(t,n){if(1&t){const e=Le();b(0,"table",38)(1,"thead")(2,"tr")(3,"th"),K(4,"Nom"),E(),b(5,"th"),K(6,"Date"),E(),b(7,"th"),K(8,"Action"),E()()(),b(9,"tbody"),Te(10,HB,11,5,"tr",6),E()(),b(11,"div",34)(12,"label",56),Pe(13,"i",36),b(14,"input",37),_e("change",function(r){ye(e);const o=ae(3).$implicit,s=ae(3).$implicit;return ae().onFileSelected1(r,s.id,o.id)}),E()(),K(15),E()}if(2&t){const e=ae(3).$implicit,i=ae(4);de(10),ve("ngForOf",e.fichier),de(2),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function qB(t,n){if(1&t&&(Te(0,BB,1,0,"div",25),Te(1,LB,5,3,"ng-template",null,54,it),Te(3,GB,16,4,"ng-template",null,55,it)),2&t){const e=ze(2),i=ze(4);ve("ngIf",0==ae(2).$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function WB(t,n){if(1&t&&(Te(0,TB,1,0,"div",25),Te(1,$B,2,1,"ng-template",null,30,it),Te(3,qB,5,3,"ng-template",null,31,it)),2&t){const e=ze(2),i=ze(4);ve("ngIf",ae().$implicit.sous_missions2.length>0)("ngIfThen",e)("ngIfElse",i)}}function zB(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",28),Te(3,EB,7,5,"ng-template",10),Te(4,WB,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;de(2),ve("id","toggle-"+e.id)}}function YB(t,n){1&t&&Te(0,zB,5,1,"ngb-accordion",6),2&t&&ve("ngForOf",ae(2).$implicit.sous_missions)}function KB(t,n){1&t&&Pe(0,"div")}function ZB(t,n){if(1&t){const e=Le();b(0,"div",34)(1,"label",35),Pe(2,"i",36),b(3,"input",37),_e("change",function(r){ye(e);const o=ae(3).$implicit;return ae().onFileSelected(r,o.id)}),E()(),K(4),E()}if(2&t){const e=ae(3).$implicit,i=ae();de(1),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function JB(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2," Suppression de fichier "),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",48),K(9),E()()(),b(10,"p")(11,"span",49),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",50)(14,"button",51),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",52),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function QB(t,n){if(1&t){const e=Le();b(0,"button",42),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(4).$implicit;return ae().open(o,s.id,r)}),Pe(1,"i",53),E()}}function XB(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,JB,18,1,"ng-template",null,60,it),b(3,"td")(4,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",40),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,QB,2,0,"button",41),b(9,"button",42),_e("click",function(){const o=ye(e).index,s=ae(4).$implicit;return ae().download(s.id,o)}),Pe(10,"i",43),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function e6(t,n){if(1&t){const e=Le();b(0,"table",38)(1,"thead")(2,"tr")(3,"th"),K(4,"Nom"),E(),b(5,"th"),K(6,"Date"),E(),b(7,"th"),K(8,"Action"),E()()(),b(9,"tbody"),Te(10,XB,11,5,"tr",6),E()(),b(11,"div",34)(12,"label",56),Pe(13,"i",36),b(14,"input",37),_e("change",function(r){ye(e);const o=ae(3).$implicit;return ae().onFileSelected(r,o.id)}),E()(),K(15),E()}if(2&t){const e=ae(3).$implicit,i=ae();de(10),ve("ngForOf",e.fichier),de(2),Ki("display",e.displayBtn?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function t6(t,n){if(1&t&&(Te(0,KB,1,0,"div",25),Te(1,ZB,5,3,"ng-template",null,58,it),Te(3,e6,16,4,"ng-template",null,59,it)),2&t){const e=ze(2),i=ze(4);ve("ngIf",0==ae(2).$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function n6(t,n){if(1&t&&(Te(0,mB,1,0,"div",25),Te(1,YB,1,1,"ng-template",null,26,it),Te(3,t6,5,3,"ng-template",null,27,it)),2&t){const e=ze(2),i=ze(4);ve("ngIf",ae().$implicit.sous_missions.length>0)("ngIfThen",e)("ngIfElse",i)}}function i6(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",9),Te(3,_B,7,5,"ng-template",10),Te(4,n6,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;de(2),ve("id","toggle-"+e.id)}}let r6=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k){this.userService=e,this.userinfo=i,this.siteService=r,this.modalService=s,this.modal=a,this.DataService=d,this.http=w,this.adminService=k,this.closeResult="",this.Missions=[{id:"0",name:"0. Plans de pr\xe9vention des risques",sous_missions:[],fichier:Array(),verif:0,id_bdd:1,displayBtn:!0},{id:"1",name:"1. Organisation de la radioprotection",sous_missions:[{id:"1",name:"1. Lettres de nomination des PCR",sous_missions2:[],fichier:Array(),verif:0,id_bdd:3,displayBtn:!0},{id:"2",name:"2. Dipl\xf4me des PCR",sous_missions2:[],fichier:Array(),verif:0,id_bdd:4,displayBtn:!0},{id:"3",name:"3. Plan d'organisation de la radioprotection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:5,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:2},{id:"2",name:"2. G\xe9n\xe9rateurs de rayonnements ionisants",sous_missions:[{id:"1",name:"1. SIGIS pour l'IRSN",sous_missions2:[],fichier:Array(),verif:0,id_bdd:7,displayBtn:!0},{id:"2",name:"2. Accus\xe9 d'autorisation ASN",sous_missions2:[],fichier:Array(),verif:0,id_bdd:8,displayBtn:!0},{id:"3",name:"3. Fiche ID et marquage CE",sous_missions2:[],fichier:Array(),verif:0,id_bdd:9,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:6},{id:"3",name:"3. V\xe9rifications de radioprotection",sous_missions:[{id:"1",name:"1. Certificats de v\xe9rification p\xe9riodique de l'\xe9talonnage des appareils de mesure",sous_missions2:[],fichier:Array(),verif:0,id_bdd:11,displayBtn:!0},{id:"2",name:"2. Pr\xe9visionnel des v\xe9rifications de radioprotection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:12,displayBtn:!0},{id:"3",name:"3. Equipements de protection individuelle",sous_missions2:[{id:"0",name:"0. Proc\xe9dure de v\xe9rification d'un \xe9quipement de protection ",fichier:Array(),verif:0,id_bdd:14,displayBtn:!0},{id:"1",name:"1. Inventaire et v\xe9rification des \xe9quipements de protection",fichier:Array(),verif:0,id_bdd:15,displayBtn:!0},{id:"2",name:"2. Fiches de non-conformit\xe9",fichier:Array(),verif:0,id_bdd:16,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:13}],fichier:Array(),verif:0,id_bdd:10},{id:"4",name:"4. Evaluation des risques radiologiques",sous_missions:[{id:"1",name:"1. Evaluation des expositions des travailleurs",sous_missions2:[],fichier:Array(),verif:0,id_bdd:18,displayBtn:!0},{id:"2",name:"2. Evaluation individuelle des expositions \xe0 priori",sous_missions2:[],fichier:Array(),verif:0,id_bdd:19,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:17},{id:"5",name:"5. D\xe9limitation des zones r\xe9glement\xe9es",sous_missions:[{id:"1",name:"1. Plans de zonage",sous_missions2:[],fichier:Array(),verif:0,id_bdd:21,displayBtn:!0},{id:"2",name:"2. Rapport de d\xe9limitation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:22,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:20},{id:"6",name:"6. Affichages r\xe9glementaire",sous_missions:[{id:"1",name:"1. Consignes d'acc\xe8s en zones",sous_missions2:[],fichier:Array(),verif:0,id_bdd:24,displayBtn:!0},{id:"2",name:"2 Tr\xe8fles de zone et de sources radiog\xe8nes",sous_missions2:[],fichier:Array(),verif:0,id_bdd:25,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:23},{id:"7",name:"7. Suivi dosim\xe9trique d'ambiance",sous_missions:[],fichier:Array(),verif:0,id_bdd:26,displayBtn:!0},{id:"8",name:"8. Formations radioprotection des travailleurs",sous_missions:[{id:"1",name:"1. R\xe9f\xe9rences r\xe9glementaires",sous_missions2:[],fichier:Array(),verif:0,id_bdd:28,displayBtn:!0},{id:"2",name:"2. Programme et fascicule de la formation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:29,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentiel",sous_missions2:[],fichier:Array(),verif:0,id_bdd:30,displayBtn:!0},{id:"4",name:"4. Attestation de formation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:31,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:27},{id:"9",name:"9. Conformit\xe9 des locaux",sous_missions:[{id:"1",name:"1. Plans des salles",sous_missions2:[],fichier:Array(),verif:0,id_bdd:33,displayBtn:!0},{id:"2",name:"2. Rapports techniques \xe0 la DC 0591",sous_missions2:[],fichier:Array(),verif:0,id_bdd:34,displayBtn:!0},{id:"3",name:"3. Docs constructeur",sous_missions2:[],fichier:Array(),verif:0,id_bdd:35,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:32},{id:"10",name:"10. Veille r\xe9glementaire",sous_missions:[],fichier:Array(),verif:0,id_bdd:36,displayBtn:!0},{id:"11",name:"11. Inspection ASN",sous_missions:[{id:"1",name:"1. Lettre de suite d'inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:38,displayBtn:!0},{id:"2",name:"2. Pr\xe9paration Inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:39,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentation lors de l'inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:40,displayBtn:!0},{id:"4",name:"4. R\xe9ponses suite Inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:41,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:37},{id:"12",name:"12. Proc\xe9dures particuli\xe8res",sous_missions:[],fichier:Array(),verif:0,id_bdd:42,displayBtn:!0},{id:"13",name:"13. \xc9v\xe8nement de radioprotection",sous_missions:[{id:"1",name:"1. Rapport de d\xe9claration",sous_missions2:[],fichier:Array(),verif:0,id_bdd:44,displayBtn:!0},{id:"2",name:"2. Compte rendu de d\xe9claration",sous_missions2:[],fichier:Array(),verif:0,id_bdd:45,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:43},{id:"14",name:"14. Note d'information radioprotection",sous_missions:[],fichier:Array(),verif:0,id_bdd:46,displayBtn:!0},{id:"15",name:"15. Bilans (r\xe9unions, CHSCT,...)",sous_missions:[],fichier:Array(),verif:0,id_bdd:47,displayBtn:!0}],this.tempSite="temp",this.sitesTab=[{name:"",id:0}],this.structuresTab=[{name:"structure par defaut",id:1}],this.missionsTab=[{mission:"loading",missionId:0,files:[],filename:"",uploadDate:"",_id:0,siteId:0}],this.test=!0,this.pdfMissing="",this.fieldArray=[],this.newAttribute={},this.newfichier=[],this.date=new Date,this.pipe=new Ib("fr-FR"),o.backdrop="static",o.keyboard=!1,this.selected={name:"selectionner un site",id:"0"}}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.structureSel={name:"Loading...",id:0},this.getSites(),this.start()}changeselect(e){var i;this.Missions=[{id:"0",name:"0. Plans de pr\xe9vention des risques",sous_missions:[],fichier:Array(),verif:0,id_bdd:1,displayBtn:!0},{id:"1",name:"1. Organisation de la radioprotection",sous_missions:[{id:"1",name:"1. Lettres de nomination des PCR",sous_missions2:[],fichier:Array(),verif:0,id_bdd:3,displayBtn:!0},{id:"2",name:"2. Dipl\xf4me des PCR",sous_missions2:[],fichier:Array(),verif:0,id_bdd:4,displayBtn:!0},{id:"3",name:"3. Plan d'organisation de la radioprotection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:5,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:2},{id:"2",name:"2. G\xe9n\xe9rateurs de rayonnements ionisants",sous_missions:[{id:"1",name:"1. SIGIS pour l'IRSN",sous_missions2:[],fichier:Array(),verif:0,id_bdd:7,displayBtn:!0},{id:"2",name:"2. Accus\xe9 d'autorisation ASN",sous_missions2:[],fichier:Array(),verif:0,id_bdd:8,displayBtn:!0},{id:"3",name:"3. Fiche ID et marquage CE",sous_missions2:[],fichier:Array(),verif:0,id_bdd:9,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:6},{id:"3",name:"3. V\xe9rifications de radioprotection",sous_missions:[{id:"1",name:"1. Certificats de v\xe9rification p\xe9riodique de l'\xe9talonnage des appareils de mesure",sous_missions2:[],fichier:Array(),verif:0,id_bdd:11,displayBtn:!0},{id:"2",name:"2. Pr\xe9visionnel des v\xe9rifications de radioprotection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:12,displayBtn:!0},{id:"3",name:"3. Equipements de protection individuelle",sous_missions2:[{id:"0",name:"0. Proc\xe9dure de v\xe9rification d'un \xe9quipement de protection ",fichier:Array(),verif:0,id_bdd:14,displayBtn:!0},{id:"1",name:"1. Inventaire et v\xe9rification des \xe9quipements de protection",fichier:Array(),verif:0,id_bdd:15,displayBtn:!0},{id:"2",name:"2. Fiches de non-conformit\xe9",fichier:Array(),verif:0,id_bdd:16,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:13}],fichier:Array(),verif:0,id_bdd:10},{id:"4",name:"4. Evaluation des risques radiologiques",sous_missions:[{id:"1",name:"1. Evaluation des expositions des travailleurs",sous_missions2:[],fichier:Array(),verif:0,id_bdd:18,displayBtn:!0},{id:"2",name:"2. Evaluation individuelle des expositions \xe0 priori",sous_missions2:[],fichier:Array(),verif:0,id_bdd:19,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:17},{id:"5",name:"5. D\xe9limitation des zones r\xe9glement\xe9es",sous_missions:[{id:"1",name:"1. Plans de zonage",sous_missions2:[],fichier:Array(),verif:0,id_bdd:21,displayBtn:!0},{id:"2",name:"2. Rapport de d\xe9limitation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:22,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:20},{id:"6",name:"6. Affichages r\xe9glementaire",sous_missions:[{id:"1",name:"1. Consignes d'acc\xe8s en zones",sous_missions2:[],fichier:Array(),verif:0,id_bdd:24,displayBtn:!0},{id:"2",name:"2 Tr\xe8fles de zone et de sources radiog\xe8nes",sous_missions2:[],fichier:Array(),verif:0,id_bdd:25,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:23},{id:"7",name:"7. Suivi dosim\xe9trique d'ambiance",sous_missions:[],fichier:Array(),verif:0,id_bdd:26,displayBtn:!0},{id:"8",name:"8. Formations radioprotection des travailleurs",sous_missions:[{id:"1",name:"1. R\xe9f\xe9rences r\xe9glementaires",sous_missions2:[],fichier:Array(),verif:0,id_bdd:28,displayBtn:!0},{id:"2",name:"2. Programme et fascicule de la formation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:29,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentiel",sous_missions2:[],fichier:Array(),verif:0,id_bdd:30,displayBtn:!0},{id:"4",name:"4. Attestation de formation",sous_missions2:[],fichier:Array(),verif:0,id_bdd:31,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:27},{id:"9",name:"9. Conformit\xe9 des locaux",sous_missions:[{id:"1",name:"1. Plans des salles",sous_missions2:[],fichier:Array(),verif:0,id_bdd:33,displayBtn:!0},{id:"2",name:"2. Rapports techniques \xe0 la DC 0591",sous_missions2:[],fichier:Array(),verif:0,id_bdd:34,displayBtn:!0},{id:"3",name:"3. Docs constructeur",sous_missions2:[],fichier:Array(),verif:0,id_bdd:35,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:32},{id:"10",name:"10. Veille r\xe9glementaire",sous_missions:[],fichier:Array(),verif:0,id_bdd:36,displayBtn:!0},{id:"11",name:"11. Inspection ASN",sous_missions:[{id:"1",name:"1. Lettre de suite d'inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:38,displayBtn:!0},{id:"2",name:"2. Pr\xe9paration Inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:39,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentation lors de l'inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:40,displayBtn:!0},{id:"4",name:"4. R\xe9ponses suite Inspection",sous_missions2:[],fichier:Array(),verif:0,id_bdd:41,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:37},{id:"12",name:"12. Proc\xe9dures particuli\xe8res",sous_missions:[],fichier:Array(),verif:0,id_bdd:42,displayBtn:!0},{id:"13",name:"13. \xc9v\xe8nement de radioprotection",sous_missions:[{id:"1",name:"1. Rapport de d\xe9claration",sous_missions2:[],fichier:Array(),verif:0,id_bdd:44,displayBtn:!0},{id:"2",name:"2. Compte rendu de d\xe9claration",sous_missions2:[],fichier:Array(),verif:0,id_bdd:45,displayBtn:!0}],fichier:Array(),verif:0,id_bdd:43},{id:"14",name:"14. Note d'information radioprotection",sous_missions:[],fichier:Array(),verif:0,id_bdd:46,displayBtn:!0},{id:"15",name:"15. Bilans (r\xe9unions, CHSCT,...)",sous_missions:[],fichier:Array(),verif:0,id_bdd:47,displayBtn:!0}];const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.structureSel=this.sitesTab.find(s=>s.name.trim()==e.target.value.trim()),this.actual=null===(i=this.sitesTab.find(s=>s.name.trim()==e.target.value.trim()))||void 0===i?void 0:i.name,this.selected={name:this.actual},this.tempSite=this.actual,this.http.get("/api/site/"+this.userService.structure,o).subscribe(s=>{const a=Object.values(s);for(let d=0;d<this.sitesTab.length;d++)this.actual==a[d].name&&(this.tempSite=a[d]._id,this.getMissions())}),this.verifFile()}verifFile(){for(let e of this.Missions){if(e.sous_missions.length>0){let i=0,r=0;for(let o of e.sous_missions){if(o.sous_missions2.length>0){r=0;for(let s of o.sous_missions2)s.fichier.length>0?(s.verif=2,r+=1,i+=1):s.verif=0;r===o.sous_missions2.length?(o.verif=2,i+=1):o.verif=r<o.sous_missions2.length&&0!=r?1:0}else o.fichier.length>0?r===o.sous_missions2.length?(o.verif=2,i+=1):o.verif=1:o.verif=0;if(0!=o.sous_missions2.length){let s=0,a=0,d=0;for(let w of o.sous_missions2)0===w.verif?d++:1===w.verif?a++:s++;e.verif=s===o.sous_missions2.length?2:0!=a||0!=s?1:0}}e.verif=i===e.sous_missions.length?2:i<e.sous_missions.length&&0!=i?1:0}else e.verif=e.fichier.length>0?2:0;if(0!=e.sous_missions.length){let i=0,r=0,o=0;for(let s of e.sous_missions)0===s.verif?o++:1===s.verif?r++:i++;e.verif=i===e.sous_missions.length?2:0!=r||0!=i?1:0}}}addFieldValue(e){for(let i of this.Missions)i.id==e&&(i.fichier.push(this.newAttribute),this.newAttribute={});this.verifFile()}deleteFieldValue(e,i){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};for(let o of this.Missions)o.id==e&&(this.http.delete("/api/uploads/files/"+o.fichier[0]._id,r).subscribe(s=>{o.displayBtn=!0,o.verif=0}),o.fichier.splice(i,1))}deleteFieldValue1(e,i,r){const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};for(let s of this.Missions)if(s.id==e)for(let a of s.sous_missions)a.id==r&&(this.http.delete("/api/uploads/files/"+a.fichier[0]._id,o).subscribe(d=>{a.displayBtn=!0,a.verif=0}),a.fichier.splice(i,1));this.verifFile()}deleteFieldValue2(e,i,r,o){const s={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};for(let a of this.Missions)if(a.id==e)for(let d of a.sous_missions)if(d.id==r)for(let w of d.sous_missions2)w.id==o&&(this.http.delete("/api/uploads/files/"+w.fichier[0]._id,s).subscribe(k=>{w.displayBtn=!0,w.verif=0}),w.fichier.splice(i,1));this.verifFile()}onFileSelected(e,i){const o=e.target.files;if("application/pdf"==o[0].type){for(let a of this.Missions)if(a.id==i){this.newAttribute.name=o[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let d=a.id_bdd.toString(),w=this.tempSite;var s=new FormData;s.append("file",o[0]),s.append("missions_id",d),s.append("sites_id",w),s.append("client_id",this.userService.id),this.DataService.UploadData(s).subscribe(k=>{this.data=k,a.id=this.data.file.id,a.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),this.pdfMissing="",a.displayBtn=!1,a.verif=2})}}else this.pdfMissing="Please select a PDF"}onFileSelected1(e,i,r){const s=e.target.files;if("application/pdf"==s[0].type){for(let d of this.Missions)if(d.id==i)for(let w of d.sous_missions)if(w.id==r){this.newAttribute.name=s[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let k=w.id_bdd.toString(),ee=this.tempSite;var a=new FormData;a.append("file",s[0]),a.append("missions_id",k),a.append("sites_id",ee),a.append("client_id",this.userService.id),this.DataService.UploadData(a).subscribe(se=>{this.data=se,w.id=this.data.file.id,w.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),d.verif=1,this.pdfMissing="",w.displayBtn=!1,w.verif=2})}}else this.pdfMissing="Please select a PDF";this.verifFile()}onFileSelected2(e,i,r,o){const a=e.target.files;if("application/pdf"==a[0].type){for(let w of this.Missions)if(w.id==i)for(let k of w.sous_missions)if(k.id==r)for(let ee of k.sous_missions2)if(ee.id==o){this.newAttribute.name=a[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let se=ee.id_bdd.toString(),me=this.tempSite;var d=new FormData;d.append("file",a[0]),d.append("missions_id",se),d.append("sites_id",me),d.append("client_id",this.userService.id),this.DataService.UploadData(d).subscribe(xe=>{this.data=xe,ee.id=this.data.file.id,ee.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),w.verif=1,k.verif=1,this.pdfMissing="",ee.displayBtn=!1,ee.verif=2})}}else this.pdfMissing="Please select a PDF";this.verifFile()}open(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteFieldValue(i,r)},o=>{})}open1(e,i,r,o){this.modalService.open(e).result.then(s=>{this.closeResult=`Closed with: ${s}`,this.deleteFieldValue1(i,r,o)},s=>{})}open2(e,i,r,o,s){this.modalService.open(e).result.then(a=>{this.closeResult=`Closed with: ${a}`,this.deleteFieldValue2(i,r,o,s)},a=>{})}download2(e,i,r,o){for(let d of this.Missions)if(d.id==e)for(let w of d.sous_missions)if(w.id==r)for(let k of w.sous_missions2)k.id==o&&window.open("/api/uploads/files/download/"+k.fichier[i].name)}download(e,i){for(let s of this.Missions)s.id==e&&window.open("/api/uploads/files/download/"+s.fichier[i].name)}download1(e,i,r){for(let a of this.Missions)if(a.id==e)for(let d of a.sous_missions)d.id==r&&window.open("/api/uploads/files/download/"+d.fichier[i].name)}getMissions(){this.missionsTab=[],this.siteService.getMissionsBySiteID(this.userService.id).subscribe(e=>{e.forEach(r=>this.missionsTab.push(r));for(let r=0;r<this.Missions.length;r++)if(0==this.Missions[r].sous_missions.length){const o=this.missionsTab.find(s=>Number(s.missionId)===this.Missions[r].id_bdd&&s.siteId.toString()===this.tempSite);o?(this.Missions[r].fichier.push({name:o.filename,date:o.uploadDate,_id:o._id,siteId:o.siteId}),this.Missions[r].verif=2,this.Missions[r].displayBtn=!1):this.Missions[r].displayBtn=!0}else{let o=0;for(let s=0;s<this.Missions[r].sous_missions.length;s++)if(0==this.Missions[r].sous_missions[s].sous_missions2.length){const a=this.missionsTab.find(d=>Number(d.missionId)===this.Missions[r].sous_missions[s].id_bdd&&d.siteId.toString()===this.tempSite);a?(this.Missions[r].sous_missions[s].fichier.push({name:a.filename,date:a.uploadDate,_id:a._id,siteId:a.siteId}),this.Missions[r].sous_missions[s].verif=2,o+=1,this.Missions[r].sous_missions[s].displayBtn=!1):this.Missions[r].sous_missions[s].displayBtn=!0,this.Missions[r].verif=o===this.Missions[r].sous_missions.length?2:o<this.Missions[r].sous_missions.length&&0!=o?1:0}else{let a=0;for(let d=0;d<this.Missions[r].sous_missions[s].sous_missions2.length;d++){const w=this.missionsTab.find(k=>Number(k.missionId)===this.Missions[r].sous_missions[s].sous_missions2[d].id_bdd&&k.siteId.toString()===this.tempSite);w?(this.Missions[r].sous_missions[s].sous_missions2[d].fichier.push({name:w.filename,date:w.uploadDate,_id:w._id,siteId:w.siteId}),this.Missions[r].sous_missions[s].sous_missions2[d].verif=2,a+=1,this.Missions[r].sous_missions[s].sous_missions2[d].displayBtn=!1):this.Missions[r].sous_missions[s].sous_missions2[d].displayBtn=!0}this.Missions[r].sous_missions[s].verif=a===this.Missions[r].sous_missions[s].sous_missions2.length?2:a<this.Missions[r].sous_missions[s].sous_missions2.length&&0!=a?1:0}}})}parseNameFile(e){const i=e.lastIndexOf("/");return e.slice(i+1)}getSites(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);this.actual=r[0].name;for(let o=0;o<r.length;o++)r[o].email==this.userService.mail&&(this.userService.structure=r[o].structure,this.http.get("/api/site/"+r[o].structure,e).subscribe(s=>{const a=Object.values(s);this.sitesTab=[{name:"Choisir un site ...",id:0}];for(let d=0;d<a.length;d++)this.sitesTab.push({name:a[d].name,id:a[d]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(s=>{this.sitesTab=[],s.forEach(a=>this.sitesTab.push(a))}))}),this.verifFile()}}return t.\u0275fac=function(e){return new(e||t)(be(zn),be(Jr),be(zd),be($i),be(Bi),be(bi),be(Yd),be(Fn),be(Is))},t.\u0275cmp=Wt({type:t,selectors:[["app-missions-rp"]],features:[tn([bi,Bi,$i])],decls:15,vars:3,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],["acc","ngbAccordion"],[3,"id"],["ngbPanelTitle","","class","row justify-content-between"],["ngbPanelContent",""],[1,"col-12","col-md-11"],["class","bi bi-x-circle-fill invalid",4,"ngIf"],["class","bi bi-clock-fill incomplete",4,"ngIf"],["class","bi bi-check-circle-fill valid",4,"ngIf"],[1,"ms-md-3"],[4,"ngIf"],[1,"bi","bi-x-circle-fill","invalid"],[1,"bi","bi-clock-fill","incomplete"],[1,"bi","bi-check-circle-fill","valid"],["tipContent",""],[1,"col-0"],["type","button",1,"btn","btn-outline-success",3,"ngbTooltip"],[1,"bi","bi-info-circle"],[4,"ngIf","ngIfThen","ngIfElse"],["sousmissions",""],["tableau",""],[1,"bg-black",3,"id"],["class","col-0",4,"ngIf"],["sousmissions1",""],["tableau2",""],["vide1",""],["tableau2_2",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","file-upload","btn-outline-primary"],[1,"bi","bi-plus-circle"],["type","file",1,"file-upload",2,"display","none",3,"change"],[1,"table","table-striped","table-bordered"],["content2",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],["class","btn btn-lg btn-outline-primary",3,"click",4,"ngIf"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-download"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"],["vide2",""],["tableau1_2",""],[1,"btn","btn-lg","file-upload","btn-outline-primary"],["content1",""],["vide0",""],["tableau0_2",""],["content",""]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Missions RP"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Te(8,uB,2,1,"option",6),E(),b(9,"div",7)(10,"div",2)(11,"h3"),K(12),E()()()()()()(),b(13,"div",0),Te(14,i6,5,1,"ngb-accordion",6),E()),2&e&&(de(8),ve("ngForOf",i.sitesTab),de(4),bt(i.selected.name),de(2),ve("ngForOf",i.Missions))},directives:[Ni,ws,Cs,Om,jd,Sm,ji,sB,Dm,xi,Qi,Kr],styles:[".valid[_ngcontent-%COMP%]{color:#41d43c;margin-left:100}.incomplete[_ngcontent-%COMP%]{color:#fcad03}.invalid[_ngcontent-%COMP%]{color:#f32525}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}.d-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),t})(),o6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["app-error-page"]],decls:2,vars:0,template:function(e,i){1&e&&(b(0,"p"),K(1,"ERROR"),E())},styles:[""]}),t})();const Su={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Su;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(o=>{e=void 0,t(o)});return new D(()=>null==e?void 0:e(r))},requestAnimationFrame(...t){const{delegate:n}=Su;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Su;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0},d6=new class c6 extends lm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class u6 extends am{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Su.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Su.cancelAnimationFrame(e),n._scheduled=void 0)}});let Rm,p6=1;const Kd={};function VT(t){return t in Kd&&(delete Kd[t],!0)}const f6={setImmediate(t){const n=p6++;return Kd[n]=!0,Rm||(Rm=Promise.resolve()),Rm.then(()=>VT(n)&&t()),n},clearImmediate(t){VT(t)}},{setImmediate:h6,clearImmediate:_6}=f6,Zd={setImmediate(...t){const{delegate:n}=Zd;return((null==n?void 0:n.setImmediate)||h6)(...t)},clearImmediate(t){const{delegate:n}=Zd;return((null==n?void 0:n.clearImmediate)||_6)(t)},delegate:void 0},y6=new class g6 extends lm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class m6 extends am{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Zd.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Zd.clearImmediate(e),n._scheduled=void 0)}}),v6=["content"],b6=["scroll"],w6=["padding"],Du=function(t){return{searchTerm:t}};function C6(t,n){if(1&t&&(b(0,"div",6),Cc(1,7),E()),2&t){const e=ae();de(1),ve("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",_o(2,Du,e.filterValue))}}function E6(t,n){if(1&t&&(b(0,"div",8),Cc(1,7),E()),2&t){const e=ae();de(1),ve("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",_o(2,Du,e.filterValue))}}const UT=["*"],T6=["searchInput"];function S6(t,n){if(1&t){const e=Le();b(0,"span",15),_e("click",function(){ye(e);const r=ae().$implicit;return ae(2).unselect(r)}),K(1,"\xd7"),E(),Pe(2,"span",16)}if(2&t){const e=ae().$implicit,i=ae(2);de(2),ve("ngItemLabel",e.label)("escape",i.escapeHTML)}}function D6(t,n){}const O6=function(t,n,e){return{item:t,clear:n,label:e}};function N6(t,n){if(1&t&&(b(0,"div",12),Te(1,S6,3,2,"ng-template",null,13,it),Te(3,D6,0,0,"ng-template",14),E()),2&t){const e=n.$implicit,i=ze(2),r=ae(2);on("ng-value-disabled",e.disabled),de(3),ve("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",Ac(4,O6,e.value,r.clearItem,e.label))}}function x6(t,n){if(1&t&&(co(0),Te(1,N6,4,8,"div",11),po()),2&t){const e=ae();de(1),ve("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function A6(t,n){}const M6=function(t,n){return{items:t,clear:n}};function I6(t,n){if(1&t&&Te(0,A6,0,0,"ng-template",14),2&t){const e=ae();ve("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",Sa(2,M6,e.selectedValues,e.clearItem))}}function P6(t,n){1&t&&Pe(0,"div",19)}function k6(t,n){}function R6(t,n){if(1&t&&(co(0),Te(1,P6,1,0,"ng-template",null,17,it),Te(3,k6,0,0,"ng-template",18),po()),2&t){const e=ze(2),i=ae();de(3),ve("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function F6(t,n){1&t&&(b(0,"span",20)(1,"span",21),K(2,"\xd7"),E()()),2&t&&ot("title",ae().clearAllText)}function j6(t,n){if(1&t&&Pe(0,"span",27),2&t){const e=ae().$implicit,i=ae(2);ve("ngItemLabel",e.label)("escape",i.escapeHTML)}}function $6(t,n){}const B6=function(t,n,e,i){return{item:t,item$:n,index:e,searchTerm:i}};function L6(t,n){if(1&t){const e=Le();b(0,"div",25),_e("click",function(){const o=ye(e).$implicit;return ae(2).toggleItem(o)})("mouseover",function(){const o=ye(e).$implicit;return ae(2).onItemHover(o)}),Te(1,j6,1,2,"ng-template",null,26,it),Te(3,$6,0,0,"ng-template",14),E()}if(2&t){const e=n.$implicit,i=ze(2),r=ae(2);on("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),Bt("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),de(3),ve("ngTemplateOutlet",e.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",f1(17,B6,e.value,e,e.index,r.searchTerm))}}function V6(t,n){if(1&t&&(b(0,"span")(1,"span",30),K(2),E(),K(3),E()),2&t){const e=ae(3);de(2),bt(e.addTagText),de(1),Jt('"',e.searchTerm,'"')}}function U6(t,n){}function H6(t,n){if(1&t){const e=Le();b(0,"div",28),_e("mouseover",function(){return ye(e),ae(2).itemsList.unmarkItem()})("click",function(){return ye(e),ae(2).selectTag()}),Te(1,V6,4,2,"ng-template",null,29,it),Te(3,U6,0,0,"ng-template",14),E()}if(2&t){const e=ze(2),i=ae(2);on("ng-option-marked",!i.itemsList.markedItem),de(3),ve("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",_o(4,Du,i.searchTerm))}}function G6(t,n){if(1&t&&(b(0,"div",32),K(1),E()),2&t){const e=ae(3);de(1),bt(e.notFoundText)}}function q6(t,n){}function W6(t,n){if(1&t&&(co(0),Te(1,G6,2,1,"ng-template",null,31,it),Te(3,q6,0,0,"ng-template",14),po()),2&t){const e=ze(2),i=ae(2);de(3),ve("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",_o(2,Du,i.searchTerm))}}function z6(t,n){if(1&t&&(b(0,"div",32),K(1),E()),2&t){const e=ae(3);de(1),bt(e.typeToSearchText)}}function Y6(t,n){}function K6(t,n){if(1&t&&(co(0),Te(1,z6,2,1,"ng-template",null,33,it),Te(3,Y6,0,0,"ng-template",18),po()),2&t){const e=ze(2),i=ae(2);de(3),ve("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function Z6(t,n){if(1&t&&(b(0,"div",32),K(1),E()),2&t){const e=ae(3);de(1),bt(e.loadingText)}}function J6(t,n){}function Q6(t,n){if(1&t&&(co(0),Te(1,Z6,2,1,"ng-template",null,34,it),Te(3,J6,0,0,"ng-template",14),po()),2&t){const e=ze(2),i=ae(2);de(3),ve("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",_o(2,Du,i.searchTerm))}}function X6(t,n){if(1&t){const e=Le();b(0,"ng-dropdown-panel",22),_e("update",function(r){return ye(e),ae().viewPortItems=r})("scroll",function(r){return ye(e),ae().scroll.emit(r)})("scrollToEnd",function(r){return ye(e),ae().scrollToEnd.emit(r)})("outsideClick",function(){return ye(e),ae().close()}),co(1),Te(2,L6,4,22,"div",23),Te(3,H6,4,6,"div",24),po(),Te(4,W6,4,4,"ng-container",3),Te(5,K6,4,1,"ng-container",3),Te(6,Q6,4,4,"ng-container",3),E()}if(2&t){const e=ae();on("ng-select-multiple",e.multiple),ve("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),de(2),ve("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),de(1),ve("ngIf",e.showAddTag),de(1),ve("ngIf",e.showNoItemsFound()),de(1),ve("ngIf",e.showTypeToSearch()),de(1),ve("ngIf",e.loading&&0===e.itemsList.filteredItems.length)}}const HT=/[&<>"']/g,eL=RegExp(HT.source),tL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function jn(t){return null!=t}function Ou(t){return"object"==typeof t&&jn(t)}function Jd(t){return t instanceof Function}let rL=(()=>{class t{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function nL(t){return t&&eL.test(t)?t.replace(HT,n=>tL[n]):t}(this.ngItemLabel):this.ngItemLabel}}return t.\u0275fac=function(e){return new(e||t)(be(Qt))},t.\u0275dir=Ze({type:t,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Ln]}),t})(),oL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-option-tmp",""]]}),t})(),sL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-optgroup-tmp",""]]}),t})(),aL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-label-tmp",""]]}),t})(),lL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-multi-label-tmp",""]]}),t})(),uL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-header-tmp",""]]}),t})(),cL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-footer-tmp",""]]}),t})(),dL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-notfound-tmp",""]]}),t})(),pL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-typetosearch-tmp",""]]}),t})(),fL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-loadingtext-tmp",""]]}),t})(),hL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-tag-tmp",""]]}),t})(),_L=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-loadingspinner-tmp",""]]}),t})();function GT(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const mL={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Qd(t){return t.replace(/[^\u0000-\u007E]/g,e=>mL[e]||e)}class gL{constructor(n,e){this._ngSelect=n,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const e=this.selectedItems[n];if(!e.disabled)return e}return null}setItems(n){this._items=n.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(n,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){!n.selected||(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&jn(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let e;return e=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(n){const e=this.mapItem(n,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(e=>{e.selected=n&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=Qd(n).toLocaleLowerCase(),this.filteredItems.find(e=>Qd(e.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:Qd(n).toLocaleLowerCase();const e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const r of Array.from(this._groups.keys())){const o=[];for(const s of this._groups.get(r))i&&(s.parent&&s.parent.selected||s.selected)||e(n,this._ngSelect.searchFn?s.value:s)&&o.push(s);if(o.length>0){const[s]=o.slice(-1);if(s.parent){const a=this._items.find(d=>d===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,e){if(!Ou(n))return n;if(-1===e.indexOf("."))return n[e];{const i=e.split(".");let r=n;for(let o=0,s=i.length;o<s;++o){if(null==r)return null;r=r[i[o]]}return r}}mapItem(n,e){const i=jn(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),r=jn(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:e,label:jn(i)?i.toString():"",value:r,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const e of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=jn(i)?this.findItem(i):null;this._selectionModel.unselect(e,n),this._selectionModel.select(r||e,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const e=n.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(n.children)for(const e of n.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(e=>e!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==n))}_defaultSearchFn(n,e){return Qd(e.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,e){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[e])){for(const s of n){const a=(s.value[e]||[]).map((d,w)=>this.mapItem(d,w));i.set(s,a)}return i}const r=Jd(this._ngSelect.groupBy),o=s=>{const a=r?e(s.value):s.value[e];return jn(a)?a:void 0};for(const s of n){const a=o(s),d=i.get(a);d?d.push(s):i.set(a,[s])}return i}_flatten(n){const e=Jd(this._ngSelect.groupBy),i=[];for(const r of Array.from(n.keys())){let o=i.length;if(void 0===r){const ee=n.get(void 0)||[];i.push(...ee.map(se=>(se.index=o++,se)));continue}const s=Ou(r),a={label:s?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:GT()},d=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,w=this._ngSelect.groupValue||(()=>s?r.value:{[d]:r}),k=n.get(r).map(ee=>(ee.parent=a,ee.children=void 0,ee.index=o++,ee));a.children=k,a.value=w(r,k.map(ee=>ee.value)),i.push(a),i.push(...k)}return i}}var Ar=(()=>{return(t=Ar||(Ar={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown",t[t.Backspace=8]="Backspace",Ar;var t})();let qT=(()=>{class t{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,r){const o=this._dimensions,s=o.itemHeight*i,d=Math.max(0,e)/s*i;let w=Math.min(i,Math.ceil(d)+(o.itemsPerViewport+1));const ee=Math.max(0,w-o.itemsPerViewport);let se=Math.min(ee,Math.floor(d)),me=o.itemHeight*Math.ceil(se)-o.itemHeight*Math.min(se,r);return me=isNaN(me)?0:me,se=isNaN(se)?-1:se,w=isNaN(w)?-1:w,se-=r,se=Math.max(0,se),w+=r,w=Math.min(i,w),{topPadding:me,scrollHeight:s,start:se,end:w}}setDimensions(e,i){const r=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:r}}getScrollTo(e,i,r){const{panelHeight:o}=this.dimensions,s=e+i,d=r+o;return o>=s&&r===e?null:s>d?r+s-d:e<=r?e:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const WT=["top","right","bottom","left"],yL="undefined"!=typeof requestAnimationFrame?d6:y6;let zT=(()=>{class t{constructor(e,i,r,o,s){this._renderer=e,this._zone=i,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new gt,this.scroll=new gt,this.scrollToEnd=new gt,this.outsideClick=new gt,this._destroy$=new Ee,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:i}=this._panelService.dimensions,r=this.markedItem.index*e;return i>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;const r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){const s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*s,s,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${e.htmlId}`);o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,i?s.offsetTop:this._lastScrollPosition)}jn(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),WT.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){WT.forEach(r=>{const o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});const i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{ti(this.scrollElementRef.nativeElement,"scroll").pipe(vn(this._destroy$),function a6(t,n=pu){return function s6(t){return ue((n,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const w=r;r=null,e.next(w)}s&&e.complete()},d=()=>{o=null,s&&e.complete()};n.subscribe(N(e,w=>{i=!0,r=w,o||Ke(t(w)).subscribe(o=N(e,a,d))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Ad(t,n))}(0,yL)).subscribe(e=>{const i=e.path||e.composedPath&&e.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{kr(ti(this._document,"touchstart",{capture:!0}),ti(this._document,"mousedown",{capture:!0})).pipe(vn(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const i=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),jn(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=r*this.itemsLength+"px",this._panelService.setDimensions(r,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+e.getBoundingClientRect().height>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-i.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-e.bottom+r+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-i.top+r+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{ti(this._dropdown,"mousedown").pipe(vn(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(mn),be(qT),be(Qt),be(Hn,8))},t.\u0275cmp=Wt({type:t,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,i){if(1&e&&(Vo(v6,7,Qt),Vo(b6,7,Qt),Vo(w6,7,Qt)),2&e){let r;jt(r=$t())&&(i.contentElementRef=r.first),jt(r=$t())&&(i.scrollElementRef=r.first),jt(r=$t())&&(i.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Ln],ngContentSelectors:UT,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,i){1&e&&(Dl(),Te(0,C6,2,4,"div",0),b(1,"div",1,2),Pe(3,"div",null,3),b(5,"div",null,4),Ol(7),E()(),Te(8,E6,2,4,"div",5)),2&e&&(ve("ngIf",i.headerTemplate),de(3),on("total-padding",i.virtualScroll),de(2),on("scrollable-content",i.virtualScroll&&i.items.length),de(3),ve("ngIf",i.footerTemplate))},directives:[ji,_s],encapsulation:2,changeDetection:0}),t})(),vL=(()=>{class t{constructor(e){this.elementRef=e,this.stateChange$=new Ee,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!=`${e}`}}return t.\u0275fac=function(e){return new(e||t)(be(Qt))},t.\u0275cmp=Wt({type:t,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[Ln],ngContentSelectors:UT,decls:1,vars:0,template:function(e,i){1&e&&(Dl(),Ol(0))},encapsulation:2,changeDetection:0}),t})(),Xd=(()=>{class t{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bL=(()=>{class t{warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YT=new kt("ng-select-selection-model");let ep=(()=>{class t{constructor(e,i,r,o,s,a,d){this.classes=e,this.autoFocus=i,this.config=r,this._cd=a,this._console=d,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=w=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new gt,this.focusEvent=new gt,this.changeEvent=new gt,this.openEvent=new gt,this.closeEvent=new gt,this.searchEvent=new gt,this.clearEvent=new gt,this.addEvent=new gt,this.removeEvent=new gt,this.scroll=new gt,this.scrollToEnd=new gt,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=GT(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Ee,this._keyPress$=new Ee,this._onChange=w=>{},this._onTouched=()=>{},this.clearItem=w=>{const k=this.selectedItems.find(ee=>ee.value===w);this.unselect(k)},this.trackByOption=(w,k)=>this.trackByFn?this.trackByFn(k.value):k,this._mergeGlobalConfig(r),this.itemsList=new gL(this,o()),this.element=s.nativeElement}get items(){return this._items}set items(e){null===e&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!Jd(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return jn(this._clearSearchOnAdd)?this._clearSearchOnAdd:jn(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=jn(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),jn(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Ar[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case Ar.ArrowDown:this._handleArrowDown(e);break;case Ar.ArrowUp:this._handleArrowUp(e);break;case Ar.Space:this._handleSpace(e);break;case Ar.Enter:this._handleEnter(e);break;case Ar.Tab:this._handleTab(e);break;case Ar.Esc:this.close(),e.preventDefault();break;case Ar.Backspace:this._handleBackspace()}}handleMousedown(e){const i=e.target;"INPUT"!==i.tagName&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){!e||(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=Jd(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);!function iL(t){return t instanceof Promise}(e)?e&&this.select(i(e)):e.then(r=>this.select(i(r))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=jn(i)?!Ou(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&jn(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const r=kr(this.ngOptions.changes,this._destroy$);kr(...this.ngOptions.map(o=>o.stateChange$)).pipe(vn(r)).subscribe(o=>{const s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Wl(this.ngOptions),vn(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),i()})}_isValidWriteValue(e){if(!jn(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const i=r=>!(!jn(this.compareWith)&&Ou(r)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(r=>i(r)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const i=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{const s=Ou(r),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>i(r)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(vn(this._destroy$),ui(e=>this._pressedKeys.push(e)),function l6(t,n=pu){return ue((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function d(){const w=s+t,k=n.now();if(k<w)return r=this.schedule(void 0,w-k),void i.add(r);a()}e.subscribe(N(i,w=>{o=w,s=n.now(),r||(r=n.schedule(d,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(200),ei(()=>this._pressedKeys.length>0),H(()=>this._pressedKeys.join(""))).subscribe(e=>{const i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,i=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const r of Object.keys(i))e.setAttribute(r,i[r])}_updateNgModel(){const e=[];for(const r of this.selectedItems)if(this.bindValue){let o=null;o=r.children?r.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(r.value,this.bindValue),e.push(o)}else e.push(r.value);const i=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(jn(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=jn(this.virtualScroll)?this.virtualScroll:!!jn(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=jn(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}}return t.\u0275fac=function(e){return new(e||t)(ao("class"),ao("autofocus"),be(Xd),be(YT),be(Qt),be(Zi),be(bL))},t.\u0275cmp=Wt({type:t,selectors:[["ng-select"]],contentQueries:function(e,i,r){if(1&e&&(nn(r,oL,5,At),nn(r,sL,5,At),nn(r,aL,5,At),nn(r,lL,5,At),nn(r,uL,5,At),nn(r,cL,5,At),nn(r,dL,5,At),nn(r,pL,5,At),nn(r,fL,5,At),nn(r,hL,5,At),nn(r,_L,5,At),nn(r,vL,5)),2&e){let o;jt(o=$t())&&(i.optionTemplate=o.first),jt(o=$t())&&(i.optgroupTemplate=o.first),jt(o=$t())&&(i.labelTemplate=o.first),jt(o=$t())&&(i.multiLabelTemplate=o.first),jt(o=$t())&&(i.headerTemplate=o.first),jt(o=$t())&&(i.footerTemplate=o.first),jt(o=$t())&&(i.notFoundTemplate=o.first),jt(o=$t())&&(i.typeToSearchTemplate=o.first),jt(o=$t())&&(i.loadingTextTemplate=o.first),jt(o=$t())&&(i.tagTemplate=o.first),jt(o=$t())&&(i.loadingSpinnerTemplate=o.first),jt(o=$t())&&(i.ngOptions=o)}},viewQuery:function(e,i){if(1&e&&(Vo(zT,5),Vo(T6,7)),2&e){let r;jt(r=$t())&&(i.dropdownPanel=r.first),jt(r=$t())&&(i.searchInput=r.first)}},hostVars:20,hostBindings:function(e,i){1&e&&_e("keydown",function(o){return i.handleKeyDown(o)}),2&e&&on("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[tn([{provide:Ji,useExisting:ct(()=>t),multi:!0},qT]),Ln],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,i){if(1&e){const r=Le();b(0,"div",0),_e("mousedown",function(s){return i.handleMousedown(s)}),b(1,"div",1)(2,"div",2),K(3),E(),Te(4,x6,2,2,"ng-container",3),Te(5,I6,1,5,null,3),b(6,"div",4)(7,"input",5,6),_e("input",function(){ye(r);const s=ze(8);return i.filter(s.value)})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){ye(r);const s=ze(8);return i.onCompositionEnd(s.value)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("change",function(s){return s.stopPropagation()}),E()()(),Te(9,R6,4,1,"ng-container",3),Te(10,F6,3,1,"span",7),b(11,"span",8),Pe(12,"span",9),E()(),Te(13,X6,7,19,"ng-dropdown-panel",10)}2&e&&(on("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),de(3),bt(i.placeholder),de(1),ve("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),de(1),ve("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),de(1),Bt("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),de(1),ve("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),Bt("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),de(2),ve("ngIf",i.loading),de(1),ve("ngIf",i.showClear()),de(3),ve("ngIf",i.isOpen))},directives:[zT,ji,Ni,rL,_s,Ob],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),t})();function wL(){return new CL}class CL{constructor(){this._selected=[]}get value(){return this._selected}select(n,e,i){if(n.selected=!0,(!n.children||!e&&i)&&this._selected.push(n),e)if(n.parent){const r=n.parent.children.length,o=n.parent.children.filter(s=>s.selected).length;n.parent.selected=r===o}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(r=>r.parent!==n),n]:[...this._selected,...n.children.filter(r=>!r.disabled)])}unselect(n,e){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,e)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(r=>r!==n&&!r.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(n,e){for(const i of n)i.disabled||(i.selected=e)}_removeChildren(n){this._selected=[...this._selected.filter(e=>e.parent!==n),...n.children.filter(e=>e.parent===n&&e.disabled&&e.selected)]}_removeParent(n){this._selected=this._selected.filter(e=>e!==n)}_activeChildren(n){return n.children.every(e=>!e.disabled||e.selected)}}let Fm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:[{provide:YT,useValue:wL}],imports:[[li]]}),t})();const tp={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let KT=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/equipments/"}getMaterialsByClientId(e){return this.http.get(this.apiUrl+`${e}`,tp)}AddMaterials(e="nom",i="marque",r="modele",o="2000",s,a,d,w){return this.http.post(this.apiUrl,{name:e,brand:i,type:w.name,year:o,category:s,clientId:a,modelType:r,sites_id:d},tp)}DeleteMaterials(e){return this.http.delete(this.apiUrl+`${e}`,tp)}UpdateMaterials(e,i,r,o){return this.http.put(this.apiUrl,{MaterialId:e,brand:i,model:r,years:o},tp)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZT={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let EL=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/verifications/"}getRapportsBySiteId(e){return this.http.get(this.apiUrl+`${e}`,ZT)}AddRapport(e,i,r,o,s,a,d){return this.http.post(this.apiUrl+`${a}`,{name:i,conformity:r,year:o,type:s,sites_id:d},ZT)}DeleteRapport(e){return this.http.delete(this.apiUrl+`${e}`,{headers:{"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`,"Content-Type":"application/json"}})}UpdateRapport(e,i,r){return this.http.put(this.apiUrl+`${e}`,{conformity:r},{headers:{"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`,"Content-Type":"application/json"}})}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function TL(t,n){if(1&t&&(b(0,"option"),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.name)}}function SL(t,n){1&t&&Pe(0,"div",11)}function DL(t,n){if(1&t){const e=Le();b(0,"div",12)(1,"button",13),_e("click",function(){return ye(e),ae().modetableau()}),Pe(2,"i",14),E()()}}function OL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2," Suppression du Rapport "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le rapport : "),b(8,"span",52),K(9),E()()(),b(10,"p")(11,"span",53),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function NL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2," Suppression du fichier "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",52),K(9),E()()(),b(10,"p")(11,"span",53),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function xL(t,n){if(1&t){const e=Le();b(0,"button",23),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(3).openSupprRapportInitFile(o,s,r)}),Pe(1,"i",65),E()}}function AL(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,NL,18,1,"ng-template",null,60,it),b(3,"td")(4,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,xL,2,0,"button",62),b(9,"button",63),_e("click",function(){const o=ye(e).index,s=ae(2).index;return ae(3).downloadRappInit(s,o)}),Pe(10,"i",64),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function ML(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2,"Fichier"),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,AL,11,5,"tr",6),E()()(),b(16,"div",57)(17,"label",58),Pe(18,"i",14),b(19,"input",59),_e("change",function(r){ye(e);const o=ae().index;return ae(3).onFileSelectedRapportInit(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(),i=e.index,r=e.$implicit,o=ae(3);de(15),ve("ngForOf",o.RapportInit[i].RapportFile),de(1),ve("hidden",r.length>0),de(4),Jt(" ",o.pdfMissing," ")}}function IL(t,n){if(1&t){const e=Le();b(0,"button",66),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprRapportInit(o,r)}),Pe(1,"i",65),E()}}function PL(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,OL,18,1,"ng-template",null,41,it),b(3,"td")(4,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.year=r}),E()(),b(5,"td")(6,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(7,"td"),Te(8,ML,21,3,"ng-template",43,44,it),b(10,"button",45),_e("click",function(){const o=ye(e).index,s=ze(9);return ae(3).open(s,!0,o)}),Pe(11,"i",14),E()(),b(12,"td")(13,"div",46),_e("ngModelChange",function(r){const s=ye(e).index;return ae(3).RapportInit[s].conformity=r}),b(14,"label",47)(15,"input",48),_e("click",function(){const o=ye(e).index;return ae(3).UpdateRapportInit(o,!0)}),E(),K(16," Conforme "),E(),b(17,"label",49)(18,"input",48),_e("click",function(){const o=ye(e).index;return ae(3).UpdateRapportInit(o,!1)}),E(),K(19," Non Conforme "),E()()(),b(20,"td")(21,"ng-select",50),_e("ngModelChange",function(r){const s=ye(e).index;return ae(3).RapportInit[s].MaterialsAssocie=r})("add",function(r){const s=ye(e).index;return ae(3).addMaterialInit(r,s)})("remove",function(r){const s=ye(e).index;return ae(3).removeMaterialInit(r,s)})("clear",function(){const o=ye(e).index;return ae(3).clearMaterialsInit(o)}),E()(),b(22,"td"),Te(23,IL,2,0,"button",51),E()()}if(2&t){const e=n.$implicit,i=n.index,r=ae(3);de(4),ot("name",e.year),ve("ngModel",e.year),de(2),ot("name",e.name),ve("ngModel",e.name),de(7),ga("name","radioBasic",i,""),ve("ngModel",r.RapportInit[i].conformity),de(2),ve("value",!0)("checked",r.RapportInit[i].conformity),de(3),ve("value",!1)("checked",!r.RapportInit[i].conformity),de(2),Bt("contenteditable",!1),de(1),ve("items",r.ListMateriels)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",r.RapportInit[i].MaterialsAssocie),de(2),ve("ngIf",r.test)}}function kL(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir une date de Rapport "),E())}function RL(t,n){if(1&t&&(b(0,"div",67),Te(1,kL,2,0,"div",68),E()),2&t){ae();const e=ze(24);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function FL(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir un nom de rapport "),E())}function jL(t,n){if(1&t&&(b(0,"div",67),Te(1,FL,2,0,"div",68),E()),2&t){ae();const e=ze(27);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function $L(t,n){if(1&t){const e=Le();b(0,"button",69),_e("click",function(){return ye(e),ae(3).addFieldValueRapportInit()}),Pe(1,"i",14),E()}if(2&t){ae();const e=ze(24),i=ze(27),r=ae(2);ve("disabled",e.invalid||r.Verif.annee<r.date_min||r.Verif.annee>r.date||i.invalid)}}function BL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th",30),K(9,"Ann\xe9e"),E(),b(10,"th",31),K(11,"Nom du Rapport"),E(),b(12,"th",32),K(13,"Fichier Rapport"),E(),b(14,"th",33),K(15,"Conformit\xe9"),E(),b(16,"th"),K(17,"Equipements"),E(),b(18,"th"),K(19,"Action"),E()()(),b(20,"tbody"),Te(21,PL,24,17,"tr",6),E()()(),b(22,"div",34)(23,"input",35,36),_e("ngModelChange",function(r){return ye(e),ae(2).newRapportInit.year=r}),E(),Te(25,RL,2,1,"div",37),b(26,"input",38,39),_e("ngModelChange",function(r){return ye(e),ae(2).newRapportInit.name=r}),E(),Te(28,jL,2,1,"div",37),Te(29,$L,2,1,"button",40),E()}if(2&t){const e=ze(24),i=ze(27),r=ae(2);de(2),Jt(" V\xe9rifications initiales ou renouvellement de ",r.selected.name," "),de(19),ve("ngForOf",r.RapportInit),de(2),ot("min",r.date_min),ot("max",r.date.toString()),ot("value",r.date.toString()),ve("ngModel",r.newRapportInit.year),de(2),ve("ngIf",e.invalid&&(e.dirty||e.touched)),de(1),ve("ngModel",r.newRapportInit.name),de(2),ve("ngIf",i.invalid&&(i.dirty||i.touched)),de(1),ve("ngIf",r.test)}}function LL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2," Suppression du Rapport "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le rapport : "),b(8,"span",52),K(9),E()()(),b(10,"p")(11,"span",53),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function VL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2," Suppression du fichier "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",52),K(9),E()()(),b(10,"p")(11,"span",53),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function UL(t,n){if(1&t){const e=Le();b(0,"button",23),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(3).openSupprRapportPeriodFile(o,s,r)}),Pe(1,"i",65),E()}}function HL(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,VL,18,1,"ng-template",null,72,it),b(3,"td")(4,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,UL,2,0,"button",62),b(9,"button",63),_e("click",function(){const o=ye(e).index,s=ae(2).index;return ae(3).downloadRappPeriod(s,o)}),Pe(10,"i",64),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function GL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2,"Fichier"),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,HL,11,5,"tr",6),E()()(),b(16,"div",57)(17,"label",58),Pe(18,"i",14),b(19,"input",59),_e("change",function(r){ye(e);const o=ae().index;return ae(3).onFileSelectedRapportPeriod(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(),i=e.index,r=e.$implicit,o=ae(3);de(15),ve("ngForOf",o.RapportPeriod[i].RapportFile),de(1),ve("hidden",r.length>0),de(4),Jt(" ",o.pdfMissing," ")}}function qL(t,n){if(1&t){const e=Le();b(0,"button",66),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprRapportPeriod(o,r)}),Pe(1,"i",65),E()}}function WL(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,LL,18,1,"ng-template",null,70,it),b(3,"td")(4,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.year=r}),E()(),b(5,"td")(6,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(7,"td"),Te(8,GL,21,3,"ng-template",43,71,it),b(10,"button",45),_e("click",function(){const o=ye(e).index,s=ze(9);return ae(3).open(s,!0,o)}),Pe(11,"i",14),E()(),b(12,"td")(13,"div",46),_e("ngModelChange",function(r){const s=ye(e).index;return ae(3).RapportPeriod[s].conformity=r}),b(14,"label",47)(15,"input",48),_e("click",function(){const o=ye(e).index;return ae(3).UpdateRapportPeriod(o,!0)}),E(),K(16," Conforme "),E(),b(17,"label",49)(18,"input",48),_e("click",function(){const o=ye(e).index;return ae(3).UpdateRapportPeriod(o,!1)}),E(),K(19," Non Conforme "),E()()(),b(20,"td")(21,"ng-select",50),_e("ngModelChange",function(r){const s=ye(e).index;return ae(3).RapportPeriod[s].MaterialsAssocie=r})("add",function(r){const s=ye(e).index;return ae(3).addMaterialPeriod(r,s)})("remove",function(r){const s=ye(e).index;return ae(3).removeMaterialPeriod(r,s)})("clear",function(){const o=ye(e).index;return ae(3).clearMaterialsPeriod(o)}),E()(),b(22,"td"),Te(23,qL,2,0,"button",51),E()()}if(2&t){const e=n.$implicit,i=n.index,r=ae(3);de(4),ot("name",e.year),ve("ngModel",e.year),de(2),ot("name",e.name),ve("ngModel",e.name),de(7),ga("name","radioBasic",i,""),ve("ngModel",r.RapportPeriod[i].conformity),de(2),ve("value",!0)("checked",r.RapportPeriod[i].conformity),de(3),ve("value",!1)("checked",!r.RapportPeriod[i].conformity),de(3),ve("items",r.ListMateriels)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",r.RapportPeriod[i].MaterialsAssocie),Bt("disabled",!!r.test&&"disabled"),de(2),ve("ngIf",r.test)}}function zL(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir une date de Rapport "),E())}function YL(t,n){if(1&t&&(b(0,"div",67),Te(1,zL,2,0,"div",68),E()),2&t){ae();const e=ze(24);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function KL(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir un nom de rapport "),E())}function ZL(t,n){if(1&t&&(b(0,"div",67),Te(1,KL,2,0,"div",68),E()),2&t){ae();const e=ze(27);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function JL(t,n){if(1&t){const e=Le();b(0,"div",25)(1,"h4",26),K(2),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th",30),K(9,"Ann\xe9e"),E(),b(10,"th",31),K(11,"Nom du Rapport"),E(),b(12,"th",32),K(13,"Fichier Rapport"),E(),b(14,"th",33),K(15,"Conformit\xe9"),E(),b(16,"th"),K(17,"Equipements"),E(),b(18,"th"),K(19,"Action"),E()()(),b(20,"tbody"),Te(21,WL,24,17,"tr",6),E()()(),b(22,"div",34)(23,"input",35,36),_e("ngModelChange",function(r){return ye(e),ae(2).newRapportPeriod.year=r}),E(),Te(25,YL,2,1,"div",37),b(26,"input",38,39),_e("ngModelChange",function(r){return ye(e),ae(2).newRapportPeriod.name=r}),E(),Te(28,ZL,2,1,"div",37),b(29,"button",69),_e("click",function(){return ye(e),ae(2).addFieldValueRapportPeriod()}),Pe(30,"i",14),E()()}if(2&t){const e=ze(24),i=ze(27),r=ae(2);de(2),Jt(" V\xe9rifications P\xe9riodiques ",r.selected.name," "),de(19),ve("ngForOf",r.RapportPeriod),de(2),ot("min",r.date_min),ot("max",r.date.toString()),ot("value",r.date.toString()),ve("ngModel",r.newRapportPeriod.year),de(2),ve("ngIf",e.invalid&&(e.dirty||e.touched)),de(1),ve("ngModel",r.newRapportPeriod.name),de(2),ve("ngIf",i.invalid&&(i.dirty||i.touched)),de(1),ve("disabled",e.invalid||r.Verif.annee<r.date_min||r.Verif.annee>r.date||i.invalid)}}function QL(t,n){1&t&&Pe(0,"i",73)}function XL(t,n){1&t&&Pe(0,"i",74)}function e8(t,n){1&t&&Pe(0,"i",73)}function t8(t,n){1&t&&Pe(0,"i",74)}function n8(t,n){if(1&t){const e=Le();b(0,"div",15),Pe(1,"div",16),E(),Te(2,BL,30,10,"ng-template",null,17,it),Te(4,JL,31,10,"ng-template",null,18,it),Pe(6,"br")(7,"br")(8,"br"),b(9,"div",19)(10,"div",20)(11,"h5"),Te(12,QL,1,0,"i",21),Te(13,XL,1,0,"i",22),K(14," V\xe9rification initiale ou renouvellement de sites "),b(15,"button",23),_e("click",function(){ye(e);const r=ze(3);return ae().open(r,!1,0)}),Pe(16,"i",24),E()()()(),Pe(17,"br")(18,"br")(19,"br")(20,"br"),b(21,"div",19)(22,"div",20)(23,"h5"),Te(24,e8,1,0,"i",21),Te(25,t8,1,0,"i",22),K(26," V\xe9rifications P\xe9riodiques "),b(27,"button",23),_e("click",function(){ye(e);const r=ze(5);return ae().open(r,!1,0)}),Pe(28,"i",24),E()()()()}if(2&t){const e=ae();de(12),ve("ngIf",0==e.VerifConformityInit()),de(1),ve("ngIf",0!=e.VerifConformityInit()),de(11),ve("ngIf",0==e.VerifConformityPeriod()),de(1),ve("ngIf",0!=e.VerifConformityPeriod())}}let i8=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k,ee,se,me){this.userinfo=e,this.modalService=r,this.modal=o,this.http=s,this.DataService=a,this.configNG=d,this.siteService=w,this.userService=k,this.materialsService=ee,this.rapportService=se,this.adminService=me,this.siteSel={name:"Loading...",id:"1"},this.sitesTab=[{name:"Loading...",id:"1"}],this.tempSite="temp",this.closeResult="",this.ajout=!1,this.newfileRapportInit={},this.newfileRapportPeriodic={},this.date2=new Date,this.listRapportTemp=[],this.pdfMissing="",this.newMat=[],this.originMat=[],this.ListMateriel=[{name:"Equipements",type:"Scanner",id:0,model:"Equipements",brand:"marque",years:"2000",categorie:"A",equipement_type:"Type d'equipement"}],this.newRapportInit={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020,sites_id:""},this.newRapportPeriod={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:1,year:2020,sites_id:""},this.ListRapport=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:!1,year:2020,sites_id:"test"}],this.ListRapportTest=[{name:"Rapport dimanche",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 1",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 2",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020},{name:"rapport 3",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020},{name:"rapport 4",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 3",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020}],this.RapportInit=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020,sites_id:"test"}],this.RapportPeriod=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020,sites_id:"test"}],this.Materiels=[{name:"Source scell\xe9es",id:1},{name:"Source non scell\xe9es",id:2},{name:"Appareil de curieth\xe9rapie (source de haute activit\xe9)",id:3},{name:"Acc\xe9l\xe9rateurs de particules",id:4},{name:"Scanner",id:5},{name:"Arceau de bloc C-arm",id:6},{name:"Arceau de bloc mini-C-arm",id:7},{name:"Acreau de bloc O-arm",id:8},{name:"Angiographe num\xe9ris\xe9",id:9},{name:"Table t\xe9l\xe9command\xe9e",id:10},{name:"Suspension plafonni\xe8re",id:11},{name:"Mammographe",id:12},{name:"Mammotome",id:13},{name:"Panoramique dentaire",id:14},{name:"Mobile de radiologie",id:15},{name:"Cabine EOS",id:16},{name:"Cone beam",id:17},{name:"R\xe9troalv\xe9olaire",id:18}],this.Categorie=[{name:"Pas de Categorie",id:0},{name:"Cat\xe9gorie A",id:1},{name:"Cat\xe9gorie B",id:2},{name:"Cat\xe9gorie C",id:3},{name:"Cat\xe9gorie D",id:4}],this.ListMateriels=[{id:"1",name:"Scanner",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"2",name:"Arceau de bloc C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"3",name:"Arceau de bloc mini-C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"4",name:"Mammographe",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"5",name:"Panoramique dentaire",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1}],this.date=(new Date).getFullYear(),this.Verif={annee:this.date,rapport_txt:"",rapport:Array(),conformite:!1,conformite_checkbox:!1},this.test=!0,this.date_min=this.date-30,this.selected={name:"Sites",id:"1"},this.originMat=this.ListMateriels}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.start(),this.getSites(),this.getEquipment()}changeselect(e){var i;this.ListRapport=[];const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.structureSel=this.sitesTab.find(o=>o.name==e.target.value),this.actual=null===(i=this.sitesTab.find(o=>o.name.trim()==e.target.value.trim()))||void 0===i?void 0:i.name,this.selected={name:this.actual},this.tempSite=this.actual,this.http.get("/api/site/"+this.userService.structure,r).subscribe(o=>{const s=Object.values(o);for(let a=0;a<this.sitesTab.length-1;a++)this.actual==s[a].name&&(this.ListRapport=[],this.tempSite=s[a]._id,this.TrieRapport())})}TrieRapport(){this.getRapports()}TrierRapport(){this.RapportPeriod=[],this.RapportInit=[];for(let e of this.ListRapport)!1===e.type&&this.RapportInit.push(e),!0===e.type&&this.RapportPeriod.push(e);this.RapportInit=this.RapportInit.sort((e,i)=>i.year-e.year),this.RapportPeriod=this.RapportPeriod.sort((e,i)=>i.year-e.year),this.VerifConformityPeriod(),this.VerifConformityInit()}modetableau(){this.ajout=1!=this.ajout,this.TrieRapport()}open(e,i,r){if(this.TrieRapport(),i){const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/verifications/uploads/files/"+this.userService.id,o).subscribe(s=>{const a=Object.values(s);for(let d=0;d<a.length;d++)r<this.RapportInit.length&&a[d].verifId===this.RapportInit[r]._id?this.RapportInit[r].RapportFile[0]={name:a[d].filename,date:a[d].uploadDate}:r<this.RapportPeriod.length&&a[d].verifId===this.RapportPeriod[r]._id&&(this.RapportPeriod[r].RapportFile[0]={name:a[d].filename,date:a[d].uploadDate})})}this.modalService.open(e,{size:"xl",scrollable:!0}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{})}openSupprRapportInit(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.DeleteRapport(this.RapportInit[i]._id),this.deleteFieldRapportInit(i),this.TrieRapport()},r=>{})}openSupprRapportPeriod(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.DeleteRapport(this.RapportPeriod[i]._id),this.deleteFieldRapportPeriod(i),this.TrieRapport()},r=>{})}downloadRappPeriod(e,i){window.open("/api/verifications/uploads/files/download/"+this.RapportPeriod[e].RapportFile[0].name)}downloadRappInit(e,i){window.open("/api/verifications/uploads/files/download/"+this.RapportInit[e].RapportFile[0].name)}addFieldValueRapportInit(){this.AddRapportInit(),this.newRapportInit={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020,sites_id:"test"},this.RapportInit.length>=1&&(this.RapportInit=this.RapportInit.sort((e,i)=>i.year-e.year)),this.TrieRapport()}addFieldValueRapportPeriod(){this.AddRapportPeriod(),this.RapportPeriod.push(this.newRapportPeriod),this.newRapportPeriod={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020,sites_id:"test"},this.RapportPeriod.length>=1&&(this.RapportPeriod=this.RapportPeriod.sort((e,i)=>i.year-e.year)),this.TrieRapport()}deleteFieldRapportInit(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/verifications/uploads/files/"+this.RapportInit[e]._id,i).subscribe(r=>{console.log(r)}),this.RapportInit.splice(e,1)}deleteFieldRapportPeriod(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/verifications/uploads/files/"+this.RapportPeriod[e]._id,i).subscribe(r=>{console.log(r)}),this.RapportPeriod.splice(e,1)}onFileSelectedRapportInit(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.newfileRapportInit.name=o[0].name,this.date2=new Date,this.newfileRapportInit.date=this.date2.toLocaleString(),this.RapportInit[i].RapportFile.push(this.newfileRapportInit);let a="1";var s=new FormData;s.append("file",o[0]),s.append("file_type",a),s.append("verifIndex",this.RapportInit[i]._id),this.DataService.UploadDataVerif(s).subscribe(d=>{this.pdfMissing=""})}else this.pdfMissing="Please select a PDF"}onFileSelectedRapportPeriod(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.newfileRapportPeriodic.name=o[0].name,this.date2=new Date,this.newfileRapportPeriodic.date=this.date2.toLocaleString(),this.RapportPeriod[i].RapportFile.push(this.newfileRapportPeriodic),this.newfileRapportPeriodic={};let a="1";var s=new FormData;s.append("file",o[0]),s.append("file_type",a),s.append("verification","true"),s.append("verifIndex",this.RapportPeriod[i]._id),this.DataService.UploadDataVerif(s).subscribe(d=>{this.pdfMissing=""})}else this.pdfMissing="Please select a PDF"}openSupprRapportInitFile(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`;const s={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/verifications/uploads/files/"+this.RapportInit[i]._id,s).subscribe(a=>{console.log(a)}),this.RapportInit[i].RapportFile.splice(r,1)},o=>{})}openSupprRapportPeriodFile(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`;const s={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/verifications/uploads/files/"+this.RapportPeriod[i]._id,s).subscribe(a=>{console.log(a)}),this.RapportPeriod[i].RapportFile.splice(r,1)},o=>{})}getRapports(){this.rapportService.getRapportsBySiteId(this.userService.id).subscribe(i=>{this.ListRapport=[],i.forEach(r=>{r.RapportFile=[];const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/verifications/materials/"+r._id,o).subscribe(s=>{r.MaterialsAssocie=s}),r.siteId==this.tempSite&&(this.ListRapport.push(r),this.listRapportTemp.push(r),this.TrierRapport(),this.getEquipment())}),this.ListRapport.length<1&&this.TrierRapport()}),new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})}addMaterialInit(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/"+this.RapportInit[i]._id,o,r).subscribe(s=>{})}}addMaterialPeriod(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/"+this.RapportPeriod[i]._id,o,r).subscribe(s=>{})}}removeMaterialInit(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/remove/"+this.RapportInit[i]._id,o,r).subscribe(s=>{})}}removeMaterialPeriod(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/remove/"+this.RapportPeriod[i]._id,o,r).subscribe(s=>{})}}clearMaterialsInit(e){if(1==this.test){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/verifications/materials/clear/"+this.RapportInit[e]._id,{},i).subscribe(o=>{})}}clearMaterialsPeriod(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/verifications/materials/clear/"+this.RapportPeriod[e]._id,{},i).subscribe(o=>{})}VerifConformityInit(){return 0==this.RapportInit.length?0:this.RapportInit[0].conformity}VerifConformityPeriod(){return 0==this.RapportPeriod.length?0:this.RapportPeriod[0].conformity}AddRapportInit(){this.rapportService.AddRapport(this.selected.id,this.newRapportInit.name,0,this.newRapportInit.year,0,this.userService.id,this.tempSite).subscribe(e=>{}),this.TrieRapport()}AddRapportPeriod(){this.rapportService.AddRapport(this.selected.id,this.newRapportPeriod.name,0,this.newRapportPeriod.year,1,this.userService.id,this.tempSite).subscribe(e=>{}),this.TrieRapport()}DeleteRapport(e){this.rapportService.DeleteRapport(e).subscribe(i=>{}),this.TrieRapport()}UpdateRapportInit(e,i){this.RapportInit[e].conformity=i,this.rapportService.UpdateRapport(this.RapportInit[e]._id,this.RapportInit[e].materials,i).subscribe(r=>{})}UpdateRapportPeriod(e,i){this.RapportPeriod[e].conformity=i,this.rapportService.UpdateRapport(this.RapportPeriod[e]._id,this.RapportPeriod[e].materials,i).subscribe(r=>{})}getSites(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);this.actual=r[0].name;for(let o=0;o<r.length;o++)r[o].email==this.userService.mail&&(this.userService.structure=r[o].structure,this.http.get("/api/site/"+r[o].structure,e).subscribe(s=>{const a=Object.values(s);this.sitesTab=[{name:"Choisir un site ...",id:"0"}];for(let d=0;d<a.length;d++)this.sitesTab.push({name:a[d].name,id:a[d]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(s=>{this.sitesTab=[],s.forEach(a=>this.sitesTab.push(a))}))})}getEquipment(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/equipments/"+this.userService.id,e).subscribe(i=>{const r=Object.values(i);this.newMat=[],this.ListMateriels=[{id:"1",name:"Scanner",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"2",name:"Arceau de bloc C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"3",name:"Arceau de bloc mini-C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"4",name:"Mammographe",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"5",name:"Panoramique dentaire",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1}];let o=this.ListMateriels.length;for(let s=0;s<r.length;s++)this.tempSite==r[s].siteId&&(o+=1,this.newMat.push(r[s].name.toString()),this.ListMateriels.push({id:o.toString(),name:r[s].name.toString(),verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1}))})}}return t.\u0275fac=function(e){return new(e||t)(be(Jr),be($i),be(Bi),be(bi),be(Fn),be(Yd),be(Xd),be(zd),be(zn),be(KT),be(EL),be(Is))},t.\u0275cmp=Wt({type:t,selectors:[["app-verifications-rp"]],features:[tn([bi,Bi,$i])],decls:15,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],["id","modif",1,"row","d-flex","justify-content-center"],["id","modif",4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["materiels",""],["id","modif"],["id","modif",1,"d-flex","justify-content-sm-center"],["id","modif",1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[1,"d-flex","justify-content-start"],[1,"col-4"],["contentRapportInit",""],["contentRapportPeriod",""],[1,"row"],[1,"d-flex","justify-content-center"],["class","bi bi-x-circle-fill invalid",4,"ngIf"],["class","bi bi-check-circle-fill valid",4,"ngIf"],[1,"btn","btn-lg","btn-outline-success",3,"click"],[1,"bi","bi-file-earmark-person"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-striped","table-bordered"],[1,"colonne_year"],[1,"nom_rapport"],[1,"colonneFichier"],[1,"conformite"],[1,"modal-footer","d-flex","justify-content-sm-center"],["type","number","step","1","name","newAttributeCode","required","",3,"min","max","value","ngModel","ngModelChange"],["dateverif","ngModel"],["class","alert",4,"ngIf"],["type","text","id","nomRapport","name","nomRapport","placeholder","Nom du nouveau rapport","required","",1,"form-control",3,"ngModel","ngModelChange"],["nameInit","ngModel"],["class","btn btn-default btn-outline-success","type","button",3,"disabled","click",4,"ngIf"],["contentSupprRapportInit",""],["type","button","disabled","",1,"form-control","btn","btn-lg","btn-outline-success",3,"ngModel","name","ngModelChange"],["class","modal-lg"],["contentFileRapportInit",""],["type","button",1,"btn","btn-success",3,"click"],["role","group","ngbRadioGroup","",1,"btn-group",3,"name","ngModel","ngModelChange"],["ngbButtonLabel","",1,"btn-success"],["ngbButton","","type","radio",1,"btn",3,"value","checked","click"],["ngbButtonLabel","",1,"btn-danger"],["name","multiselectAct","bindLabel","name","placeholder","Equipements","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],["class","btn btn-default btn-outline-success","type","button",3,"click",4,"ngIf"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-footer","d-flex","justify-content-sm-center",3,"hidden"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file","accept",".pdf",1,"file-upload",2,"display","none",3,"change"],["contentSupprFileRapportVerifInit",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],["class","btn btn-lg btn-outline-success",3,"click",4,"ngIf"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-download"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"alert"],[4,"ngIf"],["type","button",1,"btn","btn-default","btn-outline-success",3,"disabled","click"],["contentSupprRapportPeriod",""],["contentFileRapportPeriod",""],["contentSupprFileRapportVerifPeriod",""],[1,"bi","bi-x-circle-fill","invalid"],[1,"bi","bi-check-circle-fill","valid"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"V\xe9rifications Radioprotection"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Te(8,TL,2,1,"option",6),E()()()()(),b(9,"div",7),Te(10,SL,1,0,"div",8),Te(11,DL,3,0,"ng-template",null,9,it),Te(13,n8,29,4,"ng-template",null,10,it),E()),2&e){const r=ze(12),o=ze(14);de(8),ve("ngForOf",i.sitesTab),de(2),ve("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[Ni,ws,Cs,ji,xi,Qi,Kr,Nm,$d,KE,ep,Z_,K_,lu,Ts],styles:[".valid[_ngcontent-%COMP%]{color:#41d43c;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}.modal-body[_ngcontent-%COMP%]{width:100%}.checkbox[_ngcontent-%COMP%]{size:100px}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(2)}.modal-lg[_ngcontent-%COMP%]{max-width:80%!important}.conformite[_ngcontent-%COMP%], .nom_rapport[_ngcontent-%COMP%]{width:30px}.colonneFichier[_ngcontent-%COMP%], .colonne_year[_ngcontent-%COMP%]{width:10px}#modif[_ngcontent-%COMP%]{margin-right:5px}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();function r8(t,n){if(1&t&&(b(0,"option"),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.name)}}function o8(t,n){if(1&t){const e=Le();b(0,"div",28)(1,"h4",29),K(2," Suppression de l'\xe9quipement "),E(),b(3,"button",30),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",31)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer l'\xe9quipement : "),b(8,"span",32),K(9),E()()(),b(10,"p")(11,"span",33),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",34)(14,"button",35),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",36),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function s8(t,n){if(1&t){const e=Le();b(0,"button",37),_e("click",function(){ye(e);const r=ae().index,o=ze(15);return ae().openSupprMateriels(o,r)}),Pe(1,"i",38),E()}}function a8(t,n){if(1&t){const e=Le();b(0,"tr")(1,"td")(2,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td")(4,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.equipement_type=r}),E()(),b(5,"td")(6,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.categorie=r}),E()(),b(7,"td")(8,"input",24),_e("ngModelChange",function(r){return ye(e).$implicit.brand=r})("change",function(){const o=ye(e).index;return ae().UpdateMaterial(o)}),E()(),b(9,"td")(10,"input",24),_e("ngModelChange",function(r){return ye(e).$implicit.model=r})("change",function(){const o=ye(e).index;return ae().UpdateMaterial(o)}),E()(),b(11,"td")(12,"input",25),_e("ngModelChange",function(r){return ye(e).$implicit.years=r})("change",function(){const o=ye(e).index;return ae().UpdateMaterial(o)}),E()(),b(13,"td"),Te(14,o8,18,1,"ng-template",null,26,it),Te(16,s8,2,0,"button",27),E()()}if(2&t){const e=n.$implicit,i=ae();de(2),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.equipement_type),ve("ngModel",e.equipement_type),de(2),ot("name",e.categorie),ve("ngModel",e.categorie),de(2),ot("name",e.brand),ve("ngModel",e.brand),de(2),ot("name",e.model),ve("ngModel",e.model),de(2),ot("name",e.years),ve("ngModel",e.years),de(4),ve("ngIf",i.test)}}function l8(t,n){1&t&&(b(0,"div"),K(1," Veuillez s\xe9lectionner une machine "),E())}function u8(t,n){if(1&t&&(b(0,"div",39),Te(1,l8,2,0,"div",40),E()),2&t){ae();const e=ze(39);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}const c8=function(){return{"min-width":"100%"}};let d8=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k){this.http=i,this.modalService=r,this.modal=o,this.siteService=s,this.userService=a,this.materialsService=d,this.adminService=w,this.userinfo=k,this.tempSite="temp",this.siteSel={name:"Loading...",id:"1"},this.sitesTab=[{name:"Loading...",id:"1"}],this.sites_id="test",this.closeResult="",this.test=!0,this.ListMateriels=[],this.ListMateriel=[{name:"Equipements",type:"Scanner",_id:0,model:"Equipements",brand:"marque",years:"2000",categorie:"A",equipement_type:"Type d'equipement",sites_id:"test"}],this.newAttribute={},this.selected1={name:"Site",id:"1"},this.selectedMateriel={name:"Source scell\xe9es",id:1},this.List=[{name:"Site",adresse:"",state:"disabled",id:"1"},{name:"Hopital Nord",adresse:"",state:"",id:"2"},{name:"Hopital Sud1",adresse:"",state:"",id:"3"},{name:"Hopital Sud2",adresse:"",state:"",id:"4"},{name:"Hopital Sud3",adresse:"",state:"",id:"5"},{name:"Hopital Sud4",adresse:"",state:"",id:"6"},{name:"Hopital Sud5",adresse:"",state:"",id:"7"},{name:"Hopital Sud6",adresse:"",state:"",id:"8"}],this.Materiels=[{name:"Source scell\xe9es",id:1},{name:"Source non scell\xe9es",id:2},{name:"Appareil de curieth\xe9rapie (source de haute activit\xe9)",id:3},{name:"Acc\xe9l\xe9rateurs de particules",id:4},{name:"Scanner",id:5},{name:"Arceau de bloc C-arm",id:6},{name:"Arceau de bloc mini-C-arm",id:7},{name:"Acreau de bloc O-arm",id:8},{name:"Angiographe num\xe9ris\xe9",id:9},{name:"Table t\xe9l\xe9command\xe9e",id:10},{name:"Suspension plafonni\xe8re",id:11},{name:"Mammographe",id:12},{name:"Mammotome",id:13},{name:"Panoramique dentaire",id:14},{name:"Mobile de radiologie",id:15},{name:"Cabine EOS",id:16},{name:"Cone beam",id:17},{name:"R\xe9troalv\xe9olaire",id:18}],this.Categorie=[{name:"Pas de Categorie",id:0},{name:"Cat\xe9gorie A",id:1},{name:"Cat\xe9gorie B",id:2},{name:"Cat\xe9gorie C",id:3},{name:"Cat\xe9gorie D",id:4}],e.backdrop="static",e.keyboard=!1,this.selected=this.Materiels[0].name}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.getMaterials(),this.getSites(),this.start()}changeselect(e){var i;const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.selected1=this.sitesTab.find(o=>o.name==e.target.value),this.structureSel=this.sitesTab.find(o=>o.name==e.target.value),this.actual=null===(i=this.sitesTab.find(o=>o.name==e.target.value))||void 0===i?void 0:i.name,this.selected={name:this.actual},this.tempSite=this.actual,console.log(this.userService.structure),this.http.get("/api/site/"+this.userService.structure,r).subscribe(o=>{const s=Object.values(o);for(let a=0;a<this.sitesTab.length;a++)this.actual==s[a].name&&(console.log("response[index].name = ",s[a].name,"this.actual= ",this.actual),this.tempSite=s[a]._id,console.log("current site id = ",this.tempSite),this.getMaterials())})}addFieldValue(){var e,i;this.newAttribute.category=null===(e=this.Categorie.find(r=>r.name==this.newAttribute.categorie.name))||void 0===e?void 0:e.name,this.newAttribute.equipment_type_id=null===(i=this.Materiels.find(r=>r.name==this.newAttribute.equipement_type))||void 0===i?void 0:i.id,this.materialsService.AddMaterials(this.newAttribute.name,this.newAttribute.brand,this.newAttribute.model,this.newAttribute.years,this.newAttribute.category,this.userService.id,this.selected1.id,this.newAttribute.equipement_type).subscribe(r=>{this.ListMateriels.push(this.newAttribute),this.newAttribute={},this.getMaterials()})}openSupprMateriels(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.deleteFieldValue(i)},r=>{})}deleteFieldValue(e){this.materialsService.DeleteMaterials(this.ListMateriel[e]._id).subscribe(i=>{}),this.getMaterials()}Selection(e){console.log(this.newAttribute.equipement_type)}UpdateMaterial(e){this.materialsService.UpdateMaterials(this.ListMateriel[e]._id,this.ListMateriel[e].brand,this.ListMateriel[e].model,this.ListMateriel[e].years).subscribe(i=>{})}getSites(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);this.actual=r[0].name,console.log(this.actual);for(let o=0;o<r.length;o++)r[o].email==this.userService.mail&&(this.userService.structure=r[o].structure,this.http.get("/api/site/"+r[o].structure,e).subscribe(s=>{const a=Object.values(s);this.sitesTab=[{name:"Choisir un site ...",id:"0"}],console.log(a.length);for(let d=0;d<a.length;d++)this.sitesTab.push({name:a[d].name,id:a[d]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(s=>{this.sitesTab=[],s.forEach(a=>this.sitesTab.push(a)),console.log(this.sitesTab)}))})}getMaterials(){this.materialsService.getMaterialsByClientId(this.userService.id).subscribe(e=>{this.ListMateriel=[],e.forEach(i=>{var r,o;console.log("element= ",i),i.siteId.toString()==this.tempSite&&(i.categorie=null===(r=this.Categorie.find(s=>s.name==i.category))||void 0===r?void 0:r.name,i.equipement_type=null===(o=this.Materiels.find(s=>s.name==i.type))||void 0===o?void 0:o.name,i.model=i.modelType,i.years=i.year,this.ListMateriel.push(i))})})}}return t.\u0275fac=function(e){return new(e||t)(be($i),be(Fn),be(Bi),be(bi),be(zd),be(zn),be(KT),be(Is),be(Jr))},t.\u0275cmp=Wt({type:t,selectors:[["app-materiels"]],features:[tn([bi,Bi,$i])],decls:52,vars:19,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"row","justify-content-center"],[1,"col-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],["type","text","id","newAttributeNom","name","newAttributeNom",1,"form-control",3,"ngModel","ngModelChange"],["name","selectMachine","bindLabel","name","placeholder","Selectionner une machine","required","",3,"items","closeOnSelect","searchable","ngModel","ngStyle","ngModelChange"],["machine","ngModel"],["class","alert",4,"ngIf"],["name","categorie","bindLabel","name","placeholder","Selectionner une categorie",3,"items","closeOnSelect","searchable","ngModel","ngModelChange"],["type","text","id","newAttributeMarque","name","newAttributeMarque",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeTypeModele","name","newAttributeTypeModele",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","newAttributeAnnee","name","newAttributeAnnee",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-default","btn-outline-success",3,"disabled","click"],[1,"bi","bi-plus-circle"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange","change"],["type","number",1,"form-control",3,"ngModel","name","ngModelChange","change"],["contentSupprMateriels",""],["class","btn btn-default btn-outline-success","type","button",3,"click",4,"ngIf"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"alert"],[4,"ngIf"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Equipements"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Te(8,r8,2,1,"option",6),E(),b(9,"div",7)(10,"div",2)(11,"h3"),K(12),E()()()()()(),b(13,"div",8)(14,"div",9)(15,"table",10)(16,"thead",11)(17,"tr")(18,"th",12),K(19,"Nom"),E(),b(20,"th",12),K(21,"Choix"),E(),b(22,"th",12),K(23,"Cat\xe9gorie"),E(),b(24,"th",12),K(25,"Marque"),E(),b(26,"th",12),K(27,"Type Modele"),E(),b(28,"th",12),K(29,"Annee"),E(),b(30,"th"),K(31,"Action"),E()()(),b(32,"tbody"),Te(33,a8,17,13,"tr",6),b(34,"tr")(35,"td")(36,"input",13),_e("ngModelChange",function(o){return i.newAttribute.name=o}),E()(),b(37,"td")(38,"ng-select",14,15),_e("ngModelChange",function(o){return i.newAttribute.equipement_type=o}),E(),Te(40,u8,2,1,"div",16),E(),b(41,"td")(42,"ng-select",17),_e("ngModelChange",function(o){return i.newAttribute.categorie=o}),E()(),b(43,"td")(44,"input",18),_e("ngModelChange",function(o){return i.newAttribute.brand=o}),E()(),b(45,"td")(46,"input",19),_e("ngModelChange",function(o){return i.newAttribute.model=o}),E()(),b(47,"td")(48,"input",20),_e("ngModelChange",function(o){return i.newAttribute.years=o}),E()(),b(49,"td")(50,"button",21),_e("click",function(){return i.addFieldValue()}),Pe(51,"i",22),E()()()()()()()()),2&e){const r=ze(39);de(8),ve("ngForOf",i.sitesTab),de(4),bt(i.selected1.name),de(21),ve("ngForOf",i.ListMateriel),de(3),ve("ngModel",i.newAttribute.name),de(2),ve("items",i.Materiels)("closeOnSelect",!0)("searchable",!1)("ngModel",i.newAttribute.equipement_type)("ngStyle",function p1(t,n,e){const i=Ei()+t,r=Ge();return r[i]===It?Ur(r,i,e?n.call(e):n()):function Tl(t,n){return t[n]}(r,i)}(18,c8)),de(2),ve("ngIf",r.invalid&&(r.dirty||r.touched)),de(2),ve("items",i.Categorie)("closeOnSelect",!0)("searchable",!1)("ngModel",i.newAttribute.categorie),de(2),ve("ngModel",i.newAttribute.brand),de(2),ve("ngModel",i.newAttribute.model),de(2),ve("ngModel",i.newAttribute.years),de(2),ve("disabled",r.invalid)}},directives:[Ni,ws,Cs,xi,Qi,Kr,lu,ji,ep,Ts,Mb],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();const p8={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};let f8=(()=>{class t{constructor(e){this.http=e}getExposedWorkersBySiteID(e){return this.http.get("/api/workers/"+e,p8)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Fn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h8(t,n){if(1&t&&(b(0,"option"),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.name)}}function _8(t,n){1&t&&Pe(0,"div")}function m8(t,n){if(1&t){const e=Le();b(0,"div",11)(1,"button",12),_e("click",function(){return ye(e),ae().modetableau()}),Pe(2,"i",13),E()()}}function g8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2," Suppression de fichier Formation RPTE "),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),K(9),E()()(),b(10,"p")(11,"span",67),K(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function y8(t,n){if(1&t){const e=Le();b(0,"button",48),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(3).index;return ae(2).openSupprRPTEOld(o,s,r)}),Pe(1,"i",70),E()}}function v8(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,g8,18,1,"ng-template",null,62,it),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,y8,2,0,"button",31),b(9,"button",64),_e("click",function(){const o=ye(e).index,s=ae(3).index;return ae(2).downloadRPTE(s,o)}),Pe(10,"i",65),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function b8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,v8,11,5,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=ae(2).index;return ae(2).onFileSelectedOldFormationRPTE(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(2).index,i=ae(2);de(2),va(" Fichier Formation RPTE de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),de(13),ve("ngForOf",i.travailleursTab[e].RPTE_formation),de(2),Ki("display",i.travailleursTab[e].displayBtnRPTE?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function w8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2," Suppression de fichier formation RPP "),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),K(9),E()()(),b(10,"p")(11,"span",67),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function C8(t,n){if(1&t){const e=Le();b(0,"button",48),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(3).index;return ae(2).openSupprRPPOld(o,s,r)}),Pe(1,"i",70),E()}}function E8(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,w8,18,1,"ng-template",null,71,it),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,C8,2,0,"button",31),b(9,"button",64),_e("click",function(){const o=ye(e).index,s=ae(3).index;return ae(2).downloadRPP(s,o)}),Pe(10,"i",65),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function T8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,E8,11,5,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=ae(2).index;return ae(2).onFileSelectedOldFormationRPP(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(2).index,i=ae(2);de(2),va(" Formation RPP de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),de(13),ve("ngForOf",i.travailleursTab[e].RPP_formation),de(2),Ki("display",i.travailleursTab[e].displayBtnRPP?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function S8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2," Suppression de fichier visite m\xe9dicale "),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),K(9),E()()(),b(10,"p")(11,"span",67),K(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function D8(t,n){if(1&t){const e=Le();b(0,"button",48),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(3).index;return ae(2).openSupprVisiteOld(o,s,r)}),Pe(1,"i",70),E()}}function O8(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,S8,18,1,"ng-template",null,72,it),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,D8,2,0,"button",31),b(9,"button",64),_e("click",function(){const o=ye(e).index,s=ae(3).index;return ae(2).downloadVisite(s,o)}),Pe(10,"i",65),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function N8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,O8,11,5,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=ae(2).index;return ae(2).onFileSelectedOldVisite(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(2).index,i=ae(2);de(2),va(" Visite m\xe9dicale de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),de(13),ve("ngForOf",i.travailleursTab[e].medical_visit),de(2),Ki("display",i.travailleursTab[e].displayBtnVisite?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function x8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2," Suppression de fichier d'Evaluation Individuelle "),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),K(9),E()()(),b(10,"p")(11,"span",67),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function A8(t,n){if(1&t){const e=Le();b(0,"button",48),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(3).index;return ae(2).openSupprEvalOld(o,s,r)}),Pe(1,"i",70),E()}}function M8(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,x8,18,1,"ng-template",null,73,it),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,A8,2,0,"button",31),b(9,"button",64),_e("click",function(){const o=ye(e).index,s=ae(3).index;return ae(2).downloadEval(s,o)}),Pe(10,"i",65),E()()()}if(2&t){const e=n.$implicit,i=ae(5);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function I8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,M8,11,5,"tr",6),E()()(),b(16,"div",47)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=ae(2).index;return ae(2).onFileSelectedOldEval(r,o)}),E()(),K(20),E()}if(2&t){const e=ae(2).index,i=ae(2);de(2),Jt(" Fichier Evaluation Individuelle de ",i.travailleursTab[e].name," "),de(13),ve("ngForOf",i.travailleursTab[e].evaluation),de(2),Ki("display",i.travailleursTab[e].displayBtnEval?"block":"none"),de(3),Jt(" ",i.pdfMissing," ")}}function P8(t,n){if(1&t){const e=Le();b(0,"button",74),_e("click",function(){return ye(e),ae().close("Ok click")}),K(1," Sauvegarder "),E()}}function k8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"form",null,37)(7,"div",38)(8,"label"),K(9,"Nom"),E(),b(10,"input",39),_e("ngModelChange",function(r){return ye(e),ae().$implicit.name=r}),E()(),b(11,"div",38)(12,"label"),K(13,"Pr\xe9nom"),E(),b(14,"input",40),_e("ngModelChange",function(r){return ye(e),ae().$implicit.surname=r}),E()(),b(15,"div",38)(16,"label"),K(17,"Date de naissance"),E(),b(18,"input",41),_e("ngModelChange",function(r){return ye(e),ae().$implicit.date_birth=r}),E()(),b(19,"div",38)(20,"label"),K(21,"Num\xe9ro de s\xe9curit\xe9 sociale"),E(),b(22,"input",42),_e("ngModelChange",function(r){return ye(e),ae().$implicit.social_security_number=r})("ngModelChange",function(r){return ye(e),ae(3).updateWorkerSocialSecuNum(r)}),E()(),b(23,"div",38)(24,"label"),K(25,"Fonction"),E(),b(26,"input",43),_e("ngModelChange",function(r){return ye(e),ae().$implicit.function=r})("ngModelChange",function(r){return ye(e),ae(3).updateWorkerFunction(r)}),E()(),b(27,"div",38)(28,"label"),K(29,"Contrat"),E(),b(30,"input",44),_e("ngModelChange",function(r){return ye(e),ae().$implicit.contract=r})("ngModelChange",function(r){return ye(e),ae(3).updateWorkerContract(r)}),E()(),b(31,"div",38)(32,"label"),K(33,"Date d\u2019embauche"),E(),b(34,"input",45),_e("ngModelChange",function(r){return ye(e),ae().$implicit.hire_date=r})("ngModelChange",function(r){return ye(e),ae(3).updateWorkerHireDate(r)}),E()(),b(35,"div",38)(36,"label"),K(37,"Formation RPTE"),E(),Te(38,b8,21,6,"ng-template",null,46,it),b(40,"div",47)(41,"button",48),_e("click",function(){ye(e);const r=ze(39),o=ae().index;return ae(2).open(r,o)}),Pe(42,"i",49),E()()(),b(43,"div",38)(44,"label"),K(45,"Formation RPP"),E(),Te(46,T8,21,6,"ng-template",null,50,it),b(48,"div",47)(49,"button",48),_e("click",function(){ye(e);const r=ze(47),o=ae().index;return ae(2).open(r,o)}),Pe(50,"i",49),E()()(),b(51,"div",38)(52,"label"),K(53,"Visite m\xe9dicale"),E(),Te(54,N8,21,6,"ng-template",null,51,it),b(56,"div",47)(57,"button",48),_e("click",function(){ye(e);const r=ze(55),o=ae().index;return ae(2).open(r,o)}),Pe(58,"i",49),E()()(),b(59,"div",38)(60,"label"),K(61,"Evaluation individuelle d\u2019exposition"),E(),Te(62,I8,21,5,"ng-template",null,52,it),b(64,"div",47)(65,"button",48),_e("click",function(){ye(e);const r=ze(63),o=ae().index;return ae(2).open(r,o)}),Pe(66,"i",49),E()()(),b(67,"div",38)(68,"label"),K(69,"Activit\xe9 partag\xe9e sur plusieurs \xe9tablissements"),E(),b(70,"ng-select",53),_e("ngModelChange",function(r){ye(e);const o=ae().index;return ae(2).travailleursTab[o].shared_activity=r})("add",function(r){ye(e);const o=ae().index;return ae(2).updateWorkerSharedActivity(r,o)})("remove",function(r){ye(e);const o=ae().index;return ae(2).updateRemoveWorkerSharedActivity(r,o)})("clear",function(r){ye(e);const o=ae().index;return ae(2).updateClearWorkerSharedActivity(r,o)}),E()(),b(71,"div",38)(72,"label"),K(73,"Suivi dosim\xe9trique corps entier"),E(),b(74,"ng-select",54),_e("ngModelChange",function(r){ye(e);const o=ae().index;return ae(2).travailleursTab[o].whole_body_dosimetric_monitoring=r})("add",function(r){ye(e);const o=ae().index;return ae(2).updateWorkerFullSuivDosim(r,o)})("remove",function(r){ye(e);const o=ae().index;return ae(2).updateRemoveWorkerFullSuivDosim(r,o)})("clear",function(r){ye(e);const o=ae().index;return ae(2).updateClearWorkerFullSuivDosim(r,o)}),E()(),b(75,"div",38)(76,"label"),K(77,"Suivi dosim\xe9trique compl\xe9mentaire"),E(),b(78,"ng-select",55),_e("ngModelChange",function(r){ye(e);const o=ae().index;return ae(2).travailleursTab[o].additional_dosimetric_monitoring=r})("add",function(r){ye(e);const o=ae().index;return ae(2).updateWorkerComplSuivDosim(r,o)})("remove",function(r){ye(e);const o=ae().index;return ae(2).updateRemoveWorkerComplSuivDosim(r,o)})("clear",function(r){ye(e);const o=ae().index;return ae(2).updateClearWorkerComplSuivDosim(r,o)}),E()()()(),b(79,"div",56),Te(80,P8,2,0,"button",57),E()}if(2&t){const e=ae(),i=e.$implicit,r=e.index,o=ae(2);de(2),va(" Fiche travailleur de ",i.name," ",i.surname," "),de(8),ve("ngModel",i.name),Bt("disabled",!!o.test&&"disabled"),de(4),ve("ngModel",i.surname),Bt("disabled",!!o.test&&"disabled"),de(4),ve("ngModel",i.date_birth),de(4),ve("ngModel",i.social_security_number),de(4),ve("ngModel",i.function),de(4),ve("ngModel",i.contract),de(4),ve("ngModel",i.hire_date),de(36),ve("items",o.sitesTab)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",o.travailleursTab[r].shared_activity),Bt("disabled",!!o.test&&"disabled"),de(4),ve("items",o.Suividosimetrique)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",o.travailleursTab[r].whole_body_dosimetric_monitoring),Bt("disabled",!!o.test&&"disabled"),de(1),Bt("disabled",!!o.test&&"disabled"),de(3),ve("items",o.Suividosimetriquecompl)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",o.travailleursTab[r].additional_dosimetric_monitoring),Bt("disabled",!!o.test&&"disabled"),de(2),ve("ngIf",o.test)}}function R8(t,n){if(1&t){const e=Le();b(0,"div",33)(1,"h4",34),K(2," Suppression de travailleur "),E(),b(3,"button",35),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",36)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le travailleur : "),b(8,"span",66),K(9),E()()(),b(10,"p")(11,"span",67),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),K(17," Oui "),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function F8(t,n){if(1&t){const e=Le();b(0,"button",48),_e("click",function(){ye(e);const r=ae().index,o=ze(12);return ae(2).openSupprTravailleur(o,r)}),Pe(1,"i",70),E()}}function j8(t,n){if(1&t){const e=Le();b(0,"tr",14),Te(1,k8,81,31,"ng-template",null,28,it),b(3,"td")(4,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.surname=r}),E()(),b(7,"td")(8,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.date_birth=r}),E()(),b(9,"td")(10,"div",11),Te(11,R8,18,1,"ng-template",null,30,it),Te(13,F8,2,0,"button",31),b(14,"button",32),_e("click",function(){const o=ye(e).index,s=ze(2);return ae(2).open(s,o)}),K(15," D\xe9tails "),E()()()()}if(2&t){const e=n.$implicit,i=ae(2);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.surname),ve("ngModel",e.surname),de(2),ot("name",e.date_birth),ve("ngModel",e.date_birth),de(5),ve("ngIf",i.test)}}function $8(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir un nom "),E())}function B8(t,n){if(1&t&&(b(0,"div",75),Te(1,$8,2,0,"div",76),E()),2&t){ae();const e=ze(17);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function L8(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir un pr\xe9nom "),E())}function V8(t,n){if(1&t&&(b(0,"div",75),Te(1,L8,2,0,"div",76),E()),2&t){ae();const e=ze(21);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function U8(t,n){1&t&&(b(0,"div"),K(1," Veuillez saisir une date de naissance "),E())}function H8(t,n){if(1&t&&(b(0,"div",75),Te(1,U8,2,0,"div",76),E()),2&t){ae();const e=ze(25);de(1),ve("ngIf",null==e.errors?null:e.errors.required)}}function G8(t,n){if(1&t){const e=Le();b(0,"div",14)(1,"table",15)(2,"thead",16)(3,"tr")(4,"th",17),K(5,"Nom"),E(),b(6,"th",17),K(7,"Pr\xe9nom"),E(),b(8,"th",17),K(9,"Date de naissance"),E(),b(10,"th",17),K(11,"Action"),E()()(),b(12,"tbody"),Te(13,j8,16,7,"tr",18),b(14,"tr")(15,"td")(16,"input",19,20),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.name=r}),E(),Te(18,B8,2,1,"div",21),E(),b(19,"td")(20,"input",22,23),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.prenom=r}),E(),Te(22,V8,2,1,"div",21),E(),b(23,"td")(24,"input",24,25),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.date_de_naissance=r}),E(),Te(26,H8,2,1,"div",21),E()()()()(),Pe(27,"br"),b(28,"div",26)(29,"button",27),_e("click",function(){return ye(e),ae().addFieldValue()}),Pe(30,"i",13),E()()}if(2&t){const e=ze(17),i=ze(21),r=ze(25),o=ae();de(13),ve("ngForOf",o.travailleursTab),de(3),ve("ngModel",o.newAttribute.name),de(2),ve("ngIf",e.invalid&&(e.dirty||e.touched)),de(2),ve("ngModel",o.newAttribute.prenom),de(2),ve("ngIf",i.invalid&&(i.dirty||i.touched)),de(2),ve("ngModel",o.newAttribute.date_de_naissance),de(2),ve("ngIf",r.invalid&&(r.dirty||r.touched)),de(3),ve("disabled",r.invalid||e.invalid||i.invalid)}}let q8=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k,ee,se){this.exposedWorkersService=e,this.userService=i,this.userinfo=r,this.siteService=o,this.config=s,this.modalService=a,this.modal=d,this.http=w,this.DataService=k,this.configNG=ee,this.adminService=se,this.Social_Secu="0",this.Function="null",this.Contract="null",this.Hire_Date="0",this.closeResult="",this.ajout=!0,this.tempSite="temp",this.id_compt=1,this.selectedList=[],this.siteSel={name:"Loading...",id:"1"},this.sitesTab=[{name:"Loading...",id:"1"}],this.test=!0,this.travailleursTab=[{id:1,name:"Loading...",surname:"Loading...",date_birth:"2000-00-00",social_security_number:1234567,function:"function1",contract:"contract1",hire_date:"2020-06-15",RPTE_formation:[{name:"TestRPTE",date:"dateRPTE"}],RPP_formation:[{name:"TestRPP",date:"dateRPTE"}],medical_visit:[{name:"TestVisit",date:"dateRPTE"}],evaluation:[{name:"TestEval",date:"dateRPTE"}],shared_activity:Array(),whole_body_dosimetric_monitoring:Array(),additional_dosimetric_monitoring:Array(),structure_id:1,displayBtnRPTE:!0,displayBtnRPP:!0,displayBtnVisite:!0,displayBtnEval:!0,siteId:0,sites_id:"testt"}],this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={name:""},this.date=new Date,this.file_Formation_RPTE={name:"TestRPTE",date:"dateRPTE"},this.file_Formation_RPP={name:"TestRPTE",date:"dateRPTE"},this.file_Visite_Med={name:"TestRPTE",date:"dateRPTE"},this.file_Evaluation={name:"TestRPTE",date:"dateRPTE"},this.Suividosimetrique=[{name:"Passif",id:1},{name:"Actif",id:2}],this.Suividosimetriquecompl=[{name:"Cristallin",id:1},{name:"Extr\xe9mit\xe9",id:2}],this.pdfMissing=" "}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.getSites(),this.start()}changeselect(e){var i;const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.siteSel=this.sitesTab.find(o=>o.name.trim()==e.target.value.trim()),this.actual=null===(i=this.sitesTab.find(o=>o.name.trim()==e.target.value.trim()))||void 0===i?void 0:i.name,this.selected={name:this.actual},this.tempSite=this.actual,this.http.get("/api/site/"+this.userService.structure,r).subscribe(o=>{const s=Object.values(o);for(let a=0;a<this.sitesTab.length;a++)this.actual==s[a].name&&(this.tempSite=s[a]._id,this.getTravailleurs())})}changemultiselectAct(e,i){this.travailleursTab[i].shared_activity=[]}modetableau(){this.ajout=!0}addFieldValue(){this.travailleursTab.length>0&&(this.id_compt=this.travailleursTab[this.travailleursTab.length-1].id+1),this.newAttribute.id_exposed_worker=this.id_compt,this.newAttribute.formation_rpte=this.newfileRPTE,this.newAttribute.formation_rpp=this.newfileRPP,this.newAttribute.visite_medical=this.newfileVisite,this.newAttribute.eval_individuelle=this.newfileEval,this.newAttribute.activite_partagee=[],this.newAttribute.surname=this.newAttribute.prenom,this.newAttribute.date_birth=this.newAttribute.date_de_naissance;const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.post("/api/workers/"+this.userService.id,{lastName:this.newAttribute.name,firstName:this.newAttribute.prenom,birthday:this.newAttribute.date_de_naissance,sites_id:this.tempSite},e).subscribe(r=>{this.newAttribute.id=Object.values(r)[5],this.travailleursTab.push(this.newAttribute),this.newAttribute={}}),this.newfileRPTE=[""],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[]}deleteFieldValue(e){this.travailleursTab.splice(e,1)}onFileSelectedFormationRPP(e){const r=e.target.files;if("application/pdf"==r[0].type){this.file_Formation_RPP.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.newfileRPP.push(this.file_Formation_RPP);var o=new FormData;o.append("file",r[0]),this.DataService.UploadData(o).subscribe(s=>{this.data=s,this.pdfMissing=" "})}else this.pdfMissing="Please select a PDF"}onFileSelectedFormationRPTE(e,i){const o=e.target.files;"application/pdf"==o[0].type?(this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.newfileRPTE.push(this.file_Formation_RPTE),this.pdfMissing=" "):this.pdfMissing="Please select a PDF"}onFileSelectedVisiteMed(e){const r=e.target.files;"application/pdf"==r[0].type?(this.file_Visite_Med.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.newfileVisite.push(this.file_Visite_Med),this.pdfMissing=" "):this.pdfMissing="Please select a PDF"}onFileSelectedEvaluation(e){const r=e.target.files;"application/pdf"==r[0].type?(this.file_Evaluation.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.newfileEval.push(this.file_Evaluation),this.pdfMissing=" "):this.pdfMissing="Please select a PDF"}onFileSelectedOldFormationRPP(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Formation_RPP.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.travailleursTab[i].RPP_formation.push(this.file_Formation_RPP),this.travailleursTab[i].id.toString();let w="RPP";var s=this.travailleursTab[i].id.toString(),a=new FormData;let k="test";a.append("siteId",k),a.append("file",o[0]),a.append("file_type",w),a.append("workerId",s),a.append("sites_Id",k),this.DataService.UploadDataWorker(a).subscribe(ee=>{this.data=ee,this.pdfMissing=" ",this.travailleursTab[i].displayBtnRPP=!1,this.travailleursTab[i].RPP_formation.splice(0,1)})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldFormationRPTE(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.travailleursTab[i].RPTE_formation.push(this.file_Formation_RPTE);var s=this.travailleursTab[i].id.toString();let d="RPTE";var a=new FormData;let w=this.tempSite;a.append("siteId",w),a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),a.append("sites_Id",w),this.DataService.UploadDataWorker(a).subscribe(k=>{this.data=k,this.pdfMissing=" ",this.travailleursTab[i].displayBtnRPTE=!1,this.travailleursTab[i].RPTE_formation.splice(0,1)})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldVisite(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Visite_Med.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.travailleursTab[i].medical_visit.push(this.file_Visite_Med);var s=this.travailleursTab[i].id.toString();let d="Visite";var a=new FormData;let w=this.tempSite;a.append("siteId",w),a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),a.append("sites_Id",w),this.DataService.UploadDataWorker(a).subscribe(k=>{this.data=k,this.pdfMissing=" ",this.travailleursTab[i].displayBtnVisite=!1,this.travailleursTab[i].medical_visit.splice(0,1)})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldEval(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Evaluation.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.travailleursTab[i].evaluation.push(this.file_Evaluation);var s=this.travailleursTab[i].id.toString();let d="Eval";var a=new FormData;let w=this.tempSite;a.append("siteId",w),a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),a.append("sites_Id",w),this.DataService.UploadDataWorker(a).subscribe(k=>{this.data=k,this.pdfMissing=" ",this.travailleursTab[i].displayBtnEval=!1,this.travailleursTab[i].evaluation.splice(0,1)})}else this.pdfMissing="Please select a PDF"}open(e,i){this.modalService.open(e,{size:"lg"}).result.then(r=>{this.closeResult=`Closed with: ${r}`;const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/workers/"+this.travailleursTab[i].id,{numSocialSecurity:this.travailleursTab[i].social_security_number,charge:this.travailleursTab[i].function,contract:this.travailleursTab[i].contract,hiringDate:this.travailleursTab[i].hire_date},o).subscribe(a=>{})},r=>{})}updateWorkerSocialSecuNum(e){1==this.test&&(this.Social_Secu=JSON.stringify(e))}updateWorkerFunction(e){1==this.test&&(this.Function=JSON.stringify(e))}updateWorkerContract(e){1==this.test&&(this.Contract=JSON.stringify(e))}updateWorkerHireDate(e){1==this.test&&(this.Hire_Date=JSON.stringify(e))}openSupprRPTENew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.newfileRPTE.splice(i,1)},r=>{})}openSupprRPPNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.newfileRPP.splice(i,1)},r=>{})}openSupprVisiteNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.newfileVisite.splice(i,1)},r=>{})}openSupprEvalNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.newfileEval.splice(i,1)},r=>{})}openSupprRPTEOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteOldFileRPTE(i,r)},o=>{})}openSupprRPPOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteOldFileRPP(i,r)},o=>{})}openSupprVisiteOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteOldFileVisite(i,r)},o=>{})}openSupprEvalOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteOldFileEval(i,r)},o=>{})}openSupprTravailleur(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`;const o={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/workers/uploads/files/"+this.travailleursTab[i].id,o).subscribe(s=>{}),this.http.delete("/api/workers/"+this.travailleursTab[i].id,o).subscribe(s=>{}),this.deleteFieldValue(i)},r=>{})}deleteFileRPTE(e){this.newfileRPTE.splice(e,1)}deleteFileRPP(e){this.newfileRPP.splice(e,1)}deleteFileVisite(e){this.newfileVisite.splice(e,1)}deleteFileEval(e){this.newfileEval.splice(e,1)}deleteOldFileRPP(e,i){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/workers/uploads/files/RPP/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0}),this.travailleursTab[e].RPP_formation.splice(i,1)}deleteOldFileRPTE(e,i){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/workers/uploads/files/RPTE/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0}),this.travailleursTab[e].RPTE_formation.splice(i,1)}deleteOldFileVisite(e,i){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/workers/uploads/files/Visite/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0}),this.travailleursTab[e].medical_visit.splice(i,1)}deleteOldFileEval(e,i){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.delete("/api/workers/uploads/files/Eval/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0}),this.travailleursTab[e].evaluation.splice(i,1)}onSubmit(){}downloadRPP(e,i){window.open("/api/workers/uploads/files/RPP/download/"+this.travailleursTab[e].id)}downloadRPTE(e,i){window.open("/api/workers/uploads/files/RPTE/download/"+this.travailleursTab[e].id)}downloadVisite(e,i){window.open("/api/workers/uploads/files/Visite/download/"+this.travailleursTab[e].id)}downloadEval(e,i){window.open("/api/workers/uploads/files/Eval/download/"+this.travailleursTab[e].id)}updateWorkerFullSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={fullSuivDosim:Object.values(e)[0]};this.http.put("/api/workers/fullSuivDossim/"+this.travailleursTab[i].id,o,r).subscribe(s=>{})}}updateWorkerSharedActivity(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={sharedactivitytemp:Object.values(e)[0]};this.http.put("/api/workers/sharedactivity/"+this.travailleursTab[i].id,o,r).subscribe(s=>{})}}updateWorkerComplSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={complSuivDosim:Object.values(e)[0]};this.http.put("/api/workers/complSuivDossim/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}}updateRemoveWorkerFullSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={fullSuivDosim:Object.values(e)[1]};this.http.put("/api/workers/fullSuivDossim/remove/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}}updateRemoveWorkerSharedActivity(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={sharedactivitytemp:Object.values(e)[1]};this.http.put("/api/workers/sharedactivity/remove/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}}updateRemoveWorkerComplSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})},o={complSuivDosim:Object.values(e)[1]};this.http.put("/api/workers/complSuivDossim/remove/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}}updateClearWorkerFullSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/workers/fullSuivDossim/clear/"+this.travailleursTab[i].id,{},r).subscribe(s=>{console.log(s)})}}updateClearWorkerSharedActivity(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/workers/sharedactivity/clear/"+this.travailleursTab[i].id,{},r).subscribe(s=>{console.log(s)})}}updateClearWorkerComplSuivDosim(e,i){if(1==this.test){const r={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.put("/api/workers/complSuivDossim/clear/"+this.travailleursTab[i].id,{},r).subscribe(s=>{})}}getSites(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);this.actual=r[0].name;for(let o=0;o<r.length;o++)r[o].email==this.userService.mail&&(this.userService.structure=r[o].structure,this.http.get("/api/site/"+r[o].structure,e).subscribe(s=>{const a=Object.values(s);this.sitesTab=[{name:"Choisir un site ...",id:"0"}];for(let d=0;d<a.length;d++)this.sitesTab.push({name:a[d].name,id:a[d]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(s=>{this.sitesTab=[],s.forEach(a=>this.sitesTab.push(a))}))})}getTravailleurs(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.exposedWorkersService.getExposedWorkersBySiteID(this.userService.id).subscribe(i=>{this.travailleursTab=[],i.forEach(r=>{const o=new Date(r.hiringDate),s=new Date(o.getTime()-6e4*o.getTimezoneOffset()),a="/api/workers/uploads/files/";iC(this.http.get(a+"RPTE/"+r._id,e),this.http.get(a+"RPP/"+r._id,e),this.http.get(a+"Visite/"+r._id,e),this.http.get(a+"Eval/"+r._id,e),this.http.get("/api/workers/fullSuivDossim/"+r._id,e),this.http.get("/api/workers/complSuivDossim/"+r._id,e),this.http.get("/api/workers/sharedactivity/"+r._id,e)).subscribe(([d,w,k,ee,se,me,Se])=>{const xe={filename:JSON.parse(JSON.stringify(d)).filename,date:JSON.parse(JSON.stringify(d)).uploadDate},Re={filename:JSON.parse(JSON.stringify(w)).filename,date:JSON.parse(JSON.stringify(w)).uploadDate},Fe={filename:JSON.parse(JSON.stringify(k)).filename,date:JSON.parse(JSON.stringify(k)).uploadDate},Me={filename:JSON.parse(JSON.stringify(ee)).filename,date:JSON.parse(JSON.stringify(ee)).uploadDate},Ye=Object.values(se),Qe=Object.values(me),nt=Object.values(Se);let yt;r.siteId.toString()==this.tempSite&&(yt=0!==Ye.length&&0!==Qe.length&&0!==nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:r.siteId,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:Ye,shared_activity:nt,structure_id:1,additional_dosimetric_monitoring:Qe,displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0!==Ye.length&&0!==Qe.length&&0===nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:Ye,shared_activity:[],structure_id:1,additional_dosimetric_monitoring:Qe,displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0!==Ye.length&&0===Qe.length&&0!==nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:Ye,shared_activity:nt,structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0===Ye.length&&0!==Qe.length&&0!==nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:[],shared_activity:nt,structure_id:1,additional_dosimetric_monitoring:Qe,displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0===Ye.length&&0===Qe.length&&0!==nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:[],shared_activity:nt,structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0!==Ye.length&&0===Qe.length&&0===nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:Ye,shared_activity:[],structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:0===Ye.length&&0!==Qe.length&&0===nt.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:[],shared_activity:[],structure_id:1,additional_dosimetric_monitoring:Qe,displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename}:{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge,hire_date:s.toISOString().split("T")[0],contract:r.contract,siteId:0,sites_id:"testt",RPP_formation:[{name:Re.filename,date:Re.date}],RPTE_formation:[{name:xe.filename,date:xe.date}],evaluation:[{name:Me.filename,date:Me.date}],medical_visit:[{name:Fe.filename,date:Fe.date}],whole_body_dosimetric_monitoring:[],shared_activity:[],structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===xe.filename,displayBtnRPP:""===Re.filename,displayBtnVisite:""===Fe.filename,displayBtnEval:""===Me.filename},this.travailleursTab.push(yt))})})})}}return t.\u0275fac=function(e){return new(e||t)(be(f8),be(zn),be(Jr),be(zd),be($i),be(Bi),be(bi),be(Fn),be(Yd),be(Xd),be(Is))},t.\u0275cmp=Wt({type:t,selectors:[["app-travailleurs-exposes"]],features:[tn([bi,Bi,$i])],decls:15,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],["ng-app","myApp",1,"container"],[4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["tableau",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],[1,"table","table-striped","table-hover"],[1,"table-success"],[1,"colonne"],["style","\n              width: auto;\n              overflow: scroll;\n              overflow-y: auto;\n              overflow-x: auto;\n            ",4,"ngFor","ngForOf"],["type","text","id","newAttributeName","name","newAttributeName","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert",4,"ngIf"],["type","text","id","newAttributePrenom","name","newAttributePrenom","required","",1,"form-control",3,"ngModel","ngModelChange"],["prenom","ngModel"],["type","date","id","newAttributeDateNaissance","name","newAttributeDateNaissance","required","",1,"form-control",3,"ngModel","ngModelChange"],["date","ngModel"],[1,"d-flex","justify-content-sm-center","form-group"],[1,"btn","btn-outline-success",3,"disabled","click"],["contentModal",""],["type","text","disabled","","readonly","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprTravailleur",""],["class","btn btn-lg btn-outline-success",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["userForm","ngForm"],[1,"form-group"],["type","text","name","name","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","prenom","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dateNaissance","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","SecuSocial",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","fonction",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","contrat",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dateEmbauche",1,"form-control",3,"ngModel","ngModelChange"],["contentOldRPTE",""],[1,"modal-body","d-flex","justify-content-sm-center"],[1,"btn","btn-lg","btn-outline-success",3,"click"],[1,"bi","bi-file-earmark-person"],["contentOldRPP",""],["contentOldVisite",""],["contentOldEval",""],["name","multiselectAct","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],["name","multiselectDosi","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],["name","Suividosimetriquecompl","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],[1,"modal-footer"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[1,"table","table-striped","table-bordered"],[1,"modal-footer","d-flex","justify-content-sm-center"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file",1,"file-upload",2,"display","none",3,"change"],["contentSupprRPTEOld",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-download"],[1,"text-primary"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"],["contentSupprRPPOld",""],["contentSupprVisiteOld",""],["contentSupprEvalOld",""],["type","button",1,"btn","btn-success",3,"click"],[1,"alert"],[4,"ngIf"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Travailleurs expos\xe9s"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Te(8,h8,2,1,"option",6),E()()()()(),b(9,"div",7),Te(10,_8,1,0,"div",8),Te(11,m8,3,0,"ng-template",null,9,it),Te(13,G8,31,8,"ng-template",null,10,it),E()),2&e){const r=ze(12),o=ze(14);de(8),ve("ngForOf",i.sitesTab),de(2),ve("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[Ni,ws,Cs,ji,Co,wo,Sd,xi,Qi,Kr,lu,ep,Ts],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:300px}th[_ngcontent-%COMP%]{width:150px}clickable[_ngcontent-%COMP%]{cursor:pointer}.listelis[_ngcontent-%COMP%]{z-index:1}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),t})();function W8(t,n){1&t&&Pe(0,"div")}function z8(t,n){if(1&t){const e=Le();b(0,"div",10)(1,"button",11),_e("click",function(){return ye(e),ae().modetableau()}),Pe(2,"i",12),E()()}}function Y8(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function K8(t,n){if(1&t){const e=Le();b(0,"button",38),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(2).openSupprRPTEOld(o,s,r)}),Pe(1,"i",60),E()}}function Z8(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,Y8,18,1,"ng-template",null,53,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,K8,2,0,"button",43),E()()}if(2&t){const e=n.$implicit,i=ae(4);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function J8(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,Z8,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=ae().index;return ae(2).onFileSelectedOldFormationRPTE(r,o)}),E()()()}if(2&t){const e=ae().index,i=ae(2);de(2),Jt("Fichier Formation RPTE de ",i.travailleurs[e].nom,""),de(13),ve("ngForOf",i.travailleurs[e].formation_rpte)}}function Q8(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function X8(t,n){if(1&t){const e=Le();b(0,"button",38),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(2).openSupprRPPOld(o,s,r)}),Pe(1,"i",60),E()}}function eV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,Q8,18,1,"ng-template",null,61,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,X8,2,0,"button",43),E()()}if(2&t){const e=n.$implicit,i=ae(4);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function tV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,eV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=ae().index;return ae(2).onFileSelectedOldFormationRPP(r,o)}),E()()()}if(2&t){const e=ae().index,i=ae(2);de(2),Jt("Fichier Formation RPP de ",i.travailleurs[e].nom,""),de(13),ve("ngForOf",i.travailleurs[e].formation_rpp)}}function nV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function iV(t,n){if(1&t){const e=Le();b(0,"button",38),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(2).openSupprVisiteOld(o,s,r)}),Pe(1,"i",60),E()}}function rV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,nV,18,1,"ng-template",null,62,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,iV,2,0,"button",43),E()()}if(2&t){const e=n.$implicit,i=ae(4);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function oV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,rV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=ae().index;return ae(2).onFileSelectedOldVisite(r,o)}),E()()()}if(2&t){const e=ae().index,i=ae(2);de(2),Jt("Fichier Visite Medicale de ",i.travailleurs[e].nom,""),de(13),ve("ngForOf",i.travailleurs[e].visite_medical)}}function sV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function aV(t,n){if(1&t){const e=Le();b(0,"button",38),_e("click",function(){ye(e);const r=ae().index,o=ze(2),s=ae(2).index;return ae(2).openSupprEvalOld(o,s,r)}),Pe(1,"i",60),E()}}function lV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,sV,18,1,"ng-template",null,63,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,aV,2,0,"button",43),E()()}if(2&t){const e=n.$implicit,i=ae(4);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function uV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,lV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=ae().index;return ae(2).onFileSelectedOldEval(r,o)}),E()()()}if(2&t){const e=ae().index,i=ae(2);de(2),Jt("Fichier Evaluation Individuelle de ",i.travailleurs[e].nom,""),de(13),ve("ngForOf",i.travailleurs[e].eval_individuelle)}}function cV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de travailleur"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.nom)}}function dV(t,n){if(1&t){const e=Le();b(0,"button",38),_e("click",function(){ye(e);const r=ae().index,o=ze(48);return ae(2).openSupprTravailleur(o,r)}),Pe(1,"i",60),E()}}function pV(t,n){if(1&t){const e=Le();b(0,"tr",34)(1,"td")(2,"input",35),_e("ngModelChange",function(r){return ye(e).$implicit.nom=r}),E()(),b(3,"td")(4,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.prenom=r}),E()(),b(5,"td")(6,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.date_de_naissance=r}),E()(),b(7,"td")(8,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.numero_secu=r}),E()(),b(9,"td")(10,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.fonction=r}),E()(),b(11,"td")(12,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.contrat=r}),E()(),b(13,"td")(14,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.date_embauche=r}),E()(),b(15,"td"),Te(16,J8,20,2,"ng-template",null,37,it),b(18,"div")(19,"button",38),_e("click",function(){ye(e);const r=ze(17);return ae(2).open(r)}),Pe(20,"i",27),E()()(),b(21,"td"),Te(22,tV,20,2,"ng-template",null,39,it),b(24,"div")(25,"button",38),_e("click",function(){ye(e);const r=ze(23);return ae(2).open(r)}),Pe(26,"i",27),E()()(),b(27,"td"),Te(28,oV,20,2,"ng-template",null,40,it),b(30,"div")(31,"button",38),_e("click",function(){ye(e);const r=ze(29);return ae(2).open(r)}),Pe(32,"i",27),E()()(),b(33,"td"),Te(34,uV,20,2,"ng-template",null,41,it),b(36,"div")(37,"button",38),_e("click",function(){ye(e);const r=ze(35);return ae(2).open(r)}),Pe(38,"i",27),E()()(),b(39,"td")(40,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.activite_partagee=r}),E()(),b(41,"td")(42,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.suivi_corps_entier=r}),E()(),b(43,"td")(44,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.suivi_complementaire=r}),E()(),b(45,"td")(46,"div",10),Te(47,cV,18,1,"ng-template",null,42,it),Te(49,dV,2,0,"button",43),E()()()}if(2&t){const e=n.$implicit,i=ae(2);de(2),ot("name",e.nom),ve("ngModel",e.nom),de(2),ot("name",e.prenom),ve("ngModel",e.prenom),de(2),ot("name",e.date_de_naissance),ve("ngModel",e.date_de_naissance),de(2),ot("name",e.numero_secu),ve("ngModel",e.numero_secu),de(2),ot("name",e.fonction),ve("ngModel",e.fonction),de(2),ot("name",e.contrat),ve("ngModel",e.contrat),de(2),ot("name",e.date_embauche),ve("ngModel",e.date_embauche),de(26),ot("name",e.activite_partagee),ve("ngModel",e.activite_partagee),de(2),ot("name",e.suivi_corps_entier),ve("ngModel",e.suivi_corps_entier),de(2),ot("name",e.suivi_complementaire),ve("ngModel",e.suivi_complementaire),de(5),ve("ngIf",i.test)}}function fV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function hV(t,n){if(1&t){const e=Le();b(0,"button",26),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprRPTENew(o,r)}),Pe(1,"i",60),E()}}function _V(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,fV,18,1,"ng-template",null,65,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,hV,2,0,"button",66),E()()}if(2&t){const e=n.$implicit,i=ae(3);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function mV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Fichier Formation RPTE"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,_V,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",64),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),ae(2).onFileSelectedFormationRPTE(r)}),E()()()}if(2&t){const e=ae(2);de(15),ve("ngForOf",e.newfileRPTE)}}function gV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function yV(t,n){if(1&t){const e=Le();b(0,"button",26),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprRPPNew(o,r)}),Pe(1,"i",60),E()}}function vV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,gV,18,1,"ng-template",null,67,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,yV,2,0,"button",66),E()()}if(2&t){const e=n.$implicit,i=ae(3);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function bV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Fichier Formation RPP"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,vV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",64),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),ae(2).onFileSelectedFormationRPP(r)}),E()()()}if(2&t){const e=ae(2);de(15),ve("ngForOf",e.newfileRPP)}}function wV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function CV(t,n){if(1&t){const e=Le();b(0,"button",26),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprVisiteNew(o,r)}),Pe(1,"i",60),E()}}function EV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,wV,18,1,"ng-template",null,68,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,CV,2,0,"button",66),E()()}if(2&t){const e=n.$implicit,i=ae(3);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function TV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Fichier Visite medical"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,EV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",64),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),ae(2).onFileSelectedVisiteMed(r)}),E()()()}if(2&t){const e=ae(2);de(15),ve("ngForOf",e.newfileVisite)}}function SV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),K(9),E()()(),b(10,"p")(11,"span",56),K(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function DV(t,n){if(1&t){const e=Le();b(0,"button",26),_e("click",function(){ye(e);const r=ae().index,o=ze(2);return ae(3).openSupprEvalNew(o,r)}),Pe(1,"i",60),E()}}function OV(t,n){if(1&t){const e=Le();b(0,"tr"),Te(1,SV,18,1,"ng-template",null,69,it),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td"),Te(8,DV,2,0,"button",66),E()()}if(2&t){const e=n.$implicit,i=ae(3);de(4),ot("name",e.name),ve("ngModel",e.name),de(2),ot("name",e.date),ve("ngModel",e.date),de(2),ve("ngIf",i.test)}}function NV(t,n){if(1&t){const e=Le();b(0,"div",44)(1,"h4",45),K(2,"Fichier Evaluation Individuelle"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),K(9,"Nom"),E(),b(10,"th"),K(11,"Date"),E(),b(12,"th"),K(13,"Action"),E()()(),b(14,"tbody"),Te(15,OV,9,5,"tr",49),E()()(),b(16,"div",50)(17,"label",64),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),ae(2).onFileSelectedEvaluation(r)}),E()()()}if(2&t){const e=ae(2);de(15),ve("ngForOf",e.newfileEval)}}function xV(t,n){if(1&t){const e=Le();b(0,"div",13)(1,"table",14)(2,"thead",15)(3,"tr")(4,"th",16),K(5,"Nom"),E(),b(6,"th",16),K(7,"Pr\xe9nom"),E(),b(8,"th",16),K(9,"Date de naissance"),E(),b(10,"th",16),K(11,"N\xb0 de s\xe9curit\xe9 sociale"),E(),b(12,"th",16),K(13,"Fonction"),E(),b(14,"th",16),K(15,"Contrat"),E(),b(16,"th",16),K(17,"Date d\u2019embauche"),E(),b(18,"th"),K(19,"Formation RPTE"),E(),b(20,"th"),K(21,"Formation RPP"),E(),b(22,"th"),K(23,"Visite m\xe9dicale"),E(),b(24,"th"),K(25,"Evaluation individuelle d\u2019exposition"),E(),b(26,"th",16),K(27,"Activit\xe9 partag\xe9e sur plusieurs \xe9tablissements"),E(),b(28,"th",16),K(29,"Suivi dosim\xe9trique corps entier"),E(),b(30,"th",16),K(31,"Suivi dosim\xe9trique compl\xe9mentaire"),E(),b(32,"th",16),K(33,"Action"),E()()(),Te(34,pV,50,21,"tr",17),b(35,"tr")(36,"td")(37,"input",18),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.nom=r}),E()(),b(38,"td")(39,"input",19),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.prenom=r}),E()(),b(40,"td")(41,"input",20),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.date_de_naissance=r}),E()(),b(42,"td")(43,"input",21),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.numero_secu=r}),E()(),b(44,"td")(45,"input",22),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.fonction=r}),E()(),b(46,"td")(47,"input",23),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.contrat=r}),E()(),b(48,"td")(49,"input",24),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.date_embauche=r}),E()(),b(50,"td"),Te(51,mV,20,1,"ng-template",null,25,it),b(53,"div")(54,"button",26),_e("click",function(){ye(e);const r=ze(52);return ae().open(r)}),Pe(55,"i",27),E()()(),b(56,"td"),Te(57,bV,20,1,"ng-template",null,28,it),b(59,"div")(60,"button",26),_e("click",function(){ye(e);const r=ze(58);return ae().open(r)}),Pe(61,"i",27),E()()(),b(62,"td"),Te(63,TV,20,1,"ng-template",null,29,it),b(65,"div")(66,"button",26),_e("click",function(){ye(e);const r=ze(64);return ae().open(r)}),Pe(67,"i",27),E()()(),b(68,"td"),Te(69,NV,20,1,"ng-template",null,30,it),b(71,"div")(72,"button",26),_e("click",function(){ye(e);const r=ze(70);return ae().open(r)}),Pe(73,"i",27),E()()(),b(74,"td")(75,"input",31),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.activite_partagee=r}),E()(),b(76,"td")(77,"input",32),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.suivi_corps_entier=r}),E()(),b(78,"td")(79,"input",33),_e("ngModelChange",function(r){return ye(e),ae().newAttribute.suivi_complementaire=r}),E()()()()(),Pe(80,"br"),b(81,"div",10)(82,"button",11),_e("click",function(){return ye(e),ae().addFieldValue()}),Pe(83,"i",12),E()()}if(2&t){const e=ae();de(34),ve("ngForOf",e.travailleurs),de(3),ve("ngModel",e.newAttribute.nom),de(2),ve("ngModel",e.newAttribute.prenom),de(2),ve("ngModel",e.newAttribute.date_de_naissance),de(2),ve("ngModel",e.newAttribute.numero_secu),de(2),ve("ngModel",e.newAttribute.fonction),de(2),ve("ngModel",e.newAttribute.contrat),de(2),ve("ngModel",e.newAttribute.date_embauche),de(26),ve("ngModel",e.newAttribute.activite_partagee),de(2),ve("ngModel",e.newAttribute.suivi_corps_entier),de(2),ve("ngModel",e.newAttribute.suivi_complementaire)}}let AV=(()=>{class t{constructor(e,i,r,o,s,a){this.modalService=i,this.modal=r,this.http=o,this.DataService=s,this.userinfo=a,this.closeResult="",this.ajout=!1,this.List=[{name:"Site",adresse:"",state:"disabled"},{name:"Hopital Nord",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""}],this.travailleurs=[],this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={},this.date=new Date,this.file_Formation_RPTE={},this.file_Formation_RPP={},this.file_Visite_Med={},this.file_Evaluation={},this.test=!0,e.backdrop="static",e.keyboard=!1,this.selected={name:"Site",adresse:"",state:"disabled"}}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.start()}changeselect(e){this.selected=e.target.value}modetableau(){this.ajout=!0}addFieldValue(){this.newAttribute.formation_rpte=this.newfileRPTE,this.newAttribute.formation_rpp=this.newfileRPP,this.newAttribute.visite_medical=this.newfileVisite,this.newAttribute.eval_individuelle=this.newfileEval,this.travailleurs.push(this.newAttribute),this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={},console.log(this.travailleurs)}deleteFieldValue(e){this.travailleurs.splice(e,1)}onFileSelectedFormationRPP(e){const r=e.target.files;console.log(r),this.file_Formation_RPP.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.newfileRPP.push(this.file_Formation_RPP),this.file_Formation_RPP={};var o=new FormData;o.append("file",r[0]),this.DataService.UploadData(o).subscribe(()=>{console.log(this.data)})}onFileSelectedFormationRPTE(e){const r=e.target.files;console.log(r),this.file_Formation_RPTE.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.newfileRPTE.push(this.file_Formation_RPTE),this.file_Formation_RPTE={}}onFileSelectedVisiteMed(e){const r=e.target.files;console.log(r),this.file_Visite_Med.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.newfileVisite.push(this.file_Visite_Med),this.file_Visite_Med={}}onFileSelectedEvaluation(e){const r=e.target.files;console.log(r),this.file_Evaluation.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.newfileEval.push(this.file_Evaluation),this.file_Evaluation={}}onFileSelectedOldFormationRPP(e,i){const o=e.target.files;console.log(o),this.file_Formation_RPP.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.travailleurs[i].formation_rpp.push(this.file_Formation_RPP),this.file_Formation_RPP={}}onFileSelectedOldFormationRPTE(e,i){const o=e.target.files;console.log(o),this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.travailleurs[i].formation_rpte.push(this.file_Formation_RPTE),this.file_Formation_RPTE={}}onFileSelectedOldVisite(e,i){const o=e.target.files;console.log(o),this.file_Visite_Med.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.travailleurs[i].visite_medical.push(this.file_Visite_Med),this.file_Visite_Med={}}onFileSelectedOldEval(e,i){const o=e.target.files;console.log(o),this.file_Evaluation.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.travailleurs[i].eval_individuelle.push(this.file_Evaluation),this.file_Evaluation={}}open(e){this.modalService.open(e).result.then(i=>{this.closeResult=`Closed with: ${i}`,console.log(this.closeResult)},i=>{})}openSupprRPTENew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPTE.splice(i,1)},r=>{})}openSupprRPPNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPP.splice(i,1)},r=>{})}openSupprVisiteNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileVisite.splice(i,1)},r=>{})}openSupprEvalNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileEval.splice(i,1)},r=>{})}openSupprRPTEOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPTE(i,r)},o=>{})}openSupprRPPOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPP(i,r)},o=>{})}openSupprVisiteOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileVisite(i,r)},o=>{})}openSupprEvalOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileVisite(i,r)},o=>{})}openSupprTravailleur(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.deleteFieldValue(i)},r=>{})}deleteFileRPTE(e){this.newfileRPTE.splice(e,1)}deleteFileRPP(e){this.newfileRPP.splice(e,1)}deleteFileVisite(e){this.newfileVisite.splice(e,1)}deleteFileEval(e){this.newfileEval.splice(e,1)}deleteOldFileRPP(e,i){this.travailleurs[e].formation_rpp.splice(i,1)}deleteOldFileRPTE(e,i){this.travailleurs[e].formation_rpte.splice(i,1)}deleteOldFileVisite(e,i){this.travailleurs[e].visite_medical.splice(i,1)}deleteOldFileEval(e,i){this.travailleurs[e].eval_individuelle.splice(i,1)}}return t.\u0275fac=function(e){return new(e||t)(be($i),be(Bi),be(bi),be(Fn),be(Yd),be(Jr))},t.\u0275cmp=Wt({type:t,selectors:[["app-gestion-travailleurs"]],features:[tn([bi,Bi,$i])],decls:18,vars:8,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],["name","categorie","bindLabel","name","placeholder","Selectionner une categorie",3,"items","closeOnSelect","searchable","ngModel","ngModelChange"],[1,"row","mt-3"],[4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["tableau",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[1,"table-responsive",2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],[1,"table","table-striped","table-hover"],[1,"table-success"],[1,"colonne"],["style","width:auto;overflow: scroll;overflow-y:auto;overflow-x:auto;",4,"ngFor","ngForOf"],["type","text","id","newAttributeNom","name","newAttributeNom",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributePrenom","name","newAttributePrenom",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeDateNaissance","name","newAttributeDateNaissance",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeNumeroSecu","name","newAttributeNumeroSecu",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeFonction","name","newAttributeFonction",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeContrat","name","newAttributeContrat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeDateEmbauche","name","newAttributeDateEmbauche",1,"form-control",3,"ngModel","ngModelChange"],["contentNewRPTE",""],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-file-earmark-person"],["contentNewRPP",""],["contentNewVisite",""],["contentNewEval",""],["type","text","id","newAttributeActivitePartage","name","newAttributeActivitePartage",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeSuiviCorpsEntier","name","newAttributeSuiviCorpsEntier",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeSuiviComplementaire","name","newAttributeSuiviComplementaire",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],["type","text","disabled","","readonly","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"],["contentOldRPTE",""],[1,"btn","btn-lg","btn-outline-success",3,"click"],["contentOldRPP",""],["contentOldVisite",""],["contentOldEval",""],["contentSupprTravailleur",""],["class","btn btn-lg btn-outline-success",3,"click",4,"ngIf"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","justify-content-sm-center"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file",1,"file-upload",2,"display","none",3,"change"],["contentSupprRPTEOld",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"],["contentSupprRPPOld",""],["contentSupprVisiteOld",""],["contentSupprEvalOld",""],[1,"btn","btn-lg","file-upload","btn-outline-primary"],["contentSupprRPTENew",""],["class","btn btn-lg btn-outline-primary",3,"click",4,"ngIf"],["contentSupprRPPNew",""],["contentSupprVisiteNew",""],["contentSupprEvalNew",""]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Travailleurs expos\xe9s"),E()(),b(5,"div",3)(6,"div",4)(7,"ng-select",5),_e("ngModelChange",function(o){return i.selected=o}),E(),b(8,"div",6)(9,"div",2)(10,"h3"),K(11),E()()()()()()(),b(12,"div",0),Te(13,W8,1,0,"div",7),Te(14,z8,3,0,"ng-template",null,8,it),Te(16,xV,84,11,"ng-template",null,9,it),E()),2&e){const r=ze(15),o=ze(17);de(7),ve("items",i.List)("closeOnSelect",!0)("searchable",!1)("ngModel",i.selected),de(4),bt(i.selected.name),de(2),ve("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[ep,Qi,Kr,ji,Ni,xi],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:300px}th[_ngcontent-%COMP%]{width:150px}"]}),t})(),MV=(()=>{class t{constructor(e,i,r){this.userService=e,this.fb=i,this.http=r,this.infosErrorMessage="",this.pswErrorMessage="",this.infosForm=new pr({firstName:new On("",di.required),lastName:new On("",di.required),mail:new On("",di.required)}),this.pswForm=new pr({oldPsw:new On("",di.required),newPsw:new On("",di.required),confPsw:new On("",di.required)})}ngOnInit(){this.infosForm.controls.firstName.setValue(this.userService.firstName),this.infosForm.controls.lastName.setValue(this.userService.lastName),this.infosForm.controls.mail.setValue(this.userService.mail)}infos(){console.log("Donn\xe9es du formulaire : ",this.infosForm.value),this.infosForm.invalid?this.infosErrorMessage="Erreur : Tous les champs sont requis.":this.userService.updatePersonalData(this.userService.id,this.infosForm.value.lastName,this.infosForm.value.firstName).subscribe(e=>{this.userService.firstName=this.infosForm.value.firstName,this.userService.lastName=this.infosForm.value.lastName})}password(){if(console.log("Donn\xe9es du formulaire : ",this.pswForm.value),this.pswForm.invalid)return void(this.pswErrorMessage="Erreur : Tous les champs sont requis.");const e={headers:new Je({"Content-Type":"application/json","x-auth-token":localStorage.getItem("ACCESS_TOKEN")})};this.http.post(`/api/user/personalData/${this.userService.id}`,{oldPassword:this.pswForm.value.oldPsw},e).subscribe(r=>{Object.values(r)[0]?this.pswForm.value.newPsw==this.pswForm.value.confPsw?this.userService.updatePassword(this.userService.id,this.pswForm.value.newPsw).subscribe(o=>{this.pswErrorMessage=""}):this.pswErrorMessage="Erreur: Les mots de passe ne correspondent pas":this.pswErrorMessage="Erreur: L'ancient mot de passe est faux"})}}return t.\u0275fac=function(e){return new(e||t)(be(zn),be(ja),be(Fn))},t.\u0275cmp=Wt({type:t,selectors:[["app-profile"]],decls:48,vars:8,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"col-md-0"],[1,"border","border-light","p-5",3,"formGroup","ngSubmit"],[1,"form-group","row","mb-3"],[1,"col"],["for",""],["type","text","placeholder","Nom","formControlName","lastName",1,"form-control",3,"value"],["type","text","placeholder","Pr\xe9nom","formControlName","firstName",1,"form-control",3,"value"],[1,"form-group","row","mb-0"],["type","email","placeholder","Email","formControlName","mail",1,"form-control",3,"value"],[1,"mt-4","text-danger","font-weight-bold"],[1,"mt-4"],[1,"col-2"],["type","submit",1,"btn","btn-primary","d-block","w-100","w-25"],[1,"bi","bi-save"],[1,"form-group","row","mb-4"],["type","password","placeholder","Ancien mot de passe","formControlName","oldPsw",1,"form-control"],[1,"form-group","row","mb-1"],["type","password","placeholder","Nouveau mot de passe","formControlName","newPsw",1,"form-control"],["type","password","placeholder","Confirmation nouveau mot de passe","formControlName","confPsw",1,"form-control"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Param\xe8tres"),E()(),b(5,"div",1)(6,"div",3)(7,"form",4),_e("ngSubmit",function(){return i.infos()}),b(8,"div",5)(9,"div",6)(10,"label",7),K(11,"Nom"),E(),Pe(12,"input",8),E(),b(13,"div",6)(14,"label",7),K(15,"Pr\xe9nom"),E(),Pe(16,"input",9),E()(),b(17,"div",10)(18,"div",6)(19,"label",7),K(20,"Email"),E(),Pe(21,"input",11),E()(),b(22,"div",12),K(23),E(),b(24,"div",13)(25,"div",14)(26,"button",15),Pe(27,"i",16),K(28," Sauvegarder "),E()()()(),Pe(29,"br"),b(30,"form",4),_e("ngSubmit",function(){return i.password()}),b(31,"div",17)(32,"label",7),K(33,"Mot de passe"),E(),b(34,"div",6),Pe(35,"input",18),E()(),b(36,"div",19)(37,"div",6),Pe(38,"input",20),E(),b(39,"div",6),Pe(40,"input",21),E()(),b(41,"div",12),K(42),E(),b(43,"div",13)(44,"div",14)(45,"button",15),Pe(46,"i",16),K(47," Sauvegarder "),E()()()()()()()()),2&e&&(de(7),ve("formGroup",i.infosForm),de(5),ot("value",i.userService.lastName),de(4),ot("value",i.userService.firstName),de(5),ot("value",i.userService.mail),Bt("disabled",!0),de(2),Jt(" ",i.infosErrorMessage," "),de(7),ve("formGroup",i.pswForm),de(12),Jt(" ",i.pswErrorMessage," "))},directives:[Co,wo,Zr,xi,Qi,Eo],styles:[""]}),t})(),IV=(()=>{class t{constructor(e){this.userService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-admin-home"]],decls:30,vars:1,consts:[[1,"container"],[1,"row","mb-5"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-3"],["routerLink","/admin/accounts",1,"text-decoration-none","text-dark"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"bi","bi-person"],[1,"card-title","text-center"],["routerLink","/admin/structures",1,"text-decoration-none","text-dark"],[1,"bi","bi-building"],["routerLink","/admin/sites",1,"text-decoration-none","text-dark"],[1,"bi","bi-diagram-3"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4),E()()(),b(5,"div",3)(6,"div",4)(7,"a",5)(8,"div",6)(9,"div",7)(10,"h3"),Pe(11,"i",8),E(),b(12,"h5",9),K(13,"Gestion des comptes"),E()()()()(),b(14,"div",4)(15,"a",10)(16,"div",6)(17,"div",7)(18,"h3"),Pe(19,"i",11),E(),b(20,"h5",9),K(21,"Gestion des structures"),E()()()()(),b(22,"div",4)(23,"a",12)(24,"div",6)(25,"div",7)(26,"h3"),Pe(27,"i",13),E(),b(28,"h5",9),K(29,"Gestion des sites"),E()()()()()()()),2&e&&(de(4),Jt("Bienvenue ",i.userService.firstName,""))},directives:[Yr],styles:[""]}),t})();const PV=C(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function Ht(t,n){const{first:e,each:i,with:r=kV,scheduler:o=(null!=n?n:pu),meta:s=null}=bE(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==e&&null==i)throw new TypeError("No timeout provided.");return ue((a,d)=>{let w,k,ee=null,se=0;const me=Se=>{k=pn(d,o,()=>{try{w.unsubscribe(),Ke(r({meta:s,lastValue:ee,seen:se})).subscribe(d)}catch(xe){d.error(xe)}},Se)};w=a.subscribe(N(d,Se=>{null==k||k.unsubscribe(),se++,d.next(ee=Se),i>0&&me(i)},void 0,void 0,()=>{(null==k?void 0:k.closed)||null==k||k.unsubscribe(),ee=null})),!se&&me(null!=e?"number"==typeof e?e:+e-o.now():i)})}function kV(t){throw new PV(t)}function RV(t,n){if(1&t&&(b(0,"option",25),K(1),E()),2&t){const e=n.$implicit;ve("value",e.name),de(1),bt(e.name)}}function FV(t,n){if(1&t){const e=Le();b(0,"div",34)(1,"h4",35),K(2,"Supprimer un utilisateur"),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer l'utilisateur : "),b(8,"span",38),K(9),E()()(),b(10,"p")(11,"span",39),K(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",40)(14,"button",41),_e("click",function(){return ye(e).dismiss("cancel click")}),K(15,"Non"),E(),b(16,"button",42),_e("click",function(){return ye(e).close("OK click")}),K(17,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),eh("",e.last_name,", ",e.first_name,", ",e.mail,"")}}function jV(t,n){if(1&t){const e=Le();b(0,"div",34)(1,"h4",35),K(2,"generation de mot de passe"),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"form",43)(5,"div",37),Pe(6,"input",44),E()(),b(7,"div",40)(8,"button",42),_e("click",function(){ye(e);const r=ae().index;return ae().Change(r)}),K(9,"Regenerer un mot de passe"),E()()}if(2&t){const e=ae(2);de(4),ve("formGroup",e.changeForm)}}function $V(t,n){if(1&t){const e=Le();b(0,"tr")(1,"td")(2,"input",26),_e("ngModelChange",function(r){return ye(e).$implicit.last_name=r}),E()(),b(3,"td")(4,"input",26),_e("ngModelChange",function(r){return ye(e).$implicit.first_name=r}),E()(),b(5,"td")(6,"input",26),_e("ngModelChange",function(r){return ye(e).$implicit.mail=r}),E()(),b(7,"td")(8,"input",26),_e("ngModelChange",function(r){return ye(e).$implicit.structure=r}),E()(),b(9,"td")(10,"button",27),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(14);return ae().getAccessUser(a,o,s.id)}),Pe(11,"i",28),E()(),b(12,"td"),Te(13,FV,18,3,"ng-template",null,29,it),b(15,"button",30),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(14);return ae().openSupprUser(a,o,s.id)}),Pe(16,"i",31),E()(),b(17,"td"),Te(18,jV,10,1,"ng-template",null,32,it),b(20,"button",30),_e("click",function(){const o=ye(e).index,s=ze(19);return ae().changePassword(s,o)}),Pe(21,"i",31),K(22,">"),Pe(23,"i",33),E()()()}if(2&t){const e=n.$implicit;de(2),ot("name",e.last_name),ve("ngModel",e.last_name),de(2),ot("name",e.first_name),ve("ngModel",e.first_name),de(2),ot("name",e.mail),ve("ngModel",e.mail),de(2),ot("name",e.structure),ve("ngModel",e.structure)}}c(377);let BV=(()=>{class t{constructor(e,i,r,o,s,a,d,w,k,ee,se){this.userService=e,this.userinfo=i,this.router=r,this.authService=o,this.configNG=s,this.adminService=a,this.fb=d,this.config=w,this.modalService=k,this.modal=ee,this.http=se,this.userForm=new pr({firstName:new On("",di.required),lastName:new On("",di.required),mail:new On("",di.required),structure:new On("",di.required)}),this.changeForm=new pr({password:new On("",di.required)}),this.formMessage="",this.structuresTab=[{name:"test",id:1}],this.filesTab=[{fileID:this.userService.id}],this.usersTab=[{id:this.userService.id,first_name:this.userService.firstName,last_name:this.userService.lastName,mail:this.userService.mail,structure:"test",structure_id:1,clientid:1}],this.closeResult=""}ngOnInit(){this.getUsers(),this.getStructures()}newUser(){if(this.userForm.invalid)return void(this.formMessage="Tous les champs sont requis.");this.formMessage="",this.usersTab.push({id:this.userService.id,first_name:this.userForm.value.firstName,last_name:this.userForm.value.lastName,mail:this.userForm.value.mail,structure:this.userForm.value.structure,structure_id:this.structureSel.id,clientid:1}),this.adminService.addUser(this.userService.id,this.userForm.value.lastName,this.userForm.value.firstName,this.userForm.value.mail,this.userForm.value.password,this.structureSel.id).subscribe();const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.post("/api/user",{mail:this.userForm.value.mail,name:this.userForm.value.firstName,lastname:this.userForm.value.lastName,structure:this.userForm.value.structure},e).subscribe(i=>{this.getUsers()})}structureSelect(e){this.structureSel=this.structuresTab.find(i=>i.name==e.target.value)}openSupprUser(e,i,r){this.modalService.open(e).result.then(o=>{const s={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/user/"+this.usersTab[i].mail,s).pipe(Ht(3e3)).subscribe(a=>{this.deleteall(i),this.getUsers()}),this.closeResult=`Closed with: ${o}`,console.log(this.userService.id+" "+r),this.adminService.delUser(this.userService.id,r).subscribe(a=>console.log(a)),this.getUsers()},o=>{})}deleteall(e){this.getfiles(e),this.getfilesverif(e),this.getworkers(e),this.deletefiles(e),this.deleteverif(e),this.deleteworkers(e),this.deleteequipment(e)}getfiles(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/uploads/files/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deletefileschucks(o[s]._id);console.log("files insert")})}deletefileschucks(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}getfilesverif(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/verifications/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteverifchunks(o[s]._id);console.log("files insert")})}deleteverifchunks(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("verifications chunk deleted")})}getworkers(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/workers/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteworkerchunks(o[s]._id);console.log("files insert")})}deleteworkerchunks(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}deletefiles(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/uploads/files/user/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files deleted")})}deleteverif(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/user/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{this.getStructures()})}deleteworkers(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/user/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{this.getStructures()})}deleteequipment(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/equipments/user/"+this.usersTab[e].clientid,i).pipe(Ht(3e3)).subscribe(r=>{this.getStructures()})}Change(e){var i;const r=Math.random().toString(36).slice(-8);null===(i=this.changeForm.get("password"))||void 0===i||i.setValue(r);const o={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/user/"+this.usersTab[e].clientid,{password:r,adminGeneration:!0},o).pipe(Ht(3e3)).subscribe(s=>{})}changePassword(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.getUsers()},r=>{})}getAccessUser(e,i,r){console.log(this.userService.mail),this.userinfo.mail=this.userService.mail,this.userinfo.admin=this.userService.admin,console.log(this.userinfo.mail),this.userService.id=this.usersTab[i].id,this.userService.firstName=this.usersTab[i].first_name,this.userService.lastName=this.usersTab[i].last_name,this.userService.mail=this.usersTab[i].mail,this.router.navigate(["/admin/acces"])}getStructures(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[];for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:r[o].id})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),console.log(this.structuresTab)})}getUsers(){this.usersTab=[];const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);for(let o=0;o<r.length;o++)console.log(r[o].structure),this.usersTab.push({id:r[o]._id,first_name:r[o].firstName,last_name:r[o].lastName,mail:r[o].email,structure_id:1,clientid:r[o]._id,structure:r[o].structure})}),this.adminService.getUsers().subscribe(i=>{this.usersTab=[],i.forEach(r=>this.usersTab.push(r)),console.log(this.usersTab)})}getStructureName(e){if(null!=this.structuresTab.find(i=>i.id==e)){const i=this.structuresTab.findIndex(r=>r.id==e);return this.structuresTab[i]}return{name:"Error",id:-1}}}return t.\u0275fac=function(e){return new(e||t)(be(zn),be(Jr),be(Rn),be(Nd),be(Xd),be(Is),be(ja),be($i),be(Bi),be(bi),be(Fn))},t.\u0275cmp=Wt({type:t,selectors:[["app-admin-accounts"]],decls:53,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","m-4"],[1,"",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],[1,"col-2"],["for",""],["type","text","placeholder","Nom","formControlName","lastName",1,"form-control"],["type","text","placeholder","Pr\xe9nom","formControlName","firstName",1,"form-control"],["type","email","placeholder","Email","formControlName","mail",1,"form-control"],[1,"col-3"],["formControlName","structure",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],[4,"ngFor","ngForOf"],[3,"value"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","button","id","eyebutton",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-eye"],["contentSupprUser",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],["contentRenamePassword",""],[1,"bi","bi-pencil"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"",3,"formGroup"],["type","text","name","test","formControlName","password",1,"form-control"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Gestion des comptes"),E()()(),b(5,"div",3)(6,"form",4),_e("ngSubmit",function(){return i.newUser()}),b(7,"div",5)(8,"div",6)(9,"label",7),K(10,"Nom"),E(),Pe(11,"input",8),E(),b(12,"div",6)(13,"label",7),K(14,"Pr\xe9nom"),E(),Pe(15,"input",9),E(),b(16,"div",6)(17,"label",7),K(18,"Email"),E(),Pe(19,"input",10),E(),b(20,"div",11)(21,"label",7),K(22,"Structure"),E(),b(23,"select",12),_e("change",function(o){return i.structureSelect(o)}),b(24,"option",13),K(25,"Structure"),E(),Te(26,RV,2,2,"option",14),E()(),b(27,"div",15)(28,"button",16),Pe(29,"i",17),E()()()(),b(30,"div",18),K(31),E()(),b(32,"div",19)(33,"div",20)(34,"table",21)(35,"thead",22)(36,"tr")(37,"th",23),K(38,"Nom"),E(),b(39,"th",23),K(40,"Pr\xe9nom"),E(),b(41,"th",23),K(42,"Mail"),E(),b(43,"th",23),K(44,"Structure"),E(),b(45,"th",23),K(46,"Acces"),E(),b(47,"th",23),K(48,"Action"),E(),b(49,"th",23),K(50,"Passwordmodif"),E()()(),b(51,"tbody"),Te(52,$V,24,8,"tr",24),E()()()()()),2&e&&(de(6),ve("formGroup",i.userForm),de(20),ve("ngForOf",i.structuresTab),de(5),Jt(" ",i.formMessage," "),de(21),ve("ngForOf",i.usersTab))},directives:[Co,wo,Zr,xi,Qi,Eo,Dd,ws,Cs,Ni,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}#eyebutton[_ngcontent-%COMP%]{size:2500000px}"]}),t})();function LV(t,n){if(1&t){const e=Le();b(0,"div",24)(1,"h4",25),K(2,"Supprimer une structure"),E(),b(3,"button",26),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",27)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer la structure : "),b(8,"span",28),K(9),E()()(),b(10,"p")(11,"span",29),K(12," La suppression d'une structure entraine la suppression de "),b(13,"span",30),K(14,"tous les sites et de tous les documents associ\xe9s"),E(),Pe(15,"br")(16,"br"),K(17," La suppression est d\xe9finitive."),E()()(),b(18,"div",31)(19,"button",32),_e("click",function(){return ye(e).dismiss("cancel click")}),K(20,"Non"),E(),b(21,"button",33),_e("click",function(){return ye(e).close("Ok click")}),K(22,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function VV(t,n){if(1&t){const e=Le();b(0,"div",24)(1,"h4",25),K(2,"Renommer la structure"),E(),b(3,"button",26),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",27)(5,"input",34),_e("ngModelChange",function(r){return ye(e),ae().$implicit.name=r}),E()(),b(6,"div",31)(7,"button",33),_e("click",function(){return ye(e).close("Ok click")}),K(8,"Renommer"),E()()}if(2&t){const e=ae().$implicit;de(5),ot("name",e.name),ve("ngModel",e.name)}}function UV(t,n){if(1&t){const e=Le();b(0,"tr")(1,"td")(2,"input",18),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td"),Te(4,LV,23,1,"ng-template",null,19,it),Te(6,VV,9,2,"ng-template",null,20,it),b(8,"button",21),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(5);return ae().openSupprStructure(a,o,s.id)}),Pe(9,"i",22),E(),b(10,"button",21),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(7);return ae().openRenameStructure(a,o,s.id,s.name)}),Pe(11,"i",23),E()()()}if(2&t){const e=n.$implicit;de(2),ot("name",e.name),ve("ngModel",e.name)}}let HV=(()=>{class t{constructor(e,i,r,o,s,a,d){this.userService=e,this.adminService=i,this.fb=r,this.config=o,this.modalService=s,this.modal=a,this.http=d,this.structureForm=new pr({name:new On("",di.required)}),this.formMessage="",this.UserTab=[{clientid:this.userService.id}],this.structuresTab=[{name:"initialiser avec la premiere structure",id:1}],this.closeResult=""}ngOnInit(){this.getStructures()}newStructure(){if(this.structureForm.invalid)return void(this.formMessage="Tous les champs sont requis.");this.formMessage="";const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structureForm.value.name),this.http.post("/api/structure",{entry:this.structureForm.value.name},e).pipe(Ht(3e3)).subscribe(i=>{}),this.structuresTab.push({name:this.structureForm.value.name,id:100}),this.structureForm.value.name="",this.formMessage=""}openSupprStructure(e,i,r){this.modalService.open(e,{size:"lg"}).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.adminService.delStructure(this.userService.id,r).subscribe(),this.deleteFieldValue(i),this.getStructures()},o=>{})}openRenameStructure(e,i,r,o){this.modalService.open(e,{size:"lg"}).result.then(s=>{this.closeResult=`Closed with: ${s}`;const a={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structuresTab[i].name),this.http.put("/api/structure/"+o,{givenname:this.structuresTab[i].name},a).pipe(Ht(3e3)).subscribe(d=>{}),this.getStructures()},s=>{this.structuresTab[i].name=o})}deleteFieldValue(e){this.getUsers(this.structuresTab[e].name);const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structureForm.value.name),this.http.delete("/api/structure/"+this.structuresTab[e].name,i).pipe(Ht(3e3)).subscribe(r=>{}),this.http.delete("/api/site/structure/"+this.structuresTab[e].name,i).subscribe(r=>{}),this.http.delete("/api/user/structure/"+this.structuresTab[e].name,i).subscribe(r=>{console.log("test\xe7amarche ?")}),this.structuresTab.splice(e,1),console.log("ici")}getStructures(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[];for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:r[o].id})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),console.log(this.structuresTab)})}getUsers(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/user/structure/"+e,i).subscribe(r=>{const o=Object.values(r);this.UserTab=[];for(let s=0;s<o.length;s++)this.UserTab.push({clientid:o[s]._id});for(let s=0;s<this.UserTab.length;s++)this.deleteall(this.UserTab[s].clientid,i)})}deleteall(e,i){console.log(e),this.getfiles(e,i),this.getfilesverif(e,i),this.getworkers(e,i),this.deletefiles(e,i),this.deleteverif(e,i),this.deleteworkers(e,i),this.deleteequipment(e,i)}getfiles(e,i){this.http.get("/api/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deletefileschucks(o[s]._id,i);console.log("files insert")})}deletefileschucks(e,i){this.http.delete("/api/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}getfilesverif(e,i){this.http.get("/api/verifications/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteverifchunks(o[s]._id,i);console.log("files insert")})}deleteverifchunks(e,i){this.http.delete("/api/verifications/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("verifications chunk deleted")})}getworkers(e,i){this.http.get("/api/workers/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteworkerchunks(o[s]._id,i);console.log("files insert")})}deleteworkerchunks(e,i){this.http.delete("/api/workers/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}deletefiles(e,i){this.http.delete("/api/uploads/files/user/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files deleted")})}deleteverif(e,i){this.http.delete("/api/verifications/user/"+e,i).pipe(Ht(3e3)).subscribe(r=>{})}deleteworkers(e,i){this.http.delete("/api/workers/user/"+e,i).pipe(Ht(3e3)).subscribe(r=>{})}deleteequipment(e,i){this.http.delete("/api/equipments/user/"+e,i).pipe(Ht(3e3)).subscribe(r=>{})}}return t.\u0275fac=function(e){return new(e||t)(be(zn),be(Is),be(ja),be($i),be(Bi),be(bi),be(Fn))},t.\u0275cmp=Wt({type:t,selectors:[["app-admin-structures"]],decls:29,vars:3,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","m-4"],[1,"col"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],["for",""],["type","text","placeholder","Nom","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],[4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprStructure",""],["contentRenameStructure",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-pencil-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"fw-bold"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Gestion des structures"),E()()(),b(5,"div",3)(6,"div",4)(7,"form",5),_e("ngSubmit",function(){return i.newStructure()}),b(8,"div",6)(9,"div",4)(10,"label",7),K(11,"Ajouter une structure"),E(),Pe(12,"input",8),E(),b(13,"div",4)(14,"button",9),Pe(15,"i",10),E()()()(),b(16,"div",11),K(17),E()()(),b(18,"div",12)(19,"div",13)(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),K(24,"Structure"),E(),b(25,"th",16),K(26,"Action"),E()()(),b(27,"tbody"),Te(28,UV,12,2,"tr",17),E()()()()()),2&e&&(de(7),ve("formGroup",i.structureForm),de(10),Jt(" ",i.formMessage," "),de(11),ve("ngForOf",i.structuresTab))},directives:[Co,wo,Zr,xi,Qi,Eo,Ni,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}"]}),t})();function GV(t,n){if(1&t&&(b(0,"option"),K(1),E()),2&t){const e=n.$implicit;de(1),bt(e.name)}}function qV(t,n){if(1&t){const e=Le();b(0,"div",27)(1,"h4",28),K(2,"Supprimer une structure"),E(),b(3,"button",29),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",30)(5,"p")(6,"strong"),K(7,"Etes-vous s\xfbr de vouloir supprimer le site : "),b(8,"span",31),K(9),E()(),K(10," ?"),E(),b(11,"p")(12,"span",32),K(13," La suppression d'un site entraine la suppression de "),b(14,"span",33),K(15,"tous les documents associ\xe9s !"),E(),Pe(16,"br")(17,"br"),K(18," La suppression est d\xe9finitive."),E()()(),b(19,"div",34)(20,"button",35),_e("click",function(){return ye(e).dismiss("cancel click")}),K(21,"Non"),E(),b(22,"button",36),_e("click",function(){return ye(e).close("Ok click")}),K(23,"Oui"),E()()}if(2&t){const e=ae().$implicit;de(9),bt(e.name)}}function WV(t,n){if(1&t){const e=Le();b(0,"div",27)(1,"h4",28),K(2,"Renommer le site"),E(),b(3,"button",29),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",30)(5,"input",37),_e("ngModelChange",function(r){return ye(e),ae().$implicit.name=r}),E()(),b(6,"div",34)(7,"button",36),_e("click",function(){return ye(e).close("Ok click")}),K(8,"Renommer"),E()()}if(2&t){const e=ae().$implicit;de(5),ot("name",e.name),ve("ngModel",e.name)}}function zV(t,n){if(1&t){const e=Le();b(0,"tr")(1,"td")(2,"input",21),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td"),Te(4,qV,24,1,"ng-template",null,22,it),Te(6,WV,9,2,"ng-template",null,23,it),b(8,"button",24),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(5);return ae().openSupprSite(a,o,s.id)}),Pe(9,"i",25),E(),b(10,"button",24),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=ze(7);return ae().openRenameSite(a,o,s.id,s.name)}),Pe(11,"i",26),E()()()}if(2&t){const e=n.$implicit;de(2),ot("name",e.name),ve("ngModel",e.name)}}let YV=(()=>{class t{constructor(e,i,r,o,s,a,d){this.userService=e,this.adminService=i,this.fb=r,this.config=o,this.modalService=s,this.modal=a,this.http=d,this.actual="",this.structuresTab=[{name:"structure par defaut",id:1}],this.UserTab=[{clientid:this.userService.id}],this.siteForm=new pr({name:new On("",di.required)}),this.formMessage="",this.sitesTab=[{name:"site par defaut",id:1}],this.closeResult=""}ngOnInit(){this.structureSel={name:"Loading...",id:0},this.getStructures(),this.structuresTab.push({name:"test",id:1})}newSite(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.post("/api/site",{entry:this.siteForm.value.name,info:this.actual},e).pipe(Ht(3e3)).subscribe(i=>{}),this.siteForm.invalid?this.formMessage="Tous les champs sont requis.":(this.sitesTab.push({name:this.siteForm.value.name,id:this.structureSel.id}),this.getSites(),this.siteForm.controls.name.setValue(""),console.log("testings"),console.log(this.structureSel.value.name),this.formMessage="")}openSupprSite(e,i,r){this.modalService.open(e,{size:"lg"}).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteFieldValue(i),this.adminService.delSite(this.userService.id,r).subscribe(),this.getSites()},o=>{})}openRenameSite(e,i,r,o){this.modalService.open(e,{size:"lg"}).result.then(s=>{this.closeResult=`Closed with: ${s}`,console.log(this.sitesTab[i].name),console.log(o);const a={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/site/"+o,{givenname:this.sitesTab[i].name},a).pipe(Ht(3e3)).subscribe(d=>{}),this.adminService.updateSite(this.userService.id,r,this.sitesTab[i].name).subscribe(d=>console.log(d)),this.getSites()},s=>{this.sitesTab[i].name=o})}deleteall(e,i){console.log(e),this.getfiles(e,i),this.getfilesverif(e,i),this.getworkers(e,i)}getfiles(e,i){this.http.get("/api/uploads/files/site/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deletefileschucks(o[s]._id,i);console.log("files insert")})}deletefileschucks(e,i){this.http.delete("/api/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}getfilesverif(e,i){this.http.get("/api/verifications/site/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteverifchunks(o[s]._id,i);console.log("files insert")})}deleteverifchunks(e,i){this.http.delete("/api/verifications/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("verifications chunk deleted")})}getworkers(e,i){this.http.get("/api/workers/site/"+e,i).pipe(Ht(3e3)).subscribe(r=>{const o=Object.values(r);for(let s=0;s<o.length;s++)console.log(o[s]._id),this.deleteworkerchunks(o[s]._id,i);console.log("files insert")})}deleteworkerchunks(e,i){this.http.delete("/api/workers/uploads/files/"+e,i).pipe(Ht(3e3)).subscribe(r=>{console.log("files chunk deleted")})}deleteFieldValue(e){const i={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.sitesTab[e].id),this.deleteall(this.sitesTab[e].id,i),this.http.delete("/api/site/"+this.sitesTab[e].name,i).pipe(Ht(3e3)).subscribe(r=>{}),this.http.delete("/api/uploads/files/site/"+this.sitesTab[e].id,i).pipe(Ht(3e3)).subscribe(r=>{}),this.http.delete("/api/equipments/site/"+this.sitesTab[e].id,i).pipe(Ht(3e3)).subscribe(r=>{}),this.http.delete("/api/workers/site/"+this.sitesTab[e].id,i).pipe(Ht(3e3)).subscribe(r=>{}),this.http.delete("/api/verifications/site/"+this.sitesTab[e].id,i).pipe(Ht(3e3)).subscribe(r=>{}),this.sitesTab.splice(e,1)}getStructures(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[],this.actual=r[0].name,console.log(this.actual);for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:1})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),this.structureSel=this.structuresTab[0],this.getSites(),console.log(this.structuresTab)})}getSites(){const e={headers:new Je({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/site/"+this.actual,e).subscribe(i=>{const r=Object.values(i);this.sitesTab=[],console.log(r.length);for(let o=0;o<r.length;o++)this.sitesTab.push({name:r[o].name,id:r[o]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(i=>{this.sitesTab=[],i.forEach(r=>this.sitesTab.push(r)),console.log(this.sitesTab)})}changeselect(e){var i;this.structureSel=this.structuresTab.find(r=>r.name==e.target.value),this.actual=null===(i=this.structuresTab.find(r=>r.name==e.target.value))||void 0===i?void 0:i.name,console.log(this.actual),this.getSites()}}return t.\u0275fac=function(e){return new(e||t)(be(zn),be(Is),be(ja),be($i),be(Bi),be(bi),be(Fn))},t.\u0275cmp=Wt({type:t,selectors:[["app-admin-sites"]],decls:33,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","m-4"],[1,"col"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],["for",""],["type","text","placeholder","Nom","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprSite",""],["contentRenameSite",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-pencil-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"fw-bold"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),K(4,"Gestion des sites"),E()()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Te(8,GV,2,1,"option",6),E()()(),b(9,"div",7)(10,"div",8)(11,"form",9),_e("ngSubmit",function(){return i.newSite()}),b(12,"div",10)(13,"div",8)(14,"label",11),K(15,"Ajouter un site"),E(),Pe(16,"input",12),E(),b(17,"div",8)(18,"button",13),Pe(19,"i",14),E()()()(),b(20,"div",15),K(21),E()()(),b(22,"div",16)(23,"div",17)(24,"table",18)(25,"thead",19)(26,"tr")(27,"th",20),K(28,"Site"),E(),b(29,"th",20),K(30,"Action"),E()()(),b(31,"tbody"),Te(32,zV,12,2,"tr",6),E()()()()()),2&e&&(de(8),ve("ngForOf",i.structuresTab),de(3),ve("formGroup",i.siteForm),de(10),Jt(" ",i.formMessage," "),de(11),ve("ngForOf",i.sitesTab))},directives:[Ni,ws,Cs,Co,wo,Zr,xi,Qi,Eo,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}"]}),t})(),JT=(()=>{class t{constructor(e,i){this.userinfo=e,this.userService=i,this.test=!1}ngOnInit(){this.start()}start(){console.log("debut"),1==this.userService.admin&&(this.test=!0)}change(){null!=this.userinfo.mail&&(console.log(this.userinfo.mail),this.userService.mail=this.userinfo.mail)}}return t.\u0275fac=function(e){return new(e||t)(be(Jr),be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-public"]],decls:16,vars:0,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,""],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/",1,"nav-link","px-2","link-light",3,"click"],["routerLink","/notre-offre",1,"nav-link","px-2","link-light",3,"click"],["routerLink","/contact",1,"nav-link","px-2","link-light",3,"click"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),_e("click",function(){return i.change()}),K(8,"Connexion"),E()(),b(9,"li")(10,"a",7),_e("click",function(){return i.change()}),K(11,"Notre offre"),E()(),b(12,"li")(13,"a",8),_e("click",function(){return i.change()}),K(14,"Contact"),E()()()()()(),Pe(15,"router-outlet"))},directives:[Yr,Pa],styles:["header[_ngcontent-%COMP%]{background-color:#21504b}.valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}"]}),t})();function KV(t,n){if(1&t){const e=Le();b(0,"li")(1,"a",21)(2,"i",16),_e("click",function(){return ye(e),ae().change()}),E(),K(3," Admin"),E()()}}let QT=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.userinfo=i,this.router=r,this.userService=o,this.test=!1}start(){!0===this.userService.admin&&(this.test=!0)}ngOnInit(){throw this.start(),new Error("Method not implemented.")}change(){null!=this.userinfo.mail&&(console.log(this.userinfo.mail),this.userService.mail=this.userinfo.mail)}logout(){this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=!1,this.authService.signOut(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(be(Nd),be(Jr),be(Rn),be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-admin"]],decls:34,vars:2,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/admin/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,"mr-4"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/admin/accounts",1,"nav-link","px-2","text-light","link-secondary",3,"click"],["routerLink","/admin/structures",1,"nav-link","px-2","text-light",3,"click"],["routerLink","/admin/sites",1,"nav-link","px-2","text-light",3,"click"],[1,"dropdown","text-end"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","text-light","text-decoration-none","dropdown-toggle"],[1,"mail"],[1,"icon"],[1,"bi","bi-person-circle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small"],["routerLink","/app/settings",1,"dropdown-item"],[1,"bi","bi-gear",3,"click"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-left",3,"click"],["routerLink","/admin/home",1,"dropdown-item"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),_e("click",function(){return i.change()}),K(8,"Gestion des comptes"),E()(),b(9,"li")(10,"a",7),_e("click",function(){return i.change()}),K(11,"Gestion des structures"),E()(),b(12,"li")(13,"a",8),_e("click",function(){return i.change()}),K(14,"Gestion des sites"),E()()(),b(15,"div",9)(16,"a",10)(17,"span",11),K(18),E(),b(19,"span",12),Pe(20,"i",13),E()(),b(21,"ul",14)(22,"li")(23,"a",15)(24,"i",16),_e("click",function(){return i.change()}),E(),K(25," Param\xe8tres"),E()(),Te(26,KV,4,0,"li",17),b(27,"li"),Pe(28,"hr",18),E(),b(29,"li")(30,"a",19),_e("click",function(){return i.logout()}),b(31,"i",20),_e("click",function(){return i.change()}),E(),K(32," D\xe9connexion"),E()()()()()()(),Pe(33,"router-outlet")),2&e&&(de(18),bt(i.userService.mail),de(8),ve("ngIf",i.test))},directives:[Yr,ji,Pa],styles:["body[_ngcontent-%COMP%]{background-color:#5d5b5b;color:#000}header[_ngcontent-%COMP%]{background-color:#21504b}.icon[_ngcontent-%COMP%]{font-size:larger}.mail[_ngcontent-%COMP%]{margin-right:5%}"]}),t})(),XT=(()=>{class t{constructor(e,i){this.router=e,this.userService=i}canActivate(e,i){return e.routeConfig.component=this.userService.isConnected?this.userService.admin?QT:om:JT,!0}}return t.\u0275fac=function(e){return new(e||t)(Xe(Rn),Xe(zn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eS=(()=>{class t{constructor(e,i){this.router=e,this.userService=i}canActivate(e,i){return this.userService.isConnected?JSON.parse(localStorage.getItem("ADMIN"))?(e.routeConfig.component=QT,!0):(console.log("You don't have permission to access this route"),this.router.navigate(["/app/home"]),e.routeConfig.component=om,!1):(console.log("You don't have permission to access this route"),this.router.navigate(["/"]),e.routeConfig.component=JT,!1)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Rn),Xe(zn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZV=[{path:"",component:XT,canActivate:[XT],children:[{path:"",component:tj},{path:"contact",component:ij},{path:"conditions-utilisations",component:oj},{path:"mentions-legales",component:rj},{path:"notre-offre",component:uj},{path:"change-password",component:XF},{path:"forgot-password-ok",component:z3}]},{path:"app",component:om,children:[{path:"home",component:sm},{path:"acces",component:sm},{path:"missions-rp",component:r6},{path:"verifications-rp",component:i8},{path:"materiels",component:d8},{path:"settings",component:MV},{path:"travailleurs-exposes",component:q8},{path:"travailleurs-exposes-2",component:AV}]},{path:"admin",component:eS,canActivate:[eS],children:[{path:"home",component:IV},{path:"accounts",component:BV},{path:"structures",component:HV},{path:"sites",component:YV},{path:"acces",component:sm}]},{path:"**",pathMatch:"full",component:o6}];let JV=(()=>{class t{constructor(e){this.userService=e}}return t.\u0275fac=function(e){return new(e||t)(Xe(zn))},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[Ra.forRoot(ZV,{useHash:!0})],Ra]}),t})(),QV=(()=>{class t{constructor(e,i){if(this.router=e,this.userService=i,this.isConnected=!1,this.isAdmnistrator=!1,localStorage.getItem("ACCESS_TOKEN")){const o=JSON.parse(localStorage.getItem("ADMIN")),s=localStorage.getItem("EMAIL"),a=localStorage.getItem("FIRSTNAME"),d=localStorage.getItem("LASTNAME"),w=localStorage.getItem("ID");null!==o&&s&&a&&d&&w&&(this.userService.firstName=a,this.userService.lastName=d,this.userService.mail=s,this.userService.admin=o,this.userService.id=w,this.userService.isConnected=!0,this.isAdmnistrator=o,this.isConnected=!0)}else this.isConnected=!1,this.isAdmnistrator=!1,this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=null;this.router.navigate(this.isConnected?this.isAdmnistrator?["/admin/home"]:["/app/home"]:["/"])}title(e){throw new Error("Method not implemented.")}ngOnInit(){}onBeforeUnload(e){localStorage.removeItem("EMAIL"),localStorage.removeItem("FIRSTNAME"),localStorage.removeItem("LASTNAME"),localStorage.removeItem("ADMIN"),localStorage.removeItem("ID")}}return t.\u0275fac=function(e){return new(e||t)(be(Rn),be(zn))},t.\u0275cmp=Wt({type:t,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&_e("beforeunload",function(o){return i.onBeforeUnload(o)},!1,wy)},decls:17,vars:0,consts:[[1,"mt-auto"],[1,"nav","d-flex","justify-content-around","border-bottom","pb-2","mb-4","mt-2"],[1,"nav-item"],["routerLink","/contact",1,"nav-link","px-3","text-light"],["routerLink","/conditions-utilisations",1,"nav-link","px-3","text-light"],["routerLink","/mentions-legales",1,"nav-link","px-3","text-light","ms-8"],["routerLink","/notre-offre",1,"nav-link","px-3","text-light"],[1,"text-center","text-light"]],template:function(e,i){1&e&&(Pe(0,"router-outlet"),b(1,"footer",0)(2,"ul",1)(3,"li",2)(4,"a",3),K(5,"Contact"),E()(),b(6,"li",2)(7,"a",4),K(8,"Conditions G\xe9n\xe9rales d'utilisation"),E()(),b(9,"li",2)(10,"a",5),K(11,"Mentions l\xe9gales"),E()(),b(12,"li",2)(13,"a",6),K(14,"Notre offre"),E()()(),b(15,"p",7),K(16,"\xa9 2022 IziRp"),E()())},directives:[Pa,Yr],styles:["*[_ngcontent-%COMP%]{font-family:Helvetica;background-color:#21504b;color:#000}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}"]}),t})(),XV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li,Ra,uu]]}),t})(),e9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({imports:[[li,Ra,LT,uu,J_,gE,Fm]]}),t})(),t9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Gt({providers:[bi],imports:[[li,Ra,J_,uu,Fm]]}),t})(),n9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=zt({type:t,bootstrap:[QV]}),t.\u0275inj=Gt({providers:[],imports:[[gk,JV,Ra,XV,e9,t9,gE,uu,LT,Fm]]}),t})();(function oI(){nb=!1})(),_k().bootstrapModule(n9).catch(t=>console.error(t))},377:function(module){var q;"undefined"!=typeof self&&self,q=function(){return function(le){var q={};function c(p){if(q[p])return q[p].exports;var C=q[p]={i:p,l:!1,exports:{}};return le[p].call(C.exports,C,C.exports,c),C.l=!0,C.exports}return c.m=le,c.c=q,c.d=function(p,C,x){c.o(p,C)||Object.defineProperty(p,C,{enumerable:!0,get:x})},c.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},c.t=function(p,C){if(1&C&&(p=c(p)),8&C||4&C&&"object"==typeof p&&p&&p.__esModule)return p;var x=Object.create(null);if(c.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:p}),2&C&&"string"!=typeof p)for(var V in p)c.d(x,V,function(D){return p[D]}.bind(null,V));return x},c.n=function(p){var C=p&&p.__esModule?function(){return p.default}:function(){return p};return c.d(C,"a",C),C},c.o=function(p,C){return Object.prototype.hasOwnProperty.call(p,C)},c.p="",c(c.s=96)}([function(le,q,c){"use strict";q.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),q.arrayParentSymbol=Symbol("mongoose#Array#_parent"),q.arrayPathSymbol=Symbol("mongoose#Array#_path"),q.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),q.documentArrayParent=Symbol("mongoose:documentArrayParent"),q.documentIsSelected=Symbol("mongoose#Document#isSelected"),q.documentIsModified=Symbol("mongoose#Document#isModified"),q.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),q.documentSchemaSymbol=Symbol("mongoose#Document#schema"),q.getSymbol=Symbol("mongoose#Document#get"),q.modelSymbol=Symbol("mongoose#Model"),q.objectIdSymbol=Symbol("mongoose#ObjectId"),q.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model"),q.schemaTypeSymbol=Symbol("mongoose#schemaType"),q.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments"),q.scopeSymbol=Symbol("mongoose#Document#scope"),q.validatorErrorSymbol=Symbol("mongoose:validatorError")},function(le,q,c){"use strict";(function(p){function C(P,G){var W="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(!W){if(Array.isArray(P)||(W=function(j,pe){if(j){if("string"==typeof j)return x(j,void 0);var he=Object.prototype.toString.call(j).slice(8,-1);if("Object"===he&&j.constructor&&(he=j.constructor.name),"Map"===he||"Set"===he)return Array.from(j);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return x(j,void 0)}}(P))||G&&P&&"number"==typeof P.length){W&&(P=W);var ne=0,X=function(){};return{s:X,n:function(){return ne>=P.length?{done:!0}:{done:!1,value:P[ne++]}},e:function(j){throw j},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,Q=!0,Z=!1;return{s:function(){W=W.call(P)},n:function(){var j=W.next();return Q=j.done,j},e:function(j){Z=!0,z=j},f:function(){try{Q||null==W.return||W.return()}finally{if(Z)throw z}}}}function x(P,G){(null==G||G>P.length)&&(G=P.length);for(var W=0,ne=new Array(G);W<G;W++)ne[W]=P[W];return ne}function V(P){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(P)}var D,I=c(114),S=c(50),O=c(63),v=c(64).Buffer,y=c(20),h=c(11),f=c(117),g=c(26),u=c(22),l=c(21),_=c(67),m=c(66),T=c(31),A=c(27),$=c(72),Y=c(51);function B(P){if(Array.isArray(P.populate)){var G=[];P.populate.forEach(function(Z){if(/[\s]/.test(Z.path)){var j=Object.assign({},Z);j.path.split(" ").forEach(function(pe){j.path=pe,G.push(q.populate(j)[0])})}else G.push(q.populate(Z)[0])}),P.populate=q.populate(G)}else null!=P.populate&&"object"===V(P.populate)&&(P.populate=q.populate(P.populate));var W=[],ne=P.path.split(" ");null!=P.options&&(P.options=q.clone(P.options));var X,z=C(ne);try{for(z.s();!(X=z.n()).done;)W.push(new f(Object.assign({},P,{path:X.value})))}catch(Z){z.e(Z)}finally{z.f()}return W}q.specialProperties=Y,q.toCollectionName=function(P,G){return"system.profile"===P||"system.indexes"===P?P:"function"==typeof G?G(P):P},q.deepEqual=function P(G,W){if(G===W)return!0;if("object"!==V(G)&&"object"!==V(W))return G===W;if(G instanceof Date&&W instanceof Date)return G.getTime()===W.getTime();if(_(G,"ObjectID")&&_(W,"ObjectID")||_(G,"Decimal128")&&_(W,"Decimal128"))return G.toString()===W.toString();if(G instanceof RegExp&&W instanceof RegExp)return G.source===W.source&&G.ignoreCase===W.ignoreCase&&G.multiline===W.multiline&&G.global===W.global;if(null==G||null==W||G.prototype!==W.prototype)return!1;if(G instanceof Map&&W instanceof Map)return P(Array.from(G.keys()),Array.from(W.keys()))&&P(Array.from(G.values()),Array.from(W.values()));if(G instanceof Number&&W instanceof Number)return G.valueOf()===W.valueOf();if(v.isBuffer(G))return q.buffer.areEqual(G,W);if(Array.isArray(G)&&Array.isArray(W)){var ne=G.length;if(ne!==W.length)return!1;for(var X=0;X<ne;++X)if(!P(G[X],W[X]))return!1;return!0}null!=G.$__?G=G._doc:T(G)&&(G=G.toObject()),null!=W.$__?W=W._doc:T(W)&&(W=W.toObject());var z=Object.keys(G),Q=Object.keys(W),Z=z.length;if(Z!==Q.length)return!1;z.sort(),Q.sort();for(var j=Z-1;j>=0;j--)if(z[j]!==Q[j])return!1;for(var pe=0,he=z;pe<he.length;pe++){var J=he[pe];if(!P(G[J],W[J]))return!1}return!0},q.last=function(P){if(P.length>0)return P[P.length-1]},q.clone=g,q.promiseOrCallback=A,q.omit=function(P,G){if(null==G)return Object.assign({},P);Array.isArray(G)||(G=[G]);var W,ne=Object.assign({},P),X=C(G);try{for(X.s();!(W=X.n()).done;)delete ne[W.value]}catch(z){X.e(z)}finally{X.f()}return ne},q.options=function(P,G){var W,ne=Object.keys(P),X=ne.length;for(G=G||{};X--;)(W=ne[X])in G||(G[W]=P[W]);return G},q.random=function(){return Math.random().toString().substr(3)},q.merge=function P(G,W,ne,X){ne=ne||{};var z,Q=Object.keys(W),Z=0,j=Q.length;X=X||"";for(var pe=ne.omitNested||{};Z<j;)if(z=Q[Z++],!(ne.omit&&ne.omit[z]||pe[X]||Y.has(z)))if(null==G[z])G[z]=W[z];else if(q.isObject(W[z])){if(q.isObject(G[z])||(G[z]={}),null!=W[z]){if(ne.isDiscriminatorSchemaMerge&&W[z].$isSingleNested&&G[z].$isMongooseDocumentArray||W[z].$isMongooseDocumentArray&&G[z].$isSingleNested)continue;if(W[z].instanceOfSchema){G[z].instanceOfSchema?$(G[z],W[z].clone(),ne.isDiscriminatorSchemaMerge):G[z]=W[z].clone();continue}if(W[z]instanceof h){G[z]=new h(W[z]);continue}}P(G[z],W[z],ne,X?X+"."+z:z)}else ne.overwrite&&(G[z]=W[z])},q.toObject=function P(G){var W;if(D||(D=c(12)),null==G)return G;if(G instanceof D)return G.toObject();if(Array.isArray(G)){W=[];var ne,X=C(G);try{for(X.s();!(ne=X.n()).done;)W.push(P(ne.value))}catch(pe){X.e(pe)}finally{X.f()}return W}if(q.isPOJO(G)){W={};for(var Q=0,Z=Object.keys(G);Q<Z.length;Q++){var j=Z[Q];Y.has(j)||(W[j]=P(G[j]))}return W}return G},q.isObject=l,q.isPOJO=function(P){if(null==P||"object"!==V(P))return!1;var G=Object.getPrototypeOf(P);return!G||"Object"===G.constructor.name},q.isNativeObject=function(P){return Array.isArray(P)||P instanceof Date||P instanceof Boolean||P instanceof Number||P instanceof String},q.isEmptyObject=function(P){return null!=P&&"object"===V(P)&&0===Object.keys(P).length},q.hasKey=function(P,G){for(var W=0,ne=Object.keys(P);W<ne.length;W++){var X=ne[W];if(X===G||q.isPOJO(P[X])&&q.hasKey(P[X],G))return!0}return!1},q.args=O,q.tick=function(P){if("function"==typeof P)return function(){try{P.apply(this,arguments)}catch(G){u(function(){throw G})}}},q.isMongooseType=function(P){return P instanceof h||P instanceof y||P instanceof v},q.isMongooseObject=T,q.expires=function(P){var G;P&&"Object"===P.constructor.name&&"expires"in P&&(G="string"!=typeof P.expires?P.expires:Math.round(I(P.expires)/1e3),P.expireAfterSeconds=G,delete P.expires)},q.populate=function(P,G,W,ne,X,z,Q,Z){var j=null;if(1===arguments.length){if(P instanceof f)return[P];if(Array.isArray(P)){var pe=he(P);return pe.map(function(J){return q.populate(J)[0]})}j=q.isObject(P)?Object.assign({},P):{path:P}}else j="object"===V(W)?{path:P,select:G,match:W,options:ne}:{path:P,select:G,model:W,match:ne,options:X,populate:z,justOne:Q,count:Z};if("string"!=typeof j.path)throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+V(P)+"`");return B(j);function he(J){var Ee=[];return J.forEach(function(te){/[\s]/.test(te.path)?te.path.split(" ").forEach(function(ce){var ue=Object.assign({},te);ue.path=ce,Ee.push(ue)}):Ee.push(te)}),Ee}},q.getValue=function(P,G,W){return S.get(P,G,"_doc",W)},q.setValue=function(P,G,W,ne,X){S.set(P,G,W,"_doc",ne,X)},q.object={},q.object.vals=function(P){for(var G=Object.keys(P),W=G.length,ne=[];W--;)ne.push(P[G[W]]);return ne},q.object.shallowCopy=q.options;var F=Object.prototype.hasOwnProperty;q.object.hasOwnProperty=function(P,G){return F.call(P,G)},q.isNullOrUndefined=function(P){return null==P},q.array={},q.array.flatten=function P(G,W,ne){return ne||(ne=[]),G.forEach(function(X){Array.isArray(X)?P(X,W,ne):W&&!W(X)||ne.push(X)}),ne};var R=Object.prototype.hasOwnProperty;q.hasUserDefinedProperty=function(P,G){if(null==P)return!1;if(Array.isArray(G)){var W,ne=C(G);try{for(ne.s();!(W=ne.n()).done;)if(q.hasUserDefinedProperty(P,W.value))return!0}catch(Q){ne.e(Q)}finally{ne.f()}return!1}if(R.call(P,G))return!0;if("object"===V(P)&&G in P){var z=P[G];return z!==Object.prototype[G]&&z!==Array.prototype[G]}return!1};var U=Math.pow(2,32)-1;q.isArrayIndex=function(P){return"number"==typeof P?P>=0&&P<=U:"string"==typeof P&&!!/^\d+$/.test(P)&&(P=+P)>=0&&P<=U},q.array.unique=function(P){var G,W=new Set,ne=new Set,X=[],z=C(P);try{for(z.s();!(G=z.n()).done;){var Q=G.value;if("number"==typeof Q||"string"==typeof Q||null==Q){if(W.has(Q))continue;X.push(Q),W.add(Q)}else if(Q instanceof h){if(ne.has(Q.toString()))continue;X.push(Q),ne.add(Q.toString())}else X.push(Q)}}catch(Z){z.e(Z)}finally{z.f()}return X},q.buffer={},q.buffer.areEqual=function(P,G){if(!v.isBuffer(P)||!v.isBuffer(G)||P.length!==G.length)return!1;for(var W=0,ne=P.length;W<ne;++W)if(P[W]!==G[W])return!1;return!0},q.getFunctionName=m,q.decorate=function(P,G){for(var W in G)Y.has(W)||(P[W]=G[W])},q.mergeClone=function(P,G){T(G)&&(G=G.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var W,ne=Object.keys(G),X=ne.length,z=0;z<X;)if(W=ne[z++],!Y.has(W))if(void 0===P[W])P[W]=q.clone(G[W],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var Q=G[W];if(null==Q||!Q.valueOf||Q instanceof Date||(Q=Q.valueOf()),q.isObject(Q)){var Z=Q;T(Q)&&!Q.isMongooseBuffer&&(Z=Z.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),Q.isMongooseBuffer&&(Z=v.from(Z)),q.mergeClone(P[W],Z)}else P[W]=q.clone(Q,{flattenDecimals:!1})}},q.each=function(P,G){var W,ne=C(P);try{for(ne.s();!(W=ne.n()).done;)G(W.value)}catch(X){ne.e(X)}finally{ne.f()}},q.getOption=function(P){var G,W=Array.prototype.slice.call(arguments,1),ne=C(W);try{for(ne.s();!(G=ne.n()).done;){var X=G.value;if(null!=X[P])return X[P]}}catch(z){ne.e(z)}finally{ne.f()}return null},q.noop=function(){},q.errorToPOJO=function(P){if(!(P instanceof Error))throw new Error("`error` must be `instanceof Error`.");var G,W={},ne=C(Object.getOwnPropertyNames(P));try{for(ne.s();!(G=ne.n()).done;){var X=G.value;W[X]=P[X]}}catch(z){ne.e(z)}finally{ne.f()}return W},q.nodeMajorVersion=function(){return parseInt(p.versions.node.split(".")[0],10)}}).call(this,c(10))},function(le,q,c){"use strict";(function(p){var C=c(98),x=c(99),V=c(100);function D(){return S.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(N,M){if(D()<M)throw new RangeError("Invalid typed array length");return S.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(M)).__proto__=S.prototype:(null===N&&(N=new S(M)),N.length=M),N}function S(N,M,H){if(!(S.TYPED_ARRAY_SUPPORT||this instanceof S))return new S(N,M,H);if("number"==typeof N){if("string"==typeof M)throw new Error("If encoding is specified then the first argument must be a string");return y(this,N)}return O(this,N,M,H)}function O(N,M,H,L){if("number"==typeof M)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&M instanceof ArrayBuffer?function(oe,fe,Ce,Ie){if(Ce<0||fe.byteLength<Ce)throw new RangeError("'offset' is out of bounds");if(fe.byteLength<Ce+(Ie||0))throw new RangeError("'length' is out of bounds");return fe=void 0===Ce&&void 0===Ie?new Uint8Array(fe):void 0===Ie?new Uint8Array(fe,Ce):new Uint8Array(fe,Ce,Ie),S.TYPED_ARRAY_SUPPORT?(oe=fe).__proto__=S.prototype:oe=h(oe,fe),oe}(N,M,H,L):"string"==typeof M?function(oe,fe,Ce){if("string"==typeof Ce&&""!==Ce||(Ce="utf8"),!S.isEncoding(Ce))throw new TypeError('"encoding" must be a valid string encoding');var Ie=0|g(fe,Ce),Ue=(oe=I(oe,Ie)).write(fe,Ce);return Ue!==Ie&&(oe=oe.slice(0,Ue)),oe}(N,M,H):function(oe,fe){if(S.isBuffer(fe)){var Ce=0|f(fe.length);return 0===(oe=I(oe,Ce)).length||fe.copy(oe,0,0,Ce),oe}if(fe){if("undefined"!=typeof ArrayBuffer&&fe.buffer instanceof ArrayBuffer||"length"in fe)return"number"!=typeof fe.length||(Ie=fe.length)!=Ie?I(oe,0):h(oe,fe);if("Buffer"===fe.type&&V(fe.data))return h(oe,fe.data)}var Ie;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(N,M)}function v(N){if("number"!=typeof N)throw new TypeError('"size" argument must be a number');if(N<0)throw new RangeError('"size" argument must not be negative')}function y(N,M){if(v(M),N=I(N,M<0?0:0|f(M)),!S.TYPED_ARRAY_SUPPORT)for(var H=0;H<M;++H)N[H]=0;return N}function h(N,M){var H=M.length<0?0:0|f(M.length);N=I(N,H);for(var L=0;L<H;L+=1)N[L]=255&M[L];return N}function f(N){if(N>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return 0|N}function g(N,M){if(S.isBuffer(N))return N.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;"string"!=typeof N&&(N=""+N);var H=N.length;if(0===H)return 0;for(var L=!1;;)switch(M){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":case void 0:return te(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return ce(N).length;default:if(L)return te(N).length;M=(""+M).toLowerCase(),L=!0}}function u(N,M,H){var L=!1;if((void 0===M||M<0)&&(M=0),M>this.length||((void 0===H||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(M>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return W(this,M,H);case"utf8":case"utf-8":return U(this,M,H);case"ascii":return P(this,M,H);case"latin1":case"binary":return G(this,M,H);case"base64":return R(this,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,M,H);default:if(L)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),L=!0}}function l(N,M,H){var L=N[M];N[M]=N[H],N[H]=L}function _(N,M,H,L,oe){if(0===N.length)return-1;if("string"==typeof H?(L=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,isNaN(H)&&(H=oe?0:N.length-1),H<0&&(H=N.length+H),H>=N.length){if(oe)return-1;H=N.length-1}else if(H<0){if(!oe)return-1;H=0}if("string"==typeof M&&(M=S.from(M,L)),S.isBuffer(M))return 0===M.length?-1:m(N,M,H,L,oe);if("number"==typeof M)return M&=255,S.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?oe?Uint8Array.prototype.indexOf.call(N,M,H):Uint8Array.prototype.lastIndexOf.call(N,M,H):m(N,[M],H,L,oe);throw new TypeError("val must be string, number or Buffer")}function m(N,M,H,L,oe){var fe,Ce=1,Ie=N.length,Ue=M.length;if(void 0!==L&&("ucs2"===(L=String(L).toLowerCase())||"ucs-2"===L||"utf16le"===L||"utf-16le"===L)){if(N.length<2||M.length<2)return-1;Ce=2,Ie/=2,Ue/=2,H/=2}function et(st,mt){return 1===Ce?st[mt]:st.readUInt16BE(mt*Ce)}if(oe){var rt=-1;for(fe=H;fe<Ie;fe++)if(et(N,fe)===et(M,-1===rt?0:fe-rt)){if(-1===rt&&(rt=fe),fe-rt+1===Ue)return rt*Ce}else-1!==rt&&(fe-=fe-rt),rt=-1}else for(H+Ue>Ie&&(H=Ie-Ue),fe=H;fe>=0;fe--){for(var Ae=!0,$e=0;$e<Ue;$e++)if(et(N,fe+$e)!==et(M,$e)){Ae=!1;break}if(Ae)return fe}return-1}function T(N,M,H,L){H=Number(H)||0;var oe=N.length-H;L?(L=Number(L))>oe&&(L=oe):L=oe;var fe=M.length;if(fe%2!=0)throw new TypeError("Invalid hex string");L>fe/2&&(L=fe/2);for(var Ce=0;Ce<L;++Ce){var Ie=parseInt(M.substr(2*Ce,2),16);if(isNaN(Ie))return Ce;N[H+Ce]=Ie}return Ce}function A(N,M,H,L){return ue(te(M,N.length-H),N,H,L)}function $(N,M,H,L){return ue(function(oe){for(var fe=[],Ce=0;Ce<oe.length;++Ce)fe.push(255&oe.charCodeAt(Ce));return fe}(M),N,H,L)}function Y(N,M,H,L){return $(N,M,H,L)}function B(N,M,H,L){return ue(ce(M),N,H,L)}function F(N,M,H,L){return ue(function(oe,fe){for(var Ce,Ie,et=[],rt=0;rt<oe.length&&!((fe-=2)<0);++rt)Ie=(Ce=oe.charCodeAt(rt))>>8,et.push(Ce%256),et.push(Ie);return et}(M,N.length-H),N,H,L)}function R(N,M,H){return C.fromByteArray(0===M&&H===N.length?N:N.slice(M,H))}function U(N,M,H){H=Math.min(N.length,H);for(var L=[],oe=M;oe<H;){var fe,Ce,Ie,Ue,et=N[oe],rt=null,Ae=et>239?4:et>223?3:et>191?2:1;if(oe+Ae<=H)switch(Ae){case 1:et<128&&(rt=et);break;case 2:128==(192&(fe=N[oe+1]))&&(Ue=(31&et)<<6|63&fe)>127&&(rt=Ue);break;case 3:Ce=N[oe+2],128==(192&(fe=N[oe+1]))&&128==(192&Ce)&&(Ue=(15&et)<<12|(63&fe)<<6|63&Ce)>2047&&(Ue<55296||Ue>57343)&&(rt=Ue);break;case 4:Ce=N[oe+2],Ie=N[oe+3],128==(192&(fe=N[oe+1]))&&128==(192&Ce)&&128==(192&Ie)&&(Ue=(15&et)<<18|(63&fe)<<12|(63&Ce)<<6|63&Ie)>65535&&Ue<1114112&&(rt=Ue)}null===rt?(rt=65533,Ae=1):rt>65535&&(L.push((rt-=65536)>>>10&1023|55296),rt=56320|1023&rt),L.push(rt),oe+=Ae}return function($e){var st=$e.length;if(st<=4096)return String.fromCharCode.apply(String,$e);for(var mt="",Et=0;Et<st;)mt+=String.fromCharCode.apply(String,$e.slice(Et,Et+=4096));return mt}(L)}function P(N,M,H){var L="";H=Math.min(N.length,H);for(var oe=M;oe<H;++oe)L+=String.fromCharCode(127&N[oe]);return L}function G(N,M,H){var L="";H=Math.min(N.length,H);for(var oe=M;oe<H;++oe)L+=String.fromCharCode(N[oe]);return L}function W(N,M,H){var L=N.length;(!M||M<0)&&(M=0),(!H||H<0||H>L)&&(H=L);for(var oe="",fe=M;fe<H;++fe)oe+=Ee(N[fe]);return oe}function ne(N,M,H){for(var L=N.slice(M,H),oe="",fe=0;fe<L.length;fe+=2)oe+=String.fromCharCode(L[fe]+256*L[fe+1]);return oe}function X(N,M,H){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+M>H)throw new RangeError("Trying to access beyond buffer length")}function z(N,M,H,L,oe,fe){if(!S.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>oe||M<fe)throw new RangeError('"value" argument is out of bounds');if(H+L>N.length)throw new RangeError("Index out of range")}function Q(N,M,H,L){M<0&&(M=65535+M+1);for(var oe=0,fe=Math.min(N.length-H,2);oe<fe;++oe)N[H+oe]=(M&255<<8*(L?oe:1-oe))>>>8*(L?oe:1-oe)}function Z(N,M,H,L){M<0&&(M=4294967295+M+1);for(var oe=0,fe=Math.min(N.length-H,4);oe<fe;++oe)N[H+oe]=M>>>8*(L?oe:3-oe)&255}function j(N,M,H,L,oe,fe){if(H+L>N.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function pe(N,M,H,L,oe){return oe||j(N,0,H,4),x.write(N,M,H,L,23,4),H+4}function he(N,M,H,L,oe){return oe||j(N,0,H,8),x.write(N,M,H,L,52,8),H+8}q.Buffer=S,q.SlowBuffer=function(N){return+N!=N&&(N=0),S.alloc(+N)},q.INSPECT_MAX_BYTES=50,S.TYPED_ARRAY_SUPPORT=void 0!==p.TYPED_ARRAY_SUPPORT?p.TYPED_ARRAY_SUPPORT:function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===N.foo()&&"function"==typeof N.subarray&&0===N.subarray(1,1).byteLength}catch(M){return!1}}(),q.kMaxLength=D(),S.poolSize=8192,S._augment=function(N){return N.__proto__=S.prototype,N},S.from=function(N,M,H){return O(null,N,M,H)},S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&S[Symbol.species]===S&&Object.defineProperty(S,Symbol.species,{value:null,configurable:!0})),S.alloc=function(N,M,H){return L=null,fe=M,Ce=H,v(oe=N),oe<=0?I(L,oe):void 0!==fe?"string"==typeof Ce?I(L,oe).fill(fe,Ce):I(L,oe).fill(fe):I(L,oe);var L,oe,fe,Ce},S.allocUnsafe=function(N){return y(null,N)},S.allocUnsafeSlow=function(N){return y(null,N)},S.isBuffer=function(N){return!(null==N||!N._isBuffer)},S.compare=function(N,M){if(!S.isBuffer(N)||!S.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(N===M)return 0;for(var H=N.length,L=M.length,oe=0,fe=Math.min(H,L);oe<fe;++oe)if(N[oe]!==M[oe]){H=N[oe],L=M[oe];break}return H<L?-1:L<H?1:0},S.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(N,M){if(!V(N))throw new TypeError('"list" argument must be an Array of Buffers');if(0===N.length)return S.alloc(0);var H;if(void 0===M)for(M=0,H=0;H<N.length;++H)M+=N[H].length;var L=S.allocUnsafe(M),oe=0;for(H=0;H<N.length;++H){var fe=N[H];if(!S.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(L,oe),oe+=fe.length}return L},S.byteLength=g,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<N;M+=2)l(this,M,M+1);return this},S.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<N;M+=4)l(this,M,M+3),l(this,M+1,M+2);return this},S.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<N;M+=8)l(this,M,M+7),l(this,M+1,M+6),l(this,M+2,M+5),l(this,M+3,M+4);return this},S.prototype.toString=function(){var N=0|this.length;return 0===N?"":0===arguments.length?U(this,0,N):u.apply(this,arguments)},S.prototype.equals=function(N){if(!S.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||0===S.compare(this,N)},S.prototype.inspect=function(){var N="",M=q.INSPECT_MAX_BYTES;return this.length>0&&(N=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(N+=" ... ")),"<Buffer "+N+">"},S.prototype.compare=function(N,M,H,L,oe){if(!S.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(void 0===M&&(M=0),void 0===H&&(H=N?N.length:0),void 0===L&&(L=0),void 0===oe&&(oe=this.length),M<0||H>N.length||L<0||oe>this.length)throw new RangeError("out of range index");if(L>=oe&&M>=H)return 0;if(L>=oe)return-1;if(M>=H)return 1;if(this===N)return 0;for(var fe=(oe>>>=0)-(L>>>=0),Ce=(H>>>=0)-(M>>>=0),Ie=Math.min(fe,Ce),Ue=this.slice(L,oe),et=N.slice(M,H),rt=0;rt<Ie;++rt)if(Ue[rt]!==et[rt]){fe=Ue[rt],Ce=et[rt];break}return fe<Ce?-1:Ce<fe?1:0},S.prototype.includes=function(N,M,H){return-1!==this.indexOf(N,M,H)},S.prototype.indexOf=function(N,M,H){return _(this,N,M,H,!0)},S.prototype.lastIndexOf=function(N,M,H){return _(this,N,M,H,!1)},S.prototype.write=function(N,M,H,L){if(void 0===M)L="utf8",H=this.length,M=0;else if(void 0===H&&"string"==typeof M)L=M,H=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(H)?(H|=0,void 0===L&&(L="utf8")):(L=H,H=void 0)}var oe=this.length-M;if((void 0===H||H>oe)&&(H=oe),N.length>0&&(H<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var fe=!1;;)switch(L){case"hex":return T(this,N,M,H);case"utf8":case"utf-8":return A(this,N,M,H);case"ascii":return $(this,N,M,H);case"latin1":case"binary":return Y(this,N,M,H);case"base64":return B(this,N,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,N,M,H);default:if(fe)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),fe=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},S.prototype.slice=function(N,M){var H,L=this.length;if((N=~~N)<0?(N+=L)<0&&(N=0):N>L&&(N=L),(M=void 0===M?L:~~M)<0?(M+=L)<0&&(M=0):M>L&&(M=L),M<N&&(M=N),S.TYPED_ARRAY_SUPPORT)(H=this.subarray(N,M)).__proto__=S.prototype;else{var oe=M-N;H=new S(oe,void 0);for(var fe=0;fe<oe;++fe)H[fe]=this[fe+N]}return H},S.prototype.readUIntLE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N],oe=1,fe=0;++fe<M&&(oe*=256);)L+=this[N+fe]*oe;return L},S.prototype.readUIntBE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N+--M],oe=1;M>0&&(oe*=256);)L+=this[N+--M]*oe;return L},S.prototype.readUInt8=function(N,M){return M||X(N,1,this.length),this[N]},S.prototype.readUInt16LE=function(N,M){return M||X(N,2,this.length),this[N]|this[N+1]<<8},S.prototype.readUInt16BE=function(N,M){return M||X(N,2,this.length),this[N]<<8|this[N+1]},S.prototype.readUInt32LE=function(N,M){return M||X(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},S.prototype.readUInt32BE=function(N,M){return M||X(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},S.prototype.readIntLE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N],oe=1,fe=0;++fe<M&&(oe*=256);)L+=this[N+fe]*oe;return L>=(oe*=128)&&(L-=Math.pow(2,8*M)),L},S.prototype.readIntBE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=M,oe=1,fe=this[N+--L];L>0&&(oe*=256);)fe+=this[N+--L]*oe;return fe>=(oe*=128)&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readInt8=function(N,M){return M||X(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},S.prototype.readInt16LE=function(N,M){M||X(N,2,this.length);var H=this[N]|this[N+1]<<8;return 32768&H?4294901760|H:H},S.prototype.readInt16BE=function(N,M){M||X(N,2,this.length);var H=this[N+1]|this[N]<<8;return 32768&H?4294901760|H:H},S.prototype.readInt32LE=function(N,M){return M||X(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},S.prototype.readInt32BE=function(N,M){return M||X(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},S.prototype.readFloatLE=function(N,M){return M||X(N,4,this.length),x.read(this,N,!0,23,4)},S.prototype.readFloatBE=function(N,M){return M||X(N,4,this.length),x.read(this,N,!1,23,4)},S.prototype.readDoubleLE=function(N,M){return M||X(N,8,this.length),x.read(this,N,!0,52,8)},S.prototype.readDoubleBE=function(N,M){return M||X(N,8,this.length),x.read(this,N,!1,52,8)},S.prototype.writeUIntLE=function(N,M,H,L){N=+N,M|=0,H|=0,L||z(this,N,M,H,Math.pow(2,8*H)-1,0);var oe=1,fe=0;for(this[M]=255&N;++fe<H&&(oe*=256);)this[M+fe]=N/oe&255;return M+H},S.prototype.writeUIntBE=function(N,M,H,L){N=+N,M|=0,H|=0,L||z(this,N,M,H,Math.pow(2,8*H)-1,0);var oe=H-1,fe=1;for(this[M+oe]=255&N;--oe>=0&&(fe*=256);)this[M+oe]=N/fe&255;return M+H},S.prototype.writeUInt8=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,1,255,0),S.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[M]=255&N,M+1},S.prototype.writeUInt16LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8):Q(this,N,M,!0),M+2},S.prototype.writeUInt16BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>8,this[M+1]=255&N):Q(this,N,M,!1),M+2},S.prototype.writeUInt32LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[M+3]=N>>>24,this[M+2]=N>>>16,this[M+1]=N>>>8,this[M]=255&N):Z(this,N,M,!0),M+4},S.prototype.writeUInt32BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N):Z(this,N,M,!1),M+4},S.prototype.writeIntLE=function(N,M,H,L){if(N=+N,M|=0,!L){var oe=Math.pow(2,8*H-1);z(this,N,M,H,oe-1,-oe)}var fe=0,Ce=1,Ie=0;for(this[M]=255&N;++fe<H&&(Ce*=256);)N<0&&0===Ie&&0!==this[M+fe-1]&&(Ie=1),this[M+fe]=(N/Ce>>0)-Ie&255;return M+H},S.prototype.writeIntBE=function(N,M,H,L){if(N=+N,M|=0,!L){var oe=Math.pow(2,8*H-1);z(this,N,M,H,oe-1,-oe)}var fe=H-1,Ce=1,Ie=0;for(this[M+fe]=255&N;--fe>=0&&(Ce*=256);)N<0&&0===Ie&&0!==this[M+fe+1]&&(Ie=1),this[M+fe]=(N/Ce>>0)-Ie&255;return M+H},S.prototype.writeInt8=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,1,127,-128),S.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),N<0&&(N=255+N+1),this[M]=255&N,M+1},S.prototype.writeInt16LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8):Q(this,N,M,!0),M+2},S.prototype.writeInt16BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>8,this[M+1]=255&N):Q(this,N,M,!1),M+2},S.prototype.writeInt32LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,2147483647,-2147483648),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8,this[M+2]=N>>>16,this[M+3]=N>>>24):Z(this,N,M,!0),M+4},S.prototype.writeInt32BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N):Z(this,N,M,!1),M+4},S.prototype.writeFloatLE=function(N,M,H){return pe(this,N,M,!0,H)},S.prototype.writeFloatBE=function(N,M,H){return pe(this,N,M,!1,H)},S.prototype.writeDoubleLE=function(N,M,H){return he(this,N,M,!0,H)},S.prototype.writeDoubleBE=function(N,M,H){return he(this,N,M,!1,H)},S.prototype.copy=function(N,M,H,L){if(H||(H=0),L||0===L||(L=this.length),M>=N.length&&(M=N.length),M||(M=0),L>0&&L<H&&(L=H),L===H||0===N.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("sourceStart out of bounds");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),N.length-M<L-H&&(L=N.length-M+H);var oe,fe=L-H;if(this===N&&H<M&&M<L)for(oe=fe-1;oe>=0;--oe)N[oe+M]=this[oe+H];else if(fe<1e3||!S.TYPED_ARRAY_SUPPORT)for(oe=0;oe<fe;++oe)N[oe+M]=this[oe+H];else Uint8Array.prototype.set.call(N,this.subarray(H,H+fe),M);return fe},S.prototype.fill=function(N,M,H,L){if("string"==typeof N){if("string"==typeof M?(L=M,M=0,H=this.length):"string"==typeof H&&(L=H,H=this.length),1===N.length){var oe=N.charCodeAt(0);oe<256&&(N=oe)}if(void 0!==L&&"string"!=typeof L)throw new TypeError("encoding must be a string");if("string"==typeof L&&!S.isEncoding(L))throw new TypeError("Unknown encoding: "+L)}else"number"==typeof N&&(N&=255);if(M<0||this.length<M||this.length<H)throw new RangeError("Out of range index");if(H<=M)return this;var fe;if(M>>>=0,H=void 0===H?this.length:H>>>0,N||(N=0),"number"==typeof N)for(fe=M;fe<H;++fe)this[fe]=N;else{var Ce=S.isBuffer(N)?N:te(new S(N,L).toString()),Ie=Ce.length;for(fe=0;fe<H-M;++fe)this[fe+M]=Ce[fe%Ie]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function Ee(N){return N<16?"0"+N.toString(16):N.toString(16)}function te(N,M){var H;M=M||1/0;for(var L=N.length,oe=null,fe=[],Ce=0;Ce<L;++Ce){if((H=N.charCodeAt(Ce))>55295&&H<57344){if(!oe){if(H>56319){(M-=3)>-1&&fe.push(239,191,189);continue}if(Ce+1===L){(M-=3)>-1&&fe.push(239,191,189);continue}oe=H;continue}if(H<56320){(M-=3)>-1&&fe.push(239,191,189),oe=H;continue}H=65536+(oe-55296<<10|H-56320)}else oe&&(M-=3)>-1&&fe.push(239,191,189);if(oe=null,H<128){if((M-=1)<0)break;fe.push(H)}else if(H<2048){if((M-=2)<0)break;fe.push(H>>6|192,63&H|128)}else if(H<65536){if((M-=3)<0)break;fe.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;fe.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return fe}function ce(N){return C.toByteArray(function(M){if((M=(H=M,H.trim?H.trim():H.replace(/^\s+|\s+$/g,"")).replace(J,"")).length<2)return"";for(var H;M.length%4!=0;)M+="=";return M}(N))}function ue(N,M,H,L){for(var oe=0;oe<L&&!(oe+H>=M.length||oe>=N.length);++oe)M[oe+H]=N[oe];return oe}}).call(this,c(9))},function(le,q,c){"use strict";function C(V,D){(null==D||D>V.length)&&(D=V.length);for(var I=0,S=new Array(D);I<D;I++)S[I]=V[I];return S}function x(V,D){return null==V?V:V instanceof Map?V.get(D):V[D]}le.exports=function(V,D,I){var S,O=!1;if("string"==typeof D){if(-1===D.indexOf(".")){var v=x(V,D);return null==v?I:v}S=D.split(".")}else if(O=!0,1===(S=D).length){var y=x(V,S[0]);return null==y?I:y}var h,f=D,g=V,u=function p(V,D){var I="undefined"!=typeof Symbol&&V[Symbol.iterator]||V["@@iterator"];if(!I){if(Array.isArray(V)||(I=function(f,g){if(f){if("string"==typeof f)return C(f,g);var u=Object.prototype.toString.call(f).slice(8,-1);if("Object"===u&&f.constructor&&(u=f.constructor.name),"Map"===u||"Set"===u)return Array.from(f);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return C(f,g)}}(V))||D&&V&&"number"==typeof V.length){I&&(V=I);var S=0,O=function(){};return{s:O,n:function(){return S>=V.length?{done:!0}:{done:!1,value:V[S++]}},e:function(f){throw f},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,y=!0,h=!1;return{s:function(){I=I.call(V)},n:function(){var f=I.next();return y=f.done,f},e:function(f){h=!0,v=f},f:function(){try{y||null==I.return||I.return()}finally{if(h)throw v}}}}(S);try{for(u.s();!(h=u.n()).done;){var l=h.value;if(null==g)return I;if(!O&&null!=g[f])return g[f];g=x(g,l),O||(f=f.substr(l.length+1))}}catch(_){u.e(_)}finally{u.f()}return null==g?I:g}},function(le,q,c){(function(p){function C(z){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(z)}var x=Object.getOwnPropertyDescriptors||function(z){for(var Q=Object.keys(z),Z={},j=0;j<Q.length;j++)Z[Q[j]]=Object.getOwnPropertyDescriptor(z,Q[j]);return Z},V=/%[sdj%]/g;q.format=function(z){if(!m(z)){for(var Q=[],Z=0;Z<arguments.length;Z++)Q.push(S(arguments[Z]));return Q.join(" ")}Z=1;for(var j=arguments,pe=j.length,he=String(z).replace(V,function(Ee){if("%%"===Ee)return"%";if(Z>=pe)return Ee;switch(Ee){case"%s":return String(j[Z++]);case"%d":return Number(j[Z++]);case"%j":try{return JSON.stringify(j[Z++])}catch(te){return"[Circular]"}default:return Ee}}),J=j[Z];Z<pe;J=j[++Z])l(J)||!$(J)?he+=" "+J:he+=" "+S(J);return he},q.deprecate=function(z,Q){if(void 0!==p&&!0===p.noDeprecation)return z;if(void 0===p)return function(){return q.deprecate(z,Q).apply(this,arguments)};var Z=!1;return function(){if(!Z){if(p.throwDeprecation)throw new Error(Q);p.traceDeprecation?console.trace(Q):console.error(Q),Z=!0}return z.apply(this,arguments)}};var D,I={};function S(z,Q){var Z={seen:[],stylize:v};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),u(Q)?Z.showHidden=Q:Q&&q._extend(Z,Q),T(Z.showHidden)&&(Z.showHidden=!1),T(Z.depth)&&(Z.depth=2),T(Z.colors)&&(Z.colors=!1),T(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=O),y(Z,z,Z.depth)}function O(z,Q){var Z=S.styles[Q];return Z?"\x1b["+S.colors[Z][0]+"m"+z+"\x1b["+S.colors[Z][1]+"m":z}function v(z,Q){return z}function y(z,Q,Z){if(z.customInspect&&Q&&F(Q.inspect)&&Q.inspect!==q.inspect&&(!Q.constructor||Q.constructor.prototype!==Q)){var j=Q.inspect(Z,z);return m(j)||(j=y(z,j,Z)),j}var pe=function(M,H){if(T(H))return M.stylize("undefined","undefined");if(m(H)){var L="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(L,"string")}return _(H)?M.stylize(""+H,"number"):u(H)?M.stylize(""+H,"boolean"):l(H)?M.stylize("null","null"):void 0}(z,Q);if(pe)return pe;var H,he=Object.keys(Q),J=(H={},he.forEach(function(L,oe){H[L]=!0}),H);if(z.showHidden&&(he=Object.getOwnPropertyNames(Q)),B(Q)&&(he.indexOf("message")>=0||he.indexOf("description")>=0))return h(Q);if(0===he.length){if(F(Q))return z.stylize("[Function"+(Q.name?": "+Q.name:"")+"]","special");if(A(Q))return z.stylize(RegExp.prototype.toString.call(Q),"regexp");if(Y(Q))return z.stylize(Date.prototype.toString.call(Q),"date");if(B(Q))return h(Q)}var te,ce="",ue=!1,N=["{","}"];return g(Q)&&(ue=!0,N=["[","]"]),F(Q)&&(ce=" [Function"+(Q.name?": "+Q.name:"")+"]"),A(Q)&&(ce=" "+RegExp.prototype.toString.call(Q)),Y(Q)&&(ce=" "+Date.prototype.toUTCString.call(Q)),B(Q)&&(ce=" "+h(Q)),0!==he.length||ue&&0!=Q.length?Z<0?A(Q)?z.stylize(RegExp.prototype.toString.call(Q),"regexp"):z.stylize("[Object]","special"):(z.seen.push(Q),te=ue?function(M,H,L,oe,fe){for(var Ce=[],Ie=0,Ue=H.length;Ie<Ue;++Ie)W(H,String(Ie))?Ce.push(f(M,H,L,oe,String(Ie),!0)):Ce.push("");return fe.forEach(function(et){et.match(/^\d+$/)||Ce.push(f(M,H,L,oe,et,!0))}),Ce}(z,Q,Z,J,he):he.map(function(M){return f(z,Q,Z,J,M,ue)}),z.seen.pop(),function(M,H,L){return M.reduce(function(oe,fe){return fe.indexOf("\n"),oe+fe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?L[0]+(""===H?"":H+"\n ")+" "+M.join(",\n  ")+" "+L[1]:L[0]+H+" "+M.join(", ")+" "+L[1]}(te,ce,N)):N[0]+ce+N[1]}function h(z){return"["+Error.prototype.toString.call(z)+"]"}function f(z,Q,Z,j,pe,he){var J,Ee,te;if((te=Object.getOwnPropertyDescriptor(Q,pe)||{value:Q[pe]}).get?Ee=z.stylize(te.set?"[Getter/Setter]":"[Getter]","special"):te.set&&(Ee=z.stylize("[Setter]","special")),W(j,pe)||(J="["+pe+"]"),Ee||(z.seen.indexOf(te.value)<0?(Ee=l(Z)?y(z,te.value,null):y(z,te.value,Z-1)).indexOf("\n")>-1&&(Ee=he?Ee.split("\n").map(function(ce){return"  "+ce}).join("\n").substr(2):"\n"+Ee.split("\n").map(function(ce){return"   "+ce}).join("\n")):Ee=z.stylize("[Circular]","special")),T(J)){if(he&&pe.match(/^\d+$/))return Ee;(J=JSON.stringify(""+pe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+Ee}function g(z){return Array.isArray(z)}function u(z){return"boolean"==typeof z}function l(z){return null===z}function _(z){return"number"==typeof z}function m(z){return"string"==typeof z}function T(z){return void 0===z}function A(z){return $(z)&&"[object RegExp]"===R(z)}function $(z){return"object"===C(z)&&null!==z}function Y(z){return $(z)&&"[object Date]"===R(z)}function B(z){return $(z)&&("[object Error]"===R(z)||z instanceof Error)}function F(z){return"function"==typeof z}function R(z){return Object.prototype.toString.call(z)}function U(z){return z<10?"0"+z.toString(10):z.toString(10)}q.debuglog=function(z){if(T(D)&&(D=p.env.NODE_DEBUG||""),z=z.toUpperCase(),!I[z])if(new RegExp("\\b"+z+"\\b","i").test(D)){var Q=p.pid;I[z]=function(){var Z=q.format.apply(q,arguments);console.error("%s %d: %s",z,Q,Z)}}else I[z]=function(){};return I[z]},q.inspect=S,S.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},S.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},q.isArray=g,q.isBoolean=u,q.isNull=l,q.isNullOrUndefined=function(z){return null==z},q.isNumber=_,q.isString=m,q.isSymbol=function(z){return"symbol"===C(z)},q.isUndefined=T,q.isRegExp=A,q.isObject=$,q.isDate=Y,q.isError=B,q.isFunction=F,q.isPrimitive=function(z){return null===z||"boolean"==typeof z||"number"==typeof z||"string"==typeof z||"symbol"===C(z)||void 0===z},q.isBuffer=c(103);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var z=new Date,Q=[U(z.getHours()),U(z.getMinutes()),U(z.getSeconds())].join(":");return[z.getDate(),P[z.getMonth()],Q].join(" ")}function W(z,Q){return Object.prototype.hasOwnProperty.call(z,Q)}q.log=function(){console.log("%s - %s",G(),q.format.apply(q,arguments))},q.inherits=c(104),q._extend=function(z,Q){if(!Q||!$(Q))return z;for(var Z=Object.keys(Q),j=Z.length;j--;)z[Z[j]]=Q[Z[j]];return z};var ne="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function X(z,Q){if(!z){var Z=new Error("Promise was rejected with a falsy value");Z.reason=z,z=Z}return Q(z)}q.promisify=function(z){if("function"!=typeof z)throw new TypeError('The "original" argument must be of type Function');if(ne&&z[ne]){var Q;if("function"!=typeof(Q=z[ne]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,ne,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var Z,j,pe=new Promise(function(Ee,te){Z=Ee,j=te}),he=[],J=0;J<arguments.length;J++)he.push(arguments[J]);he.push(function(Ee,te){Ee?j(Ee):Z(te)});try{z.apply(this,he)}catch(Ee){j(Ee)}return pe}return Object.setPrototypeOf(Q,Object.getPrototypeOf(z)),ne&&Object.defineProperty(Q,ne,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,x(z))},q.promisify.custom=ne,q.callbackify=function(z){if("function"!=typeof z)throw new TypeError('The "original" argument must be of type Function');function Q(){for(var Z=[],j=0;j<arguments.length;j++)Z.push(arguments[j]);var pe=Z.pop();if("function"!=typeof pe)throw new TypeError("The last argument must be of type Function");var he=this,J=function(){return pe.apply(he,arguments)};z.apply(this,Z).then(function(Ee){p.nextTick(J,null,Ee)},function(Ee){p.nextTick(X,Ee,J)})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(z)),Object.defineProperties(Q,x(z)),Q}}).call(this,c(10))},function(le,q,c){"use strict";var p=c(14);le.exports=p,p.messages=c(130),p.Messages=p.messages,p.DocumentNotFoundError=c(131),p.CastError=c(13),p.ValidationError=c(33),p.ValidatorError=c(73),p.VersionError=c(132),p.ParallelSaveError=c(133),p.OverwriteModelError=c(134),p.MissingSchemaError=c(135),p.DivergentArrayError=c(136),p.StrictModeError=c(34)},function(le,q,c){"use strict";(function(p){function C(B){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(B)}var x=c(5),V=c(7),D=c(52),I=c(74),S=c(3),O=c(137),v=c(22),y=c(0).schemaTypeSymbol,h=c(4),f=c(1),g=c(0).validatorErrorSymbol,u=c(0).documentIsModified,l=c(0).populateModelSymbol,_=x.CastError,m=x.ValidatorError;function T(B,F,R){this[y]=!0,this.path=B,this.instance=R,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=[],this.splitPath(),F=F||{};for(var U=this.constructor.defaultOptions||{},P=0,G=Object.keys(U);P<G.length;P++){var W=G[P];U.hasOwnProperty(W)&&!F.hasOwnProperty(W)&&(F[W]=U[W])}null==F.select&&delete F.select,this.options=new(this.OptionsConstructor||V)(F),this._index=null,f.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,O(this));for(var X=0,z=Object.keys(this.options);X<z.length;X++){var Q=z[X];if("cast"!==Q){if(f.hasUserDefinedProperty(this.options,Q)&&"function"==typeof this[Q]){if("index"===Q&&this._index){if(!1===F.index){var Z=this._index;if("object"===C(Z)&&null!=Z){if(Z.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(Z.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var j=F[Q];if("default"===Q){this.default(j);continue}var pe=Array.isArray(j)?j:[j];this[Q].apply(this,pe)}}else this.castFunction(this.options[Q])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}T.prototype.OptionsConstructor=V,T.prototype.splitPath=function(){return null!=this._presplitPath?this._presplitPath:null!=this.path?(this._presplitPath=-1===this.path.indexOf(".")?[this.path]:this.path.split("."),this._presplitPath):void 0},T.cast=function(B){return 0===arguments.length||(!1===B&&(B=function(F){return F}),this._cast=B),this._cast},T.prototype.castFunction=function(B){return 0===arguments.length||(!1===B&&(B=this.constructor._defaultCaster||function(F){return F}),this._castFunction=B),this._castFunction},T.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},T.set=function(B,F){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[B]=F},T.get=function(B){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(B)},T.prototype.default=function(B){if(1===arguments.length){if(void 0===B)return void(this.defaultValue=void 0);if(null!=B&&B.instanceOfSchema)throw new x("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=B,this.defaultValue}return arguments.length>1&&(this.defaultValue=f.args(arguments)),this.defaultValue},T.prototype.index=function(B){return this._index=B,f.expires(this._index),this},T.prototype.unique=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return null==this._index||!0===this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.unique=B,this},T.prototype.text=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return null==this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.text=B,this},T.prototype.sparse=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return null==this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.sparse=B,this},T.prototype.immutable=function(B){return this.$immutable=B,O(this),this},T.prototype.transform=function(B){return this.options.transform=B,this},T.prototype.set=function(B){if("function"!=typeof B)throw new TypeError("A setter must be a function.");return this.setters.push(B),this},T.prototype.get=function(B){if("function"!=typeof B)throw new TypeError("A getter must be a function.");return this.getters.push(B),this},T.prototype.validate=function(B,F,R){var U,P,G,W;if("function"==typeof B||B&&"RegExp"===f.getFunctionName(B.constructor))return"function"==typeof F?(U={validator:B,message:F}).type=R||"user defined":F instanceof Object&&!R?((U=f.clone(F)).message||(U.message=U.msg),U.validator=B,U.type=U.type||"user defined"):(null==F&&(F=x.messages.general.default),R||(R="user defined"),U={message:F,type:R,validator:B}),U.isAsync&&A(),this.validators.push(U),this;for(P=0,G=arguments.length;P<G;P++){if(!f.isPOJO(W=arguments[P])){var ne="Invalid validator. Received ("+C(W)+") "+W+". See http://mongoosejs.com/docs/api.html#schematype_SchemaType-validate";throw new Error(ne)}this.validate(W.validator,W)}return this};var A=h.deprecate(function(){},"Mongoose: the `isAsync` option for custom validators is deprecated. Make your async validators return a promise instead: https://mongoosejs.com/docs/validation.html#async-custom-validators");function $(B){return this.castForQuery(B)}function Y(B){var F=this;return Array.isArray(B)?B.map(function(R){return Array.isArray(R)&&0===R.length?R:F.castForQuery(R)}):[this.castForQuery(B)]}T.prototype.required=function(B,F){var R={};if(arguments.length>0&&null==B)return this.validators=this.validators.filter(function(G){return G.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if("object"===C(B)&&(F=(R=B).message||F,B=B.isRequired),!1===B)return this.validators=this.validators.filter(function(G){return G.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var U=this;this.isRequired=!0,this.requiredValidator=function(G){var W=S(this,"$__.cachedRequired");if(null!=W&&!this.$__isSelected(U.path)&&!this[u](U.path))return!0;if(null!=W&&U.path in W){var ne=!W[U.path]||U.checkRequired(G,this);return delete W[U.path],ne}return"function"==typeof B&&!B.apply(this)||U.checkRequired(G,this)},this.originalRequiredValue=B,"string"==typeof B&&(F=B,B=void 0);var P=F||x.messages.general.required;return this.validators.unshift(Object.assign({},R,{validator:this.requiredValidator,message:P,type:"required"})),this},T.prototype.ref=function(B){return this.options.ref=B,this},T.prototype.getDefault=function(B,F){var R="function"==typeof this.defaultValue?this.defaultValue.call(B):this.defaultValue;if(null!=R){"object"!==C(R)||this.options&&this.options.shared||(R=f.clone(R));var U=this.applySetters(R,B,F);return U&&U.$isSingleNested&&(U.$__parent=B),U}return R},T.prototype._applySetters=function(B,F,R){var U=B;if(R)return U;for(var P=this.setters,G=P.length-1;G>=0;G--)U=P[G].call(F,U,this);return U},T.prototype._castNullish=function(B){return B},T.prototype.applySetters=function(B,F,R,U,P){var G=this._applySetters(B,F,R,U,P);return null==G?this._castNullish(G):G=this.cast(G,F,R,U,P)},T.prototype.applyGetters=function(B,F){var R=B,U=this.getters,P=U.length;if(0===P)return R;for(var G=0;G<P;++G)R=U[G].call(F,R,this);return R},T.prototype.select=function(B){return this.selected=!!B,this},T.prototype.doValidate=function(B,F,R,U){var P=!1,G=this.path,W=this.validators.filter(function(Q){return null!=Q&&"object"===C(Q)}),ne=W.length;if(!ne)return F(null);var X=this;function z(Q,Z){P||(void 0===Q||Q?--ne<=0&&v(function(){F(null)}):((P=new(Z.ErrorConstructor||m)(Z))[g]=!0,v(function(){F(P)})))}W.forEach(function(Q){if(!P){var Z,j=Q.validator,pe=f.clone(Q);if(pe.path=U&&U.path?U.path:G,pe.value=B,j instanceof RegExp)z(j.test(B),pe);else if("function"==typeof j)if(void 0!==B||j===X.requiredValidator)if(pe.isAsync)te=pe,ce=z,ue=!1,"boolean"==typeof(N=(he=j).call(R,B,function(M,H){ue||(ue=!0,H&&(te.message=H),ce(M,te))}))?(ue=!0,ce(N,te)):N&&"function"==typeof N.then&&N.then(function(M){ue||(ue=!0,ce(M,te))},function(M){ue||(ue=!0,te.reason=M,te.message=M.message,ce(!1,te))});else{try{Z=pe.propsParameter?j.call(R,B,pe):j.call(R,B)}catch(he){Z=!1,pe.reason=he,he.message&&(pe.message=he.message)}null!=Z&&"function"==typeof Z.then?Z.then(function(he){z(he,pe)},function(he){pe.reason=he,pe.message=he.message,z(Z=!1,pe)}):z(Z,pe)}else z(!0,pe)}var he,te,ce,ue,N})},T.prototype.doValidateSync=function(B,F,R){var U=this.path;if(!this.validators.length)return null;var P=this.validators;if(void 0===B){if(!(this.validators.length>0&&"required"===this.validators[0].type))return null;P=[this.validators[0]]}var G=null;return P.forEach(function(ne){if(!G&&null!=ne&&"object"===C(ne)){var X,z=ne.validator,Q=f.clone(ne);if(Q.path=R&&R.path?R.path:U,Q.value=B,!z.isAsync)if(z instanceof RegExp)W(z.test(B),Q);else if("function"==typeof z){try{X=Q.propsParameter?z.call(F,B,Q):z.call(F,B)}catch(Z){X=!1,Q.reason=Z}null!=X&&"function"==typeof X.then||W(X,Q)}}}),G;function W(ne,X){G||void 0===ne||ne||((G=new(X.ErrorConstructor||m)(X))[g]=!0)}},T._isRef=function(B,F,R,U){var P=U&&B.options&&(B.options.ref||B.options.refPath);if(!P&&R&&null!=R.$__){var G=R.$__fullPath(B.path);P=(R.ownerDocument?R.ownerDocument():R).populated(G)||R.populated(B.path)}return!!P&&(null==F||!(p.isBuffer(F)||"Binary"===F._bsontype||!f.isObject(F))||U)},T.prototype._castRef=function(B,F,R){if(null==B)return B;if(null!=B.$__)return B.$__.wasPopulated=!0,B;if(p.isBuffer(B)||!f.isObject(B)){if(R)return B;throw new _(this.instance,B,this.path,null,this)}var U=F.$__fullPath(this.path),P=(F.ownerDocument?F.ownerDocument():F).populated(U,!0),G=B;return F.$__.populated&&F.$__.populated[U]&&F.$__.populated[U].options&&F.$__.populated[U].options.options&&F.$__.populated[U].options.options.lean||((G=new P.options[l](B)).$__.wasPopulated=!0),G},T.prototype.$conditionalHandlers={$all:function(B){var F=this;return Array.isArray(B)?B.map(function(R){return F.castForQuery(R)}):[this.castForQuery(B)]},$eq:$,$in:Y,$ne:$,$nin:Y,$exists:D,$type:I},T.prototype.castForQueryWrapper=function(B){if(this.$$context=B.context,"$conditional"in B){var F=this.castForQuery(B.$conditional,B.val);return this.$$context=null,F}if(B.$skipQueryCastForUpdate||B.$applySetters){var R=this._castForQuery(B.val);return this.$$context=null,R}var U=this.castForQuery(B.val);return this.$$context=null,U},T.prototype.castForQuery=function(B,F){var R;if(2===arguments.length){if(!(R=this.$conditionalHandlers[B]))throw new Error("Can't use "+B);return R.call(this,F)}return this._castForQuery(F=B)},T.prototype._castForQuery=function(B){return this.applySetters(B,this.$$context)},T.checkRequired=function(B){return arguments.length>0&&(this._checkRequired=B),this._checkRequired},T.prototype.checkRequired=function(B){return null!=B},T.prototype.clone=function(){var B=Object.assign({},this.options),F=new this.constructor(this.path,B,this.instance);return F.validators=this.validators.slice(),void 0!==this.requiredValidator&&(F.requiredValidator=this.requiredValidator),void 0!==this.defaultValue&&(F.defaultValue=this.defaultValue),void 0!==this.$immutable&&void 0===this.options.immutable&&(F.$immutable=this.$immutable,O(F)),void 0!==this._index&&(F._index=this._index),void 0!==this.selected&&(F.selected=this.selected),void 0!==this.isRequired&&(F.isRequired=this.isRequired),void 0!==this.originalRequiredValue&&(F.originalRequiredValue=this.originalRequiredValue),F.getters=this.getters.slice(),F.setters=this.setters.slice(),F},le.exports=q=T,q.CastError=_,q.ValidatorError=m}).call(this,c(2).Buffer)},function(le,q,c){"use strict";function p(S){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}function C(S,O){for(var v=0;v<O.length;v++){var y=O[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,(f=function(g,u){if("object"!==p(g)||null===g)return g;var l=g[Symbol.toPrimitive];if(void 0!==l){var _=l.call(g,"string");if("object"!==p(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(y.key),"symbol"===p(f)?f:String(f)),y)}var f}var V=c(26),D=function x(S,O,v){return O&&C(S.prototype,O),v&&C(S,v),Object.defineProperty(S,"prototype",{writable:!1}),S}(function S(O){if(function(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}(this,S),null==O)return this;Object.assign(this,V(O))}),I=c(8);Object.defineProperty(D.prototype,"type",I),Object.defineProperty(D.prototype,"validate",I),Object.defineProperty(D.prototype,"cast",I),Object.defineProperty(D.prototype,"required",I),Object.defineProperty(D.prototype,"default",I),Object.defineProperty(D.prototype,"ref",I),Object.defineProperty(D.prototype,"select",I),Object.defineProperty(D.prototype,"index",I),Object.defineProperty(D.prototype,"unique",I),Object.defineProperty(D.prototype,"immutable",I),Object.defineProperty(D.prototype,"sparse",I),Object.defineProperty(D.prototype,"text",I),Object.defineProperty(D.prototype,"transform",I),le.exports=D},function(le,q,c){"use strict";le.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},function(le,q){function c(C){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(C){"object"===("undefined"==typeof window?"undefined":c(window))&&(p=window)}le.exports=p},function(le,q){var c,p,C=le.exports={};function x(){throw new Error("setTimeout has not been defined")}function V(){throw new Error("clearTimeout has not been defined")}function D(u){if(c===setTimeout)return setTimeout(u,0);if((c===x||!c)&&setTimeout)return c=setTimeout,setTimeout(u,0);try{return c(u,0)}catch(l){try{return c.call(null,u,0)}catch(_){return c.call(this,u,0)}}}!function(){try{c="function"==typeof setTimeout?setTimeout:x}catch(u){c=x}try{p="function"==typeof clearTimeout?clearTimeout:V}catch(u){p=V}}();var I,S=[],O=!1,v=-1;function y(){O&&I&&(O=!1,I.length?S=I.concat(S):v=-1,S.length&&h())}function h(){if(!O){var u=D(y);O=!0;for(var l=S.length;l;){for(I=S,S=[];++v<l;)I&&I[v].run();v=-1,l=S.length}I=null,O=!1,function(_){if(p===clearTimeout)return clearTimeout(_);if((p===V||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(_);try{p(_)}catch(m){try{return p.call(null,_)}catch(T){return p.call(this,_)}}}(u)}}function f(u,l){this.fun=u,this.array=l}function g(){}C.nextTick=function(u){var l=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)l[_-1]=arguments[_];S.push(new f(u,l)),1!==S.length||O||D(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=g,C.addListener=g,C.once=g,C.off=g,C.removeListener=g,C.removeAllListeners=g,C.emit=g,C.prependListener=g,C.prependOnceListener=g,C.listeners=function(u){return[]},C.binding=function(u){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(u){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},function(le,q,c){"use strict";var p=c(15).get().ObjectId,C=c(0).objectIdSymbol;Object.defineProperty(p.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),p.prototype[C]=!0,le.exports=p},function(le,q,c){"use strict";(function(p){function C(ie,re,ge){return De=function(Oe,ke){if("object"!==D(Oe)||null===Oe)return Oe;var Ne=Oe[Symbol.toPrimitive];if(void 0!==Ne){var je=Ne.call(Oe,"string");if("object"!==D(je))return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Oe)}(re),(re="symbol"===D(De)?De:String(De))in ie?Object.defineProperty(ie,re,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ie[re]=ge,ie;var De}function x(ie,re){var ge="undefined"!=typeof Symbol&&ie[Symbol.iterator]||ie["@@iterator"];if(!ge){if(Array.isArray(ie)||(ge=function(je,Ve){if(je){if("string"==typeof je)return V(je,void 0);var Be=Object.prototype.toString.call(je).slice(8,-1);if("Object"===Be&&je.constructor&&(Be=je.constructor.name),"Map"===Be||"Set"===Be)return Array.from(je);if("Arguments"===Be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return V(je,void 0)}}(ie))||re&&ie&&"number"==typeof ie.length){ge&&(ie=ge);var we=0,De=function(){};return{s:De,n:function(){return we>=ie.length?{done:!0}:{done:!1,value:ie[we++]}},e:function(je){throw je},f:De}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Oe,ke=!0,Ne=!1;return{s:function(){ge=ge.call(ie)},n:function(){var je=ge.next();return ke=je.done,je},e:function(je){Ne=!0,Oe=je},f:function(){try{ke||null==ge.return||ge.return()}finally{if(Ne)throw Oe}}}}function V(ie,re){(null==re||re>ie.length)&&(re=ie.length);for(var ge=0,we=new Array(re);ge<re;ge++)we[ge]=ie[ge];return we}function D(ie){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(ie)}var I,S,O,v=c(19).EventEmitter,y=c(112),h=c(5),f=c(28),g=c(75),u=c(138),l=c(139),_=c(54),m=c(34),T=c(33),A=c(73),$=c(55),Y=c(27),B=c(87),F=c(58).compile,R=c(58).defineKey,U=c(174).flatten,P=c(3),G=c(175),W=c(91),ne=c(176),X=c(22),z=c(59),Q=c(177),Z=c(4).inspect,j=c(17).internalToObjectOptions,pe=c(50),he=c(178),J=c(1),Ee=c(180),te=J.clone,ce=J.deepEqual,ue=J.isMongooseObject,N=Symbol("mongoose.Array#atomicsBackup"),M=c(0).arrayAtomicsSymbol,H=c(0).documentArrayParent,L=c(0).documentIsModified,oe=c(0).documentModifiedPaths,fe=c(0).documentSchemaSymbol,Ce=c(0).getSymbol,Ie=c(0).populateModelSymbol,Ue=c(0).scopeSymbol,et=c(35).schemaMixedSymbol,rt=J.specialProperties;function Ae(ie,re,ge,we){var De=this;"object"===D(ge)&&null!=ge&&(ge=(we=ge).skipId),we=Object.assign({},we);var Oe=P(we,"defaults",!0);if(we.defaults=Oe,null==this.$__schema){var ke=J.isObject(re)&&!re.instanceOfSchema?new _(re):re;this.$__setSchema(ke),re=ge,ge=we,we=arguments[4]||{}}if(this.$__=new y,this.$__.emitter=new v,this.isNew=!("isNew"in we)||we.isNew,this.errors=void 0,this.$__.$options=we||{},this.$locals={},this.$op=null,null!=ie&&"object"!==D(ie))throw new u(ie,"obj","Document");var Ne=this.$__schema;"boolean"==typeof re||"throw"===re?(this.$__.strictMode=re,re=void 0):(this.$__.strictMode=Ne.options.strict,this.$__.selected=re);var je,Ve=Ne.requiredPaths(!0),Be=x(Ve);try{for(Be.s();!(je=Be.n()).done;){var qe=je.value;this.$__.activePaths.require(qe)}}catch(_t){Be.e(_t)}finally{Be.f()}this.$__.emitter.setMaxListeners(0);var He=null;J.isPOJO(re)&&(He=Q(re));var We=!1===He&&re?st(re):{};if(null==this._doc&&(this.$__buildDoc(ie,re,ge,He,We,!1),Oe&&mt(this,re,ge,He,We,!0,{isNew:this.isNew})),ie&&(this.$__original_set?this.$__original_set(ie,void 0,!0):this.$set(ie,void 0,!0),ie instanceof Ae&&(this.isNew=ie.isNew)),we.willInit&&Oe?v.prototype.once.call(this,"init",function(){mt(De,re,ge,He,We,!1,we.skipDefaults)}):Oe&&mt(this,re,ge,He,We,!1,we.skipDefaults),this.$__._id=this._id,!this.$__.strictMode&&ie){var tt=this,dt=Object.keys(this._doc);dt.forEach(function(_t){_t in Ne.tree||R(_t,null,tt)})}wn(this)}for(var $e in J.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(ie){Ae.prototype[ie]=function(){return this.$__.emitter[ie].apply(this.$__.emitter,arguments)}}),Ae.prototype.constructor=Ae,v.prototype)Ae[$e]=v.prototype[$e];function st(ie){for(var re={},ge=0,we=Object.keys(ie);ge<we.length;ge++){var De,Oe=[],ke=x(we[ge].split("."));try{for(ke.s();!(De=ke.n()).done;)Oe.push(De.value),re[Oe.join(".")]=1}catch(je){ke.e(je)}finally{ke.f()}}return re}function mt(ie,re,ge,we,De,Oe,ke){for(var Ne=Object.keys(ie.$__schema.paths),je=Ne.length,Ve=0;Ve<je;++Ve){var Be=void 0,qe="",He=Ne[Ve];if("_id"!==He||!ge)for(var We=ie.$__schema.paths[He],tt=We.splitPath(),dt=tt.length,_t=!1,Ke=ie._doc,ut=0;ut<dt&&null!=Ke;++ut){var ht=tt[ut];if(qe+=(qe.length?".":"")+ht,!0===we){if(qe in re)break}else if(!1===we&&re&&!_t)if(qe in re)_t=!0;else if(!De[qe])break;if(ut===dt-1){if(void 0!==Ke[ht])break;if("function"==typeof We.defaultValue){if(!We.defaultValue.$runBeforeSetters&&Oe||We.defaultValue.$runBeforeSetters&&!Oe)break}else if(!Oe)continue;if(ke&&ke[qe])break;if(re&&null!==we){if(!0===we){if(He in re)continue;try{Be=We.getDefault(ie,!1)}catch(Ct){ie.invalidate(He,Ct);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(He))}else if(_t){try{Be=We.getDefault(ie,!1)}catch(Ct){ie.invalidate(He,Ct);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(He))}}else{try{Be=We.getDefault(ie,!1)}catch(Ct){ie.invalidate(He,Ct);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(He))}}else Ke=Ke[ht]}}}function Et(ie){if(null==ie)return!0;if("object"!==D(ie)||Array.isArray(ie))return!1;for(var re=0,ge=Object.keys(ie);re<ge.length;re++)if(!Et(ie[ge[re]]))return!1;return!0}function Ot(ie){var Kt,re={};Kt=ie,Object.keys(Kt.$__.activePaths.states.require).forEach(function(hr){var yn=Kt.$__schema.path(hr);null!=yn&&"function"==typeof yn.originalRequiredValue&&(Kt.$__.cachedRequired[hr]=yn.originalRequiredValue.call(Kt,Kt))});var ge=new Set(Object.keys(ie.$__.activePaths.states.require).filter(function(Kt){return!(!ie.$__isSelected(Kt)&&!ie.isModified(Kt))&&(!(Kt in ie.$__.cachedRequired)||ie.$__.cachedRequired[Kt])}));function we(Kt){ge.add(Kt)}Object.keys(ie.$__.activePaths.states.init).forEach(we),Object.keys(ie.$__.activePaths.states.modify).forEach(we),Object.keys(ie.$__.activePaths.states.default).forEach(we);var De,Oe=ie.$getAllSubdocs(),ke=ie.modifiedPaths(),Ne=x(Oe);try{for(Ne.s();!(De=Ne.n()).done;){var je=De.value;if(je.$basePath){var Ve,Be=x(ge);try{for(Be.s();!(Ve=Be.n()).done;){var qe=Ve.value;(null===qe||qe.startsWith(je.$basePath+"."))&&ge.delete(qe)}}catch(Kt){Be.e(Kt)}finally{Be.f()}!ie.isModified(je.$basePath,ke)||ie.isDirectModified(je.$basePath)||ie.$isDefault(je.$basePath)||(ge.add(je.$basePath),re[je.$basePath]=!0)}}}catch(Kt){Ne.e(Kt)}finally{Ne.f()}var He,We=x(ge);try{for(We.s();!(He=We.n()).done;){var tt=He.value,dt=ie.$__schema.path(tt);dt&&dt.$isMongooseArray&&(!dt.$isMongooseDocumentArray||P(dt,"schemaOptions.required"))&&_t(ie.$__getValue(tt),ge,tt)}}catch(Kt){We.e(Kt)}finally{We.f()}function _t(Kt,hr,yn){if(null!=Kt)for(var to=Kt.length,wi=0;wi<to;++wi)Array.isArray(Kt[wi])?_t(Kt[wi],hr,yn+"."+wi):hr.add(yn+"."+wi)}var Ke,ut={skipArrays:!0},ht=x(ge);try{for(ht.s();!(Ke=ht.n()).done;){var Ct=Ke.value;if(ie.$__schema.nested[Ct]){var Pt=ie.$__getValue(Ct);ue(Pt)&&(Pt=Pt.toObject({transform:!1}));var pt=U(Pt,Ct,ut,ie.$__schema);Object.keys(pt).forEach(we)}}}catch(Kt){ht.e(Kt)}finally{ht.f()}var dn,an=x(ge);try{for(an.s();!(dn=an.n()).done;){var pn=dn.value;if(ie.$__schema.singleNestedPaths.hasOwnProperty(pn))ge.delete(pn);else{var nr=ie.$__schema.path(pn);if(nr&&nr.$isSchemaMap){var Lt=ie.$__getValue(pn);if(null!=Lt){var An,Tn=x(Lt.keys());try{for(Tn.s();!(An=Tn.n()).done;)ge.add(pn+"."+An.value)}catch(Kt){Tn.e(Kt)}finally{Tn.f()}}}}}}catch(Kt){an.e(Kt)}finally{an.f()}return[ge=Array.from(ge),re]}function rn(ie,re){var ge,we=new Set(re),De=new Map([]),Oe=x(re);try{for(Oe.s();!(ge=Oe.n()).done;){var ke=ge.value;if(-1!==ke.indexOf("."))for(var Ne=ke.split("."),je=Ne[0],Ve=1;Ve<Ne.length;++Ve)De.set(je,ke),je=je+"."+Ne[Ve]}}catch(tt){Oe.e(tt)}finally{Oe.f()}var Be,qe=[],He=x(ie);try{for(He.s();!(Be=He.n()).done;){var We=Be.value;we.has(We)?qe.push(We):De.has(We)&&qe.push(De.get(We))}}catch(tt){He.e(tt)}finally{He.f()}return qe}function si(ie,re){return re=new Set(re),ie.filter(function(ge){return!re.has(ge)})}function wn(ie){var re=ie.$__schema&&ie.$__schema.callQueue;if(re.length){var ge,we=x(re);try{for(we.s();!(ge=we.n()).done;){var De=ge.value;"pre"!==De[0]&&"post"!==De[0]&&"on"!==De[0]&&ie[De[0]].apply(ie,De[1])}}catch(Oe){we.e(Oe)}finally{we.f()}}}function $n(ie,re,ge,we){var De,Oe,ke,Ne=ie.$__schema,je=Object.keys(Ne.virtuals),Ve=je.length,Be=Ve,qe=ie._doc,He=P(we,"aliases",!0),We=null;if(Array.isArray(ge.virtuals))We=new Set(ge.virtuals);else if(ge.virtuals&&ge.virtuals.pathsToSkip){We=new Set(je);for(var tt=0;tt<ge.virtuals.pathsToSkip.length;tt++)We.has(ge.virtuals.pathsToSkip[tt])&&We.delete(ge.virtuals.pathsToSkip[tt])}if(!qe)return re;for(ge=ge||{},Ve=0;Ve<Be;++Ve)if(De=je[Ve],(null==We||We.has(De))&&(He||!Ne.aliases.hasOwnProperty(De))){if(Oe=De,null!=ge.path){if(!De.startsWith(ge.path+"."))continue;Oe=De.substr(ge.path.length+1)}var dt=Oe.split(".");if(void 0!==(ke=te(ie.get(De),ge))){var _t=dt.length;qe=re;for(var Ke=0;Ke<_t-1;++Ke)qe[dt[Ke]]=qe[dt[Ke]]||{},qe=qe[dt[Ke]];qe[dt[_t-1]]=ke}}return re}function Pi(ie,re){if(Ee(re))throw new Error("`transform` function must be synchronous, but the transform on path `"+ie+"` returned a promise.")}Object.defineProperty(Ae.prototype,"$locals",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(Ae.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),Ae.prototype.$__buildDoc=function(ie,re,ge,we,De){for(var Oe={},ke=Object.keys(this.$__schema.paths).filter(function(ut){return!ut.includes("$*")}),Ne=ke.length,je=0;je<Ne;++je){var Ve=ke[je];if("_id"!==Ve||!(ge||ie&&"_id"in ie))for(var Be=this.$__schema.paths[Ve].splitPath(),qe=Be.length,He=qe-1,We="",tt=Oe,dt=!1,_t=0;_t<qe;++_t){var Ke=Be[_t];if(We+=(We.length?".":"")+Ke,!0===we){if(We in re)break}else if(!1===we&&re&&!dt)if(We in re)dt=!0;else if(!De[We])break;_t<He&&(tt=tt[Ke]||(tt[Ke]={}))}}this._doc=Oe},Ae.prototype.toBSON=function(){return this.toObject(j)},Ae.prototype.init=function(ie,re,ge){return"function"==typeof re&&(ge=re,re=null),this.$__init(ie,re),ge&&ge(null,this),this},Ae.prototype.$__init=function(ie,re){if(this.isNew=!1,this.$init=!0,re=re||{},null!=ie._id&&re.populated&&re.populated.length){var ge,we=String(ie._id),De=x(re.populated);try{for(De.s();!(ge=De.n()).done;){var Oe=ge.value;if(this.populated(Oe.path,Oe.isVirtual?J.getValue(Oe.path,ie):Oe._docs[we],Oe),null!=Oe._childDocs){var ke,Ne=x(Oe._childDocs);try{for(Ne.s();!(ke=Ne.n()).done;){var je=ke.value;null!=je&&null!=je.$__&&(je.$__.parent=this)}}catch(Ve){Ne.e(Ve)}finally{Ne.f()}Oe._childDocs=[]}}}catch(Ve){De.e(Ve)}finally{De.f()}}return function Ve(Be,qe,He,We,tt){tt=tt||"";for(var dt,_t,Ke,ut=Object.keys(qe),ht=ut.length,Ct=0;Ct<ht;)Pt(Ct++);function Pt(pt){if(dt=Be.$__schema.path(_t=tt+(Ke=ut[pt])),!Be.$__schema.$isRootDiscriminator||Be.$__isSelected(_t))if(!dt&&J.isPOJO(qe[Ke]))He[Ke]||(He[Ke]={}),Ve(Be,qe[Ke],He[Ke],We,_t+".");else if(dt){if(null===qe[Ke])He[Ke]=dt._castNullish(null);else if(void 0!==qe[Ke])if(dt&&!(qe[Ke].$__||{}).wasPopulated)try{He[Ke]=dt.cast(qe[Ke],Be,!0)}catch(an){Be.invalidate(an.path,new A({path:an.path,message:an.message,type:"cast",value:an.value,reason:an}))}else He[Ke]=qe[Ke];Be.isModified(_t)||Be.$__.activePaths.init(_t)}else He[Ke]=qe[Ke]}}(this,ie,this._doc,re),function(Ve,Be){if(null!=Ve._id&&null!=Be&&0!==Be.length){var qe,He=String(Ve._id),We=x(Be);try{for(We.s();!(qe=We.n()).done;){var tt=qe.value;if(!tt.isVirtual)for(var dt=tt.path.split("."),_t=0;_t<dt.length-1;++_t){var Ke=dt.slice(0,_t+1).join("."),ut=dt.slice(_t+1).join("."),ht=Ve.get(Ke);if(null!=ht&&ht.isMongooseDocumentArray){for(var Ct=0;Ct<ht.length;++Ct)ht[Ct].populated(ut,null==tt._docs[He]?[]:tt._docs[He][Ct],tt);break}}}}catch(Pt){We.e(Pt)}finally{We.f()}}}(this,re.populated),this.emit("init",this),this.constructor.emit("init",this),this.$__._id=this._id,this},Ae.prototype.update=function(){var ie=J.args(arguments);ie.unshift({_id:this._id});var re=this.constructor.update.apply(this.constructor,ie);return null!=this.$session()&&("session"in re.options||(re.options.session=this.$session())),re},Ae.prototype.updateOne=function(ie,re,ge){var we=this,De=this.constructor.updateOne({_id:this._id},ie,re);return De.pre(function(Oe){we.constructor._middleware.execPre("updateOne",we,[we],Oe)}),De.post(function(Oe){we.constructor._middleware.execPost("updateOne",we,[we],{},Oe)}),null!=this.$session()&&("session"in De.options||(De.options.session=this.$session())),null!=ge?De.exec(ge):De},Ae.prototype.replaceOne=function(){var ie=J.args(arguments);return ie.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,ie)},Ae.prototype.$session=function(ie){if(0===arguments.length)return null!=this.$__.session&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(null!=ie&&ie.hasEnded)throw new h("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(this.$__.session=ie,!this.ownerDocument){var re,ge=this.$getAllSubdocs(),we=x(ge);try{for(we.s();!(re=we.n()).done;){var De=re.value;De.$session(ie)}}catch(Oe){we.e(Oe)}finally{we.f()}}return ie},Ae.prototype.overwrite=function(ie){for(var re=0,ge=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(ie))));re<ge.length;re++){var we=ge[re];"_id"!==we&&(this.$__schema.options.versionKey&&we===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&we===this.$__schema.options.discriminatorKey||this.$set(we,ie[we]))}return this},Ae.prototype.set=Ae.prototype.$set=function(ie,re,ge,we){var De=this;J.isPOJO(ge)&&(we=ge,ge=void 0);var Oe,ke,Ne,je,Ve=(we=we||{}).merge,qe=!0===ge,He=this.$__schema.options.typeKey,We=0,tt="strict"in we?we.strict:this.$__.strictMode;if(ge&&!0!==ge&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[ie]=this.$__schema.interpretAsType(ie,ge,this.$__schema.options)),null==ie){var dt=ie;ie=re,re=dt}else{if("string"!=typeof ie){if(ie instanceof Ae&&(ie=ie.$__isNested?ie.toObject():ie._doc),null==ie){var _t=ie;ie=re,re=_t}je=re?re+".":"";var Ke=(Oe=Object.keys(ie)).length,ut=P(we,"_skipMinimizeTopLevel",!1);if(0===Ke&&ut)return delete we._skipMinimizeTopLevel,re&&this.$set(re,{}),this;for(var ht=0;ht<Ke;++ht){var Ct=je+(Ne=Oe[ht]);if(ke=this.$__schema.pathType(Ct),!0!==ge||je||null==ie[Ne]||"nested"!==ke||null==this._doc[Ne]||0!==Object.keys(this._doc[Ne]).length?we=Object.assign({},we,{_skipMinimizeTopLevel:!1}):(delete this._doc[Ne],we=Object.assign({},we,{_skipMinimizeTopLevel:!0})),"object"!==D(ie[Ne])||J.isNativeObject(ie[Ne])||J.isMongooseType(ie[Ne])||null==ie[Ne]||"virtual"===ke||"real"===ke||"adhocOrUndefined"===ke||this.$__path(Ct)instanceof f||this.$__schema.paths[Ct]&&this.$__schema.paths[Ct].options&&this.$__schema.paths[Ct].options.ref)if(tt){if(qe&&void 0===ie[Ne]&&void 0!==this.get(Ct))continue;if("adhocOrUndefined"===ke&&(ke=G(this,Ct,{typeOnly:!0})),"real"===ke||"virtual"===ke){var Pt=ie[Ne];this.$__schema.paths[Ct]&&this.$__schema.paths[Ct].$isSingleNested&&ie[Ne]instanceof Ae&&(Pt=Pt.toObject({virtuals:!1,transform:!1})),this.$set(je+Ne,Pt,qe,we)}else if("nested"===ke&&ie[Ne]instanceof Ae)this.$set(je+Ne,ie[Ne].toObject({transform:!1}),qe,we);else if("throw"===tt)throw"nested"===ke?new g(Ne,ie[Ne]):new m(Ne)}else void 0!==ie[Ne]&&this.$set(je+Ne,ie[Ne],qe,we);else this.$__.$setCalled.add(je+Ne),this.$set(ie[Ne],je+Ne,qe,we)}return this}this.$__.$setCalled.add(ie)}var pt,dn=this.$__schema.pathType(ie);if("adhocOrUndefined"===dn&&(dn=G(this,ie,{typeOnly:!0})),re=W(re),"nested"===dn&&re){if("object"===D(re)&&null!=re){var an=null!=this.$__.savedState&&this.$__.savedState.hasOwnProperty(ie);if(null!=this.$__.savedState&&!this.isNew&&!this.$__.savedState.hasOwnProperty(ie)){var pn=this.$__getValue(ie);this.$__.savedState[ie]=pn;for(var nr=0,Lt=Object.keys(pn||{});nr<Lt.length;nr++){var An=Lt[nr];this.$__.savedState[ie+"."+An]=pn[An]}}if(Ve)return this.$set(re,ie,qe);this.$__setValue(ie,null),B(this,ie);var Tn=Object.keys(re);this.$__setValue(ie,{});for(var Do=0,Kt=Tn;Do<Kt.length;Do++){var hr=Kt[Do];this.$set(ie+"."+hr,re[hr],qe)}return an&&J.deepEqual(this.$__.savedState[ie],re)?this.unmarkModified(ie):this.markModified(ie),B(this,ie,{skipDocArrays:!0}),this}return this.invalidate(ie,new h.CastError("Object",re,ie)),this}var yn=-1===ie.indexOf(".")?[ie]:ie.split(".");if("string"==typeof this.$__schema.aliases[yn[0]]&&(yn[0]=this.$__schema.aliases[yn[0]]),"adhocOrUndefined"===dn&&tt){var to;for(We=0;We<yn.length;++We){var wi=yn.slice(0,We+1).join(".");if(We+1<yn.length&&"virtual"===this.$__schema.pathType(wi))return pe.set(ie,re,this),this;if(null!=(pt=this.$__schema.path(wi))&&pt instanceof f){to=!0;break}}if(null==pt&&(pt=G(this,ie)),!to&&!pt){if("throw"===tt)throw new m(ie);return this}}else{if("virtual"===dn)return(pt=this.$__schema.virtualpath(ie)).applySetters(re,this),this;pt=this.$__path(ie)}var Oo,Xo=this._doc,no="";for(We=0;We<yn.length-1;++We)no+=(no.length>0?".":"")+yn[We],(Xo=Xo[yn[We]])||(this.$set(no,{}),this.$__isSelected(no)||this.unmarkModified(no),Xo=this.$__getValue(no));if(yn.length<=1)Oo=ie;else{for(We=0;We<yn.length;++We){var Au=yn.slice(0,We+1).join(".");if(null===this.get(Au,null,{getters:!1})){Oo=Au;break}}Oo||(Oo=ie)}var es=null!=De.$__.$options.priorDoc?De.$__.$options.priorDoc.$__getValue(ie):qe?void 0:De.$__getValue(ie);if(!pt)return this.$__set(Oo,ie,qe,yn,pt,re,es),this;if((pt.$isSingleNested||pt.$isMongooseArray)&&function(ct,vt){if(ct.$__.validationError){for(var fi=0,St=Object.keys(ct.$__.validationError.errors);fi<St.length;fi++){var _r=St[fi];_r.startsWith(vt+".")&&delete ct.$__.validationError.errors[_r]}0===Object.keys(ct.$__.validationError.errors).length&&(ct.$__.validationError=null)}}(this,ie),pt.$isSingleNested&&null!=re&&Ve){re instanceof Ae&&(re=re.toObject({virtuals:!1,transform:!1}));for(var Wa=0,Mu=Object.keys(re);Wa<Mu.length;Wa++){var za=Mu[Wa];this.$set(ie+"."+za,re[za],qe,we)}return this}var Iu=!0;try{var Pu,Yn=function(){if(null==pt.options||!(re instanceof Ae))return!1;var ct=re.constructor,vt=pt.options.ref;if(null!=vt&&(vt===ct.modelName||vt===ct.baseModelName))return!0;var Li=pt.options.refPath;if(null==Li)return!1;var fi=re.get(Li);return fi===ct.modelName||fi===ct.baseModelName}(),kr=!1;if(Yn&&re instanceof Ae&&(this.populated(ie,re._id,C({},Ie,re.constructor)),re.$__.wasPopulated=!0,kr=!0),pt.options&&Array.isArray(pt.options[He])&&pt.options[He].length&&pt.options[He][0].ref&&function(ct,vt){if(!Array.isArray(ct)||0===ct.length)return!1;var Li,fi=x(ct);try{for(fi.s();!(Li=fi.n()).done;){var St=Li.value;if(!(St instanceof Ae)||null==St.constructor.modelName||St.constructor.modelName!=vt&&St.constructor.baseModelName!=vt)return!1}}catch(_r){fi.e(_r)}finally{fi.f()}return!0}(re,pt.options[He][0].ref)){Pu=C({},Ie,re[0].constructor),this.populated(ie,re.map(function(ct){return ct._id}),Pu);var Ya,No=x(re);try{for(No.s();!(Ya=No.n()).done;)Ya.value.$__.wasPopulated=!0}catch(ct){No.e(ct)}finally{No.f()}kr=!0}if(null==this.$__schema.singleNestedPaths[ie]&&(re=pt.applySetters(re,this,!1,es)),pt.$isMongooseDocumentArray&&Array.isArray(re)&&re.length>0&&null!=re[0]&&null!=re[0].$__&&null!=re[0].$__.populated){for(var un=Object.keys(re[0].$__.populated),Ka=function(){var ct=Fs[en];De.populated(ie+"."+ct,re.map(function(vt){return vt.populated(ct)}),re[0].$__.populated[ct].options)},en=0,Fs=un;en<Fs.length;en++)Ka();kr=!0}if(!kr&&this.$__.populated){if(Array.isArray(re)&&this.$__.populated[ie])for(var ts=0;ts<re.length;++ts)re[ts]instanceof Ae&&(re[ts]=re[ts]._id);delete this.$__.populated[ie]}pt.$isSingleNested&&null!=re&&function(ct,vt,Li){var fi=vt.schema;if(null!=fi)for(var St=0,_r=Object.keys(fi.paths);St<_r.length;St++){var Dt=_r[St],Bn=fi.paths[Dt];if(null!=Bn.$immutableSetter){var ap=null==Li?void 0:Li.$__getValue(Dt);Bn.$immutableSetter.call(ct,ap)}}}(re,pt,es),this.$markValid(ie)}catch(ct){ct instanceof h.StrictModeError&&ct.isImmutableError?this.invalidate(ie,ct):ct instanceof h.CastError?(this.invalidate(ct.path,ct),ct.$originalErrorPath&&this.invalidate(ie,new h.CastError(pt.instance,re,ie,ct.$originalErrorPath))):this.invalidate(ie,new h.CastError(pt.instance,re,ie,ct)),Iu=!1}return Iu&&(this.$__set(Oo,ie,qe,yn,pt,re,es),null!=this.$__.savedState&&(this.isNew||this.$__.savedState.hasOwnProperty(ie)?this.$__.savedState.hasOwnProperty(ie)&&J.deepEqual(re,this.$__.savedState[ie])&&this.unmarkModified(ie):this.$__.savedState[ie]=es)),pt.$isSingleNested&&(this.isDirectModified(ie)||null==re)&&B(this,ie),this},Ae.prototype.$__shouldModify=function(ie,re,ge,we,De,Oe,ke){return!(!this.isNew&&(null!=this.$__schema.singleNestedPaths[re]||(void 0!==Oe||this.$__isSelected(re))&&(void 0===Oe&&re in this.$__.activePaths.states.default||this.populated(re)&&Oe instanceof Ae&&ce(Oe._id,ke)||ce(Oe,ke||J.getValue(re,this))&&(ge||null==Oe||!(re in this.$__.activePaths.states.default)||!ce(Oe,De.getDefault(this,ge))))))},Ae.prototype.$__set=function(ie,re,ge,we,De,Oe,ke){O=O||c(29);var Ne=this.$__shouldModify(ie,re,ge,we,De,Oe,ke),je=this;Ne&&(this.markModified(ie),S||(S=c(85)),Oe&&Oe.isMongooseArray&&(Oe._registerAtomic("$set",Oe),Oe.isMongooseDocumentArray&&Oe.forEach(function(tt){tt&&tt.__parentArray&&(tt.__parentArray=Oe)}),this.$__.activePaths.forEach(function(tt){tt.startsWith(re+".")&&je.$__.activePaths.ignore(tt)})));for(var Ve=this._doc,Be=0,qe=we.length,He="";Be<qe;Be++){var We=Be+1===qe;if(He+=He?"."+we[Be]:we[Be],rt.has(we[Be]))return;We?Ve instanceof Map?Ve.set(we[Be],Oe):Ve[we[Be]]=Oe:(J.isPOJO(Ve[we[Be]])||Ve[we[Be]]&&Ve[we[Be]]instanceof O||Ve[we[Be]]&&Ve[we[Be]].$isSingleNested||Ve[we[Be]]&&Array.isArray(Ve[we[Be]])||(Ve[we[Be]]=Ve[we[Be]]||{}),Ve=Ve[we[Be]])}},Ae.prototype.$__getValue=function(ie){return J.getValue(ie,this._doc)},Ae.prototype.$__setValue=function(ie,re){return J.setValue(ie,re,this._doc),this},Ae.prototype[Ce]=Ae.prototype.get=function(ie,re,ge){var we;ge=ge||{},re&&(we=this.$__schema.interpretAsType(ie,re,this.$__schema.options));var De=this.$__path(ie);if(null==De&&(De=this.$__schema.virtualpath(ie)),De instanceof f){var Oe=this.$__schema.virtualpath(ie);null!=Oe&&(De=Oe)}var ke=-1===ie.indexOf(".")?[ie]:ie.split("."),Ne=this._doc;if(De instanceof $)return De.applyGetters(void 0,this);"string"==typeof this.$__schema.aliases[ke[0]]&&(ke[0]=this.$__schema.aliases[ke[0]]);for(var je=0,Ve=ke.length;je<Ve;je++)Ne&&Ne._doc&&(Ne=Ne._doc),Ne=null==Ne?void 0:Ne instanceof Map?Ne.get(ke[je],{getters:!1}):je===Ve-1?J.getValue(ke[je],Ne):Ne[ke[je]];if(we&&(Ne=we.cast(Ne)),null!=De&&!1!==ge.getters)Ne=De.applyGetters(Ne,this);else if(this.$__schema.nested[ie]&&ge.virtuals)return $n(this,J.clone(Ne)||{},{path:ie});return Ne},Ae.prototype.$__path=function(ie){var re=this.$__.adhocPaths;return(re&&re.hasOwnProperty(ie)?re[ie]:null)||this.$__schema.path(ie)},Ae.prototype.markModified=function(ie,re){this.$__.activePaths.modify(ie),null==re||this.ownerDocument||(this.$__.pathsToScopes[ie]=re)},Ae.prototype.unmarkModified=function(ie){this.$__.activePaths.init(ie),delete this.$__.pathsToScopes[ie]},Ae.prototype.$ignore=function(ie){this.$__.activePaths.ignore(ie)},Ae.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.states.modify)},Ae.prototype.$isEmpty=function(ie){var re={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length>0){var ge=this.get(ie);return null==ge||"object"===D(ge)&&(J.isPOJO(ge)?Et(ge):0===Object.keys(ge.toObject(re)).length)}return 0===Object.keys(this.toObject(re)).length},Ae.prototype[oe]=Ae.prototype.modifiedPaths=function(ie){ie=ie||{};var re=Object.keys(this.$__.activePaths.states.modify),ge=this;return re.reduce(function(we,De){var Oe=De.split(".");if(we=we.concat(Oe.reduce(function(He,We,tt){return He.concat(Oe.slice(0,tt).concat(We).join("."))},[]).filter(function(He){return-1===we.indexOf(He)})),!ie.includeChildren)return we;var ke=ge.get(De);if(null!=ke&&"object"===D(ke))if(ke._doc&&(ke=ke._doc),Array.isArray(ke)){for(var Ne=ke.length,je=0;je<Ne;++je)if(-1===we.indexOf(De+"."+je)&&(we.push(De+"."+je),null!=ke[je]&&ke[je].$__)){var Ve,Be=x(ke[je].modifiedPaths());try{for(Be.s();!(Ve=Be.n()).done;)we.push(De+"."+je+"."+Ve.value)}catch(He){Be.e(He)}finally{Be.f()}}}else Object.keys(ke).filter(function(He){return-1===we.indexOf(De+"."+He)}).forEach(function(He){we.push(De+"."+He)});return we},[])},Ae.prototype[L]=Ae.prototype.isModified=function(ie,re){if(ie){Array.isArray(ie)||(ie=ie.split(" "));var ge=re||this[oe](),we=Object.keys(this.$__.activePaths.states.modify);return ie.some(function(De){return!!~ge.indexOf(De)})||ie.some(function(De){return we.some(function(Oe){return Oe===De||De.startsWith(Oe+".")})})}return this.$__.activePaths.some("modify")},Ae.prototype.$isDefault=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("default");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.default.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(we){return re.$__.activePaths.states.default.hasOwnProperty(we)})},Ae.prototype.$isDeleted=function(ie){return 0===arguments.length?!!this.$__.isDeleted:(this.$__.isDeleted=!!ie,this)},Ae.prototype.isDirectModified=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("modify");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.modify.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(we){return re.$__.activePaths.states.modify.hasOwnProperty(we)})},Ae.prototype.isInit=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("init");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.init.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(we){return re.$__.activePaths.states.init.hasOwnProperty(we)})},Ae.prototype.$__isSelected=Ae.prototype.isSelected=function(ie){var re=this;if(null==this.$__.selected)return!0;if("_id"===ie)return 0!==this.$__.selected._id;if(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie))return ie.some(function(qe){return re.$__isSelected(qe)});var ge=Object.keys(this.$__.selected),we=null;if(1===ge.length&&"_id"===ge[0])return 0===this.$__.selected._id;for(var De=0,Oe=ge;De<Oe.length;De++){var ke=Oe[De];if("_id"!==ke&&z(this.$__.selected[ke])){we=!!this.$__.selected[ke];break}}if(null===we)return!0;if(ie in this.$__.selected)return we;for(var Ne=ie+".",je=0,Ve=ge;je<Ve.length;je++){var Be=Ve[je];if("_id"!==Be){if(Be.startsWith(Ne))return we||Be!==Ne;if(Ne.startsWith(Be+"."))return we}}return!we},Ae.prototype.isDirectSelected=function(ie){var re=this;if(null==this.$__.selected)return!0;if("_id"===ie)return 0!==this.$__.selected._id;if(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie))return ie.some(function(Ne){return re.isDirectSelected(Ne)});var ge=Object.keys(this.$__.selected),we=null;if(1===ge.length&&"_id"===ge[0])return 0===this.$__.selected._id;for(var De=0,Oe=ge;De<Oe.length;De++){var ke=Oe[De];if("_id"!==ke&&z(this.$__.selected[ke])){we=!!this.$__.selected[ke];break}}return null===we||(this.$__.selected.hasOwnProperty(ie)?we:!we)},Ae.prototype.validate=function(ie,re,ge){var we,De=this;if(this.$op="validate",null!=this.ownerDocument||(this.$__.validating?we=new l(this,{parentStack:re&&re.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new l(this,{parentStack:re&&re.parentStack})),1===arguments.length?"object"!==D(arguments[0])||Array.isArray(arguments[0])?"function"==typeof arguments[0]&&(ge=arguments[0],re=null,ie=null):(re=arguments[0],ge=null,ie=null):"function"==typeof ie?(ge=ie,re=null,ie=null):"function"==typeof re&&(ge=re,re=ie,ie=null),re&&"string"==typeof re.pathsToSkip){var Oe=-1===re.pathsToSkip.indexOf(" ");re.pathsToSkip=Oe?[re.pathsToSkip]:re.pathsToSkip.split(" ")}return Y(ge,function(ke){if(null!=we)return ke(we);De.$__validate(ie,re,function(Ne){De.$op=null,ke(Ne)})},this.constructor.events)},Ae.prototype.$__validate=function(ie,re,ge){var we=this;"function"==typeof ie?(ge=ie,re=null,ie=null):"function"==typeof re&&(ge=re,re=null);var De,Oe=re&&"object"===D(re)&&"validateModifiedOnly"in re,ke=P(re,"pathsToSkip",null);De=Oe?!!re.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var Ne=this,je=function(){var ut=we.$__.validationError;if(we.$__.validationError=void 0,De&&null!=ut){for(var ht=0,Ct=Object.keys(ut.errors);ht<Ct.length;ht++){var Pt=Ct[ht];we.isModified(Pt)||delete ut.errors[Pt]}0===Object.keys(ut.errors).length&&(ut=void 0)}if(we.$__.cachedRequired={},we.emit("validate",Ne),we.constructor.emit("validate",Ne),we.$__.validating=null,ut){for(var pt in ut.errors)!we[H]&&ut.errors[pt]instanceof h.CastError&&we.invalidate(pt,ut.errors[pt]);return ut}},Ve=Ot(this),Be=De?Ve[0].filter(function(ut){return we.isModified(ut)}):Ve[0],qe=Ve[1];if("string"==typeof ie&&(ie=ie.split(" ")),Array.isArray(ie)?Be=rn(Be,ie):ke&&(Be=si(Be,ke)),0===Be.length)return X(function(){var ut=je();if(ut)return Ne.$__schema.s.hooks.execPost("validate:error",Ne,[Ne],{error:ut},function(ht){ge(ht)});ge(null,Ne)});var He,We={},tt=0,dt=x(Be);try{for(dt.s();!(He=dt.n()).done;)_t(He.value)}catch(ut){dt.e(ut)}finally{dt.f()}function _t(ut){null==ut||We[ut]||(We[ut]=!0,tt++,X(function(){var ht=Ne.$__schema.path(ut);if(!ht)return--tt||Ke();if(Ne.$isValid(ut)){if(null!=ht[et]&&ut!==ht.path)return--tt||Ke();var Ct,Pt=Ne.$__getValue(ut);null==Pt&&(Ct=Ne.populated(ut))&&(Pt=Ct),ht.doValidate(Pt,function(an){if(an&&(!ht.$isMongooseDocumentArray||an.$isArrayValidatorError)){if(ht.$isSingleNested&&an instanceof T&&!1===ht.schema.options.storeSubdocValidationError)return--tt||Ke();Ne.invalidate(ut,an,void 0,!0)}--tt||Ke()},ut in Ne.$__.pathsToScopes?Ne.$__.pathsToScopes[ut]:Ne,{skipSchemaValidators:qe[ut],path:ut,validateModifiedOnly:De})}else--tt||Ke()}))}function Ke(){var ut=je();if(ut)return Ne.$__schema.s.hooks.execPost("validate:error",Ne,[Ne],{error:ut},function(ht){ge(ht)});ge(null,Ne)}},Ae.prototype.validateSync=function(ie,re){var ge=this,we=this;1!==arguments.length||"object"!==D(arguments[0])||Array.isArray(arguments[0])||(re=arguments[0],ie=null);var De,Oe=re&&"object"===D(re)&&"validateModifiedOnly"in re;De=Oe?!!re.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var ke=re&&re.pathsToSkip;if("string"==typeof ie){var Ne=-1===ie.indexOf(" ");ie=Ne?[ie]:ie.split(" ")}else"string"==typeof ke&&-1!==ke.indexOf(" ")&&(ke=ke.split(" "));var je=Ot(this),Ve=De?je[0].filter(function(tt){return ge.isModified(tt)}):je[0],Be=je[1];Array.isArray(ie)?Ve=rn(Ve,ie):Array.isArray(ke)&&(Ve=si(Ve,ke));var qe={};Ve.forEach(function(tt){if(!qe[tt]){qe[tt]=!0;var dt=we.$__schema.path(tt);if(dt&&we.$isValid(tt)){var _t=we.$__getValue(tt),Ke=dt.doValidateSync(_t,we,{skipSchemaValidators:Be[tt],path:tt,validateModifiedOnly:De});if(Ke&&(!dt.$isMongooseDocumentArray||Ke.$isArrayValidatorError)){if(dt.$isSingleNested&&Ke instanceof T&&!1===dt.schema.options.storeSubdocValidationError)return;we.invalidate(tt,Ke,void 0,!0)}}}});var He=we.$__.validationError;if(we.$__.validationError=void 0,we.emit("validate",we),we.constructor.emit("validate",we),He)for(var We in He.errors)He.errors[We]instanceof h.CastError&&we.invalidate(We,He.errors[We]);return He},Ae.prototype.invalidate=function(ie,re,ge,we){if(this.$__.validationError||(this.$__.validationError=new T(this)),!this.$__.validationError.errors[ie])return re&&"string"!=typeof re||(re=new A({path:ie,message:re,type:we||"user defined",value:ge})),this.$__.validationError===re||this.$__.validationError.addError(ie,re),this.$__.validationError},Ae.prototype.$markValid=function(ie){this.$__.validationError&&this.$__.validationError.errors[ie]&&(delete this.$__.validationError.errors[ie],0===Object.keys(this.$__.validationError.errors).length&&(this.$__.validationError=null))},Ae.prototype.$isValid=function(ie){var re=this;return null==this.$__.validationError||0===Object.keys(this.$__.validationError.errors).length||null!=ie&&(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie)?ie.some(function(ge){return null==re.$__.validationError.errors[ge]}):null==this.$__.validationError.errors[ie])},Ae.prototype.$__reset=function(){var ie=this;return I||(I=c(18)),this.$__.activePaths.map("init","modify",function(re){return ie.$__getValue(re)}).filter(function(re){return re&&re instanceof Array&&re.isMongooseDocumentArray&&re.length}).forEach(function(re){for(var ge=re.length;ge--;){var we=re[ge];we&&we.$__reset()}ie.$__.activePaths.init(re.$path()),re[N]=re[M],re[M]={}}),this.$__.activePaths.map("init","modify",function(re){return ie.$__getValue(re)}).filter(function(re){return re&&re.$isSingleNested}).forEach(function(re){re.$__reset(),re.$__parent===ie?ie.$__.activePaths.init(re.$basePath):null!=re.$__parent&&re.$__parent.ownerDocument&&re.$__parent.$__reset()}),this.$__dirty().forEach(function(re){var ge=re.value;ge&&ge[M]&&(ge[N]=ge[M],ge[M]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.states.modify),default:Object.assign({},this.$__.activePaths.states.default)},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.errors=void 0,ie=this,this.$__schema.requiredPaths().forEach(function(re){ie.$__.activePaths.require(re)}),this},Ae.prototype.$__undoReset=function(){if(null!=this.$__.backup&&null!=this.$__.backup.activePaths){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.errors=this.$__.backup.errors;var ie,re=x(this.$__dirty());try{for(re.s();!(ie=re.n()).done;){var ge=ie.value.value;ge&&ge[M]&&ge[N]&&(ge[M]=ge[N])}}catch(Oe){re.e(Oe)}finally{re.f()}var we,De=x(this.$getAllSubdocs());try{for(De.s();!(we=De.n()).done;)we.value.$__undoReset()}catch(Oe){De.e(Oe)}finally{De.f()}}},Ae.prototype.$__dirty=function(){var ie=this,re=this.$__.activePaths.map("modify",function(Oe){return{path:Oe,value:ie.$__getValue(Oe),schema:ie.$__path(Oe)}});(re=re.concat(this.$__.activePaths.map("default",function(Oe){if("_id"!==Oe&&null!=ie.$__getValue(Oe))return{path:Oe,value:ie.$__getValue(Oe),schema:ie.$__path(Oe)}}))).sort(function(Oe,ke){return Oe.path<ke.path?-1:Oe.path>ke.path?1:0});var ge,we,De=[];return re.forEach(function(Oe){Oe&&(null==ge||0!==Oe.path.indexOf(ge)?(ge=Oe.path+".",De.push(Oe),we=Oe):null!=we&&null!=we.value&&null!=we.value[M]&&we.value.hasAtomics()&&(we.value[M]={},we.value[M].$set=we.value))}),we=ge=null,De},Ae.prototype.$__setSchema=function(ie){ie.plugin(ne,{deduplicate:!0}),F(ie.tree,this,void 0,ie.options);for(var re=0,ge=Object.keys(ie.virtuals);re<ge.length;re++)ie.virtuals[ge[re]]._applyDefaultGetters();null==ie.path("schema")&&(this.schema=ie),this.$__schema=ie,this[fe]=ie},Ae.prototype.$__getArrayPathsToValidate=function(){return I||(I=c(18)),this.$__.activePaths.map("init","modify",function(ie){return this.$__getValue(ie)}.bind(this)).filter(function(ie){return ie&&ie instanceof Array&&ie.isMongooseDocumentArray&&ie.length}).reduce(function(ie,re){return ie.concat(re)},[]).filter(function(ie){return ie})},Ae.prototype.$getAllSubdocs=function(){function ie(De,Oe,ke){var Ne=De,je=!1;if(ke&&(De instanceof Ae&&De[fe].paths[ke]?Ne=De._doc[ke]:De instanceof Ae&&De[fe].nested[ke]?(Ne=De._doc[ke],je=!0):Ne=De[ke]),Ne instanceof O)Oe.push(Ne);else if(Ne instanceof Map)Oe=Array.from(Ne.keys()).reduce(function(He,We){return ie(Ne.get(We),He,null)},Oe);else if(Ne&&Ne.$isSingleNested)(Oe=Object.keys(Ne._doc).reduce(function(He,We){return ie(Ne._doc,He,We)},Oe)).push(Ne);else if(Ne&&Ne.isMongooseDocumentArray)Ne.forEach(function(He){He&&He._doc&&(Oe=Object.keys(He._doc).reduce(function(We,tt){return ie(He._doc,We,tt)},Oe),He instanceof O&&Oe.push(He))});else if(je&&null!=Ne)for(var Ve=0,Be=Object.keys(Ne);Ve<Be.length;Ve++)ie(Ne,Oe,Be[Ve]);return Oe}I||(I=c(18)),O=O||c(29);for(var re=[],ge=0,we=Object.keys(this._doc);ge<we.length;ge++)ie(this,re,we[ge]);return re},Ae.prototype.$__handleReject=function(ie){this.listeners("error").length?this.emit("error",ie):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",ie)},Ae.prototype.$toObject=function(ie,re){var ge,we,De={transform:!0,flattenDecimals:!0},Oe=re?"toJSON":"toObject",ke=P(this,"constructor.base.options."+Oe,{}),Ne=P(this,"$__schema.options",{});De=J.options(De,te(ke)),De=J.options(De,te(Ne[Oe]||{})),(ie=J.isPOJO(ie)?te(ie):{})._calledWithOptions=ie._calledWithOptions||te(ie),ge=null!=ie._calledWithOptions.minimize?ie.minimize:null!=De.minimize?De.minimize:Ne.minimize,we=null!=ie._calledWithOptions.flattenMaps?ie.flattenMaps:null!=De.flattenMaps?De.flattenMaps:Ne.flattenMaps;var je=Object.assign(J.clone(ie),{_isNested:!0,json:re,minimize:ge,flattenMaps:we});if(J.hasUserDefinedProperty(ie,"getters")&&(je.getters=ie.getters),J.hasUserDefinedProperty(ie,"virtuals")&&(je.virtuals=ie.virtuals),(ie.depopulate||P(ie,"_parentOptions.depopulate",!1))&&ie._isNested&&this.$__.wasPopulated)return te(this._id,je);(ie=J.options(De,ie))._isNested=!0,ie.json=re,ie.minimize=ge,je._parentOptions=ie,je._skipSingleNestedGetters=!0;var Ve=Object.assign({},je);Ve._skipSingleNestedGetters=!1;var Be=ie.transform,qe=te(this._doc,je)||{};ie.getters&&(function(dt,_t,Ke){var ut,ht,Pt=Object.keys(dt.$__schema.paths),pt=Pt.length,dn=dt._doc;if(!dn)return _t;for(;pt--;){var an=(ut=Pt[pt]).split("."),pn=an.length,nr=pn-1,Lt=_t,An=void 0;if(dn=dt._doc,dt.$__isSelected(ut))for(var Tn=0;Tn<pn;++Tn){if(ht=dn[An=an[Tn]],Tn===nr){var Do=dt.get(ut);Lt[An]=te(Do,Ke)}else{if(null==ht){An in dn&&(Lt[An]=ht);break}Lt=Lt[An]||(Lt[An]={})}dn=ht}}}(this,qe,Ve),ie.minimize&&(qe=function dt(_t){for(var Ke,ut,ht,Ct=Object.keys(_t),Pt=Ct.length;Pt--;)J.isObject(ht=_t[ut=Ct[Pt]])&&!p.isBuffer(ht)&&(_t[ut]=dt(ht)),void 0!==_t[ut]?Ke=!0:delete _t[ut];return Ke?_t:void 0}(qe)||{})),(ie.virtuals||ie.getters&&!1!==ie.virtuals)&&$n(this,qe,Ve,ie),!1===ie.versionKey&&this.$__schema.options.versionKey&&delete qe[this.$__schema.options.versionKey];var He=ie.transform;if(He&&function(dt,_t){var Ke=dt.$__schema,ut=Object.keys(Ke.paths||{});if(!dt._doc)return _t;for(var ht=0,Ct=ut;ht<Ct.length;ht++){var Pt=Ct[ht],pt=Ke.paths[Pt];if("function"==typeof pt.options.transform){var dn=dt.get(Pt),an=pt.options.transform.call(dt,dn);Pi(Pt,an),J.setValue(Pt,an,_t)}else if(null!=pt.$embeddedSchemaType&&"function"==typeof pt.$embeddedSchemaType.options.transform){for(var pn=[].concat(dt.get(Pt)),nr=pt.$embeddedSchemaType.options.transform,Lt=0;Lt<pn.length;++Lt){var An=nr.call(dt,pn[Lt]);pn[Lt]=An,Pi(Pt,An)}_t[Pt]=pn}}}(this,qe),ie.useProjection&&function(dt,_t){var Ke=dt.$__schema,ut=Object.keys(Ke.paths||{});if(!dt._doc)return _t;var ht=dt.$__.selected;if(void 0===ht&&he.applyPaths(ht={},Ke),null==ht||0===Object.keys(ht).length)return _t;for(var Ct=0,Pt=ut;Ct<Pt.length;Ct++){var pt=Pt[Ct];null==ht[pt]||ht[pt]||delete _t[pt]}}(this,qe),!0===He||Ne.toObject&&He){var We=ie.json?Ne.toJSON:Ne.toObject;We&&(He="function"==typeof ie.transform?ie.transform:We.transform)}else ie.transform=Be;if("function"==typeof He){var tt=He(this,qe,ie);void 0!==tt&&(qe=tt)}return qe},Ae.prototype.toObject=function(ie){return this.$toObject(ie)},Ae.prototype.toJSON=function(ie){return this.$toObject(ie,!0)},Ae.prototype.$parent=Ae.prototype.parent=function(){return this.$__.parent},Ae.prototype.inspect=function(ie){var re;J.isPOJO(ie)&&((re=ie).minimize=!1);var ge=this.toObject(re);return null==ge?"MongooseDocument { "+ge+" }":ge},Z.custom&&(Ae.prototype[Z.custom]=Ae.prototype.inspect),Ae.prototype.toString=function(){var ie=this.inspect();return"string"==typeof ie?ie:Z(ie)},Ae.prototype.equals=function(ie){if(!ie)return!1;var re=this.$__getValue("_id"),ge=null!=ie.$__?ie.$__getValue("_id"):ie;return re||ge?re&&re.equals?re.equals(ge):re===ge:ce(this,ie)},Ae.prototype.populate=function(){if(0===arguments.length)return this;var ie,re=this.$__.populate||(this.$__.populate={}),ge=J.args(arguments);if("function"==typeof ge[ge.length-1]&&(ie=ge.pop()),ge.length){var we,De=J.populate.apply(null,ge),Oe=x(De);try{for(Oe.s();!(we=Oe.n()).done;){var ke=we.value;re[ke.path]=ke}}catch(qe){Oe.e(qe)}finally{Oe.f()}}if(ie){var Ne=J.object.vals(re);this.$__.populate=void 0;var je=this.constructor;if(this.$__isNested){je=this.$__[Ue].constructor;var Ve=this.$__.nestedPath;Ne.forEach(function(qe){qe.path=Ve+"."+qe.path})}if(null!=this.$session()){var Be=this.$session();Ne.forEach(function(qe){null!=qe.options?"session"in qe.options||(qe.options.session=Be):qe.options={session:Be}})}je.populate(this,Ne,ie)}return this},Ae.prototype.$getPopulatedDocs=function(){var ie=[];null!=this.$__.populated&&(ie=ie.concat(Object.keys(this.$__.populated))),null!=this.$$populatedVirtuals&&(ie=ie.concat(Object.keys(this.$$populatedVirtuals)));var re,ge=[],we=x(ie);try{for(we.s();!(re=we.n()).done;){var Oe=this.get(re.value);Array.isArray(Oe)?ge=ge.concat(Oe):Oe instanceof Ae&&ge.push(Oe)}}catch(ke){we.e(ke)}finally{we.f()}return ge},Ae.prototype.execPopulate=function(ie){var re=this,ge=null!=ie&&"function"!=typeof ie;return ge?this.populate.apply(this,arguments).execPopulate():Y(ie,function(we){re.populate(we)},this.constructor.events)},Ae.prototype.populated=function(ie,re,ge){if(null==re||!0===re){if(!this.$__.populated)return;var we=ie.endsWith(".$*")?ie.replace(/\.\$\*$/,""):ie,De=this.$__.populated[we];return De?!0===re?De:De.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[ie]={value:re,options:ge};for(var Oe=ie.split("."),ke=0;ke<Oe.length-1;++ke){var Ne=Oe.slice(0,ke+1).join("."),je=this.get(Ne);if(null!=je&&null!=je.$__&&this.populated(Ne)){var Ve=Oe.slice(ke+1).join(".");je.populated(Ve,re,ge);break}}return re},Ae.prototype.depopulate=function(ie){var re;"string"==typeof ie&&(ie=ie.split(" "));var ge=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],we=P(this,"$__.populated",{});if(0===arguments.length){var De,Oe=x(ge);try{for(Oe.s();!(De=Oe.n()).done;){var ke=De.value;delete this.$$populatedVirtuals[ke],delete this._doc[ke],delete we[ke]}}catch(tt){Oe.e(tt)}finally{Oe.f()}for(var Ne=Object.keys(we),je=0,Ve=Ne;je<Ve.length;je++){var Be=Ve[je];(re=this.populated(Be))&&(delete we[Be],J.setValue(Be,re,this._doc))}return this}var qe,He=x(ie);try{for(He.s();!(qe=He.n()).done;){var We=qe.value;re=this.populated(We),delete we[We],-1!==ge.indexOf(We)?(delete this.$$populatedVirtuals[We],delete this._doc[We]):re&&J.setValue(We,re,this._doc)}}catch(tt){He.e(tt)}finally{He.f()}return this},Ae.prototype.$__fullPath=function(ie){return ie||""},Ae.prototype.getChanges=function(){var ie=this.$__delta();return ie?ie[1]:{}},Ae.ValidationError=T,le.exports=Ae}).call(this,c(2).Buffer)},function(le,q,c){"use strict";function p(_){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function C(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function V(_,m){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T})(_,m)}function I(_,m){if(m&&("object"===p(m)||"function"==typeof m))return m;if(void 0!==m)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}function S(_){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)})(_)}var O=c(14),v=c(3),y=c(4),h=function(_){!function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&V(B,F)}(Y,_);var m,T,$=function D(_){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}();return function(){var T,A=S(_);if(m){var $=S(this).constructor;T=Reflect.construct(A,arguments,$)}else T=A.apply(this,arguments);return I(this,T)}}(Y);function Y(B,F,R,U,P){var G;if(C(this,Y),arguments.length>0){var W=f(F),ne=g(F),X=u(P),z=l(null,B,W,R,X,ne);(G=$.call(this,z)).init(B,F,R,U,P)}else G=$.call(this,l());return I(G)}return m=Y,(T=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(B,F,R,U,P){this.stringValue=f(F),this.messageFormat=u(P),this.kind=B,this.value=F,this.path=R,this.reason=U,this.valueType=g(F)}},{key:"copy",value:function(B){this.messageFormat=B.messageFormat,this.stringValue=B.stringValue,this.kind=B.kind,this.value=B.value,this.path=B.path,this.reason=B.reason,this.message=B.message,this.valueType=B.valueType}},{key:"setModel",value:function(B){this.model=B,this.message=l(B,this.kind,this.stringValue,this.path,this.messageFormat,this.valueType)}}])&&function x(_,m){for(var T=0;T<m.length;T++){var A=m[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,(Y=function(B,F){if("object"!==p(B)||null===B)return B;var R=B[Symbol.toPrimitive];if(void 0!==R){var U=R.call(B,"string");if("object"!==p(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(A.key),"symbol"===p(Y)?Y:String(Y)),A)}var Y}(m.prototype,T),Object.defineProperty(m,"prototype",{writable:!1}),Y}(O);function f(_){var m=y.inspect(_);return(m=m.replace(/^'|'$/g,'"')).startsWith('"')||(m='"'+m+'"'),m}function g(_){if(null==_)return""+_;var m=p(_);return"object"!==m||"function"!=typeof _.constructor?m:_.constructor.name}function u(_){var m=v(_,"options.cast",null);if("string"==typeof m)return m}function l(_,m,T,A,$,Y){if(null!=$){var B=$.replace("{KIND}",m).replace("{VALUE}",T).replace("{PATH}",A);return null!=_&&(B=B.replace("{MODEL}",_.modelName)),B}var F="Cast to "+m+" failed for value "+T+(Y?" (type "+Y+")":"")+' at path "'+A+'"';return null!=_&&(F+=' for model "'+_.modelName+'"'),F}Object.defineProperty(h.prototype,"name",{value:"CastError"}),le.exports=h},function(le,q,c){"use strict";function p(h){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function x(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function V(h,f){if(f&&("object"===p(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(h)}function D(h){var f="function"==typeof Map?new Map:void 0;return(D=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==f){if(f.has(g))return f.get(g);f.set(g,l)}function l(){return I(g,arguments,v(this).constructor)}return l.prototype=Object.create(g.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),O(l,g)})(h)}function I(h,f,g){return(I=S()?Reflect.construct.bind():function(u,l,_){var m=[null];m.push.apply(m,l);var T=new(Function.bind.apply(u,m));return _&&O(T,_.prototype),T}).apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function O(h,f){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,u){return g.__proto__=u,g})(h,f)}function v(h){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var y=function(h){!function(A,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create($&&$.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),$&&O(A,$)}(T,h);var f,g,u,m=(f=T,g=S(),function(){var A,$=v(f);if(g){var Y=v(this).constructor;A=Reflect.construct($,arguments,Y)}else A=$.apply(this,arguments);return V(this,A)});function T(){return x(this,T),m.apply(this,arguments)}return u=T,Object.defineProperty(u,"prototype",{writable:!1}),u}(D(Error));Object.defineProperty(y.prototype,"name",{value:"MongooseError"}),le.exports=y},function(le,q,c){"use strict";var p=null;le.exports.get=function(){return p},le.exports.set=function(C){p=C}},function(le,q,c){"use strict";(function(p){function C(x,V){return new p(x,V)}le.exports={normalizedFunctionString:function(x){return x.toString().replace(/function *\(/,"function (")},allocBuffer:"function"==typeof p.alloc?function(){return p.alloc.apply(p,arguments)}:C,toBuffer:"function"==typeof p.from?function(){return p.from.apply(p,arguments)}:C}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";q.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}},function(le,q,c){"use strict";(function(p){function C(ne){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(ne)}function x(ne,X){var z="undefined"!=typeof Symbol&&ne[Symbol.iterator]||ne["@@iterator"];if(!z){if(Array.isArray(ne)||(z=function(J,Ee){if(J){if("string"==typeof J)return V(J,void 0);var te=Object.prototype.toString.call(J).slice(8,-1);if("Object"===te&&J.constructor&&(te=J.constructor.name),"Map"===te||"Set"===te)return Array.from(J);if("Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return V(J,void 0)}}(ne))||X&&ne&&"number"==typeof ne.length){z&&(ne=z);var Q=0,Z=function(){};return{s:Z,n:function(){return Q>=ne.length?{done:!0}:{done:!1,value:ne[Q++]}},e:function(J){throw J},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,pe=!0,he=!1;return{s:function(){z=z.call(ne)},n:function(){var J=z.next();return pe=J.done,J},e:function(J){he=!0,j=J},f:function(){try{pe||null==z.return||z.return()}finally{if(he)throw j}}}}function V(ne,X){(null==X||X>ne.length)&&(X=ne.length);for(var z=0,Q=new Array(X);z<X;z++)Q[z]=ne[z];return Q}function D(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}function S(){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(ne,X,z){var Q=O(ne,X);if(Q){var Z=Object.getOwnPropertyDescriptor(Q,X);return Z.get?Z.get.call(arguments.length<3?ne:z):Z.value}}).apply(this,arguments)}function O(ne,X){for(;!Object.prototype.hasOwnProperty.call(ne,X)&&null!==(ne=f(ne)););return ne}function v(ne,X){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,Q){return z.__proto__=Q,z})(ne,X)}function h(ne,X){if(X&&("object"===C(X)||"function"==typeof X))return X;if(void 0!==X)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(ne)}function f(ne){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)})(ne)}var g=c(86),u=c(12),l=c(11),_=c(89),m=c(37),T=c(17).internalToObjectOptions,A=c(4),$=c(1),Y=c(0).arrayAtomicsSymbol,B=c(0).arrayParentSymbol,F=c(0).arrayPathSymbol,R=c(0).arraySchemaSymbol,U=c(0).documentArrayParent,P=Array.prototype.push,G=function(ne){!function(Q,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),Z&&v(Q,Z)}(z,ne);var Q,Z,X=function y(ne){var X=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var z,Q=f(ne);if(X){var Z=f(this).constructor;z=Reflect.construct(Q,arguments,Z)}else z=Q.apply(this,arguments);return h(this,z)}}(z);function z(){return D(this,z),X.apply(this,arguments)}return Q=z,Z=[{key:"isMongooseDocumentArray",get:function(){return!0}},{key:"toBSON",value:function(){return this.toObject(T)}},{key:"map",value:function(){var Q=S(f(z.prototype),"map",this).apply(this,arguments);return Q[R]=null,Q[F]=null,Q[B]=null,Q}},{key:"_cast",value:function(Q,Z){if(null==this[R])return Q;var j=this[R].casterConstructor;if((j.$isMongooseDocumentArray?Q&&Q.isMongooseDocumentArray:Q instanceof j)||Q&&Q.constructor&&Q.constructor.baseCasterConstructor===j)return Q[U]&&Q.__parentArray||(Q[U]=this[B],Q.__parentArray=this),Q.$setIndex(Z),Q;if(null==Q)return null;if((p.isBuffer(Q)||Q instanceof l||!$.isObject(Q))&&(Q={_id:Q}),Q&&j.discriminators&&j.schema&&j.schema.options&&j.schema.options.discriminatorKey)if("string"==typeof Q[j.schema.options.discriminatorKey]&&j.discriminators[Q[j.schema.options.discriminatorKey]])j=j.discriminators[Q[j.schema.options.discriminatorKey]];else{var pe=m(j.discriminators,Q[j.schema.options.discriminatorKey]);pe&&(j=pe)}return j.$isMongooseDocumentArray?j.cast(Q,this,void 0,void 0,Z):new j(Q,this,void 0,void 0,Z)}},{key:"id",value:function(Q){var Z,j,pe;try{Z=_(Q).toString()}catch(te){Z=null}var he,J=x(this);try{for(J.s();!(he=J.n()).done;){var Ee=he.value;if(Ee&&null!=(pe=Ee.get("_id")))if(pe instanceof u){if(j||(j=String(Q)),j==pe._id)return Ee}else if(Q instanceof l||pe instanceof l){if(Z==pe)return Ee}else if(Q==pe||$.deepEqual(Q,pe))return Ee}}catch(te){J.e(te)}finally{J.f()}return null}},{key:"toObject",value:function(Q){return[].concat(this.map(function(Z){return null==Z?null:"function"!=typeof Z.toObject?Z:Z.toObject(Q)}))}},{key:"slice",value:function(){var Q=S(f(z.prototype),"slice",this).apply(this,arguments);return Q[B]=this[B],Q[F]=this[F],Q}},{key:"push",value:function(){var Q=S(f(z.prototype),"push",this).apply(this,arguments);return W(this),Q}},{key:"pull",value:function(){var Q=S(f(z.prototype),"pull",this).apply(this,arguments);return W(this),Q}},{key:"shift",value:function(){var Q=S(f(z.prototype),"shift",this).apply(this,arguments);return W(this),Q}},{key:"splice",value:function(){var Q=S(f(z.prototype),"splice",this).apply(this,arguments);return W(this),Q}},{key:"inspect",value:function(){return this.toObject()}},{key:"create",value:function(Q){var Z=this[R].casterConstructor;if(Q&&Z.discriminators&&Z.schema&&Z.schema.options&&Z.schema.options.discriminatorKey)if("string"==typeof Q[Z.schema.options.discriminatorKey]&&Z.discriminators[Q[Z.schema.options.discriminatorKey]])Z=Z.discriminators[Q[Z.schema.options.discriminatorKey]];else{var j=m(Z.discriminators,Q[Z.schema.options.discriminatorKey]);j&&(Z=j)}return new Z(Q,this)}},{key:"notify",value:function(Q){var Z=this;return function j(pe,he){for(var J=(he=he||Z).length;J--;)null!=he[J]&&("save"===Q&&(pe=Z[J]),he[J].isMongooseArray?j(pe,he[J]):he[J]&&he[J].emit(Q,pe))}}},{key:"_markModified",value:function(Q,Z){var j,pe=this[B];if(pe){if(j=this[F],arguments.length)if(null!=Z){var he=Q.__index;j=j+"."+he+"."+Z}else j=j+"."+Q;if(null!=j&&j.endsWith(".$"))return this;pe.markModified(j,arguments.length>0?Q:pe)}return this}}],Z&&function I(ne,X){for(var z=0;z<X.length;z++){var Q=X[z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ne,(j=function(pe,he){if("object"!==C(pe)||null===pe)return pe;var J=pe[Symbol.toPrimitive];if(void 0!==J){var Ee=J.call(pe,"string");if("object"!==C(Ee))return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(Q.key),"symbol"===C(j)?j:String(j)),Q)}var j}(Q.prototype,Z),Object.defineProperty(Q,"prototype",{writable:!1}),z}(g);function W(ne){var X=ne[B];if(X&&null!=X.$__.populated){var z,Q=x(Object.keys(X.$__.populated).filter(function(j){return j.startsWith(ne[F]+".")}));try{var Z=function(){var j=z.value,pe=j.slice((ne[F]+".").length);if(!Array.isArray(X.$__.populated[j].value))return"continue";X.$__.populated[j].value=ne.map(function(he){return he.populated(pe)})};for(Q.s();!(z=Q.n()).done;)Z()}catch(j){Q.e(j)}finally{Q.f()}}}A.inspect.custom&&(G.prototype[A.inspect.custom]=G.prototype.inspect),le.exports=function(ne,X,z){var Q=new G;if(Q[Y]={},Q[R]=void 0,Array.isArray(ne)&&(ne[F]===X&&ne[B]===z&&(Q[Y]=Object.assign({},ne[Y])),ne.forEach(function(Z){P.call(Q,Z)})),Q[F]=X,z&&z instanceof u)for(Q[B]=z,Q[R]=z.schema.path(X);null!=Q&&null!=Q[R]&&Q[R].$isMongooseArray&&!Q[R].$isMongooseDocumentArray;)Q[R]=Q[R].casterConstructor;return Q}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";function p(m){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(m)}var C,x="object"===("undefined"==typeof Reflect?"undefined":p(Reflect))?Reflect:null,V=x&&"function"==typeof x.apply?x.apply:function(m,T,A){return Function.prototype.apply.call(m,T,A)};C=x&&"function"==typeof x.ownKeys?x.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var D=Number.isNaN||function(m){return m!=m};function I(){I.init.call(this)}le.exports=I,le.exports.once=function(m,T){return new Promise(function(A,$){function Y(F){m.removeListener(T,B),$(F)}function B(){"function"==typeof m.removeListener&&m.removeListener("error",Y),A([].slice.call(arguments))}var F;_(m,T,B,{once:!0}),"error"!==T&&("function"==typeof(F=m).on&&_(F,"error",Y,{once:!0}))})},I.EventEmitter=I,I.prototype._events=void 0,I.prototype._eventsCount=0,I.prototype._maxListeners=void 0;var S=10;function O(m){if("function"!=typeof m)throw new TypeError('The "listener" argument must be of type Function. Received type '+p(m))}function v(m){return void 0===m._maxListeners?I.defaultMaxListeners:m._maxListeners}function y(m,T,A,$){var Y,B,F;if(O(A),void 0===(B=m._events)?(B=m._events=Object.create(null),m._eventsCount=0):(void 0!==B.newListener&&(m.emit("newListener",T,A.listener?A.listener:A),B=m._events),F=B[T]),void 0===F)F=B[T]=A,++m._eventsCount;else if("function"==typeof F?F=B[T]=$?[A,F]:[F,A]:$?F.unshift(A):F.push(A),(Y=v(m))>0&&F.length>Y&&!F.warned){F.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=m,U.type=T,U.count=F.length,console&&console.warn&&console.warn(U)}return m}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(m,T,A){var $={fired:!1,wrapFn:void 0,target:m,type:T,listener:A},Y=h.bind($);return Y.listener=A,$.wrapFn=Y,Y}function g(m,T,A){var $=m._events;if(void 0===$)return[];var Y=$[T];return void 0===Y?[]:"function"==typeof Y?A?[Y.listener||Y]:[Y]:A?function(B){for(var F=new Array(B.length),R=0;R<F.length;++R)F[R]=B[R].listener||B[R];return F}(Y):l(Y,Y.length)}function u(m){var T=this._events;if(void 0!==T){var A=T[m];if("function"==typeof A)return 1;if(void 0!==A)return A.length}return 0}function l(m,T){for(var A=new Array(T),$=0;$<T;++$)A[$]=m[$];return A}function _(m,T,A,$){if("function"==typeof m.on)$.once?m.once(T,A):m.on(T,A);else{if("function"!=typeof m.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+p(m));m.addEventListener(T,function Y(B){$.once&&m.removeEventListener(T,Y),A(B)})}}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(m){if("number"!=typeof m||m<0||D(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");S=m}}),I.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},I.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||D(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},I.prototype.getMaxListeners=function(){return v(this)},I.prototype.emit=function(m){for(var T=[],A=1;A<arguments.length;A++)T.push(arguments[A]);var $="error"===m,Y=this._events;if(void 0!==Y)$=$&&void 0===Y.error;else if(!$)return!1;if($){var B;if(T.length>0&&(B=T[0]),B instanceof Error)throw B;var F=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw F.context=B,F}var R=Y[m];if(void 0===R)return!1;if("function"==typeof R)V(R,this,T);else{var U=R.length,P=l(R,U);for(A=0;A<U;++A)V(P[A],this,T)}return!0},I.prototype.on=I.prototype.addListener=function(m,T){return y(this,m,T,!1)},I.prototype.prependListener=function(m,T){return y(this,m,T,!0)},I.prototype.once=function(m,T){return O(T),this.on(m,f(this,m,T)),this},I.prototype.prependOnceListener=function(m,T){return O(T),this.prependListener(m,f(this,m,T)),this},I.prototype.off=I.prototype.removeListener=function(m,T){var A,$,Y,B,F;if(O(T),void 0===($=this._events))return this;if(void 0===(A=$[m]))return this;if(A===T||A.listener===T)0==--this._eventsCount?this._events=Object.create(null):(delete $[m],$.removeListener&&this.emit("removeListener",m,A.listener||T));else if("function"!=typeof A){for(Y=-1,B=A.length-1;B>=0;B--)if(A[B]===T||A[B].listener===T){F=A[B].listener,Y=B;break}if(Y<0)return this;0===Y?A.shift():function(R,U){for(;U+1<R.length;U++)R[U]=R[U+1];R.pop()}(A,Y),1===A.length&&($[m]=A[0]),void 0!==$.removeListener&&this.emit("removeListener",m,F||T)}return this},I.prototype.removeAllListeners=function(m){var T,A,$;if(void 0===(A=this._events))return this;if(void 0===A.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==A[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete A[m]),this;if(0===arguments.length){var Y,B=Object.keys(A);for($=0;$<B.length;++$)"removeListener"!==(Y=B[$])&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(T=A[m]))this.removeListener(m,T);else if(void 0!==T)for($=T.length-1;$>=0;$--)this.removeListener(m,T[$]);return this},I.prototype.listeners=function(m){return g(this,m,!0)},I.prototype.rawListeners=function(m){return g(this,m,!1)},I.listenerCount=function(m,T){return"function"==typeof m.listenerCount?m.listenerCount(T):u.call(m,T)},I.prototype.listenerCount=u,I.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]}},function(le,q,c){"use strict";le.exports=c(15).get().Decimal128},function(le,q,c){"use strict";(function(p){le.exports=function(C){return!!p.isBuffer(C)||"[object Object]"===Object.prototype.toString.call(C)}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";(function(p){var C=p.nextTick.bind(p);le.exports=function(x){return C(x)}}).call(this,c(10))},function(le,q,c){"use strict";(function(p){function C(R){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(R)}var x=c(118);function V(R,U){if(R===U)return 0;for(var P=R.length,G=U.length,W=0,ne=Math.min(P,G);W<ne;++W)if(R[W]!==U[W]){P=R[W],G=U[W];break}return P<G?-1:G<P?1:0}function D(R){return p.Buffer&&"function"==typeof p.Buffer.isBuffer?p.Buffer.isBuffer(R):!(null==R||!R._isBuffer)}var I=c(4),S=Object.prototype.hasOwnProperty,O=Array.prototype.slice,v="foo"===function(){}.name;function y(R){return Object.prototype.toString.call(R)}function h(R){return!D(R)&&"function"==typeof p.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(R):!!R&&(R instanceof DataView||!!(R.buffer&&R.buffer instanceof ArrayBuffer)))}var f=le.exports=T,g=/\s*function\s+([^\(\s]*)\s*/;function u(R){if(I.isFunction(R)){if(v)return R.name;var U=R.toString().match(g);return U&&U[1]}}function l(R,U){return"string"==typeof R?R.length<U?R:R.slice(0,U):R}function _(R){if(v||!I.isFunction(R))return I.inspect(R);var U=u(R);return"[Function"+(U?": "+U:"")+"]"}function m(R,U,P,G,W){throw new f.AssertionError({message:P,actual:R,expected:U,operator:G,stackStartFunction:W})}function T(R,U){R||m(R,!0,U,"==",f.ok)}function A(R,U,P,G){if(R===U)return!0;if(D(R)&&D(U))return 0===V(R,U);if(I.isDate(R)&&I.isDate(U))return R.getTime()===U.getTime();if(I.isRegExp(R)&&I.isRegExp(U))return R.source===U.source&&R.global===U.global&&R.multiline===U.multiline&&R.lastIndex===U.lastIndex&&R.ignoreCase===U.ignoreCase;if(null!==R&&"object"===C(R)||null!==U&&"object"===C(U)){if(h(R)&&h(U)&&y(R)===y(U)&&!(R instanceof Float32Array||R instanceof Float64Array))return 0===V(new Uint8Array(R.buffer),new Uint8Array(U.buffer));if(D(R)!==D(U))return!1;var W=(G=G||{actual:[],expected:[]}).actual.indexOf(R);return-1!==W&&W===G.expected.indexOf(U)||(G.actual.push(R),G.expected.push(U),function(ne,X,z,Q){if(null==ne||null==X)return!1;if(I.isPrimitive(ne)||I.isPrimitive(X))return ne===X;if(z&&Object.getPrototypeOf(ne)!==Object.getPrototypeOf(X))return!1;var Z=$(ne),j=$(X);if(Z&&!j||!Z&&j)return!1;if(Z)return A(ne=O.call(ne),X=O.call(X),z);var pe,he,J=F(ne),Ee=F(X);if(J.length!==Ee.length)return!1;for(J.sort(),Ee.sort(),he=J.length-1;he>=0;he--)if(J[he]!==Ee[he])return!1;for(he=J.length-1;he>=0;he--)if(!A(ne[pe=J[he]],X[pe],z,Q))return!1;return!0}(R,U,P,G))}return P?R===U:R==U}function $(R){return"[object Arguments]"==Object.prototype.toString.call(R)}function Y(R,U){if(!R||!U)return!1;if("[object RegExp]"==Object.prototype.toString.call(U))return U.test(R);try{if(R instanceof U)return!0}catch(P){}return!Error.isPrototypeOf(U)&&!0===U.call({},R)}function B(R,U,P,G){var W;if("function"!=typeof U)throw new TypeError('"block" argument must be a function');"string"==typeof P&&(G=P,P=null),W=function(z){var Q;try{z()}catch(Z){Q=Z}return Q}(U),G=(P&&P.name?" ("+P.name+").":".")+(G?" "+G:"."),R&&!W&&m(W,P,"Missing expected exception"+G);var ne="string"==typeof G,X=!R&&W&&!P;if((!R&&I.isError(W)&&ne&&Y(W,P)||X)&&m(W,P,"Got unwanted exception"+G),R&&W&&P&&!Y(W,P)||!R&&W)throw W}f.AssertionError=function(R){this.name="AssertionError",this.actual=R.actual,this.expected=R.expected,this.operator=R.operator,R.message?(this.message=R.message,this.generatedMessage=!1):(this.message=l(_(this.actual),128)+" "+this.operator+" "+l(_(this.expected),128),this.generatedMessage=!0);var U=R.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,U);else{var P=new Error;if(P.stack){var G=P.stack,W=u(U),ne=G.indexOf("\n"+W);if(ne>=0){var X=G.indexOf("\n",ne+1);G=G.substring(X+1)}this.stack=G}}},I.inherits(f.AssertionError,Error),f.fail=m,f.ok=T,f.equal=function(R,U,P){R!=U&&m(R,U,P,"==",f.equal)},f.notEqual=function(R,U,P){R==U&&m(R,U,P,"!=",f.notEqual)},f.deepEqual=function(R,U,P){A(R,U,!1)||m(R,U,P,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(R,U,P){A(R,U,!0)||m(R,U,P,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(R,U,P){A(R,U,!1)&&m(R,U,P,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function R(U,P,G){A(U,P,!0)&&m(U,P,G,"notDeepStrictEqual",R)},f.strictEqual=function(R,U,P){R!==U&&m(R,U,P,"===",f.strictEqual)},f.notStrictEqual=function(R,U,P){R===U&&m(R,U,P,"!==",f.notStrictEqual)},f.throws=function(R,U,P){B(!0,R,U,P)},f.doesNotThrow=function(R,U,P){B(!1,R,U,P)},f.ifError=function(R){if(R)throw R},f.strict=x(function R(U,P){U||m(U,!0,P,"==",R)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var F=Object.keys||function(R){var U=[];for(var P in R)S.call(R,P)&&U.push(P);return U}}).call(this,c(9))},function(le,q,c){"use strict";le.exports=function(p){if(null!=p&&"function"==typeof p.constructor)return p.constructor.name}},function(le,q){function c(p,C){if(!(this instanceof c))return new c(p,C);this._bsontype="Long",this.low_=0|p,this.high_=0|C}c.prototype.toInt=function(){return this.low_},c.prototype.toNumber=function(){return this.high_*c.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},c.prototype.toBigInt=function(){return BigInt(this.toString())},c.prototype.toJSON=function(){return this.toString()},c.prototype.toString=function(p){var C=p||10;if(C<2||36<C)throw Error("radix out of range: "+C);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(c.MIN_VALUE)){var x=c.fromNumber(C),V=this.div(x),D=V.multiply(x).subtract(this);return V.toString(C)+D.toInt().toString(C)}return"-"+this.negate().toString(C)}var I=c.fromNumber(Math.pow(C,6));D=this;for(var S="";!D.isZero();){var O=D.div(I),v=D.subtract(O.multiply(I)).toInt().toString(C);if((D=O).isZero())return v+S;for(;v.length<6;)v="0"+v;S=""+v+S}},c.prototype.getHighBits=function(){return this.high_},c.prototype.getLowBits=function(){return this.low_},c.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:c.TWO_PWR_32_DBL_+this.low_},c.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(c.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var p=0!==this.high_?this.high_:this.low_,C=31;C>0&&0==(p&1<<C);C--);return 0!==this.high_?C+33:C+1},c.prototype.isZero=function(){return 0===this.high_&&0===this.low_},c.prototype.isNegative=function(){return this.high_<0},c.prototype.isOdd=function(){return 1==(1&this.low_)},c.prototype.equals=function(p){return this.high_===p.high_&&this.low_===p.low_},c.prototype.notEquals=function(p){return this.high_!==p.high_||this.low_!==p.low_},c.prototype.lessThan=function(p){return this.compare(p)<0},c.prototype.lessThanOrEqual=function(p){return this.compare(p)<=0},c.prototype.greaterThan=function(p){return this.compare(p)>0},c.prototype.greaterThanOrEqual=function(p){return this.compare(p)>=0},c.prototype.compare=function(p){if(this.equals(p))return 0;var C=this.isNegative(),x=p.isNegative();return C&&!x?-1:!C&&x?1:this.subtract(p).isNegative()?-1:1},c.prototype.negate=function(){return this.equals(c.MIN_VALUE)?c.MIN_VALUE:this.not().add(c.ONE)},c.prototype.add=function(p){var v=0,y=0,h=0,f=0;return h+=(f+=(65535&this.low_)+(65535&p.low_))>>>16,y+=(h+=(this.low_>>>16)+(p.low_>>>16))>>>16,v+=(y+=(65535&this.high_)+(65535&p.high_))>>>16,v+=(this.high_>>>16)+(p.high_>>>16),c.fromBits((h&=65535)<<16|(f&=65535),(v&=65535)<<16|(y&=65535))},c.prototype.subtract=function(p){return this.add(p.negate())},c.prototype.multiply=function(p){if(this.isZero()||p.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE))return p.isOdd()?c.MIN_VALUE:c.ZERO;if(p.equals(c.MIN_VALUE))return this.isOdd()?c.MIN_VALUE:c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(c.TWO_PWR_24_)&&p.lessThan(c.TWO_PWR_24_))return c.fromNumber(this.toNumber()*p.toNumber());var x=65535&this.high_,V=this.low_>>>16,D=65535&this.low_,S=65535&p.high_,O=p.low_>>>16,v=65535&p.low_,y=0,h=0,f=0,g=0;return f+=(g+=D*v)>>>16,h+=(f+=V*v)>>>16,f&=65535,h+=(f+=D*O)>>>16,y+=(h+=x*v)>>>16,h&=65535,y+=(h+=V*O)>>>16,h&=65535,y+=(h+=D*S)>>>16,y+=(this.high_>>>16)*v+x*O+V*S+D*(p.high_>>>16),c.fromBits((f&=65535)<<16|(g&=65535),(y&=65535)<<16|(h&=65535))},c.prototype.div=function(p){if(p.isZero())throw Error("division by zero");if(this.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE)){if(p.equals(c.ONE)||p.equals(c.NEG_ONE))return c.MIN_VALUE;if(p.equals(c.MIN_VALUE))return c.ONE;var C=this.shiftRight(1).div(p).shiftLeft(1);if(C.equals(c.ZERO))return p.isNegative()?c.ONE:c.NEG_ONE;var x=this.subtract(p.multiply(C));return C.add(x.div(p))}if(p.equals(c.MIN_VALUE))return c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().div(p.negate()):this.negate().div(p).negate();if(p.isNegative())return this.div(p.negate()).negate();var V=c.ZERO;for(x=this;x.greaterThanOrEqual(p);){C=Math.max(1,Math.floor(x.toNumber()/p.toNumber()));for(var D=Math.ceil(Math.log(C)/Math.LN2),I=D<=48?1:Math.pow(2,D-48),S=c.fromNumber(C),O=S.multiply(p);O.isNegative()||O.greaterThan(x);)O=(S=c.fromNumber(C-=I)).multiply(p);S.isZero()&&(S=c.ONE),V=V.add(S),x=x.subtract(O)}return V},c.prototype.modulo=function(p){return this.subtract(this.div(p).multiply(p))},c.prototype.not=function(){return c.fromBits(~this.low_,~this.high_)},c.prototype.and=function(p){return c.fromBits(this.low_&p.low_,this.high_&p.high_)},c.prototype.or=function(p){return c.fromBits(this.low_|p.low_,this.high_|p.high_)},c.prototype.xor=function(p){return c.fromBits(this.low_^p.low_,this.high_^p.high_)},c.prototype.shiftLeft=function(p){if(0==(p&=63))return this;var C=this.low_;return p<32?c.fromBits(C<<p,this.high_<<p|C>>>32-p):c.fromBits(0,C<<p-32)},c.prototype.shiftRight=function(p){if(0==(p&=63))return this;var C=this.high_;return p<32?c.fromBits(this.low_>>>p|C<<32-p,C>>p):c.fromBits(C>>p-32,C>=0?0:-1)},c.prototype.shiftRightUnsigned=function(p){if(0==(p&=63))return this;var C=this.high_;return p<32?c.fromBits(this.low_>>>p|C<<32-p,C>>>p):c.fromBits(32===p?C:C>>>p-32,0)},c.fromInt=function(p){if(-128<=p&&p<128){var C=c.INT_CACHE_[p];if(C)return C}var x=new c(0|p,p<0?-1:0);return-128<=p&&p<128&&(c.INT_CACHE_[p]=x),x},c.fromNumber=function(p){return isNaN(p)||!isFinite(p)?c.ZERO:p<=-c.TWO_PWR_63_DBL_?c.MIN_VALUE:p+1>=c.TWO_PWR_63_DBL_?c.MAX_VALUE:p<0?c.fromNumber(-p).negate():new c(p%c.TWO_PWR_32_DBL_|0,p/c.TWO_PWR_32_DBL_|0)},c.fromBigInt=function(p){return c.fromString(p.toString(10),10)},c.fromBits=function(p,C){return new c(p,C)},c.fromString=function(p,C){if(0===p.length)throw Error("number format error: empty string");var x=C||10;if(x<2||36<x)throw Error("radix out of range: "+x);if("-"===p.charAt(0))return c.fromString(p.substring(1),x).negate();if(p.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+p);for(var V=c.fromNumber(Math.pow(x,8)),D=c.ZERO,I=0;I<p.length;I+=8){var S=Math.min(8,p.length-I),O=parseInt(p.substring(I,I+S),x);if(S<8){var v=c.fromNumber(Math.pow(x,S));D=D.multiply(v).add(c.fromNumber(O))}else D=(D=D.multiply(V)).add(c.fromNumber(O))}return D},c.INT_CACHE_={},c.TWO_PWR_16_DBL_=65536,c.TWO_PWR_24_DBL_=1<<24,c.TWO_PWR_31_DBL_=(c.TWO_PWR_32_DBL_=c.TWO_PWR_16_DBL_*c.TWO_PWR_16_DBL_)/2,c.TWO_PWR_48_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_16_DBL_,c.TWO_PWR_63_DBL_=(c.TWO_PWR_64_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_32_DBL_)/2,c.ZERO=c.fromInt(0),c.ONE=c.fromInt(1),c.NEG_ONE=c.fromInt(-1),c.MAX_VALUE=c.fromBits(-1,2147483647),c.MIN_VALUE=c.fromBits(0,-2147483648),c.TWO_PWR_24_=c.fromInt(1<<24),le.exports=c,le.exports.Long=c},function(le,q,c){"use strict";function C(l,_){(null==_||_>l.length)&&(_=l.length);for(var m=0,T=new Array(_);m<_;m++)T[m]=l[m];return T}var x=c(65),V=c(20),D=c(11),I=c(51),S=c(31),O=c(66),v=c(67),y=c(21),h=c(0),f=c(1);function g(l,_,m){if(null==l)return l;if(Array.isArray(l))return function(T,A){var $,Y=[],B=function p(l,_){var m="undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!m){if(Array.isArray(l)||(m=function(F,R){if(F){if("string"==typeof F)return C(F,R);var U=Object.prototype.toString.call(F).slice(8,-1);if("Object"===U&&F.constructor&&(U=F.constructor.name),"Map"===U||"Set"===U)return Array.from(F);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return C(F,R)}}(l))||_&&l&&"number"==typeof l.length){m&&(l=m);var T=0,A=function(){};return{s:A,n:function(){return T>=l.length?{done:!0}:{done:!1,value:l[T++]}},e:function(F){throw F},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $,Y=!0,B=!1;return{s:function(){m=m.call(l)},n:function(){var F=m.next();return Y=F.done,F},e:function(F){B=!0,$=F},f:function(){try{Y||null==m.return||m.return()}finally{if(B)throw $}}}}(T);try{for(B.s();!($=B.n()).done;)Y.push(g($.value,A,!0))}catch(R){B.e(R)}finally{B.f()}return Y}(l,_);if(S(l))return _&&_._skipSingleNestedGetters&&l.$isSingleNested&&(_=Object.assign({},_,{getters:!1})),f.isPOJO(l)&&null!=l.$__&&null!=l._doc?l._doc:_&&_.json&&"function"==typeof l.toJSON?l.toJSON(_):l.toObject(_);if(l.constructor)switch(O(l.constructor)){case"Object":return u(l,_,m);case"Date":return new l.constructor(+l);case"RegExp":return x(l)}return l instanceof D?new D(l.id):v(l,"Decimal128")?_&&_.flattenDecimals?l.toJSON():V.fromString(l.toString()):!l.constructor&&y(l)?u(l,_,m):l[h.schemaTypeSymbol]?l.clone():_&&_.bson&&"function"==typeof l.toBSON?l:null!=l.valueOf?l.valueOf():u(l,_,m)}function u(l,_,m){for(var T,A=_&&_.minimize,$={},Y=0,B=Object.keys(l);Y<B.length;Y++){var F=B[Y];if(!I.has(F)){var R=g(l[F],_);A&&void 0===R||(!1===A&&void 0===R?delete $[F]:(T||(T=!0),$[F]=R))}}return A&&!m?T&&$:$}le.exports=g},function(le,q,c){"use strict";var p=c(68),C=c(22),x=Symbol("mongoose:emitted");le.exports=function(V,D,I,S){return"function"==typeof V?D(function(O){if(null==O)V.apply(this,arguments);else{null!=I&&null!=I.listeners&&I.listeners("error").length>0&&!O[x]&&(O[x]=!0,I.emit("error",O));try{V(O)}catch(v){return C(function(){throw v})}}}):new(S=S||p.get())(function(O,v){D(function(y,h){return null!=y?(null!=I&&null!=I.listeners&&I.listeners("error").length>0&&!y[x]&&(y[x]=!0,I.emit("error",y)),v(y)):arguments.length>2?O(Array.prototype.slice.call(arguments,1)):void O(h)})})}},function(le,q,c){"use strict";var p=c(6),C=c(35),x=c(21),V=c(1);function D(I,S){if(S&&S.default){var O=S.default;Array.isArray(O)&&0===O.length?S.default=Array:!S.shared&&x(O)&&0===Object.keys(O).length&&(S.default=function(){return{}})}p.call(this,I,S,"Mixed"),this[C.schemaMixedSymbol]=!0}D.schemaName="Mixed",D.defaultOptions={},(D.prototype=Object.create(p.prototype)).constructor=D,D.get=p.get,D.set=p.set,D.prototype.cast=function(I){return I instanceof Error?V.errorToPOJO(I):I},D.prototype.castForQuery=function(I,S){return 2===arguments.length?S:I},le.exports=D},function(le,q,c){"use strict";var p=c(62)(),C=c(19).EventEmitter,x=c(33),V=c(22),D=c(17).internalToObjectOptions,I=c(3),S=c(27),O=c(4),v=c(0).documentArrayParent,y=c(0).validatorErrorSymbol;function h(g,u,l,_,m){var T={};null!=u&&u.isMongooseDocumentArray?(this.__parentArray=u,this[v]=u.$parent()):(this.__parentArray=void 0,this[v]=void 0),this.$setIndex(m),this.$isDocumentArrayElement=!0,null!=this[v]&&(T.defaults=this[v].$__.$options.defaults),p.call(this,g,_,l,T);var A=this;this.on("isNew",function($){A.isNew=$}),A.on("save",function(){A.constructor.emit("save",A)})}for(var f in(h.prototype=Object.create(p.prototype)).constructor=h,C.prototype)h[f]=C.prototype[f];h.prototype.toBSON=function(){return this.toObject(D)},h.prototype.$setIndex=function(g){if(this.__index=g,null!=I(this,"$__.validationError",null))for(var u=0,l=Object.keys(this.$__.validationError.errors);u<l.length;u++){var _=l[u];this.invalidate(_,this.$__.validationError.errors[_])}},h.prototype.markModified=function(g){if(this.$__.activePaths.modify(g),this.__parentArray){var u=this.__parentArray.$path()+".0."+g;this.isNew&&this.ownerDocument().$__isSelected(u)?this.__parentArray._markModified():this.__parentArray._markModified(this,g)}},h.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},h.prototype.save=function(g,u){var l=this;return"function"==typeof g&&(u=g,g={}),(g=g||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),S(u,function(_){l.$__save(_)})},h.prototype.$__save=function(g){var u=this;return V(function(){return g(null,u)})},h.prototype.$__remove=function(g){if(null!=g)return g(null,this)},h.prototype.remove=function(g,u){if("function"!=typeof g||u||(u=g,g=void 0),!this.__parentArray||g&&g.noop)return this.$__remove(u),this;var l;if(!this.willRemove){if(!(l=this._doc._id))throw new Error("For your own good, Mongoose does not know how to remove an EmbeddedDocument that has no _id");this.__parentArray.pull({_id:l}),this.willRemove=!0,function(_){var m=_.ownerDocument();function T(){m.removeListener("save",T),m.removeListener("remove",T),_.emit("remove",_),_.constructor.emit("remove",_),m=_=null}m.on("save",T),m.on("remove",T)}(this)}return this.$__remove(u),this},h.prototype.update=function(){throw new Error("The #update method is not available on EmbeddedDocuments")},h.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})},O.inspect.custom&&(h.prototype[O.inspect.custom]=h.prototype.inspect),h.prototype.invalidate=function(g,u,l){if(p.prototype.invalidate.call(this,g,u,l),!this[v]||null==this.__index){if(u[y]||u instanceof x)return this.ownerDocument().$__.validationError;throw u}var _=this.__index,m=[this.__parentArray.$path(),_,g].join(".");return this[v].invalidate(m,u,l),this.ownerDocument().$__.validationError},h.prototype.$markValid=function(g){if(this[v]){var u=this.__index;if(void 0!==u){var l=[this.__parentArray.$path(),u,g].join(".");this[v].$markValid(l)}}},h.prototype.$ignore=function(g){if(p.prototype.$ignore.call(this,g),this[v]){var u=this.__index;if(void 0!==u){var l=[this.__parentArray.$path(),u,g].join(".");this[v].$ignore(l)}}},h.prototype.$isValid=function(g){return void 0===this.__index||!this[v]||!this[v].$__.validationError||!this[v].$__.validationError.errors[this.$__fullPath(g)]},h.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var g=this[v];if(!g)return this;for(;g[v]||g.$__parent;)g=g[v]||g.$__parent;return this.$__.ownerDocument=g,this.$__.ownerDocument},h.prototype.$__fullPath=function(g){if(!this.$__.fullPath){var u=this;if(!u[v])return g;for(var l=[];u[v]||u.$__parent;)l.unshift(u[v]?u.__parentArray.$path():u.$basePath),u=u[v]||u.$__parent;this.$__.fullPath=l.join("."),this.$__.ownerDocument||(this.$__.ownerDocument=u)}return g?this.$__.fullPath+"."+g:this.$__.fullPath},h.prototype.$parent=h.prototype.parent=function(){return this[v]},h.prototype.parentArray=function(){return this.__parentArray},le.exports=h},function(le,q,c){(function(p){if(void 0!==p)var C=c(2).Buffer;var x=c(16);function V(O,v){if(!(this instanceof V))return new V(O,v);if(!(null==O||"string"==typeof O||C.isBuffer(O)||O instanceof Uint8Array||Array.isArray(O)))throw new Error("only String, Buffer, Uint8Array or Array accepted");if(this._bsontype="Binary",O instanceof Number?(this.sub_type=O,this.position=0):(this.sub_type=null==v?D:v,this.position=0),null==O||O instanceof Number)this.buffer=void 0!==C?x.allocBuffer(V.BUFFER_SIZE):"undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(V.BUFFER_SIZE)):new Array(V.BUFFER_SIZE),this.position=0;else{if("string"==typeof O)if(void 0!==C)this.buffer=x.toBuffer(O);else{if("undefined"==typeof Uint8Array&&"[object Array]"!==Object.prototype.toString.call(O))throw new Error("only String, Buffer, Uint8Array or Array accepted");this.buffer=I(O)}else this.buffer=O;this.position=O.length}}V.prototype.put=function(O){if(null!=O.length&&"number"!=typeof O&&1!==O.length)throw new Error("only accepts single character String, Uint8Array or Array");if("number"!=typeof O&&O<0||O>255)throw new Error("only accepts number in a valid unsigned byte range 0-255");var v;if(v="string"==typeof O?O.charCodeAt(0):null!=O.length?O[0]:O,this.buffer.length>this.position)this.buffer[this.position++]=v;else if(void 0!==C&&C.isBuffer(this.buffer)){var y=x.allocBuffer(V.BUFFER_SIZE+this.buffer.length);this.buffer.copy(y,0,0,this.buffer.length),this.buffer=y,this.buffer[this.position++]=v}else{y=null,y="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(V.BUFFER_SIZE+this.buffer.length)):new Array(V.BUFFER_SIZE+this.buffer.length);for(var h=0;h<this.buffer.length;h++)y[h]=this.buffer[h];this.buffer=y,this.buffer[this.position++]=v}},V.prototype.write=function(O,v){if(this.buffer.length<(v="number"==typeof v?v:this.position)+O.length){var y=null;if(void 0!==C&&C.isBuffer(this.buffer))y=x.allocBuffer(this.buffer.length+O.length),this.buffer.copy(y,0,0,this.buffer.length);else if("[object Uint8Array]"===Object.prototype.toString.call(this.buffer)){y=new Uint8Array(new ArrayBuffer(this.buffer.length+O.length));for(var h=0;h<this.position;h++)y[h]=this.buffer[h]}this.buffer=y}if(void 0!==C&&C.isBuffer(O)&&C.isBuffer(this.buffer))O.copy(this.buffer,v,0,O.length),this.position=v+O.length>this.position?v+O.length:this.position;else if(void 0!==C&&"string"==typeof O&&C.isBuffer(this.buffer))this.buffer.write(O,v,"binary"),this.position=v+O.length>this.position?v+O.length:this.position;else if("[object Uint8Array]"===Object.prototype.toString.call(O)||"[object Array]"===Object.prototype.toString.call(O)&&"string"!=typeof O){for(h=0;h<O.length;h++)this.buffer[v++]=O[h];this.position=v>this.position?v:this.position}else if("string"==typeof O){for(h=0;h<O.length;h++)this.buffer[v++]=O.charCodeAt(h);this.position=v>this.position?v:this.position}},V.prototype.read=function(O,v){if(v=v&&v>0?v:this.position,this.buffer.slice)return this.buffer.slice(O,O+v);for(var y="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(v)):new Array(v),h=0;h<v;h++)y[h]=this.buffer[O++];return y},V.prototype.value=function(O){if((O=null!=O&&O)&&void 0!==C&&C.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==C&&C.isBuffer(this.buffer))return O?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(O){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var v="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),y=0;y<this.position;y++)v[y]=this.buffer[y];return v}return S(this.buffer,0,this.position)},V.prototype.length=function(){return this.position},V.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString("base64"):""},V.prototype.toString=function(O){return null!=this.buffer?this.buffer.slice(0,this.position).toString(O):""};var D=0,I=function(O){for(var v="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(O.length)):new Array(O.length),y=0;y<O.length;y++)v[y]=O.charCodeAt(y);return v},S=function(O,v,y){for(var h="",f=v;f<y;f++)h+=String.fromCharCode(O[f]);return h};V.BUFFER_SIZE=256,V.SUBTYPE_DEFAULT=0,V.SUBTYPE_FUNCTION=1,V.SUBTYPE_BYTE_ARRAY=2,V.SUBTYPE_UUID_OLD=3,V.SUBTYPE_UUID=4,V.SUBTYPE_MD5=5,V.SUBTYPE_USER_DEFINED=128,le.exports=V,le.exports.Binary=V}).call(this,c(9))},function(le,q,c){"use strict";le.exports=function(p){return null!=p&&(null!=p.$__||p.isMongooseArray||p.isMongooseBuffer||p.$isMongooseMap)}},function(le,q,c){"use strict";var p=["find","findOne","update","updateMany","updateOne","replaceOne","remove","count","distinct","findAndModify","aggregate","findStream","deleteOne","deleteMany"];function C(){}for(var x=0,V=p.length;x<V;++x){var D=p[x];C.prototype[D]=I(D)}function I(S){return function(){throw new Error("collection."+S+" not implemented")}}le.exports=C,C.methods=p},function(le,q,c){"use strict";function p(f){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function x(f,g){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u})(f,g)}function D(f,g){if(g&&("object"===p(g)||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f)}function I(f){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(f)}var S=c(14),O=c(24),v=c(4),y=function(f){!function(T,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),A&&x(T,A)}(m,f);var g,u,_=function V(f){var g=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}();return function(){var u,l=I(f);if(g){var _=I(this).constructor;u=Reflect.construct(l,arguments,_)}else u=l.apply(this,arguments);return D(this,u)}}(m);function m(T){var A,$;return function(Y,B){if(!(Y instanceof B))throw new TypeError("Cannot call a class as a function")}(this,m),$="model"===O(T)?T.constructor.modelName+" validation failed":"Validation failed",(A=_.call(this,$)).errors={},A._message=$,T&&(T.errors=A.errors),A}return g=m,(u=[{key:"toString",value:function(){return this.name+": "+h(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(T,A){this.errors[T]=A,this.message=this._message+": "+h(this)}}])&&function C(f,g){for(var u=0;u<g.length;u++){var l=g[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,(m=function(T,A){if("object"!==p(T)||null===T)return T;var $=T[Symbol.toPrimitive];if(void 0!==$){var Y=$.call(T,"string");if("object"!==p(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(l.key),"symbol"===p(m)?m:String(m)),l)}var m}(g.prototype,u),Object.defineProperty(g,"prototype",{writable:!1}),m}(S);function h(f){for(var g,u=Object.keys(f.errors||{}),l=u.length,_=[],m=0;m<l;++m)f!==f.errors[g=u[m]]&&_.push(g+": "+f.errors[g].message);return _.join(", ")}v.inspect.custom&&(y.prototype[v.inspect.custom]=y.prototype.inspect),Object.defineProperty(y.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(y.prototype,"name",{value:"ValidationError"}),le.exports=y},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){var m;return function(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g),(m=f.call(this,l=l||"Field `"+u+"` is not in schema and strict mode is set to throw.")).isImmutableError=!!_,m.path=u,m}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"StrictModeError"}),le.exports=S},function(le,q,c){"use strict";q.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),q.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},function(le,q,c){"use strict";var p=c(80);function C(x){return p.cast()(x)}q.castToNumber=C,q.castArraysOfNumbers=function x(V,D){V.forEach(function(I,S){Array.isArray(I)?x(I,D):V[S]=C.call(D,I)})}},function(le,q,c){"use strict";var p=c(82);le.exports=function(C,x){if(null==C)return null;for(var V=0,D=Object.keys(C);V<D.length;V++){var I=C[D[V]];if(I.schema&&I.schema.discriminatorMapping&&p(I.schema.discriminatorMapping.value,x))return I}return null}},function(le,q,c){"use strict";q.Array=c(85),q.Buffer=c(88),q.Document=q.Embedded=c(29),q.DocumentArray=c(18),q.Decimal128=c(20),q.ObjectId=c(11),q.Map=c(90),q.Subdocument=c(92)},function(le,q,c){"use strict";var p=c(60),C=c(25),x=c(40),V=c(41),D=c(42),I=c(43),S=c(44),O=c(61),v=c(45),y=c(46),h=c(47),f=c(48),g=c(49),u=c(30),l=c(105),_=c(106),m=c(108),T=c(16),A=T.allocBuffer(17825792),$=function(){};$.prototype.serialize=function(Y,B){var F="boolean"==typeof(B=B||{}).checkKeys&&B.checkKeys,R="boolean"==typeof B.serializeFunctions&&B.serializeFunctions,U="boolean"!=typeof B.ignoreUndefined||B.ignoreUndefined,P="number"==typeof B.minInternalBufferSize?B.minInternalBufferSize:17825792;A.length<P&&(A=T.allocBuffer(P));var G=_(A,Y,F,0,0,R,U,[]),W=T.allocBuffer(G);return A.copy(W,0,0,W.length),W},$.prototype.serializeWithBufferAndIndex=function(Y,B,F){var R="boolean"==typeof(F=F||{}).checkKeys&&F.checkKeys;return _(B,Y,R,("number"==typeof F.index?F.index:0)||0,0,"boolean"==typeof F.serializeFunctions&&F.serializeFunctions,"boolean"!=typeof F.ignoreUndefined||F.ignoreUndefined)-1},$.prototype.deserialize=function(Y,B){return l(Y,B)},$.prototype.calculateObjectSize=function(Y,B){var F="boolean"==typeof(B=B||{}).serializeFunctions&&B.serializeFunctions;return m(Y,F,"boolean"!=typeof B.ignoreUndefined||B.ignoreUndefined)},$.prototype.deserializeStream=function(Y,B,F,R,U,P){P=null!=P?P:{};for(var G=B,W=0;W<F;W++){var ne=Y[G]|Y[G+1]<<8|Y[G+2]<<16|Y[G+3]<<24;P.index=G,R[U+W]=this.deserialize(Y,P),G+=ne}return G},$.BSON_INT32_MAX=2147483647,$.BSON_INT32_MIN=-2147483648,$.BSON_INT64_MAX=Math.pow(2,63)-1,$.BSON_INT64_MIN=-Math.pow(2,63),$.JS_INT_MAX=9007199254740992,$.JS_INT_MIN=-9007199254740992,$.BSON_DATA_NUMBER=1,$.BSON_DATA_STRING=2,$.BSON_DATA_OBJECT=3,$.BSON_DATA_ARRAY=4,$.BSON_DATA_BINARY=5,$.BSON_DATA_OID=7,$.BSON_DATA_BOOLEAN=8,$.BSON_DATA_DATE=9,$.BSON_DATA_NULL=10,$.BSON_DATA_REGEXP=11,$.BSON_DATA_CODE=13,$.BSON_DATA_SYMBOL=14,$.BSON_DATA_CODE_W_SCOPE=15,$.BSON_DATA_INT=16,$.BSON_DATA_TIMESTAMP=17,$.BSON_DATA_LONG=18,$.BSON_DATA_MIN_KEY=255,$.BSON_DATA_MAX_KEY=127,$.BSON_BINARY_SUBTYPE_DEFAULT=0,$.BSON_BINARY_SUBTYPE_FUNCTION=1,$.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,$.BSON_BINARY_SUBTYPE_UUID=3,$.BSON_BINARY_SUBTYPE_MD5=4,$.BSON_BINARY_SUBTYPE_USER_DEFINED=128,le.exports=$,le.exports.Code=v,le.exports.Map=p,le.exports.Symbol=S,le.exports.BSON=$,le.exports.DBRef=g,le.exports.Binary=u,le.exports.ObjectID=D,le.exports.Long=C,le.exports.Timestamp=V,le.exports.Double=x,le.exports.Int32=O,le.exports.MinKey=h,le.exports.MaxKey=f,le.exports.BSONRegExp=I,le.exports.Decimal128=y},function(le,q){function c(p){if(!(this instanceof c))return new c(p);this._bsontype="Double",this.value=p}c.prototype.valueOf=function(){return this.value},c.prototype.toJSON=function(){return this.value},le.exports=c,le.exports.Double=c},function(le,q){function c(p,C){if(!(this instanceof c))return new c(p,C);this._bsontype="Timestamp",this.low_=0|p,this.high_=0|C}c.prototype.toInt=function(){return this.low_},c.prototype.toNumber=function(){return this.high_*c.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},c.prototype.toJSON=function(){return this.toString()},c.prototype.toString=function(p){var C=p||10;if(C<2||36<C)throw Error("radix out of range: "+C);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(c.MIN_VALUE)){var x=c.fromNumber(C),V=this.div(x),D=V.multiply(x).subtract(this);return V.toString(C)+D.toInt().toString(C)}return"-"+this.negate().toString(C)}var I=c.fromNumber(Math.pow(C,6));D=this;for(var S="";!D.isZero();){var O=D.div(I),v=D.subtract(O.multiply(I)).toInt().toString(C);if((D=O).isZero())return v+S;for(;v.length<6;)v="0"+v;S=""+v+S}},c.prototype.getHighBits=function(){return this.high_},c.prototype.getLowBits=function(){return this.low_},c.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:c.TWO_PWR_32_DBL_+this.low_},c.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(c.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var p=0!==this.high_?this.high_:this.low_,C=31;C>0&&0==(p&1<<C);C--);return 0!==this.high_?C+33:C+1},c.prototype.isZero=function(){return 0===this.high_&&0===this.low_},c.prototype.isNegative=function(){return this.high_<0},c.prototype.isOdd=function(){return 1==(1&this.low_)},c.prototype.equals=function(p){return this.high_===p.high_&&this.low_===p.low_},c.prototype.notEquals=function(p){return this.high_!==p.high_||this.low_!==p.low_},c.prototype.lessThan=function(p){return this.compare(p)<0},c.prototype.lessThanOrEqual=function(p){return this.compare(p)<=0},c.prototype.greaterThan=function(p){return this.compare(p)>0},c.prototype.greaterThanOrEqual=function(p){return this.compare(p)>=0},c.prototype.compare=function(p){if(this.equals(p))return 0;var C=this.isNegative(),x=p.isNegative();return C&&!x?-1:!C&&x?1:this.subtract(p).isNegative()?-1:1},c.prototype.negate=function(){return this.equals(c.MIN_VALUE)?c.MIN_VALUE:this.not().add(c.ONE)},c.prototype.add=function(p){var v=0,y=0,h=0,f=0;return h+=(f+=(65535&this.low_)+(65535&p.low_))>>>16,y+=(h+=(this.low_>>>16)+(p.low_>>>16))>>>16,v+=(y+=(65535&this.high_)+(65535&p.high_))>>>16,v+=(this.high_>>>16)+(p.high_>>>16),c.fromBits((h&=65535)<<16|(f&=65535),(v&=65535)<<16|(y&=65535))},c.prototype.subtract=function(p){return this.add(p.negate())},c.prototype.multiply=function(p){if(this.isZero()||p.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE))return p.isOdd()?c.MIN_VALUE:c.ZERO;if(p.equals(c.MIN_VALUE))return this.isOdd()?c.MIN_VALUE:c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(c.TWO_PWR_24_)&&p.lessThan(c.TWO_PWR_24_))return c.fromNumber(this.toNumber()*p.toNumber());var x=65535&this.high_,V=this.low_>>>16,D=65535&this.low_,S=65535&p.high_,O=p.low_>>>16,v=65535&p.low_,y=0,h=0,f=0,g=0;return f+=(g+=D*v)>>>16,h+=(f+=V*v)>>>16,f&=65535,h+=(f+=D*O)>>>16,y+=(h+=x*v)>>>16,h&=65535,y+=(h+=V*O)>>>16,h&=65535,y+=(h+=D*S)>>>16,y+=(this.high_>>>16)*v+x*O+V*S+D*(p.high_>>>16),c.fromBits((f&=65535)<<16|(g&=65535),(y&=65535)<<16|(h&=65535))},c.prototype.div=function(p){if(p.isZero())throw Error("division by zero");if(this.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE)){if(p.equals(c.ONE)||p.equals(c.NEG_ONE))return c.MIN_VALUE;if(p.equals(c.MIN_VALUE))return c.ONE;var C=this.shiftRight(1).div(p).shiftLeft(1);if(C.equals(c.ZERO))return p.isNegative()?c.ONE:c.NEG_ONE;var x=this.subtract(p.multiply(C));return C.add(x.div(p))}if(p.equals(c.MIN_VALUE))return c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().div(p.negate()):this.negate().div(p).negate();if(p.isNegative())return this.div(p.negate()).negate();var V=c.ZERO;for(x=this;x.greaterThanOrEqual(p);){C=Math.max(1,Math.floor(x.toNumber()/p.toNumber()));for(var D=Math.ceil(Math.log(C)/Math.LN2),I=D<=48?1:Math.pow(2,D-48),S=c.fromNumber(C),O=S.multiply(p);O.isNegative()||O.greaterThan(x);)O=(S=c.fromNumber(C-=I)).multiply(p);S.isZero()&&(S=c.ONE),V=V.add(S),x=x.subtract(O)}return V},c.prototype.modulo=function(p){return this.subtract(this.div(p).multiply(p))},c.prototype.not=function(){return c.fromBits(~this.low_,~this.high_)},c.prototype.and=function(p){return c.fromBits(this.low_&p.low_,this.high_&p.high_)},c.prototype.or=function(p){return c.fromBits(this.low_|p.low_,this.high_|p.high_)},c.prototype.xor=function(p){return c.fromBits(this.low_^p.low_,this.high_^p.high_)},c.prototype.shiftLeft=function(p){if(0==(p&=63))return this;var C=this.low_;return p<32?c.fromBits(C<<p,this.high_<<p|C>>>32-p):c.fromBits(0,C<<p-32)},c.prototype.shiftRight=function(p){if(0==(p&=63))return this;var C=this.high_;return p<32?c.fromBits(this.low_>>>p|C<<32-p,C>>p):c.fromBits(C>>p-32,C>=0?0:-1)},c.prototype.shiftRightUnsigned=function(p){if(0==(p&=63))return this;var C=this.high_;return p<32?c.fromBits(this.low_>>>p|C<<32-p,C>>>p):c.fromBits(32===p?C:C>>>p-32,0)},c.fromInt=function(p){if(-128<=p&&p<128){var C=c.INT_CACHE_[p];if(C)return C}var x=new c(0|p,p<0?-1:0);return-128<=p&&p<128&&(c.INT_CACHE_[p]=x),x},c.fromNumber=function(p){return isNaN(p)||!isFinite(p)?c.ZERO:p<=-c.TWO_PWR_63_DBL_?c.MIN_VALUE:p+1>=c.TWO_PWR_63_DBL_?c.MAX_VALUE:p<0?c.fromNumber(-p).negate():new c(p%c.TWO_PWR_32_DBL_|0,p/c.TWO_PWR_32_DBL_|0)},c.fromBits=function(p,C){return new c(p,C)},c.fromString=function(p,C){if(0===p.length)throw Error("number format error: empty string");var x=C||10;if(x<2||36<x)throw Error("radix out of range: "+x);if("-"===p.charAt(0))return c.fromString(p.substring(1),x).negate();if(p.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+p);for(var V=c.fromNumber(Math.pow(x,8)),D=c.ZERO,I=0;I<p.length;I+=8){var S=Math.min(8,p.length-I),O=parseInt(p.substring(I,I+S),x);if(S<8){var v=c.fromNumber(Math.pow(x,S));D=D.multiply(v).add(c.fromNumber(O))}else D=(D=D.multiply(V)).add(c.fromNumber(O))}return D},c.INT_CACHE_={},c.TWO_PWR_16_DBL_=65536,c.TWO_PWR_24_DBL_=1<<24,c.TWO_PWR_31_DBL_=(c.TWO_PWR_32_DBL_=c.TWO_PWR_16_DBL_*c.TWO_PWR_16_DBL_)/2,c.TWO_PWR_48_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_16_DBL_,c.TWO_PWR_63_DBL_=(c.TWO_PWR_64_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_32_DBL_)/2,c.ZERO=c.fromInt(0),c.ONE=c.fromInt(1),c.NEG_ONE=c.fromInt(-1),c.MAX_VALUE=c.fromBits(-1,2147483647),c.MIN_VALUE=c.fromBits(0,-2147483648),c.TWO_PWR_24_=c.fromInt(1<<24),le.exports=c,le.exports.Timestamp=c},function(le,q,c){(function(p,C){var x="inspect",V=c(16),D=parseInt(16777215*Math.random(),10),I=new RegExp("^[0-9a-fA-F]{24}$");try{if(p&&p.from){var S=!0;x=c(4).inspect.custom||"inspect"}}catch(u){S=!1}for(var O=function u(l){if(l instanceof u)return l;if(!(this instanceof u))return new u(l);if(this._bsontype="ObjectID",null==l||"number"==typeof l)return this.id=this.generate(l),void(u.cacheHexString&&(this.__id=this.toString("hex")));var _=u.isValid(l);if(!_&&null!=l)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(_&&"string"==typeof l&&24===l.length&&S)return new u(V.toBuffer(l,"hex"));if(_&&"string"==typeof l&&24===l.length)return u.createFromHexString(l);if(null==l||12!==l.length){if(null!=l&&"function"==typeof l.toHexString)return l;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=l,u.cacheHexString&&(this.__id=this.toString("hex"))},v=[],y=0;y<256;y++)v[y]=(y<=15?"0":"")+y.toString(16);O.prototype.toHexString=function(){if(O.cacheHexString&&this.__id)return this.__id;var u="";if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof f)return u=g(this.id),O.cacheHexString&&(this.__id=u),u;for(var l=0;l<this.id.length;l++)u+=v[this.id.charCodeAt(l)];return O.cacheHexString&&(this.__id=u),u},O.prototype.get_inc=function(){return O.index=(O.index+1)%16777215},O.prototype.getInc=function(){return this.get_inc()},O.prototype.generate=function(u){"number"!=typeof u&&(u=~~(Date.now()/1e3));var l=(void 0===C||1===C.pid?Math.floor(1e5*Math.random()):C.pid)%65535,_=this.get_inc(),m=V.allocBuffer(12);return m[3]=255&u,m[2]=u>>8&255,m[1]=u>>16&255,m[0]=u>>24&255,m[6]=255&D,m[5]=D>>8&255,m[4]=D>>16&255,m[8]=255&l,m[7]=l>>8&255,m[11]=255&_,m[10]=_>>8&255,m[9]=_>>16&255,m},O.prototype[x]=O.prototype.toString=function(u){return this.id&&this.id.copy?this.id.toString("string"==typeof u?u:"hex"):this.toHexString()},O.prototype.toJSON=function(){return this.toHexString()},O.prototype.equals=function(u){return u instanceof O?this.toString()===u.toString():"string"==typeof u&&O.isValid(u)&&12===u.length&&this.id instanceof f?u===this.id.toString("binary"):"string"==typeof u&&O.isValid(u)&&24===u.length?u.toLowerCase()===this.toHexString():"string"==typeof u&&O.isValid(u)&&12===u.length?u===this.id:!(null==u||!(u instanceof O||u.toHexString))&&u.toHexString()===this.toHexString()},O.prototype.getTimestamp=function(){var u=new Date;return u.setTime(1e3*Math.floor(this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24)),u},O.index=~~(16777215*Math.random()),O.createPk=function(){return new O},O.createFromTime=function(u){var l=V.toBuffer([0,0,0,0,0,0,0,0,0,0,0,0]);return l[3]=255&u,l[2]=u>>8&255,l[1]=u>>16&255,l[0]=u>>24&255,new O(l)};var h=[];for(y=0;y<10;)h[48+y]=y++;for(;y<16;)h[55+y]=h[87+y]=y++;var f=p,g=function(u){return u.toString("hex")};O.createFromHexString=function(u){if(void 0===u||null!=u&&24!==u.length)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(S)return new O(V.toBuffer(u,"hex"));for(var l=new f(12),_=0,m=0;m<24;)l[_++]=h[u.charCodeAt(m++)]<<4|h[u.charCodeAt(m++)];return new O(l)},O.isValid=function(u){return null!=u&&("number"==typeof u||("string"==typeof u?12===u.length||24===u.length&&I.test(u):u instanceof O||u instanceof f||"function"==typeof u.toHexString&&(u.id instanceof f||"string"==typeof u.id)&&(12===u.id.length||24===u.id.length&&I.test(u.id))))},Object.defineProperty(O.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(u){this.id[3]=255&u,this.id[2]=u>>8&255,this.id[1]=u>>16&255,this.id[0]=u>>24&255}}),le.exports=O,le.exports.ObjectID=O,le.exports.ObjectId=O}).call(this,c(2).Buffer,c(10))},function(le,q){function c(p,C){if(!(this instanceof c))return new c;this._bsontype="BSONRegExp",this.pattern=p||"",this.options=C||"";for(var x=0;x<this.options.length;x++)if("i"!==this.options[x]&&"m"!==this.options[x]&&"x"!==this.options[x]&&"l"!==this.options[x]&&"s"!==this.options[x]&&"u"!==this.options[x])throw new Error("the regular expression options ["+this.options[x]+"] is not supported")}le.exports=c,le.exports.BSONRegExp=c},function(le,q,c){(function(p){var C=p&&c(4).inspect.custom||"inspect";function x(V){if(!(this instanceof x))return new x(V);this._bsontype="Symbol",this.value=V}x.prototype.valueOf=function(){return this.value},x.prototype.toString=function(){return this.value},x.prototype[C]=function(){return this.value},x.prototype.toJSON=function(){return this.value},le.exports=x,le.exports.Symbol=x}).call(this,c(2).Buffer)},function(le,q){var c=function p(C,x){if(!(this instanceof p))return new p(C,x);this._bsontype="Code",this.code=C,this.scope=x};c.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},le.exports=c,le.exports.Code=c},function(le,q,c){"use strict";var p=c(25),C=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,x=/^(\+|-)?(Infinity|inf)$/i,V=/^(\+|-)?NaN$/i,D=6176,I=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),O=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),v=/^([-+])?(\d+)?$/,y=c(16),h=function(u){return!isNaN(parseInt(u,10))},f=function(u){var l=p.fromNumber(1e9),_=p.fromNumber(0),m=0;if(!(u.parts[0]||u.parts[1]||u.parts[2]||u.parts[3]))return{quotient:u,rem:_};for(m=0;m<=3;m++)_=(_=_.shiftLeft(32)).add(new p(u.parts[m],0)),u.parts[m]=_.div(l).low_,_=_.modulo(l);return{quotient:u,rem:_}},g=function(u){this._bsontype="Decimal128",this.bytes=u};g.fromString=function(u){var l,_=!1,m=!1,T=!1,A=0,$=0,Y=0,B=0,F=0,R=[0],U=0,P=0,G=0,W=0,ne=0,X=0,z=[0,0],Q=[0,0],Z=0;if((u=u.trim()).length>=7e3)throw new Error(u+" not a valid Decimal128 string");var j=u.match(C),pe=u.match(x),he=u.match(V);if(!j&&!pe&&!he||0===u.length)throw new Error(u+" not a valid Decimal128 string");if(j&&j[4]&&void 0===j[2])throw new Error(u+" not a valid Decimal128 string");if("+"!==u[Z]&&"-"!==u[Z]||(_="-"===u[Z++]),!h(u[Z])&&"."!==u[Z]){if("i"===u[Z]||"I"===u[Z])return new g(y.toBuffer(_?S:O));if("N"===u[Z])return new g(y.toBuffer(I))}for(;h(u[Z])||"."===u[Z];)if("."!==u[Z])U<34&&("0"!==u[Z]||T)&&(T||(F=$),T=!0,R[P++]=parseInt(u[Z],10),U+=1),T&&(Y+=1),m&&(B+=1),$+=1,Z+=1;else{if(m)return new g(y.toBuffer(I));m=!0,Z+=1}if(m&&!$)throw new Error(u+" not a valid Decimal128 string");if("e"===u[Z]||"E"===u[Z]){var J=u.substr(++Z).match(v);if(!J||!J[2])return new g(y.toBuffer(I));ne=parseInt(J[0],10),Z+=J[0].length}if(u[Z])return new g(y.toBuffer(I));if(G=0,U){if(W=U-1,A=Y,0!==ne&&1!==A)for(;"0"===u[F+A-1];)A-=1}else G=0,W=0,R[0]=0,Y=1,U=1,A=0;for(ne<=B&&B-ne>16384?ne=-6176:ne-=B;ne>6111;){if((W+=1)-G>34){var Ee=R.join("");if(Ee.match(/^0+$/)){ne=6111;break}return new g(y.toBuffer(_?S:O))}ne-=1}for(;ne<-6176||U<Y;){if(0===W){ne=-6176,A=0;break}if(U<Y?Y-=1:W-=1,!(ne<6111)){if((Ee=R.join("")).match(/^0+$/)){ne=6111;break}return new g(y.toBuffer(_?S:O))}ne+=1}if(W-G+1<A&&"0"!==u[A]){var te=$;m&&-6176===ne&&(F+=1,te+=1);var ce=parseInt(u[F+W+1],10),ue=0;if(ce>=5&&(ue=1,5===ce))for(ue=R[W]%2==1,X=F+W+2;X<te;X++)if(parseInt(u[X],10)){ue=1;break}if(ue)for(var N=W;N>=0&&++R[N]>9;N--)if(R[N]=0,0===N){if(!(ne<6111))return new g(y.toBuffer(_?S:O));ne+=1,R[N]=1}}if(z=p.fromNumber(0),Q=p.fromNumber(0),0===A)z=p.fromNumber(0),Q=p.fromNumber(0);else if(W-G<17)for(N=G,Q=p.fromNumber(R[N++]),z=new p(0,0);N<=W;N++)Q=(Q=Q.multiply(p.fromNumber(10))).add(p.fromNumber(R[N]));else{for(N=G,z=p.fromNumber(R[N++]);N<=W-17;N++)z=(z=z.multiply(p.fromNumber(10))).add(p.fromNumber(R[N]));for(Q=p.fromNumber(R[N++]);N<=W;N++)Q=(Q=Q.multiply(p.fromNumber(10))).add(p.fromNumber(R[N]))}var M,H,L,oe,fe=function(Ue,et){if(!Ue&&!et)return{high:p.fromNumber(0),low:p.fromNumber(0)};var rt=Ue.shiftRightUnsigned(32),Ae=new p(Ue.getLowBits(),0),$e=et.shiftRightUnsigned(32),st=new p(et.getLowBits(),0),mt=rt.multiply($e),Et=rt.multiply(st),Ot=Ae.multiply($e),rn=Ae.multiply(st);return mt=mt.add(Et.shiftRightUnsigned(32)),Et=new p(Et.getLowBits(),0).add(Ot).add(rn.shiftRightUnsigned(32)),{high:mt=mt.add(Et.shiftRightUnsigned(32)),low:rn=Et.shiftLeft(32).add(new p(rn.getLowBits(),0))}}(z,p.fromString("100000000000000000"));fe.low=fe.low.add(Q),((L=(M=fe.low).high_>>>0)<(oe=(H=Q).high_>>>0)||L===oe&&M.low_>>>0<H.low_>>>0)&&(fe.high=fe.high.add(p.fromNumber(1))),l=ne+D;var Ce={low:p.fromNumber(0),high:p.fromNumber(0)};fe.high.shiftRightUnsigned(49).and(p.fromNumber(1)).equals(p.fromNumber)?(Ce.high=Ce.high.or(p.fromNumber(3).shiftLeft(61)),Ce.high=Ce.high.or(p.fromNumber(l).and(p.fromNumber(16383).shiftLeft(47))),Ce.high=Ce.high.or(fe.high.and(p.fromNumber(0x7fffffffffff)))):(Ce.high=Ce.high.or(p.fromNumber(16383&l).shiftLeft(49)),Ce.high=Ce.high.or(fe.high.and(p.fromNumber(562949953421311)))),Ce.low=fe.low,_&&(Ce.high=Ce.high.or(p.fromString("9223372036854775808")));var Ie=y.allocBuffer(16);return Z=0,Ie[Z++]=255&Ce.low.low_,Ie[Z++]=Ce.low.low_>>8&255,Ie[Z++]=Ce.low.low_>>16&255,Ie[Z++]=Ce.low.low_>>24&255,Ie[Z++]=255&Ce.low.high_,Ie[Z++]=Ce.low.high_>>8&255,Ie[Z++]=Ce.low.high_>>16&255,Ie[Z++]=Ce.low.high_>>24&255,Ie[Z++]=255&Ce.high.low_,Ie[Z++]=Ce.high.low_>>8&255,Ie[Z++]=Ce.high.low_>>16&255,Ie[Z++]=Ce.high.low_>>24&255,Ie[Z++]=255&Ce.high.high_,Ie[Z++]=Ce.high.high_>>8&255,Ie[Z++]=Ce.high.high_>>16&255,Ie[Z++]=Ce.high.high_>>24&255,new g(Ie)},D=6176,g.prototype.toString=function(){for(var u,l,_,m,T,A,$=0,Y=new Array(36),B=0;B<Y.length;B++)Y[B]=0;var F,R,U,P,G,W=0,ne=!1,X={parts:new Array(4)},z=[];W=0;var Q=this.bytes;if(m=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,_=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,l=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,u=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,W=0,(new p(m,_),new p(l,u)).lessThan(p.ZERO)&&z.push("-"),(T=u>>26&31)>>3==3){if(30===T)return z.join("")+"Infinity";if(31===T)return"NaN";A=u>>15&16383,U=8+(u>>14&1)}else U=u>>14&7,A=u>>17&16383;if(F=A-D,X.parts[0]=(16383&u)+((15&U)<<14),X.parts[1]=l,X.parts[2]=_,X.parts[3]=m,0===X.parts[0]&&0===X.parts[1]&&0===X.parts[2]&&0===X.parts[3])ne=!0;else for(G=3;G>=0;G--){var Z=0,j=f(X);if(X=j.quotient,Z=j.rem.low_)for(P=8;P>=0;P--)Y[9*G+P]=Z%10,Z=Math.floor(Z/10)}if(ne)$=1,Y[W]=0;else for($=36,B=0;!Y[W];)B++,$-=1,W+=1;if((R=$-1+F)>=34||R<=-7||F>0){for(z.push(Y[W++]),($-=1)&&z.push("."),B=0;B<$;B++)z.push(Y[W++]);z.push("E"),z.push(R>0?"+"+R:R)}else if(F>=0)for(B=0;B<$;B++)z.push(Y[W++]);else{var pe=$+F;if(pe>0)for(B=0;B<pe;B++)z.push(Y[W++]);else z.push("0");for(z.push(".");pe++<0;)z.push("0");for(B=0;B<$-Math.max(pe-1,0);B++)z.push(Y[W++])}return z.join("")},g.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},le.exports=g,le.exports.Decimal128=g},function(le,q){function c(){if(!(this instanceof c))return new c;this._bsontype="MinKey"}le.exports=c,le.exports.MinKey=c},function(le,q){function c(){if(!(this instanceof c))return new c;this._bsontype="MaxKey"}le.exports=c,le.exports.MaxKey=c},function(le,q){function c(p,C,x){if(!(this instanceof c))return new c(p,C,x);this._bsontype="DBRef",this.namespace=p,this.oid=C,this.db=x}c.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?"":this.db}},le.exports=c,le.exports.DBRef=c},function(le,q,c){"use strict";le.exports=c(115)},function(le,q,c){"use strict";le.exports=new Set(["__proto__","constructor","prototype"])},function(le,q,c){"use strict";var p=c(53);le.exports=function(C){return p(C,null!=this?this.path:null)}},function(le,q,c){"use strict";var p=c(13);le.exports=function(C,x){if(le.exports.convertToTrue.has(C))return!0;if(le.exports.convertToFalse.has(C))return!1;if(null==C)return C;throw new p("boolean",C,x)},le.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),le.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},function(le,q,c){"use strict";(function(p){function C(te,ce,ue){return M=function(H,L){if("object"!==x(H)||null===H)return H;var oe=H[Symbol.toPrimitive];if(void 0!==oe){var fe=oe.call(H,"string");if("object"!==x(fe))return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(ce),(ce="symbol"===x(M)?M:String(M))in te?Object.defineProperty(te,ce,{value:ue,enumerable:!0,configurable:!0,writable:!0}):te[ce]=ue,te;var M}function x(te){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(te)}function V(te,ce){var ue="undefined"!=typeof Symbol&&te[Symbol.iterator]||te["@@iterator"];if(!ue){if(Array.isArray(te)||(ue=function(fe,Ce){if(fe){if("string"==typeof fe)return D(fe,void 0);var Ie=Object.prototype.toString.call(fe).slice(8,-1);if("Object"===Ie&&fe.constructor&&(Ie=fe.constructor.name),"Map"===Ie||"Set"===Ie)return Array.from(fe);if("Arguments"===Ie||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie))return D(fe,void 0)}}(te))||ce&&te&&"number"==typeof te.length){ue&&(te=ue);var N=0,M=function(){};return{s:M,n:function(){return N>=te.length?{done:!0}:{done:!1,value:te[N++]}},e:function(fe){throw fe},f:M}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var H,L=!0,oe=!1;return{s:function(){ue=ue.call(te)},n:function(){var fe=ue.next();return L=fe.done,fe},e:function(fe){oe=!0,H=fe},f:function(){try{L||null==ue.return||ue.return()}finally{if(oe)throw H}}}}function D(te,ce){(null==ce||ce>te.length)&&(ce=te.length);for(var ue=0,N=new Array(ce);ue<ce;ue++)N[ue]=te[ue];return N}var I,S=c(19).EventEmitter,O=c(140),v=c(14),y=c(6),h=c(7),f=c(141),g=c(55),u=c(76),l=c(0).arrayParentSymbol,_=c(3),m=c(24),T=c(142),A=c(72),$=c(50),Y=c(15).get().ReadPreference,B=c(143),F=c(4),R=c(1),U=c(147),P=c(148).middlewareFunctions,G=c(78).middlewareFunctions,W=P.concat(G).reduce(function(te,ce){return te.add(ce)},new Set),ne=0;function X(te,ce){if(!(this instanceof X))return new X(te,ce);if(this.obj=te,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods={},this.methodOptions={},this.statics={},this.tree={},this.query={},this.childSchemas=[],this.plugins=[],this.$id=++ne,this.mapPaths=[],this.s={hooks:new O},this.options=this.defaultOptions(ce),Array.isArray(te)){var ue,N=V(te);try{for(N.s();!(ue=N.n()).done;)this.add(ue.value)}catch(L){N.e(L)}finally{N.f()}}else te&&this.add(te);var H=te&&te._id&&R.isObject(te._id);!this.paths._id&&!this.options.noId&&this.options._id&&!H&&u(this),this.setupTimestamp(this.options.timestamps)}(X.prototype=Object.create(S.prototype)).constructor=X,X.prototype.instanceOfSchema=!0,Object.defineProperty(X.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(X.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),X.prototype.clone=function(){var te=this,ce=new(null==this.base?X:this.base.Schema)({},this._userProvidedOptions);return ce.base=this.base,ce.obj=this.obj,ce.options=R.clone(this.options),ce.callQueue=this.callQueue.map(function(ue){return ue}),ce.methods=R.clone(this.methods),ce.methodOptions=R.clone(this.methodOptions),ce.statics=R.clone(this.statics),ce.query=R.clone(this.query),ce.plugins=Array.prototype.slice.call(this.plugins),ce._indexes=R.clone(this._indexes),ce.s.hooks=this.s.hooks.clone(),ce.tree=R.clone(this.tree),ce.paths=R.clone(this.paths),ce.nested=R.clone(this.nested),ce.subpaths=R.clone(this.subpaths),ce.singleNestedPaths=R.clone(this.singleNestedPaths),ce.childSchemas=function(ue){for(var N=[],M=0,H=Object.keys(ue.paths);M<H.length;M++){var oe=ue.paths[H[M]];(oe.$isMongooseDocumentArray||oe.$isSingleNested)&&N.push({schema:oe.schema,model:oe.caster})}return N}(ce),ce.virtuals=R.clone(this.virtuals),ce.$globalPluginsApplied=this.$globalPluginsApplied,ce.$isRootDiscriminator=this.$isRootDiscriminator,ce.$implicitlyCreated=this.$implicitlyCreated,ce.mapPaths=[].concat(this.mapPaths),null!=this.discriminatorMapping&&(ce.discriminatorMapping=Object.assign({},this.discriminatorMapping)),null!=this.discriminators&&(ce.discriminators=Object.assign({},this.discriminators)),ce.aliases=Object.assign({},this.aliases),ce.on("init",function(ue){return te.emit("init",ue)}),ce},X.prototype.pick=function(te,ce){var ue=new X({},ce||this.options);if(!Array.isArray(te))throw new v('Schema#pick() only accepts an array argument, got "'+x(te)+'"');var N,M=V(te);try{for(M.s();!(N=M.n()).done;){var H=N.value;if(this.nested[H])ue.add(C({},H,_(this.tree,H)));else{var L=this.path(H);if(null==L)throw new v("Path `"+H+"` is not in the schema");ue.add(C({},H,L))}}}catch(oe){M.e(oe)}finally{M.f()}return ue},X.prototype.defaultOptions=function(te){te&&!1===te.safe&&(te.safe={w:0}),te&&te.safe&&0===te.safe.w&&(te.versionKey=!1),this._userProvidedOptions=null==te?{}:R.clone(te);var ce=_(this,"base.options",{});if((te=R.options({strict:!("strict"in ce)||ce.strict,strictQuery:"strictQuery"in ce&&ce.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,discriminatorKey:"__t",minimize:!0,autoIndex:null,shardKey:null,read:null,validateBeforeSave:!0,noId:!1,_id:!0,noVirtualId:!1,id:!0,typeKey:"type",typePojoToMixed:!("typePojoToMixed"in ce)||ce.typePojoToMixed},R.clone(te))).read&&(te.read=Y(te.read)),te.optimisticConcurrency&&!te.versionKey)throw new v("Must set `versionKey` if using `optimisticConcurrency`");return te},X.prototype.add=function(te,ce){if(te instanceof X||null!=te&&te.instanceOfSchema)return A(this,te),this;if(!1===te._id&&null==ce&&(this.options._id=!1),"__proto__."===(ce=ce||"")||"constructor."===ce||"prototype."===ce)return this;for(var ue=0,N=Object.keys(te);ue<N.length;ue++){var M=N[ue];if(!R.specialProperties.has(M)){var H=ce+M;if(null==te[M])throw new TypeError("Invalid value for schema path `"+H+'`, got value "'+te[M]+'"');if("_id"!==M||!1!==te[M])if(te[M]instanceof g||"VirtualType"===_(te[M],"constructor.name",null))this.virtual(te[M]);else{if(Array.isArray(te[M])&&1===te[M].length&&null==te[M][0])throw new TypeError("Invalid value for schema Array path `"+H+'`, got value "'+te[M][0]+'"');if(R.isPOJO(te[M])||te[M]instanceof h)if(Object.keys(te[M]).length<1)ce&&(this.nested[ce.substr(0,ce.length-1)]=!0),this.path(H,te[M]);else if(!te[M][this.options.typeKey]||"type"===this.options.typeKey&&te[M].type.type)this.nested[H]=!0,this.add(te[M],H+".");else if(!this.options.typePojoToMixed&&R.isPOJO(te[M][this.options.typeKey])){ce&&(this.nested[ce.substr(0,ce.length-1)]=!0);var L=new X(te[M][this.options.typeKey],{typePojoToMixed:!1}),oe=Object.assign({},te[M],C({},this.options.typeKey,L));this.path(ce+M,oe)}else ce&&(this.nested[ce.substr(0,ce.length-1)]=!0),this.path(ce+M,te[M]);else ce&&(this.nested[ce.substr(0,ce.length-1)]=!0),this.path(ce+M,te[M])}}}return function(fe,Ce){var Ie,Ue=V(Ce=Ce||Object.keys(fe.paths));try{for(Ue.s();!(Ie=Ue.n()).done;){var et=Ie.value,rt=_(fe.paths[et],"options");if(null!=rt){var Ae=fe.paths[et].path,$e=rt.alias;if($e){if("string"!=typeof $e)throw new Error("Invalid value for alias option on "+Ae+", got "+$e);fe.aliases[$e]=Ae,fe.virtual($e).get(function(st){return function(){return"function"==typeof this.get?this.get(st):this[st]}}(Ae)).set(function(st){return function(mt){return this.$set(st,mt)}}(Ae))}}}}catch(st){Ue.e(st)}finally{Ue.f()}}(this,Object.keys(te).map(function(fe){return ce?ce+fe:fe})),this},X.prototype.reserved=X.reserved=Object.create(null);var z=X.reserved;function Q(te){return/\.\d+/.test(te)?te.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):te}function Z(te,ce){if(0===te.mapPaths.length)return null;var ue,N=V(te.mapPaths);try{for(N.s();!(ue=N.n()).done;){var M=ue.value.path;if(new RegExp("^"+M.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(ce))return te.paths[M]}}catch(H){N.e(H)}finally{N.f()}return null}function j(te,ce){var ue=ce.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(ue.length<2)return te.paths.hasOwnProperty(ue[0])?te.paths[ue[0]]:"adhocOrUndefined";var N=te.path(ue[0]),M=!1;if(!N)return"adhocOrUndefined";for(var H=ue.length-1,L=1;L<ue.length;++L){M=!1;var oe=ue[L];if(L===H&&N&&!/\D/.test(oe)){N=N.$isMongooseDocumentArray?N.$embeddedSchemaType:N instanceof I.Array?N.caster:void 0;break}if(/\D/.test(oe)){if(!N||!N.schema){N=void 0;break}M="nested"===N.schema.pathType(oe),N=N.schema.path(oe)}else N instanceof I.Array&&L!==H&&(N=N.caster)}return te.subpaths[ce]=N,N?"real":M?"nested":"adhocOrUndefined"}z.prototype=z.emit=z.listeners=z.on=z.removeListener=z.collection=z.errors=z.get=z.init=z.isModified=z.isNew=z.populated=z.remove=z.save=z.toObject=z.validate=1,X.prototype.path=function(te,ce){var pt,dn,an,ue=Q(te);if(void 0===ce){var N=(an=ue,(pt=this).paths.hasOwnProperty(dn=te)?pt.paths[dn]:pt.subpaths.hasOwnProperty(an)?pt.subpaths[an]:pt.singleNestedPaths.hasOwnProperty(an)&&"object"===x(pt.singleNestedPaths[an])?pt.singleNestedPaths[an]:null);if(null!=N)return N;var M=Z(this,te);return null!=M?M:null!=(N=this.hasMixedParent(ue))?N:/\.\d+\.?.*$/.test(te)?function(pt,dn){return j(pt,dn),pt.subpaths[dn]}(this,te):void 0}var H=te.split(".")[0];if(z[H])throw new Error("`"+H+"` may not be used as a schema pathname");"object"===x(ce)&&R.hasUserDefinedProperty(ce,"ref")&&U(ce.ref,te);var L,oe=te.split(/\./),fe=oe.pop(),Ce=this.tree,Ie="",Ue=V(oe);try{for(Ue.s();!(L=Ue.n()).done;){var et=L.value;if(R.specialProperties.has(et))throw new Error("Cannot set special property `"+et+"` on a schema");if(Ie=Ie+=(Ie.length>0?".":"")+et,Ce[et]||(this.nested[Ie]=!0,Ce[et]={}),"object"!==x(Ce[et]))throw new Error("Cannot set nested path `"+te+"`. Parent path `"+Ie+"` already set to type "+Ce[et].name+".");Ce=Ce[et]}}catch(pt){Ue.e(pt)}finally{Ue.f()}Ce[fe]=R.clone(ce),this.paths[te]=this.interpretAsType(te,ce,this.options);var Ae=this.paths[te];if(Ae.$isSchemaMap){var $e=te+".$*",st={type:{}};R.hasUserDefinedProperty(ce,"of")&&(st=R.isPOJO(ce.of)&&Object.keys(ce.of).length>0&&!R.hasUserDefinedProperty(ce.of,this.options.typeKey)?new X(ce.of):ce.of),R.hasUserDefinedProperty(ce,"ref")&&(st={type:st,ref:ce.ref}),this.paths[$e]=this.interpretAsType($e,st,this.options),this.mapPaths.push(this.paths[$e]),Ae.$__schemaType=this.paths[$e]}if(Ae.$isSingleNested){for(var mt=0,Et=Object.keys(Ae.schema.paths);mt<Et.length;mt++){var Ot=Et[mt];this.singleNestedPaths[te+"."+Ot]=Ae.schema.paths[Ot]}for(var rn=0,si=Object.keys(Ae.schema.singleNestedPaths);rn<si.length;rn++){var wn=si[rn];this.singleNestedPaths[te+"."+wn]=Ae.schema.singleNestedPaths[wn]}for(var $n=0,Pi=Object.keys(Ae.schema.subpaths);$n<Pi.length;$n++){var ie=Pi[$n];this.singleNestedPaths[te+"."+ie]=Ae.schema.subpaths[ie]}for(var re=0,ge=Object.keys(Ae.schema.nested);re<ge.length;re++)this.singleNestedPaths[te+"."+ge[re]]="nested";Object.defineProperty(Ae.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Ae.caster.base=this.base,this.childSchemas.push({schema:Ae.schema,model:Ae.caster})}else Ae.$isMongooseDocumentArray&&(Object.defineProperty(Ae.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),Ae.casterConstructor.base=this.base,this.childSchemas.push({schema:Ae.schema,model:Ae.casterConstructor}));if(Ae.$isMongooseArray&&Ae.caster instanceof y){for(var De=te,Oe=Ae,ke=[];Oe.$isMongooseArray;)De+=".$",Oe.$isMongooseDocumentArray?(Oe.$embeddedSchemaType._arrayPath=De,Oe.$embeddedSchemaType._arrayParentPath=te,Oe=Oe.$embeddedSchemaType.clone()):(Oe.caster._arrayPath=De,Oe.caster._arrayParentPath=te,Oe=Oe.caster.clone()),Oe.path=De,ke.push(Oe);for(var Ne=0,je=ke;Ne<je.length;Ne++){var Ve=je[Ne];this.subpaths[Ve.path]=Ve}}if(Ae.$isMongooseDocumentArray){for(var Be=0,qe=Object.keys(Ae.schema.paths);Be<qe.length;Be++){var He=qe[Be],We=Ae.schema.paths[He];this.subpaths[te+"."+He]=We,"object"===x(We)&&null!=We&&(We.$isUnderneathDocArray=!0)}for(var tt=0,dt=Object.keys(Ae.schema.subpaths);tt<dt.length;tt++){var _t=dt[tt],Ke=Ae.schema.subpaths[_t];this.subpaths[te+"."+_t]=Ke,"object"===x(Ke)&&null!=Ke&&(Ke.$isUnderneathDocArray=!0)}for(var ut=0,ht=Object.keys(Ae.schema.singleNestedPaths);ut<ht.length;ut++){var Ct=ht[ut],Pt=Ae.schema.singleNestedPaths[Ct];this.subpaths[te+"."+Ct]=Pt,"object"===x(Pt)&&null!=Pt&&(Pt.$isUnderneathDocArray=!0)}}return this},Object.defineProperty(X.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),X.prototype.interpretAsType=function(te,ce,ue){if(ce instanceof y){if(ce.path===te)return ce;var N=ce.clone();return N.path=te,N}var M=null!=this.base?this.base.Schema.Types:X.Types;if(!(R.isPOJO(ce)||ce instanceof h)&&"Object"!==R.getFunctionName(ce.constructor)){var H=ce;(ce={})[ue.typeKey]=H}var L,oe=!ce[ue.typeKey]||"type"===ue.typeKey&&ce.type.type?{}:ce[ue.typeKey];if(R.isPOJO(oe)||"mixed"===oe)return new M.Mixed(te,ce);if(Array.isArray(oe)||oe===Array||"array"===oe||oe===M.Array){var fe=oe===Array||"array"===oe?ce.cast||ce.of:oe[0];if(fe&&fe.instanceOfSchema){if(!(fe instanceof X))throw new TypeError("Schema for array path `"+te+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");return new M.DocumentArray(te,fe,ce)}if(fe&&fe[ue.typeKey]&&fe[ue.typeKey].instanceOfSchema){if(!(fe[ue.typeKey]instanceof X))throw new TypeError("Schema for array path `"+te+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");return new M.DocumentArray(te,fe[ue.typeKey],ce,fe)}if(Array.isArray(fe))return new M.Array(te,this.interpretAsType(te,fe,ue),ce);if("string"==typeof fe)fe=M[fe.charAt(0).toUpperCase()+fe.substring(1)];else if(fe&&(!fe[ue.typeKey]||"type"===ue.typeKey&&fe.type.type)&&R.isPOJO(fe)){if(Object.keys(fe).length){var Ce={minimize:ue.minimize};ue.typeKey&&(Ce.typeKey=ue.typeKey),ue.hasOwnProperty("strict")&&(Ce.strict=ue.strict),ue.hasOwnProperty("typePojoToMixed")&&(Ce.typePojoToMixed=ue.typePojoToMixed),this._userProvidedOptions.hasOwnProperty("_id")?Ce._id=this._userProvidedOptions._id:X.Types.DocumentArray.defaultOptions&&null!=X.Types.DocumentArray.defaultOptions._id&&(Ce._id=X.Types.DocumentArray.defaultOptions._id);var Ie=new X(fe,Ce);return Ie.$implicitlyCreated=!0,new M.DocumentArray(te,Ie,ce)}return new M.Array(te,M.Mixed,ce)}if(fe&&("ClockDate"===(L="string"==typeof(oe=!fe[ue.typeKey]||"type"===ue.typeKey&&fe.type.type?fe:fe[ue.typeKey])?oe:oe.schemaName||R.getFunctionName(oe))&&(L="Date"),!M.hasOwnProperty(L)))throw new TypeError("Invalid schema configuration: "+"`".concat(L,"` is not a valid type within the array `").concat(te,"`.")+"See http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new M.Array(te,fe||M.Mixed,ce,ue)}if(oe&&oe.instanceOfSchema)return new M.Embedded(oe,te,ce);if((L=p.isBuffer(oe)?"Buffer":"function"==typeof oe||"object"===x(oe)?oe.schemaName||R.getFunctionName(oe):null==oe?""+oe:oe.toString())&&(L=L.charAt(0).toUpperCase()+L.substring(1)),"ObjectID"===L&&(L="ObjectId"),"ClockDate"===L&&(L="Date"),null==M[L])throw new TypeError("Invalid schema configuration: `".concat(L,"` is not ")+"a valid type at path `".concat(te,"`. See ")+"http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new M[L](te,ce)},X.prototype.eachPath=function(te){for(var ce=Object.keys(this.paths),ue=ce.length,N=0;N<ue;++N)te(ce[N],this.paths[ce[N]]);return this},X.prototype.requiredPaths=function(te){if(this._requiredpaths&&!te)return this._requiredpaths;for(var ce=Object.keys(this.paths),ue=ce.length,N=[];ue--;){var M=ce[ue];this.paths[M].isRequired&&N.push(M)}return this._requiredpaths=N,this._requiredpaths},X.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},X.prototype.pathType=function(te){var ce=Q(te);if(this.paths.hasOwnProperty(te))return"real";if(this.virtuals.hasOwnProperty(te))return"virtual";if(this.nested.hasOwnProperty(te))return"nested";if(this.subpaths.hasOwnProperty(ce)||this.subpaths.hasOwnProperty(te))return"real";var ue=this.singleNestedPaths.hasOwnProperty(ce)||this.singleNestedPaths.hasOwnProperty(te);return ue?"nested"===ue?"nested":"real":null!=Z(this,te)?"real":/\.\d+\.|\.\d+$/.test(te)?j(this,te):"adhocOrUndefined"},X.prototype.hasMixedParent=function(te){var ce=te.split(/\./g);te="";for(var ue=0;ue<ce.length;++ue)if(this.paths.hasOwnProperty(te=ue>0?te+"."+ce[ue]:ce[ue])&&this.paths[te]instanceof I.Mixed)return this.paths[te];return null},X.prototype.setupTimestamp=function(te){return B(this,te)},X.prototype.queue=function(te,ce){return this.callQueue.push([te,ce]),this},X.prototype.pre=function(te){if(te instanceof RegExp){var ce,ue=Array.prototype.slice.call(arguments,1),N=V(W);try{for(N.s();!(ce=N.n()).done;){var M=ce.value;te.test(M)&&this.pre.apply(this,[M].concat(ue))}}catch(Ce){N.e(Ce)}finally{N.f()}return this}if(Array.isArray(te)){var H,L=Array.prototype.slice.call(arguments,1),oe=V(te);try{for(oe.s();!(H=oe.n()).done;){var fe=H.value;this.pre.apply(this,[fe].concat(L))}}catch(Ce){oe.e(Ce)}finally{oe.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},X.prototype.post=function(te){if(te instanceof RegExp){var ce,ue=Array.prototype.slice.call(arguments,1),N=V(W);try{for(N.s();!(ce=N.n()).done;){var M=ce.value;te.test(M)&&this.post.apply(this,[M].concat(ue))}}catch(Ce){N.e(Ce)}finally{N.f()}return this}if(Array.isArray(te)){var H,L=Array.prototype.slice.call(arguments,1),oe=V(te);try{for(oe.s();!(H=oe.n()).done;){var fe=H.value;this.post.apply(this,[fe].concat(L))}}catch(Ce){oe.e(Ce)}finally{oe.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},X.prototype.plugin=function(te,ce){if("function"!=typeof te)throw new Error('First param to `schema.plugin()` must be a function, got "'+x(te)+'"');if(ce&&ce.deduplicate){var ue,N=V(this.plugins);try{for(N.s();!(ue=N.n()).done;)if(ue.value.fn===te)return this}catch(M){N.e(M)}finally{N.f()}}return this.plugins.push({fn:te,opts:ce}),te(this,ce),this},X.prototype.method=function(te,ce,ue){if("string"!=typeof te)for(var N in te)this.methods[N]=te[N],this.methodOptions[N]=R.clone(ue);else this.methods[te]=ce,this.methodOptions[te]=R.clone(ue);return this},X.prototype.static=function(te,ce){if("string"!=typeof te)for(var ue in te)this.statics[ue]=te[ue];else this.statics[te]=ce;return this},X.prototype.index=function(te,ce){return te||(te={}),ce||(ce={}),ce.expires&&R.expires(ce),this._indexes.push([te,ce]),this},X.prototype.set=function(te,ce,ue){if(1===arguments.length)return this.options[te];switch(te){case"read":this.options[te]=Y(ce,ue),this._userProvidedOptions[te]=this.options[te];break;case"safe":pe(this.options,ce),this._userProvidedOptions[te]=this.options[te];break;case"timestamps":this.setupTimestamp(ce),this.options[te]=ce,this._userProvidedOptions[te]=this.options[te];break;case"_id":this.options[te]=ce,this._userProvidedOptions[te]=this.options[te],ce&&!this.paths._id?u(this):!ce&&null!=this.paths._id&&this.paths._id.auto&&this.remove("_id");break;default:this.options[te]=ce,this._userProvidedOptions[te]=this.options[te]}return this};var pe=F.deprecate(function(te,ce){te.safe=!1===ce?{w:0}:ce},"Mongoose: The `safe` option for schemas is deprecated. Use the `writeConcern` option instead: http://bit.ly/mongoose-write-concern");X.prototype.get=function(te){return this.options[te]};var he="2d 2dsphere hashed text".split(" ");function J(te,ce){var ue,N=ce.split("."),M=N.pop(),H=te.tree,L=V(N);try{for(L.s();!(ue=L.n()).done;)H=H[ue.value]}catch(oe){L.e(oe)}finally{L.f()}delete H[M]}function Ee(te){return te.startsWith("$[")&&te.endsWith("]")}Object.defineProperty(X,"indexTypes",{get:function(){return he},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),X.prototype.indexes=function(){return T(this)},X.prototype.virtual=function(te,ce){var ue=this;if(te instanceof g||"VirtualType"===m(te))return this.virtual(te.path,te.options);if(ce=new f(ce),R.hasUserDefinedProperty(ce,["ref","refPath"])){if(null==ce.localField)throw new Error("Reference virtuals require `localField` option");if(null==ce.foreignField)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function(Ce){if($.has(te,Ce)){var Ie=$.get(te,Ce);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),this.$$populatedVirtuals[te]=ce.justOne||ce.count?Array.isArray(Ie)?Ie[0]:Ie:Array.isArray(Ie)?Ie:null==Ie?[]:[Ie],$.unset(te,Ce)}});var N=this.virtual(te);return N.options=ce,N.set(function(Ce){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),ce.justOne||ce.count?(this.$$populatedVirtuals[te]=Array.isArray(Ce)?Ce[0]:Ce,"object"!==x(this.$$populatedVirtuals[te])&&(this.$$populatedVirtuals[te]=ce.count?Ce:null)):(this.$$populatedVirtuals[te]=Array.isArray(Ce)?Ce:null==Ce?[]:[Ce],this.$$populatedVirtuals[te]=this.$$populatedVirtuals[te].filter(function(Ie){return Ie&&"object"===x(Ie)}))}),"function"==typeof ce.get&&N.get(ce.get),N}var M=this.virtuals,H=te.split(".");if("real"===this.pathType(te))throw new Error('Virtual path "'+te+'" conflicts with a real path in the schema');M[te]=H.reduce(function(Ce,Ie,Ue){return Ce[Ie]||(Ce[Ie]=Ue===H.length-1?new g(ce,te):{}),Ce[Ie]},this.tree);for(var L=H[0],oe=function(){if(null!=ue.paths[L]&&ue.paths[L].$isMongooseDocumentArray){var Ce=H.slice(fe+1).join(".");return ue.paths[L].schema.virtual(Ce).get(function(Ie,Ue,et){return et.__parentArray[l].get(L+"."+et.__index+"."+Ce)}),"break"}L+="."+H[fe+1]},fe=0;fe<H.length-1&&"break"!==oe();++fe);return M[te]},X.prototype.virtualpath=function(te){return this.virtuals.hasOwnProperty(te)?this.virtuals[te]:null},X.prototype.remove=function(te){return"string"==typeof te&&(te=[te]),Array.isArray(te)&&te.forEach(function(ce){if(null!=this.path(ce)||this.nested[ce]){if(this.nested[ce]){var ue,N=V(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(N.s();!(ue=N.n()).done;){var M=ue.value;M.startsWith(ce+".")&&(delete this.paths[M],delete this.nested[M],J(this,M))}}catch(H){N.e(H)}finally{N.f()}return delete this.nested[ce],void J(this,ce)}delete this.paths[ce],J(this,ce)}},this),this},X.prototype.loadClass=function(te,ce){return te===Object.prototype||te===Function.prototype||te.prototype.hasOwnProperty("$isMongooseModelPrototype")||(this.loadClass(Object.getPrototypeOf(te),ce),ce||Object.getOwnPropertyNames(te).forEach(function(ue){if(!ue.match(/^(length|name|prototype|constructor|__proto__)$/)){var N=Object.getOwnPropertyDescriptor(te,ue);N.hasOwnProperty("value")&&this.static(ue,N.value)}},this),Object.getOwnPropertyNames(te.prototype).forEach(function(ue){if(!ue.match(/^(constructor)$/)){var N=Object.getOwnPropertyDescriptor(te.prototype,ue);ce||"function"==typeof N.value&&this.method(ue,N.value),"function"==typeof N.get&&(this.virtuals[ue]&&(this.virtuals[ue].getters=[]),this.virtual(ue).get(N.get)),"function"==typeof N.set&&(this.virtuals[ue]&&(this.virtuals[ue].setters=[]),this.virtual(ue).set(N.set))}},this)),this},X.prototype._getSchema=function(te){var ce=this.path(te),ue=[];if(ce)return ce.$fullPath=te,ce;for(var N=te.split("."),M=0;M<N.length;++M)("$"===N[M]||Ee(N[M]))&&(N[M]="0");return function H(L,oe){for(var fe,Ce,Ie=L.length+1;Ie--;)if(Ce=L.slice(0,Ie).join("."),fe=oe.path(Ce)){if(ue.push(Ce),fe.caster){if(fe.caster instanceof I.Mixed)return fe.caster.$fullPath=ue.join("."),fe.caster;if(Ie!==L.length&&fe.schema){var Ue=void 0;return"$"===L[Ie]||Ee(L[Ie])?Ie+1===L.length?fe:((Ue=H(L.slice(Ie+1),fe.schema))&&(Ue.$isUnderneathDocArray=Ue.$isUnderneathDocArray||!fe.schema.$isSingleNested),Ue):((Ue=H(L.slice(Ie),fe.schema))&&(Ue.$isUnderneathDocArray=Ue.$isUnderneathDocArray||!fe.schema.$isSingleNested),Ue)}}else if(fe.$isSchemaMap)return Ie+1>=L.length?fe:H(L.slice(Ie+1),fe.$__schemaType.schema);return fe.$fullPath=ue.join("."),fe}}(N,this)},X.prototype._getPathType=function(te){return this.path(te)?"real":function ce(ue,N){for(var M,H,L=ue.length+1;L--;){if(H=ue.slice(0,L).join("."),M=N.path(H))return M.caster?M.caster instanceof I.Mixed?{schema:M,pathType:"mixed"}:L!==ue.length&&M.schema?"$"===ue[L]||Ee(ue[L])?L===ue.length-1?{schema:M,pathType:"nested"}:ce(ue.slice(L+1),M.schema):ce(ue.slice(L),M.schema):{schema:M,pathType:M.$isSingleNested?"nested":"array"}:{schema:M,pathType:"real"};if(L===ue.length&&N.nested[H])return{schema:N,pathType:"nested"}}return{schema:M||N,pathType:"undefined"}}(te.split("."),this)},le.exports=q=X,X.Types=I=c(56),q.ObjectId=I.ObjectId}).call(this,c(2).Buffer)},function(le,q,c){"use strict";var p=c(1);function C(x,V){this.path=V,this.getters=[],this.setters=[],this.options=Object.assign({},x)}C.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var x="$"+this.path;this.getters.push(function(){return this[x]}),this.setters.push(function(V){this[x]=V})}},C.prototype.clone=function(){var x=new C(this.options,this.path);return x.getters=[].concat(this.getters),x.setters=[].concat(this.setters),x},C.prototype.get=function(x){return this.getters.push(x),this},C.prototype.set=function(x){return this.setters.push(x),this},C.prototype.applyGetters=function(x,V){p.hasUserDefinedProperty(this.options,["ref","refPath"])&&V.$$populatedVirtuals&&V.$$populatedVirtuals.hasOwnProperty(this.path)&&(x=V.$$populatedVirtuals[this.path]);for(var D=x,I=this.getters.length-1;I>=0;I--)D=this.getters[I].call(V,D,this,V);return D},C.prototype.applySetters=function(x,V){for(var D=x,I=this.setters.length-1;I>=0;I--)D=this.setters[I].call(V,D,this,V);return D},le.exports=C},function(le,q,c){"use strict";q.String=c(149),q.Number=c(80),q.Boolean=c(153),q.DocumentArray=c(154),q.Embedded=c(161),q.Array=c(57),q.Buffer=c(163),q.Date=c(165),q.ObjectId=c(168),q.Mixed=c(28),q.Decimal128=q.Decimal=c(170),q.Map=c(172),q.Oid=q.ObjectId,q.Object=q.Mixed,q.Bool=q.Boolean,q.ObjectID=q.ObjectId},function(le,q,c){"use strict";function C(P,G){(null==G||G>P.length)&&(G=P.length);for(var W=0,ne=new Array(G);W<G;W++)ne[W]=P[W];return ne}var x,V,D=c(52),I=c(74),S=c(14),O=c(155),v=c(6),y=v.CastError,h=c(28),f=c(156),g=c(157),u=c(3),l=c(83),_=c(4),m=c(1),T=c(36).castToNumber,A=c(84),$=c(37),Y=Symbol("mongoose#isNestedArray"),B=Object.freeze({});function F(P,G,W,ne){V||(V=c(38).Embedded);var X,z,Q="type";if(ne&&ne.typeKey&&(Q=ne.typeKey),this.schemaOptions=ne,G){var Z={};m.isPOJO(G)&&(G[Q]?(delete(Z=m.clone(G))[Q],G=G[Q]):G=h),null!=W&&null!=W.ref&&null==Z.ref&&(Z.ref=W.ref),G===Object&&(G=h);var j="string"==typeof G?G:m.getFunctionName(G),pe=c(56),he=pe.hasOwnProperty(j)?pe[j]:G;this.casterConstructor=he,this.casterConstructor instanceof F&&(this.casterConstructor[Y]=!0),"function"!=typeof he||he.$isArraySubdocument||he.$isSchemaMap?(this.caster=he,this.caster instanceof V||(this.caster.path=P)):this.caster=new he(this.caster instanceof V?null:P,Z),this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,v.call(this,P,W,"Array"),null!=this.defaultValue&&(z="function"==typeof(X=this.defaultValue)),!("defaultValue"in this)||void 0!==this.defaultValue){var Ee=function(){var te=[];return z?te=X.call(this):null!=X&&(te=te.concat(X)),te};Ee.$runBeforeSetters=!z,this.default(Ee)}}F.schemaName="Array",F.options={castNonArrays:!0},F.defaultOptions={},F.set=v.set,(F.prototype=Object.create(v.prototype)).constructor=F,F.prototype.OptionsConstructor=O,F._checkRequired=v.prototype.checkRequired,F.checkRequired=v.checkRequired,F.prototype.checkRequired=function(P,G){return v._isRef(this,P,G,!0)?!!P:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():F.checkRequired())(P)},F.prototype.enum=function(){for(var P=this;;){var G=u(P,"caster.instance");if("Array"!==G){if("String"!==G&&"Number"!==G)throw new Error("`enum` can only be set on an array of strings or numbers , not "+G);break}P=P.caster}var W=arguments;return!Array.isArray(arguments)&&m.isObject(arguments)&&(W=m.object.vals(W)),P.caster.enum.apply(P.caster,W),this},F.prototype.applyGetters=function(P,G){if(null!=G&&null!=G.$__&&G.populated(this.path))return P;var W=v.prototype.applyGetters.call(this,P,G);if(Array.isArray(W))for(var ne=W.length,X=0;X<ne;++X)W[X]=this.caster.applyGetters(W[X],G);return W},F.prototype._applySetters=function(P,G,W,ne){if(this.casterConstructor.$isMongooseArray&&F.options.castNonArrays&&!this[Y]){for(var X=0,z=this;null!=z&&z.$isMongooseArray&&!z.$isMongooseDocumentArray;)++X,z=z.casterConstructor;if(null!=P&&P.length>0){var Q=f(P);if(Q.min===Q.max&&Q.max<X&&Q.containsNonArrayItem)for(var Z=Q.max;Z<X;++Z)P=[P]}}return v.prototype._applySetters.call(this,P,G,W,ne)},F.prototype.cast=function(P,G,W,ne,X){var z,Q;if(x||(x=c(38).Array),Array.isArray(P)){var Z=P.length;if(!Z&&G){var j=G.schema.indexedPaths(),pe=this.path;for(z=0,Q=j.length;z<Q;++z){var he=j[z][0][pe];if("2dsphere"===he||"2d"===he)return}var J=this.path.endsWith(".coordinates")?this.path.substr(0,this.path.lastIndexOf(".")):null;if(null!=J)for(z=0,Q=j.length;z<Q;++z)if("2dsphere"===j[z][0][J])return}if(P=x(P,(X=X||B).path||this._arrayPath||this.path,G,this),W&&null!=G&&null!=G.$__&&G.populated(this.path))return P;var Ee=this.caster,te=Ee.$isMongooseArray,ce="Number"===Ee.instance;if(Ee&&this.casterConstructor!==h)try{for(z=0;z<Z;z++){if(ce&&void 0===P[z])throw new S("Mongoose number arrays disallow storing undefined");var ue={};te&&(null!=X.arrayPath||null!=Ee._arrayParentPath)&&(ue.arrayPathIndex=z),P[z]=Ee.applySetters(P[z],G,W,void 0,ue)}}catch(N){throw new y("["+N.kind+"]",_.inspect(P),this.path+"."+z,N,this)}return P}if(W||F.options.castNonArrays)return G&&W&&G.markModified(this.path),this.cast([P],G,W);throw new y("Array",_.inspect(P),this.path,null,this)},F.prototype._castForPopulate=function(P,G){if(x||(x=c(38).Array),Array.isArray(P)){var W,ne=P.length,X=this.caster;if(X&&this.casterConstructor!==h)try{for(W=0;W<ne;W++){var z={};X.$isMongooseArray&&null!=X._arrayParentPath&&(z.arrayPathIndex=W),P[W]=X.cast(P[W],G,!1,void 0,z)}}catch(Q){throw new y("["+Q.kind+"]",_.inspect(P),this.path+"."+W,Q,this)}return P}throw new y("Array",_.inspect(P),this.path,null,this)},F.prototype.discriminator=function(P,G){for(var W=this;W.$isMongooseArray&&!W.$isMongooseDocumentArray;)if(null==(W=W.casterConstructor)||"function"==typeof W)throw new S("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return W.discriminator(P,G)},F.prototype.clone=function(){var P=Object.assign({},this.options),G=new this.constructor(this.path,this.caster,P,this.schemaOptions);return G.validators=this.validators.slice(),void 0!==this.requiredValidator&&(G.requiredValidator=this.requiredValidator),G},F.prototype.castForQuery=function(P,G){var W,ne,X=this;if(2===arguments.length){if(!(W=this.$conditionalHandlers[P]))throw new Error("Can't use "+P+" with Array.");ne=W.call(this,G)}else{var z=this.casterConstructor;if((ne=P)&&z.discriminators&&z.schema&&z.schema.options&&z.schema.options.discriminatorKey)if("string"==typeof ne[z.schema.options.discriminatorKey]&&z.discriminators[ne[z.schema.options.discriminatorKey]])z=z.discriminators[ne[z.schema.options.discriminatorKey]];else{var Q=$(z.discriminators,ne[z.schema.options.discriminatorKey]);Q&&(z=Q)}var Z=this.casterConstructor.prototype,j=Z&&(Z.castForQuery||Z.cast);!j&&z.castForQuery&&(j=z.castForQuery);var pe=this.caster;Array.isArray(ne)?(this.setters.reverse().forEach(function(he){ne=he.call(X,ne,X)}),ne=ne.map(function(he){return m.isObject(he)&&he.$elemMatch?he:j?he=j.call(pe,he):null!=he?he=new z(he):he})):j?ne=j.call(pe,ne):null!=ne&&(ne=new z(ne))}return ne};var R=F.prototype.$conditionalHandlers={};function U(P){return function(G){if(!Array.isArray(G))throw new TypeError("conditional "+P+" requires an array");var W,ne=[],X=function p(P,G){var W="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(!W){if(Array.isArray(P)||(W=function(j,pe){if(j){if("string"==typeof j)return C(j,void 0);var he=Object.prototype.toString.call(j).slice(8,-1);if("Object"===he&&j.constructor&&(he=j.constructor.name),"Map"===he||"Set"===he)return Array.from(j);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return C(j,void 0)}}(P))||G&&P&&"number"==typeof P.length){W&&(P=W);var ne=0,X=function(){};return{s:X,n:function(){return ne>=P.length?{done:!0}:{done:!1,value:P[ne++]}},e:function(j){throw j},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,Q=!0,Z=!1;return{s:function(){W=W.call(P)},n:function(){var j=W.next();return Q=j.done,j},e:function(j){Z=!0,z=j},f:function(){try{Q||null==W.return||W.return()}finally{if(Z)throw z}}}}(G);try{for(X.s();!(W=X.n()).done;)ne.push(g(this.casterConstructor.schema,W.value))}catch(Q){X.e(Q)}finally{X.f()}return ne}}R.$all=function(P){return Array.isArray(P)||(P=[P]),P=P.map(function(G){if(m.isObject(G)){var W={};return W[this.path]=G,g(this.casterConstructor.schema,W)[this.path]}return G},this),this.castForQuery(P)},R.$options=String,R.$elemMatch=function(P){for(var G=Object.keys(P),W=G.length,ne=0;ne<W;++ne){var X=G[ne],z=P[X];l(X)&&null!=z&&(P[X]=this.castForQuery(X,z))}var Q=u(this,"casterConstructor.schema.options.discriminatorKey"),Z=u(this,"casterConstructor.schema.discriminators",{});return g(null!=Q&&null!=P[Q]&&null!=Z[P[Q]]?Z[P[Q]]:this.casterConstructor.schema,P)},R.$geoIntersects=A.cast$geoIntersects,R.$or=U("$or"),R.$and=U("$and"),R.$nor=U("$nor"),R.$near=R.$nearSphere=A.cast$near,R.$within=R.$geoWithin=A.cast$within,R.$size=R.$minDistance=R.$maxDistance=T,R.$exists=D,R.$type=I,R.$eq=R.$gt=R.$gte=R.$lt=R.$lte=R.$ne=R.$regex=F.prototype.castForQuery,R.$nin=v.prototype.$conditionalHandlers.$nin,R.$in=v.prototype.$conditionalHandlers.$in,le.exports=F},function(le,q,c){"use strict";var p,C=c(0).documentSchemaSymbol,x=c(3),V=c(17).internalToObjectOptions,D=c(1),I=c(0).getSymbol,S=c(0).scopeSymbol;function O(y,h,f,g){p=p||c(12);for(var u,l,_=Object.keys(y),m=_.length,T=0;T<m;++T)u=y[l=_[T]],v(l,D.isPOJO(u)&&Object.keys(u).length&&(!u[g.typeKey]||"type"===g.typeKey&&u.type.type)?u:null,h,f,0,g)}function v(y,h,f,g,u,l){p=p||c(12);var _=(g?g+".":"")+y;g=g||"",Object.defineProperty(f,y,h?{enumerable:!0,configurable:!0,get:function(){var m,T,A=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[_]){var $=Object.create(p.prototype,(m=this,T={},Object.getOwnPropertyNames(m).forEach(function(B){-1===["isNew","$__","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(B)||(T[B]=Object.getOwnPropertyDescriptor(m,B),T[B].enumerable=!1)}),T));g||($.$__[S]=this),$.$__.nestedPath=_,Object.defineProperty($,"schema",{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,C,{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return D.clone(A.get(_,null,{virtuals:x(this,"schema.options.toObject.virtuals",null)}))}}),Object.defineProperty($,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return A.get(_,null,{virtuals:x(this,"schema.options.toObject.virtuals",null)})}}),Object.defineProperty($,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return A.get(_,null,{virtuals:x(A,"schema.options.toJSON.virtuals",null)})}}),Object.defineProperty($,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0});var Y=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1});Object.defineProperty($,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return 0===Object.keys(this.get(_,null,Y)||{}).length}}),Object.defineProperty($,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),O(h,$,_,l),this.$__.getters[_]=$}return this.$__.getters[_]},set:function(m){null!=m&&m.$__isNested?m=m.$__get():m instanceof p&&!m.$__isNested&&(m=m.toObject(V)),(this.$__[S]||this).$set(_,m)}}:{enumerable:!0,configurable:!0,get:function(){return this[I].call(this.$__[S]||this,_)},set:function(m){this.$set.call(this.$__[S]||this,_,m)}})}q.compile=O,q.defineKey=v},function(le,q,c){"use strict";function p(C){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}le.exports=function(C){return null==C||"object"!==p(C)||!("$meta"in C)&&!("$slice"in C)}},function(le,q,c){"use strict";(function(p){if(void 0!==p.Map)le.exports=p.Map,le.exports.Map=p.Map;else{var C=function(x){this._keys=[],this._values={};for(var V=0;V<x.length;V++)if(null!=x[V]){var D=x[V],I=D[0],S=D[1];this._keys.push(I),this._values[I]={v:S,i:this._keys.length-1}}};C.prototype.clear=function(){this._keys=[],this._values={}},C.prototype.delete=function(x){var V=this._values[x];return null!=V&&(delete this._values[x],this._keys.splice(V.i,1),!0)},C.prototype.entries=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?[D,x._values[D].v]:void 0,done:void 0===D}}}},C.prototype.forEach=function(x,V){V=V||this;for(var D=0;D<this._keys.length;D++){var I=this._keys[D];x.call(V,this._values[I].v,I,V)}},C.prototype.get=function(x){return this._values[x]?this._values[x].v:void 0},C.prototype.has=function(x){return null!=this._values[x]},C.prototype.keys=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?D:void 0,done:void 0===D}}}},C.prototype.set=function(x,V){return this._values[x]?(this._values[x].v=V,this):(this._keys.push(x),this._values[x]={v:V,i:this._keys.length-1},this)},C.prototype.values=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?x._values[D].v:void 0,done:void 0===D}}}},Object.defineProperty(C.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),le.exports=C,le.exports.Map=C}}).call(this,c(9))},function(le,q){var c=function p(C){if(!(this instanceof p))return new p(C);this._bsontype="Int32",this.value=C};c.prototype.valueOf=function(){return this.value},c.prototype.toJSON=function(){return this.value},le.exports=c,le.exports.Int32=c},function(le,q,c){"use strict";var p=c(12),C=c(181),x=!1;le.exports=function(){return x?C:p},le.exports.setBrowser=function(V){x=V}},function(le,q){le.exports=function(c,p,C){var x=[],V=c.length;if(0===V)return x;var D=p<0?Math.max(0,p+V):p||0;for(void 0!==C&&(V=C<0?C+V:C);V-- >D;)x[V-D]=c[V];return x}},function(le,q,c){var p=c(2),C=p.Buffer;function x(D,I){for(var S in D)I[S]=D[S]}function V(D,I,S){return C(D,I,S)}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?le.exports=p:(x(p,q),q.Buffer=V),V.prototype=Object.create(C.prototype),x(C,V),V.from=function(D,I,S){if("number"==typeof D)throw new TypeError("Argument must not be a number");return C(D,I,S)},V.alloc=function(D,I,S){if("number"!=typeof D)throw new TypeError("Argument must be a number");var O=C(D);return void 0!==I?"string"==typeof S?O.fill(I,S):O.fill(I):O.fill(0),O},V.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return C(D)},V.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return p.SlowBuffer(D)}},function(le,q){function c(C){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}var p=Object.prototype.toString;le.exports=function(C){if("object"!=c(x=C)||"[object RegExp]"!=p.call(x))throw new TypeError("Not a RegExp");var x,V=[];C.global&&V.push("g"),C.multiline&&V.push("m"),C.ignoreCase&&V.push("i"),C.dotAll&&V.push("s"),C.unicode&&V.push("u"),C.sticky&&V.push("y");var D=new RegExp(C.source,V.join(""));return"number"==typeof C.lastIndex&&(D.lastIndex=C.lastIndex),D}},function(le,q,c){"use strict";le.exports=function(p){return p.name?p.name:(p.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]}},function(le,q,c){"use strict";var p=c(3);le.exports=function(C,x){return p(C,"_bsontype",void 0)===x}},function(le,q,c){"use strict";(function(p){var C=c(23),x=c(119),V={_promise:null,get:function(){return V._promise},set:function(D){C.ok("function"==typeof D,"mongoose.Promise must be a function, got ".concat(D)),V._promise=D,x.Promise=D}};V.set(p.Promise),le.exports=V}).call(this,c(9))},function(le,q,c){"use strict";(function(p,C){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}var V=c(121).Buffer,D=c(65),I=["__proto__","constructor","prototype"],S=q.clone=function h(f,g){if(null==f)return f;if(Array.isArray(f))return q.cloneArray(f,g);if(f.constructor){if(/ObjectI[dD]$/.test(f.constructor.name))return"function"==typeof f.clone?f.clone():new f.constructor(f.id);if("ReadPreference"===f.constructor.name)return new f.constructor(f.mode,h(f.tags,g));if("Binary"==f._bsontype&&f.buffer&&f.value)return"function"==typeof f.clone?f.clone():new f.constructor(f.value(!0),f.sub_type);if("Date"===f.constructor.name||"Function"===f.constructor.name)return new f.constructor(+f);if("RegExp"===f.constructor.name)return D(f);if("Buffer"===f.constructor.name)return q.cloneBuffer(f)}return v(f)?q.cloneObject(f,g):f.valueOf?f.valueOf():void 0};q.cloneObject=function(h,f){for(var g,u,l=f&&f.minimize,_={},m=0,T=Object.keys(h);m<T.length;m++){var A=T[m];-1===I.indexOf(A)&&(u=S(h[A],f),l&&void 0===u||(g||(g=!0),_[A]=u))}return l?g&&_:_},q.cloneArray=function(h,f){for(var g=[],u=0,l=h.length;u<l;u++)g.push(S(h[u],f));return g},q.tick=function(h){if("function"==typeof h)return function(){var f=arguments;y(function(){h.apply(this,f)})}},q.merge=function h(f,g){for(var u,l=Object.keys(g),_=l.length;_--;)-1===I.indexOf(u=l[_])&&(void 0===f[u]?f[u]=g[u]:q.isObject(g[u])?h(f[u],g[u]):f[u]=g[u])},q.mergeClone=function h(f,g){for(var u,l=Object.keys(g),_=l.length;_--;)-1===I.indexOf(u=l[_])&&(void 0===f[u]?f[u]=S(g[u]):q.isObject(g[u])?h(f[u],g[u]):f[u]=S(g[u]))},q.readPref=function(h){switch(h){case"p":h="primary";break;case"pp":h="primaryPreferred";break;case"s":h="secondary";break;case"sp":h="secondaryPreferred";break;case"n":h="nearest"}return h},q.readConcern=function(h){if("string"==typeof h){switch(h){case"l":h="local";break;case"a":h="available";break;case"m":h="majority";break;case"lz":h="linearizable";break;case"s":h="snapshot"}h={level:h}}return h};var O=Object.prototype.toString;q.toString=function(h){return O.call(h)};var v=q.isObject=function(h){return"[object Object]"==q.toString(h)};q.isArray=function(h){return Array.isArray(h)||"object"==x(h)&&"[object Array]"==q.toString(h)},q.keys=Object.keys,q.create="function"==typeof Object.create?Object.create:function(h){if(arguments.length>1)throw new Error("Adding properties is not supported");function f(){}return f.prototype=h,new f},q.inherits=function(h,f){h.prototype=q.create(f.prototype),h.prototype.constructor=h};var y=q.soon="function"==typeof p?p:C.nextTick;q.cloneBuffer=function(h){var f=V.alloc(h.length);return h.copy(f,0,0,h.length),f},q.isArgumentsObject=function(h){return"[object Arguments]"===Object.prototype.toString.call(h)}}).call(this,c(70).setImmediate,c(10))},function(le,q,c){(function(p){var C=void 0!==p&&p||"undefined"!=typeof self&&self||window,x=Function.prototype.apply;function V(D,I){this._id=D,this._clearFn=I}q.setTimeout=function(){return new V(x.call(setTimeout,C,arguments),clearTimeout)},q.setInterval=function(){return new V(x.call(setInterval,C,arguments),clearInterval)},q.clearTimeout=q.clearInterval=function(D){D&&D.close()},V.prototype.unref=V.prototype.ref=function(){},V.prototype.close=function(){this._clearFn.call(C,this._id)},q.enroll=function(D,I){clearTimeout(D._idleTimeoutId),D._idleTimeout=I},q.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},q._unrefActive=q.active=function(D){clearTimeout(D._idleTimeoutId);var I=D._idleTimeout;I>=0&&(D._idleTimeoutId=setTimeout(function(){D._onTimeout&&D._onTimeout()},I))},c(120),q.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==p&&p.setImmediate||this&&this.setImmediate,q.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==p&&p.clearImmediate||this&&this.clearImmediate}).call(this,c(9))},function(le,q,c){"use strict";(function(p,C,x,V){function D(I){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}q.isNode=void 0!==p&&"object"==D(C)&&"object"==(void 0===x?"undefined":D(x))&&"function"==typeof V&&p.argv,q.isMongo=!q.isNode&&"function"==typeof printjson&&"function"==typeof ObjectId&&"function"==typeof rs&&"function"==typeof sh,q.isBrowser=!q.isNode&&!q.isMongo&&"undefined"!=typeof window,q.type=q.isNode?"node":q.isMongo?"mongo":q.isBrowser?"browser":"unknown"}).call(this,c(10),c(126)(le),c(9),c(2).Buffer)},function(le,q,c){"use strict";le.exports=function(p,C,x){for(var V={},D=0,I=Object.keys(C.tree);D<I.length;D++){var S=I[D];x&&(p.paths[S]||p.nested[S]||p.singleNestedPaths[S])||(V[S]=C.tree[S])}for(var O in p.add(V),p.callQueue=p.callQueue.concat(C.callQueue),p.method(C.methods),p.static(C.statics),C.query)p.query[O]=C.query[O];for(var v in C.virtuals)p.virtuals[v]=C.virtuals[v].clone();p._indexes=p._indexes.concat(C._indexes||[]),p.s.hooks.merge(C.s.hooks,!1)}},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function D(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function I(y){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var S=c(5),O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&x(_,m)}(l,y);var h,f,u=function V(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=I(y);if(h){var u=I(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return D(this,f)}}(l);function l(_){var m;!function($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,l);var T=_.message;T||(T=S.messages.general.default);var A=v(T,_);return m=u.call(this,A),_=Object.assign({},_,{message:A}),m.properties=_,m.kind=_.type,m.path=_.path,m.value=_.value,m.reason=_.reason,m}return h=l,(f=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&function C(y,h){for(var f=0;f<h.length;f++){var g=h[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,(l=function(_,m){if("object"!==p(_)||null===_)return _;var T=_[Symbol.toPrimitive];if(void 0!==T){var A=T.call(_,"string");if("object"!==p(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(g.key),"symbol"===p(l)?l:String(l)),g)}var l}(h.prototype,f),Object.defineProperty(h,"prototype",{writable:!1}),l}(S);function v(y,h){if("function"==typeof y)return y(h);for(var f=0,g=Object.keys(h);f<g.length;f++){var u=g[f];"message"!==u&&(y=y.replace("{"+u.toUpperCase()+"}",h[u]))}return y}Object.defineProperty(O.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(O.prototype,"properties",{enumerable:!1,writable:!0,value:null}),O.prototype.formatMessage=v,le.exports=O},function(le,q,c){"use strict";le.exports=function(p){if(Array.isArray(p)){if(!p.every(function(C){return"number"==typeof C||"string"==typeof C}))throw new Error("$type array values must be strings or numbers");return p}if("number"!=typeof p&&"string"!=typeof p)throw new Error("$type parameter must be number, string, or array of numbers and strings");return p}},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l){var _;!function(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g);var m=Array.isArray(l)?"array":"primitive value";return(_=f.call(this,"Tried to set nested object field `"+u+"` to ".concat(m," `")+l+"` and strict mode is set to throw.")).path=u,_}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ObjectExpectedError"}),le.exports=S},function(le,q,c){"use strict";le.exports=function(p){var C={_id:{auto:!0}};C._id[p.options.typeKey]="ObjectId",p.add(C)}},function(le,q,c){"use strict";le.exports=function(p,C){return null==p?null:"boolean"==typeof p?C:"boolean"==typeof p[C]?p[C]?C:null:C in p?p[C]:C}},function(le,q,c){"use strict";var p=c(35),C=c(27);function x(V,D,I){var S={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},O=(I=I||{}).decorateDoc?V:V.prototype;V.$appliedHooks=!0;for(var v=0,y=Object.keys(D.paths);v<y.length;v++){var f=D.paths[y[v]],g=null;if(f.$isSingleNested)g=f.caster;else{if(!f.$isMongooseDocumentArray)continue;g=f.Constructor}if(!g.$appliedHooks&&(x(g,f.schema,I),null!=g.discriminators))for(var u=0,l=Object.keys(g.discriminators);u<l.length;u++){var _=l[u];x(g.discriminators[_],g.discriminators[_].schema,I)}}var m=D.s.hooks.filter(function(W){return"updateOne"===W.name||"deleteOne"===W.name?!!W.document:"remove"===W.name||"init"===W.name?null==W.document||!!W.document:null==W.query&&null==W.document||!1!==W.document}).filter(function(W){return!D.methods[W.name]||!W.fn[p.builtInMiddleware]});V._middleware=m,O.$__originalValidate=O.$__originalValidate||O.$__validate;for(var T=0,A=["save","validate","remove","deleteOne"];T<A.length;T++){var $=A[T],Y="validate"===$?"$__originalValidate":"$__".concat($),B=m.createWrapper($,O[Y],null,S);O["$__".concat($)]=B}O.$__init=m.createWrapperSync("init",O.$__init,null,S);for(var F=Object.keys(D.methods),R=Object.assign({},S,{checkForPromise:!0}),U=function(){var W=G[P];if(!m.hasHooks(W))return"continue";var ne=O[W];O[W]=function(){var X=this,z=Array.prototype.slice.call(arguments),Q=z.slice(-1).pop(),Z="function"==typeof Q?z.slice(0,z.length-1):z;return C(Q,function(j){return X["$__".concat(W)].apply(X,Z.concat([j]))},V.events)},O["$__".concat(W)]=m.createWrapper(W,ne,null,R)},P=0,G=F;P<G.length;P++)U()}le.exports=x,x.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"]},function(le,q,c){"use strict";var p=c(13);le.exports=function(C,x){if(null==C)return C;if(C._id&&"string"==typeof C._id)return C._id;if(C.toString&&C.toString!==Object.prototype.toString&&!Array.isArray(C))return C.toString();throw new p("string",C,x)}},function(le,q,c){"use strict";var p=c(5),C=c(151),x=c(6),V=c(152),D=c(81),I=c(1),S=x.CastError;function O(y,h){x.call(this,y,h,"Number")}function v(y){return this.cast(y)}O.get=x.get,O.set=x.set,O._cast=V,O.cast=function(y){return 0===arguments.length||(!1===y&&(y=this._defaultCaster),this._cast=y),this._cast},O._defaultCaster=function(y){if("number"!=typeof y)throw new Error;return y},O.schemaName="Number",O.defaultOptions={},(O.prototype=Object.create(x.prototype)).constructor=O,O.prototype.OptionsConstructor=C,O._checkRequired=function(y){return"number"==typeof y||y instanceof Number},O.checkRequired=x.checkRequired,O.prototype.checkRequired=function(y,h){return x._isRef(this,y,h,!0)?!!y:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():O.checkRequired())(y)},O.prototype.min=function(y,h){if(this.minValidator&&(this.validators=this.validators.filter(function(g){return g.validator!==this.minValidator},this)),null!=y){var f=h||p.messages.Number.min;f=f.replace(/{MIN}/,y),this.validators.push({validator:this.minValidator=function(g){return null==g||g>=y},message:f,type:"min",min:y})}return this},O.prototype.max=function(y,h){if(this.maxValidator&&(this.validators=this.validators.filter(function(g){return g.validator!==this.maxValidator},this)),null!=y){var f=h||p.messages.Number.max;f=f.replace(/{MAX}/,y),this.validators.push({validator:this.maxValidator=function(g){return null==g||g<=y},message:f,type:"max",max:y})}return this},O.prototype.enum=function(y,h){return this.enumValidator&&(this.validators=this.validators.filter(function(f){return f.validator!==this.enumValidator},this)),Array.isArray(y)||(y=I.isObject(y)?I.object.vals(y):Array.prototype.slice.call(arguments),h=p.messages.Number.enum),h=null==h?p.messages.Number.enum:h,this.enumValidator=function(f){return null==f||-1!==y.indexOf(f)},this.validators.push({validator:this.enumValidator,message:h,type:"enum",enumValues:y}),this},O.prototype.cast=function(y,h,f){if(x._isRef(this,y,h,f))return"number"==typeof y?y:this._castRef(y,h,f);var g,u=y&&void 0!==y._id?y._id:y;g="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():O.cast();try{return g(u)}catch(l){throw new S("Number",u,this.path,l,this)}},O.prototype.$conditionalHandlers=I.options(x.prototype.$conditionalHandlers,{$bitsAllClear:D,$bitsAnyClear:D,$bitsAllSet:D,$bitsAnySet:D,$gt:v,$gte:v,$lt:v,$lte:v,$mod:function(y){var h=this;return Array.isArray(y)?y.map(function(f){return h.cast(f)}):[this.cast(y)]}}),O.prototype.castForQuery=function(y,h){var f;if(2===arguments.length){if(!(f=this.$conditionalHandlers[y]))throw new S("number",h,this.path,null,this);return f.call(this,h)}return this._castForQuery(y)},le.exports=O},function(le,q,c){"use strict";(function(p){var C=c(13);function x(V,D){var I=Number(D);if(isNaN(I))throw new C("number",D,V);return I}le.exports=function(V){var D=this;return Array.isArray(V)?V.map(function(I){return x(D.path,I)}):p.isBuffer(V)?V:x(D.path,V)}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";var p=c(11);le.exports=function(C,x){return"string"==typeof C&&"string"==typeof x||"number"==typeof C&&"number"==typeof x?C===x:C instanceof p&&x instanceof p&&C.toString()===x.toString()}},function(le,q,c){"use strict";var p=new Set(["$ref","$id","$db"]);le.exports=function(C){return C.startsWith("$")&&!p.has(C)}},function(le,q,c){"use strict";var p=c(36).castArraysOfNumbers,C=c(36).castToNumber;function x(D,I){switch(D.$geometry.type){case"Polygon":case"LineString":case"Point":p(D.$geometry.coordinates,I)}return V(I,D),D}function V(D,I){I.$maxDistance&&(I.$maxDistance=C.call(D,I.$maxDistance)),I.$minDistance&&(I.$minDistance=C.call(D,I.$minDistance))}q.cast$geoIntersects=function(D){if(D.$geometry)return x(D,this),D},q.cast$near=function(D){var I=c(57);if(Array.isArray(D))return p(D,this),D;if(V(this,D),D&&D.$geometry)return x(D,this);if(!Array.isArray(D))throw new TypeError("$near must be either an array or an object with a $geometry property");return I.prototype.castForQuery.call(this,D)},q.cast$within=function(D){var I=this;if(V(this,D),D.$box||D.$polygon)D[D.$box?"$box":"$polygon"].forEach(function(v){if(!Array.isArray(v))throw new TypeError("Invalid $within $box argument. Expected an array, received "+v);v.forEach(function(y,h){v[h]=C.call(I,y)})});else if(D.$center||D.$centerSphere){var O=D.$center?"$center":"$centerSphere";D[O].forEach(function(v,y){Array.isArray(v)?v.forEach(function(h,f){v[f]=C.call(I,h)}):D[O][y]=C.call(I,v)})}else D.$geometry&&x(D,this);return D}},function(le,q,c){"use strict";var p=c(86),C=c(0).arrayAtomicsSymbol,x=c(0).arrayParentSymbol,V=c(0).arrayPathSymbol,D=c(0).arraySchemaSymbol,I=Array.prototype.push;le.exports=function(S,O,v,y){var h;if(Array.isArray(S)){var f=S.length;if(0===f)h=new p;else if(1===f)(h=new p(1))[0]=S[0];else if(f<1e4)h=new p,I.apply(h,S);else{h=new p;for(var g=0;g<f;++g)I.call(h,S[g])}null!=S[C]&&(h[C]=S[C])}else h=new p;return h[V]=O,null!=v&&null!=v.$__&&(h[x]=v,h[D]=y||v.schema.path(O)),h}},function(le,q,c){"use strict";(function(p){function C(pe){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(pe)}function V(pe,he){(null==he||he>pe.length)&&(he=pe.length);for(var J=0,Ee=new Array(he);J<he;J++)Ee[J]=pe[J];return Ee}function D(pe,he){if(!(pe instanceof he))throw new TypeError("Cannot call a class as a function")}function S(pe){var he=function(J,Ee){if("object"!==C(J)||null===J)return J;var te=J[Symbol.toPrimitive];if(void 0!==te){var ce=te.call(J,"string");if("object"!==C(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(pe);return"symbol"===C(he)?he:String(he)}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(pe,he,J){var Ee=v(pe,he);if(Ee){var te=Object.getOwnPropertyDescriptor(Ee,he);return te.get?te.get.call(arguments.length<3?pe:J):te.value}}).apply(this,arguments)}function v(pe,he){for(;!Object.prototype.hasOwnProperty.call(pe,he)&&null!==(pe=l(pe)););return pe}function y(pe,he){if(he&&("object"===C(he)||"function"==typeof he))return he;if(void 0!==he)throw new TypeError("Derived constructors may only return object or undefined");return function(J){if(void 0===J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}(pe)}function h(pe){var he="function"==typeof Map?new Map:void 0;return(h=function(J){if(null===J||-1===Function.toString.call(J).indexOf("[native code]"))return J;if("function"!=typeof J)throw new TypeError("Super expression must either be null or a function");if(void 0!==he){if(he.has(J))return he.get(J);he.set(J,te)}function te(){return f(J,arguments,l(this).constructor)}return te.prototype=Object.create(J.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),u(te,J)})(pe)}function f(pe,he,J){return(f=g()?Reflect.construct.bind():function(Ee,te,ce){var ue=[null];ue.push.apply(ue,te);var N=new(Function.bind.apply(Ee,ue));return ce&&u(N,ce.prototype),N}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pe){return!1}}function u(pe,he){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,Ee){return J.__proto__=Ee,J})(pe,he)}function l(pe){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(he){return he.__proto__||Object.getPrototypeOf(he)})(pe)}var _=c(12),m=c(29),T=c(14),A=c(11),$=c(87),Y=c(3),B=c(17).internalToObjectOptions,F=c(1),R=c(4),U=c(0).arrayAtomicsSymbol,P=c(0).arrayParentSymbol,G=c(0).arrayPathSymbol,W=c(0).arraySchemaSymbol,ne=c(0).populateModelSymbol,X=Symbol("mongoose#Array#sliced"),z=Array.prototype.push,Q=Symbol("mongoose#MongooseCoreArray#validators"),Z=function(pe){!function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&u(M,H)}(N,pe);var he,J,Ee,te,ue=(he=N,J=g(),function(){var M,H=l(he);if(J){var L=l(this).constructor;M=Reflect.construct(H,arguments,L)}else M=H.apply(this,arguments);return y(this,M)});function N(){return D(this,N),ue.apply(this,arguments)}return Ee=N,(te=[{key:"isMongooseArray",get:function(){return!0}},{key:"validators",get:function(){return this[Q]},set:function(M){this[Q]=M}},{key:"$__getAtomics",value:function(){var M=[],H=Object.keys(this[U]||{}),L=H.length,oe=Object.assign({},B,{_isNested:!0});if(0===L)return M[0]=["$set",this.toObject(oe)],M;for(;L--;){var fe=H[L],Ce=this[U][fe];F.isMongooseObject(Ce)?Ce=Ce.toObject(oe):Array.isArray(Ce)?Ce=this.toObject.call(Ce,oe):null!=Ce&&Array.isArray(Ce.$each)?Ce.$each=this.toObject.call(Ce.$each,oe):null!=Ce&&"function"==typeof Ce.valueOf&&(Ce=Ce.valueOf()),"$addToSet"===fe&&(Ce={$each:Ce}),M.push([fe,Ce])}return M}},{key:"$atomics",value:function(){return this[U]||{}}},{key:"$parent",value:function(){return this[P]}},{key:"$path",value:function(){return this[G]}},{key:"$shift",value:function(){if(this._registerAtomic("$pop",-1),this._markModified(),!this._shifted)return this._shifted=!0,[].shift.call(this)}},{key:"$pop",value:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)}},{key:"$schema",value:function(){return this[W]}},{key:"_cast",value:function(M){var H,L=!1;return this[P]&&(L=this[P].populated(this[G],!0)),L&&null!=M?(H=L.options[ne],(p.isBuffer(M)||M instanceof A||!F.isObject(M))&&(M={_id:M}),M.$__schema&&M.$__schema.discriminatorMapping&&void 0!==M.$__schema.discriminatorMapping.key||(M=new H(M)),this[W].caster.applySetters(M,this[P],!0)):this[W].caster.applySetters(M,this[P],!1)}},{key:"_mapCast",value:function(M,H){return this._cast(M,this.length+H)}},{key:"_markModified",value:function(M){var H,L=this[P];if(L){if(H=this[G],arguments.length&&(H=H+"."+M),null!=H&&H.endsWith(".$"))return this;L.markModified(H,arguments.length>0?M:L)}return this}},{key:"_registerAtomic",value:function(M,H){if(!this[X]){if("$set"===M)return this[U]={$set:H},$(this[P],this[G]),this._markModified(),this;this[U]||(this[U]={});var L,oe=this[U];if("$pop"===M&&!("$pop"in oe)){var fe=this;this[P].once("save",function(){fe._popped=fe._shifted=null})}if(this[U].$set||Object.keys(oe).length&&!(M in oe))return this[U]={$set:this},this;if("$pullAll"===M||"$addToSet"===M)oe[M]||(oe[M]=[]),oe[M]=oe[M].concat(H);else if("$pullDocs"===M){var Ce=oe.$pull||(oe.$pull={});H[0]instanceof m?(L=Ce.$or||(Ce.$or=[]),Array.prototype.push.apply(L,H.map(function(Ie){return Ie.toObject({transform:!1,virtuals:!1})}))):(L=Ce._id||(Ce._id={$in:[]})).$in=L.$in.concat(H)}else"$push"===M?(oe.$push=oe.$push||{$each:[]},null!=H&&F.hasUserDefinedProperty(H,"$each")?oe.$push=H:oe.$push.$each=oe.$push.$each.concat(H)):oe[M]=H;return this}}},{key:"addToSet",value:function(){j(this,arguments);var M=[].map.call(arguments,this._mapCast,this);M=this[W].applySetters(M,this[P]);var H=[],L="";return M[0]instanceof m?L="doc":M[0]instanceof Date&&(L="date"),M.forEach(function(oe){var fe,Ce=+oe;switch(L){case"doc":fe=this.some(function(Ie){return Ie.equals(oe)});break;case"date":fe=this.some(function(Ie){return+Ie===Ce});break;default:fe=~this.indexOf(oe)}fe||([].push.call(this,oe),this._registerAtomic("$addToSet",oe),this._markModified(),[].push.call(H,oe))},this),H}},{key:"hasAtomics",value:function(){return F.isPOJO(this[U])?Object.keys(this[U]).length:0}},{key:"includes",value:function(M,H){return-1!==this.indexOf(M,H)}},{key:"indexOf",value:function(M,H){M instanceof A&&(M=M.toString());for(var L=this.length,oe=H=null==H?0:H;oe<L;++oe)if(M==this[oe])return oe;return-1}},{key:"inspect",value:function(){return JSON.stringify(this)}},{key:"nonAtomicPush",value:function(){var M=[].map.call(arguments,this._mapCast,this),H=[].push.apply(this,M);return this._registerAtomic("$set",this),this._markModified(),H}},{key:"pop",value:function(){var M=[].pop.call(this);return this._registerAtomic("$set",this),this._markModified(),M}},{key:"pull",value:function(){for(var M,H=[].map.call(arguments,this._cast,this),L=this[P].get(this[G]),oe=L.length;oe--;)if((M=L[oe])instanceof _){var fe=H.some(function(Ce){return M.equals(Ce)});fe&&[].splice.call(L,oe,1)}else~L.indexOf.call(H,M)&&[].splice.call(L,oe,1);return H[0]instanceof m?this._registerAtomic("$pullDocs",H.map(function(Ce){return Ce.$__getValue("_id")||Ce})):this._registerAtomic("$pullAll",H),this._markModified(),$(this[P],this[G])>0&&this._registerAtomic("$set",this),this}},{key:"push",value:function(){var M=arguments,H=M,L=null!=M[0]&&F.hasUserDefinedProperty(M[0],"$each");if(L&&(H=M[0],M=M[0].$each),null==this[W])return z.apply(this,M);j(this,M);var oe,fe=this[P];M=[].map.call(M,this._mapCast,this),M=this[W].applySetters(M,fe,void 0,void 0,{skipDocumentArrayCast:!0});var Ce=this[U];if(L){if(H.$each=M,Y(Ce,"$push.$each.length",0)>0&&Ce.$push.$position!=Ce.$position)throw new T("Cannot call `Array#push()` multiple times with different `$position`");null!=H.$position?([].splice.apply(this,[H.$position,0].concat(M)),oe=this.length):oe=[].push.apply(this,M)}else{if(Y(Ce,"$push.$each.length",0)>0&&null!=Ce.$push.$position)throw new T("Cannot call `Array#push()` multiple times with different `$position`");H=M,oe=[].push.apply(this,M)}return this._registerAtomic("$push",H),this._markModified(),oe}},{key:"remove",value:function(){return this.pull.apply(this,arguments)}},{key:"set",value:function(M,H){var L=this._cast(H,M);return this[M]=L,this._markModified(M),this}},{key:"shift",value:function(){var M=[].shift.call(this);return this._registerAtomic("$set",this),this._markModified(),M}},{key:"sort",value:function(){var M=[].sort.apply(this,arguments);return this._registerAtomic("$set",this),M}},{key:"splice",value:function(){var M;if(j(this,Array.prototype.slice.call(arguments,2)),arguments.length){var H;if(null==this[W])H=arguments;else{H=[];for(var L=0;L<arguments.length;++L)H[L]=L<2?arguments[L]:this._cast(arguments[L],arguments[0]+(L-2))}M=[].splice.apply(this,H),this._registerAtomic("$set",this)}return M}},{key:"slice",value:function(){var M=O(l(N.prototype),"slice",this).apply(this,arguments);return M[P]=this[P],M[W]=this[W],M[U]=this[U],M[G]=this[G],M[X]=!0,M}},{key:"filter",value:function(){var M=O(l(N.prototype),"filter",this).apply(this,arguments);return M[P]=this[P],M[W]=this[W],M[U]=this[U],M[G]=this[G],M}},{key:"toBSON",value:function(){return this.toObject(B)}},{key:"toObject",value:function(M){return M&&M.depopulate?((M=F.clone(M))._isNested=!0,[].concat(this).map(function(H){return H instanceof _?H.toObject(M):H})):[].concat(this)}},{key:"unshift",value:function(){var M;return j(this,arguments),null==this[W]?M=arguments:(M=[].map.call(arguments,this._cast,this),M=this[W].applySetters(M,this[P])),[].unshift.apply(this,M),this._registerAtomic("$set",this),this._markModified(),this.length}}])&&function I(pe,he){for(var J=0;J<he.length;J++){var Ee=he[J];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(pe,S(Ee.key),Ee)}}(Ee.prototype,te),Object.defineProperty(Ee,"prototype",{writable:!1}),N}(h(Array));function j(pe,he){var J,Ee,te,ce=null==pe?null:Y(pe[W],"caster.options.ref",null);0===pe.length&&he.length>0&&function(ue,N){if(!N)return!1;var M,H=function x(pe,he){var J="undefined"!=typeof Symbol&&pe[Symbol.iterator]||pe["@@iterator"];if(!J){if(Array.isArray(pe)||(J=function(M,H){if(M){if("string"==typeof M)return V(M,H);var L=Object.prototype.toString.call(M).slice(8,-1);if("Object"===L&&M.constructor&&(L=M.constructor.name),"Map"===L||"Set"===L)return Array.from(M);if("Arguments"===L||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return V(M,H)}}(pe))||he&&pe&&"number"==typeof pe.length){J&&(pe=J);var Ee=0,te=function(){};return{s:te,n:function(){return Ee>=pe.length?{done:!0}:{done:!1,value:pe[Ee++]}},e:function(M){throw M},f:te}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ce,ue=!0,N=!1;return{s:function(){J=J.call(pe)},n:function(){var M=J.next();return ue=M.done,M},e:function(M){N=!0,ce=M},f:function(){try{ue||null==J.return||J.return()}finally{if(N)throw ce}}}}(ue);try{for(H.s();!(M=H.n()).done;){var L=M.value;if(null==L)return!1;var oe=L.constructor;if(!(L instanceof _)||oe.modelName!==N&&oe.baseModelName!==N)return!1}}catch(fe){H.e(fe)}finally{H.f()}return!0}(he,ce)&&pe[P].populated(pe[G],[],(J={},te=he[0].constructor,(Ee=S(Ee=ne))in J?Object.defineProperty(J,Ee,{value:te,enumerable:!0,configurable:!0,writable:!0}):J[Ee]=te,J))}R.inspect.custom&&(Z.prototype[R.inspect.custom]=Z.prototype.inspect),le.exports=Z}).call(this,c(2).Buffer)},function(le,q,c){"use strict";le.exports=function(p,C,x){var V=(x=x||{}).skipDocArrays,D=0;if(!p)return D;for(var I=0,S=Object.keys(p.$__.activePaths.states.modify);I<S.length;I++){var O=S[I];if(V){var v=p.$__schema.path(O);if(v&&v.$isMongooseDocumentArray)continue}O.startsWith(C+".")&&(delete p.$__.activePaths.states.modify[O],++D)}return D}},function(le,q,c){"use strict";var p=c(15).get().Binary,C=c(1),x=c(64).Buffer;function V(S,O,v){var y,h,f,g,u,l=arguments.length;return y=0===l||null==arguments[0]?0:S,Array.isArray(O)?(f=O[0],g=O[1]):h=O,u="number"==typeof y||y instanceof Number?x.alloc(y):x.from(y,h,v),C.decorate(u,V.mixin),u.isMongooseBuffer=!0,u[V.pathSymbol]=f,u[I]=g,u._subtype=0,u}var D=Symbol.for("mongoose#Buffer#_path"),I=Symbol.for("mongoose#Buffer#_parent");V.pathSymbol=D,V.mixin={_subtype:void 0,_markModified:function(){var S=this[I];return S&&S.markModified(this[V.pathSymbol]),this},write:function(){var S=x.prototype.write.apply(this,arguments);return S>0&&this._markModified(),S},copy:function(S){var O=x.prototype.copy.apply(this,arguments);return S&&S.isMongooseBuffer&&S._markModified(),O}},"writeUInt8 writeUInt16 writeUInt32 writeInt8 writeInt16 writeInt32 writeFloat writeDouble fill utf8Write binaryWrite asciiWrite set writeUInt16LE writeUInt16BE writeUInt32LE writeUInt32BE writeInt16LE writeInt16BE writeInt32LE writeInt32BE writeFloatLE writeFloatBE writeDoubleLE writeDoubleBE".split(" ").forEach(function(S){x.prototype[S]&&(V.mixin[S]=function(){var O=x.prototype[S].apply(this,arguments);return this._markModified(),O})}),V.mixin.toObject=function(S){var O="number"==typeof S?S:this._subtype||0;return new p(x.from(this),O)},V.mixin.toBSON=function(){return new p(this,this._subtype||0)},V.mixin.equals=function(S){if(!x.isBuffer(S)||this.length!==S.length)return!1;for(var O=0;O<this.length;++O)if(this[O]!==S[O])return!1;return!0},V.mixin.subtype=function(S){if("number"!=typeof S)throw new TypeError("Invalid subtype. Expected a number");this._subtype!==S&&this._markModified(),this._subtype=S},V.Binary=p,le.exports=V},function(le,q,c){"use strict";var p=c(15).get().ObjectId,C=c(23);le.exports=function(x){if(null==x||x instanceof p)return x;if(x._id){if(x._id instanceof p)return x._id;if(x._id.toString instanceof Function)return new p(x._id.toString())}if(x.toString instanceof Function)return new p(x.toString());C.ok(!1)}},function(le,q,c){"use strict";function p(U){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(U)}function C(U,P){var G="undefined"!=typeof Symbol&&U[Symbol.iterator]||U["@@iterator"];if(!G){if(Array.isArray(U)||(G=function(Z,j){if(Z){if("string"==typeof Z)return x(Z,j);var pe=Object.prototype.toString.call(Z).slice(8,-1);if("Object"===pe&&Z.constructor&&(pe=Z.constructor.name),"Map"===pe||"Set"===pe)return Array.from(Z);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return x(Z,j)}}(U))||P&&U&&"number"==typeof U.length){G&&(U=G);var W=0,ne=function(){};return{s:ne,n:function(){return W>=U.length?{done:!0}:{done:!1,value:U[W++]}},e:function(Z){throw Z},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X,z=!0,Q=!1;return{s:function(){G=G.call(U)},n:function(){var Z=G.next();return z=Z.done,Z},e:function(Z){Q=!0,X=Z},f:function(){try{z||null==G.return||G.return()}finally{if(Q)throw X}}}}function x(U,P){(null==P||P>U.length)&&(P=U.length);for(var G=0,W=new Array(P);G<P;G++)W[G]=U[G];return W}function D(){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(U,P,G){var W=I(U,P);if(W){var ne=Object.getOwnPropertyDescriptor(W,P);return ne.get?ne.get.call(arguments.length<3?U:G):ne.value}}).apply(this,arguments)}function I(U,P){for(;!Object.prototype.hasOwnProperty.call(U,P)&&null!==(U=f(U)););return U}function S(U,P){if(P&&("object"===p(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(U)}function O(U){var P="function"==typeof Map?new Map:void 0;return(O=function(G){if(null===G||-1===Function.toString.call(G).indexOf("[native code]"))return G;if("function"!=typeof G)throw new TypeError("Super expression must either be null or a function");if(void 0!==P){if(P.has(G))return P.get(G);P.set(G,ne)}function ne(){return v(G,arguments,f(this).constructor)}return ne.prototype=Object.create(G.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),h(ne,G)})(U)}function v(U,P,G){return(v=y()?Reflect.construct.bind():function(W,ne,X){var z=[null];z.push.apply(z,ne);var Q=new(Function.bind.apply(W,z));return X&&h(Q,X.prototype),Q}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(U){return!1}}function h(U,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,W){return G.__proto__=W,G})(U,P)}function f(U){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(U)}var g=c(28),u=c(11),l=c(26),_=c(1).deepEqual,m=c(3),T=c(24),A=c(91),$=c(4),Y=c(51),B=c(0).populateModelSymbol,F=function(U){!function(Z,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(j&&j.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),j&&h(Z,j)}(Q,U);var P,G,W,ne,z=(P=Q,G=y(),function(){var Z,j=f(P);if(G){var pe=f(this).constructor;Z=Reflect.construct(j,arguments,pe)}else Z=j.apply(this,arguments);return S(this,Z)});function Q(Z,j,pe,he){var J;return function(Ee,te){if(!(Ee instanceof te))throw new TypeError("Cannot call a class as a function")}(this,Q),"Object"===T(Z)&&(Z=Object.keys(Z).reduce(function(Ee,te){return Ee.concat([[te,Z[te]]])},[])),(J=z.call(this,Z)).$__parent=null!=pe&&null!=pe.$__?pe:null,J.$__path=j,J.$__schemaType=null==he?new g(j):he,J.$__runDeferred(),J}return W=Q,(ne=[{key:"$init",value:function(Z,j){R(Z),D(f(Q.prototype),"set",this).call(this,Z,j),null!=j&&j.$isSingleNested&&(j.$basePath=this.$__path+"."+Z)}},{key:"$__set",value:function(Z,j){D(f(Q.prototype),"set",this).call(this,Z,j)}},{key:"get",value:function(Z,j){return Z instanceof u&&(Z=Z.toString()),!1===(j=j||{}).getters?D(f(Q.prototype),"get",this).call(this,Z):this.$__schemaType.applyGetters(D(f(Q.prototype),"get",this).call(this,Z),this.$__parent)}},{key:"set",value:function(Z,j){if(Z instanceof u&&(Z=Z.toString()),R(Z),j=A(j),null==this.$__schemaType)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:Z,value:j});var pe=this.$__path+"."+Z,he=null!=this.$__parent&&this.$__parent.$__?this.$__parent.populated(pe)||this.$__parent.populated(this.$__path):null,J=this.get(Z);if(null!=he)null==j.$__&&(j=new he.options[B](j)),j.$__.wasPopulated=!0;else try{j=this.$__schemaType.applySetters(j,this.$__parent,!1,this.get(Z),{path:pe})}catch(te){if(null!=this.$__parent&&null!=this.$__parent.$__)return void this.$__parent.invalidate(pe,te);throw te}D(f(Q.prototype),"set",this).call(this,Z,j),null!=j&&j.$isSingleNested&&(j.$basePath=this.$__path+"."+Z);var Ee=this.$__parent;null==Ee||null==Ee.$__||_(j,J)||Ee.markModified(this.$__path+"."+Z)}},{key:"clear",value:function(){D(f(Q.prototype),"clear",this).call(this);var Z=this.$__parent;null!=Z&&Z.markModified(this.$__path)}},{key:"delete",value:function(Z){Z instanceof u&&(Z=Z.toString()),this.set(Z,void 0),D(f(Q.prototype),"delete",this).call(this,Z)}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(Z){if(m(Z,"flattenMaps")){var j,pe={},he=C(this.keys());try{for(he.s();!(j=he.n()).done;){var J=j.value;pe[J]=l(this.get(J))}}catch(Ee){he.e(Ee)}finally{he.f()}return pe}return new Map(this)}},{key:"toJSON",value:function(){var Z,j={},pe=C(this.keys());try{for(pe.s();!(Z=pe.n()).done;){var he=Z.value;j[he]=this.get(he)}}catch(J){pe.e(J)}finally{pe.f()}return j}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var Z,j=C(this.$__deferred);try{for(j.s();!(Z=j.n()).done;){var pe=Z.value;this.set(pe.key,pe.value)}}catch(he){j.e(he)}finally{j.f()}this.$__deferred=null}}}])&&function V(U,P){for(var G=0;G<P.length;G++){var W=P[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(U,(X=function(z,Q){if("object"!==p(z)||null===z)return z;var Z=z[Symbol.toPrimitive];if(void 0!==Z){var j=Z.call(z,"string");if("object"!==p(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(W.key),"symbol"===p(X)?X:String(X)),W)}var X}(W.prototype,ne),Object.defineProperty(W,"prototype",{writable:!1}),Q}(O(Map));function R(U){var P=p(U);if("string"!==P)throw new TypeError("Mongoose maps only support string keys, got ".concat(P));if(U.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(U,'"'));if(U.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(U,'"'));if(Y.has(U))throw new Error('Mongoose maps do not support reserved key name "'.concat(U,'"'))}$.inspect.custom&&Object.defineProperty(F.prototype,$.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:F.prototype.inspect}),Object.defineProperty(F.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(F.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),le.exports=F},function(le,q,c){"use strict";var p=c(1);le.exports=function(C){return p.isPOJO(C)&&null!=C.$__&&null!=C._doc?C._doc:C}},function(le,q,c){"use strict";function C(v,y){(null==y||y>v.length)&&(y=v.length);for(var h=0,f=new Array(y);h<y;h++)f[h]=v[h];return f}var x=c(12),V=c(22),D=c(17).internalToObjectOptions,I=c(27),S=c(0).documentArrayParent;function O(v,y,h,f,g){var u=this;this.$isSingleNested=!0,null!=g&&null!=g.path&&(this.$basePath=g.path);var l=null!=g&&g.priorDoc,_=null;if(l&&(this._doc=Object.assign({},g.priorDoc._doc),delete this._doc[this.$__schema.options.discriminatorKey],_=Object.keys(g.priorDoc._doc||{}).filter(function(B){return B!==u.$__schema.options.discriminatorKey})),null!=h&&(g=Object.assign({},g,{isNew:h.isNew,defaults:h.$__.$options.defaults})),x.call(this,v,y,f,g),l){var m,T=function p(v,y){var h="undefined"!=typeof Symbol&&v[Symbol.iterator]||v["@@iterator"];if(!h){if(Array.isArray(v)||(h=function(m,T){if(m){if("string"==typeof m)return C(m,T);var A=Object.prototype.toString.call(m).slice(8,-1);if("Object"===A&&m.constructor&&(A=m.constructor.name),"Map"===A||"Set"===A)return Array.from(m);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return C(m,T)}}(v))||y&&v&&"number"==typeof v.length){h&&(v=h);var f=0,g=function(){};return{s:g,n:function(){return f>=v.length?{done:!0}:{done:!1,value:v[f++]}},e:function(m){throw m},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,_=!1;return{s:function(){h=h.call(v)},n:function(){var m=h.next();return l=m.done,m},e:function(m){_=!0,u=m},f:function(){try{l||null==h.return||h.return()}finally{if(_)throw u}}}}(_);try{for(T.s();!(m=T.n()).done;){var A=m.value;if(!this.$__.activePaths.states.modify[A]&&!this.$__.activePaths.states.default[A]&&!this.$__.$setCalled.has(A)){var $=this.$__schema.path(A),Y=null==$?void 0:$.getDefault(this);void 0===Y?delete this._doc[A]:(this._doc[A]=Y,this.$__.activePaths.default(A))}}}catch(B){T.e(B)}finally{T.f()}delete g.priorDoc,delete this.$__.$options.priorDoc}}le.exports=O,(O.prototype=Object.create(x.prototype)).toBSON=function(){return this.toObject(D)},O.prototype.save=function(v,y){var h=this;return"function"==typeof v&&(y=v,v={}),(v=v||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),I(y,function(f){h.$__save(f)})},O.prototype.$__save=function(v){var y=this;return V(function(){return v(null,y)})},O.prototype.$isValid=function(v){return this.$__parent&&this.$basePath?this.$__parent.$isValid([this.$basePath,v].join(".")):x.prototype.$isValid.call(this,v)},O.prototype.markModified=function(v){if(x.prototype.markModified.call(this,v),this.$__parent&&this.$basePath){if(this.$__parent.isDirectModified(this.$basePath))return;this.$__parent.markModified([this.$basePath,v].join("."),this)}},O.prototype.isModified=function(v,y){var h=this;return this.$__parent&&this.$basePath?Array.isArray(v)||"string"==typeof v?(v=(v=Array.isArray(v)?v:v.split(" ")).map(function(f){return[h.$basePath,f].join(".")}),this.$__parent.isModified(v,y)):this.$__parent.isModified(this.$basePath):x.prototype.isModified.call(this,v,y)},O.prototype.$markValid=function(v){x.prototype.$markValid.call(this,v),this.$__parent&&this.$basePath&&this.$__parent.$markValid([this.$basePath,v].join("."))},O.prototype.invalidate=function(v,y,h){if(y!==this.ownerDocument().$__.validationError&&x.prototype.invalidate.call(this,v,y,h),this.$__parent&&this.$basePath)this.$__parent.invalidate([this.$basePath,v].join("."),y,h);else if("cast"===y.kind||"CastError"===y.name)throw y;return this.ownerDocument().$__.validationError},O.prototype.$ignore=function(v){x.prototype.$ignore.call(this,v),this.$__parent&&this.$basePath&&this.$__parent.$ignore([this.$basePath,v].join("."))},O.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var v=this.$__parent;if(!v)return this;for(;v.$__parent||v[S];)v=v.$__parent||v[S];return this.$__.ownerDocument=v,this.$__.ownerDocument},O.prototype.$parent=O.prototype.parent=function(){return this.$__parent},O.prototype.$__remove=function(v){return v(null,this)},O.prototype.remove=function(v,y){"function"==typeof v&&(y=v,v=null),function(h){var f=h.ownerDocument();function g(){f.removeListener("save",g),f.removeListener("remove",g),h.emit("remove",h),h.constructor.emit("remove",h),f=h=null}f.on("save",g),f.on("remove",g)}(this),v&&v.noop||this.$__parent.set(this.$basePath,null),"function"==typeof y&&y(null)},O.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')}},function(le,q,c){"use strict";function p(O,v){var y="undefined"!=typeof Symbol&&O[Symbol.iterator]||O["@@iterator"];if(!y){if(Array.isArray(O)||(y=function(_,m){if(_){if("string"==typeof _)return C(_,m);var T=Object.prototype.toString.call(_).slice(8,-1);if("Object"===T&&_.constructor&&(T=_.constructor.name),"Map"===T||"Set"===T)return Array.from(_);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return C(_,m)}}(O))||v&&O&&"number"==typeof O.length){y&&(O=y);var h=0,f=function(){};return{s:f,n:function(){return h>=O.length?{done:!0}:{done:!1,value:O[h++]}},e:function(_){throw _},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,u=!0,l=!1;return{s:function(){y=y.call(O)},n:function(){var _=y.next();return u=_.done,_},e:function(_){l=!0,g=_},f:function(){try{u||null==y.return||y.return()}finally{if(l)throw g}}}}function C(O,v){(null==v||v>O.length)&&(v=O.length);for(var y=0,h=new Array(v);y<v;y++)h[y]=O[y];return h}var x=c(28),V=c(58).defineKey,D=c(3),I=c(1),S={toJSON:!0,toObject:!0,_id:!0,id:!0};le.exports=function(O,v,y,h,f){if(!y||!y.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(O.schema.discriminatorMapping&&!O.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+v+'" can only be a discriminator of the root model');if(f){var g=D(O.base,"options.applyPluginsToDiscriminators",!1);O.base._applyPlugins(y,{skipTopLevel:!g})}var u=O.schema.options.discriminatorKey,l=O.schema.path(u);if(null!=l)I.hasUserDefinedProperty(l.options,"select")||(l.options.select=!0),l.options.$skipDiscriminatorCheck=!0;else{var _={};_[u]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},_[u][O.schema.options.typeKey]=String,O.schema.add(_),V(u,null,O.prototype,null,[u],O.schema.options)}if(y.path(u)&&!0!==y.path(u).options.$skipDiscriminatorCheck)throw new Error('Discriminator "'+v+'" cannot have field with name "'+u+'"');var m=v;if(("string"==typeof h&&h.length||null!=h)&&(m=h),function(T,A){T._baseSchema=A,A.paths._id&&A.paths._id.options&&!A.paths._id.options.auto&&T.remove("_id");for(var $=[],Y=0,B=Object.keys(A.paths);Y<B.length;Y++){var F=B[Y];if(T.nested[F])$.push(F);else if(-1!==F.indexOf(".")){var R,U="",P=p(F.split(".").slice(0,-1));try{for(P.s();!(R=P.n()).done;)(T.paths[U+=(U.length?".":"")+R.value]instanceof x||T.singleNestedPaths[U]instanceof x)&&$.push(F)}catch(ce){P.e(ce)}finally{P.f()}}}I.merge(T,A,{isDiscriminatorSchemaMerge:!0,omit:{discriminators:!0,base:!0},omitNested:$.reduce(function(ce,ue){return ce["tree."+ue]=!0,ce},{})});for(var W=0,ne=$;W<ne.length;W++)delete T.paths[ne[W]];T.childSchemas.forEach(function(ce){ce.model.prototype.$__setSchema(ce.schema)});var z={};z[u]={default:m,select:!0,set:function(ce){if(ce===m||Array.isArray(m)&&I.deepEqual(ce,m))return m;throw new Error("Can't set discriminator key \""+u+'"')},$skipDiscriminatorCheck:!0},z[u][T.options.typeKey]=l?l.options[T.options.typeKey]:String,T.add(z),T.discriminatorMapping={key:u,value:m,isRoot:!1},A.options.collection&&(T.options.collection=A.options.collection);var Q=T.options.toJSON,Z=T.options.toObject,j=T.options._id,pe=T.options.id,he=Object.keys(T.options);T.options.discriminatorKey=A.options.discriminatorKey;for(var J=0,Ee=he;J<Ee.length;J++){var te=Ee[J];if(!S[te]){if("pluralization"===te&&1==T.options[te]&&null==A.options[te])continue;if(!I.deepEqual(T.options[te],A.options[te]))throw new Error("Can't customize discriminator option "+te+" (can only modify "+Object.keys(S).join(", ")+")")}}T.options=I.clone(A.options),Q&&(T.options.toJSON=Q),Z&&(T.options.toObject=Z),void 0!==j&&(T.options._id=j),T.options.id=pe,T.s.hooks=O.schema.s.hooks.merge(T.s.hooks),T.plugins=Array.prototype.slice.call(A.plugins),T.callQueue=A.callQueue.concat(T.callQueue),delete T._requiredpaths}(y,O.schema),O.discriminators||(O.discriminators={}),O.schema.discriminatorMapping||(O.schema.discriminatorMapping={key:u,value:null,isRoot:!0}),O.schema.discriminators||(O.schema.discriminators={}),O.schema.discriminators[v]=y,O.discriminators[v])throw new Error('Discriminator with name "'+v+'" already exists');return y}},function(le,q,c){"use strict";var p=c(76);le.exports=function(C,x){return null==x||null==x._id||(C=C.clone(),x._id?C.paths._id||(p(C),C.options._id=!0):(C.remove("_id"),C.options._id=!1)),C}},function(le,q,c){"use strict";var p=c(37);le.exports=function(C,x){var V=C.schema.options.discriminatorKey;if(null!=x&&C.discriminators&&null!=x[V])if(C.discriminators[x[V]])C=C.discriminators[x[V]];else{var D=p(C.discriminators,x[V]);D&&(C=D)}return C}},function(le,q,c){"use strict";le.exports=c(97)},function(le,q,c){"use strict";(function(p){function C(y){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===C(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}c(15).set(c(101));var O=c(62),v=c(68);O.setBrowser(!0),Object.defineProperty(q,"Promise",{get:function(){return v.get()},set:function(y){v.set(y)}}),q.PromiseProvider=v,q.Error=c(5),q.Schema=c(54),q.Types=c(38),q.VirtualType=c(55),q.SchemaType=c(6),q.utils=c(1),q.Document=O(),q.model=function(y,h){var f=function(g){!function(A,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create($&&$.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),$&&V(A,$)}(T,g);var u,m=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(T);function T(A,$){return function(Y,B){if(!(Y instanceof B))throw new TypeError("Cannot call a class as a function")}(this,T),m.call(this,A,h,$)}return u=T,Object.defineProperty(u,"prototype",{writable:!1}),u}(q.Document);return f.modelName=y,f},"undefined"!=typeof window&&(window.mongoose=le.exports,window.Buffer=p)}).call(this,c(2).Buffer)},function(le,q,c){"use strict";q.byteLength=function(v){var y=S(v),f=y[1];return 3*(y[0]+f)/4-f},q.toByteArray=function(v){var y,h,$,f=S(v),g=f[0],u=f[1],l=new x(3*(g+($=u))/4-$),_=0,m=u>0?g-4:g;for(h=0;h<m;h+=4)y=C[v.charCodeAt(h)]<<18|C[v.charCodeAt(h+1)]<<12|C[v.charCodeAt(h+2)]<<6|C[v.charCodeAt(h+3)],l[_++]=y>>16&255,l[_++]=y>>8&255,l[_++]=255&y;return 2===u&&(y=C[v.charCodeAt(h)]<<2|C[v.charCodeAt(h+1)]>>4,l[_++]=255&y),1===u&&(y=C[v.charCodeAt(h)]<<10|C[v.charCodeAt(h+1)]<<4|C[v.charCodeAt(h+2)]>>2,l[_++]=y>>8&255,l[_++]=255&y),l},q.fromByteArray=function(v){for(var y,h=v.length,f=h%3,g=[],u=0,l=h-f;u<l;u+=16383)g.push(O(v,u,u+16383>l?l:u+16383));return 1===f?g.push(p[(y=v[h-1])>>2]+p[y<<4&63]+"=="):2===f&&g.push(p[(y=(v[h-2]<<8)+v[h-1])>>10]+p[y>>4&63]+p[y<<2&63]+"="),g.join("")};for(var p=[],C=[],x="undefined"!=typeof Uint8Array?Uint8Array:Array,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,I=V.length;D<I;++D)p[D]=V[D],C[V.charCodeAt(D)]=D;function S(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=v.indexOf("=");return-1===h&&(h=y),[h,h===y?0:4-h%4]}function O(v,y,h){for(var g,u=[],l=y;l<h;l+=3)u.push(p[(g=(v[l]<<16&16711680)+(v[l+1]<<8&65280)+(255&v[l+2]))>>18&63]+p[g>>12&63]+p[g>>6&63]+p[63&g]);return u.join("")}C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63},function(le,q){q.read=function(c,p,C,x,V){var D,I,S=8*V-x-1,O=(1<<S)-1,v=O>>1,y=-7,h=C?V-1:0,f=C?-1:1,g=c[p+h];for(h+=f,D=g&(1<<-y)-1,g>>=-y,y+=S;y>0;D=256*D+c[p+h],h+=f,y-=8);for(I=D&(1<<-y)-1,D>>=-y,y+=x;y>0;I=256*I+c[p+h],h+=f,y-=8);if(0===D)D=1-v;else{if(D===O)return I?NaN:1/0*(g?-1:1);I+=Math.pow(2,x),D-=v}return(g?-1:1)*I*Math.pow(2,D-x)},q.write=function(c,p,C,x,V,D){var I,S,O,v=8*D-V-1,y=(1<<v)-1,h=y>>1,f=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,g=x?0:D-1,u=x?1:-1,l=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(S=isNaN(p)?1:0,I=y):(I=Math.floor(Math.log(p)/Math.LN2),p*(O=Math.pow(2,-I))<1&&(I--,O*=2),(p+=I+h>=1?f/O:f*Math.pow(2,1-h))*O>=2&&(I++,O/=2),I+h>=y?(S=0,I=y):I+h>=1?(S=(p*O-1)*Math.pow(2,V),I+=h):(S=p*Math.pow(2,h-1)*Math.pow(2,V),I=0));V>=8;c[C+g]=255&S,g+=u,S/=256,V-=8);for(I=I<<V|S,v+=V;v>0;c[C+g]=255&I,g+=u,I/=256,v-=8);c[C+g-u]|=128*l}},function(le,q){var c={}.toString;le.exports=Array.isArray||function(p){return"[object Array]"==c.call(p)}},function(le,q,c){"use strict";q.Binary=c(102),q.Collection=function(){throw new Error("Cannot create a collection from browser library")},q.getConnection=function(){return function(){throw new Error("Cannot create a connection from browser library")}},q.Decimal128=c(109),q.ObjectId=c(110),q.ReadPreference=c(111)},function(le,q,c){"use strict";var p=c(39).Binary;le.exports=p},function(le,q){function c(p){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(p)}le.exports=function(p){return p&&"object"===c(p)&&"function"==typeof p.copy&&"function"==typeof p.fill&&"function"==typeof p.readUInt8}},function(le,q){le.exports="function"==typeof Object.create?function(c,p){c.super_=p,c.prototype=Object.create(p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,p){c.super_=p;var C=function(){};C.prototype=p.prototype,c.prototype=new C,c.prototype.constructor=c}},function(module,exports,__nested_webpack_require_423678__){"use strict";var Long=__nested_webpack_require_423678__(25).Long,Double=__nested_webpack_require_423678__(40).Double,Timestamp=__nested_webpack_require_423678__(41).Timestamp,ObjectID=__nested_webpack_require_423678__(42).ObjectID,_Symbol=__nested_webpack_require_423678__(44).Symbol,Code=__nested_webpack_require_423678__(45).Code,MinKey=__nested_webpack_require_423678__(47).MinKey,MaxKey=__nested_webpack_require_423678__(48).MaxKey,Decimal128=__nested_webpack_require_423678__(46),Int32=__nested_webpack_require_423678__(61),DBRef=__nested_webpack_require_423678__(49).DBRef,BSONRegExp=__nested_webpack_require_423678__(43).BSONRegExp,Binary=__nested_webpack_require_423678__(30).Binary,utils=__nested_webpack_require_423678__(16),deserialize=function(le,q,c){var p=(q=null==q?{}:q)&&q.index?q.index:0,C=le[p]|le[p+1]<<8|le[p+2]<<16|le[p+3]<<24;if(C<5||le.length<C||C+p>le.length)throw new Error("corrupt bson message");if(0!==le[p+C-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(le,p,q,c)},deserializeObject=function le(q,c,p,C){var x=null!=p.evalFunctions&&p.evalFunctions,V=null!=p.cacheFunctions&&p.cacheFunctions,D=null!=p.cacheFunctionsCrc32&&p.cacheFunctionsCrc32;if(!D)var I=null;var S=null==p.fieldsAsRaw?null:p.fieldsAsRaw,O=null!=p.raw&&p.raw,v="boolean"==typeof p.bsonRegExp&&p.bsonRegExp,y=null!=p.promoteBuffers&&p.promoteBuffers,h=null==p.promoteLongs||p.promoteLongs,f=null==p.promoteValues||p.promoteValues,g=c;if(q.length<5)throw new Error("corrupt bson message < 5 bytes long");var u=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if(u<5||u>q.length)throw new Error("corrupt bson message");for(var l=C?[]:{},_=0;;){var m=q[c++];if(0===m)break;for(var T=c;0!==q[T]&&T<q.length;)T++;if(T>=q.length)throw new Error("Bad BSON Document: illegal CString");var A=C?_++:q.toString("utf8",c,T);if(c=T+1,m===BSON.BSON_DATA_STRING){var $=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if($<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");l[A]=q.toString("utf8",c,c+$-1),c+=$}else if(m===BSON.BSON_DATA_OID){var Y=utils.allocBuffer(12);q.copy(Y,0,c,c+12),l[A]=new ObjectID(Y),c+=12}else if(m===BSON.BSON_DATA_INT&&!1===f)l[A]=new Int32(q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24);else if(m===BSON.BSON_DATA_INT)l[A]=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;else if(m===BSON.BSON_DATA_NUMBER&&!1===f)l[A]=new Double(q.readDoubleLE(c)),c+=8;else if(m===BSON.BSON_DATA_NUMBER)l[A]=q.readDoubleLE(c),c+=8;else if(m===BSON.BSON_DATA_DATE){var B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;l[A]=new Date(new Long(B,F).toNumber())}else if(m===BSON.BSON_DATA_BOOLEAN){if(0!==q[c]&&1!==q[c])throw new Error("illegal boolean type value");l[A]=1===q[c++]}else if(m===BSON.BSON_DATA_OBJECT){var R=c,U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24;if(U<=0||U>q.length-c)throw new Error("bad embedded document length in bson");l[A]=O?q.slice(c,c+U):le(q,R,p,!1),c+=U}else if(m===BSON.BSON_DATA_ARRAY){R=c;var P=p,G=c+(U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24);if(S&&S[A]){for(var W in P={},p)P[W]=p[W];P.raw=!0}if(l[A]=le(q,R,P,!0),0!==q[(c+=U)-1])throw new Error("invalid array terminator byte");if(c!==G)throw new Error("corrupted array bson")}else if(m===BSON.BSON_DATA_UNDEFINED)l[A]=void 0;else if(m===BSON.BSON_DATA_NULL)l[A]=null;else if(m===BSON.BSON_DATA_LONG){B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;var ne=new Long(B,F);l[A]=h&&!0===f&&ne.lessThanOrEqual(JS_INT_MAX_LONG)&&ne.greaterThanOrEqual(JS_INT_MIN_LONG)?ne.toNumber():ne}else if(m===BSON.BSON_DATA_DECIMAL128){var X=utils.allocBuffer(16);q.copy(X,0,c,c+16),c+=16;var z=new Decimal128(X);l[A]=z.toObject?z.toObject():z}else if(m===BSON.BSON_DATA_BINARY){var Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,Z=Q,j=q[c++];if(Q<0)throw new Error("Negative binary type element size found");if(Q>q.length)throw new Error("Binary type size larger than document size");if(null!=q.slice){if(j===Binary.SUBTYPE_BYTE_ARRAY){if((Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(Q>Z-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(Q<Z-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}l[A]=y&&f?q.slice(c,c+Q):new Binary(q.slice(c,c+Q),j)}else{var pe="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(Q)):new Array(Q);if(j===Binary.SUBTYPE_BYTE_ARRAY){if((Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(Q>Z-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(Q<Z-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(T=0;T<Q;T++)pe[T]=q[c+T];l[A]=y&&f?pe:new Binary(pe,j)}c+=Q}else if(m===BSON.BSON_DATA_REGEXP&&!1===v){for(T=c;0!==q[T]&&T<q.length;)T++;if(T>=q.length)throw new Error("Bad BSON Document: illegal CString");var he=q.toString("utf8",c,T);for(T=c=T+1;0!==q[T]&&T<q.length;)T++;if(T>=q.length)throw new Error("Bad BSON Document: illegal CString");var J=q.toString("utf8",c,T);c=T+1;var Ee=new Array(J.length);for(T=0;T<J.length;T++)switch(J[T]){case"m":Ee[T]="m";break;case"s":Ee[T]="g";break;case"i":Ee[T]="i"}l[A]=new RegExp(he,Ee.join(""))}else if(m===BSON.BSON_DATA_REGEXP&&!0===v){for(T=c;0!==q[T]&&T<q.length;)T++;if(T>=q.length)throw new Error("Bad BSON Document: illegal CString");for(he=q.toString("utf8",c,T),T=c=T+1;0!==q[T]&&T<q.length;)T++;if(T>=q.length)throw new Error("Bad BSON Document: illegal CString");J=q.toString("utf8",c,T),c=T+1,l[A]=new BSONRegExp(he,J)}else if(m===BSON.BSON_DATA_SYMBOL){if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");l[A]=new _Symbol(q.toString("utf8",c,c+$-1)),c+=$}else if(m===BSON.BSON_DATA_TIMESTAMP)B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,l[A]=new Timestamp(B,F);else if(m===BSON.BSON_DATA_MIN_KEY)l[A]=new MinKey;else if(m===BSON.BSON_DATA_MAX_KEY)l[A]=new MaxKey;else if(m===BSON.BSON_DATA_CODE){if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");var te=q.toString("utf8",c,c+$-1);if(x)if(V){var ce=D?I(te):te;l[A]=isolateEvalWithHash(functionCache,ce,te,l)}else l[A]=isolateEval(te);else l[A]=new Code(te);c+=$}else if(m===BSON.BSON_DATA_CODE_W_SCOPE){var ue=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if(ue<13)throw new Error("code_w_scope total size shorter minimum expected length");if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");te=q.toString("utf8",c,c+$-1),R=c+=$,U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24;var N=le(q,R,p,!1);if(c+=U,ue<8+U+$)throw new Error("code_w_scope total size is to short, truncating scope");if(ue>8+U+$)throw new Error("code_w_scope total size is to long, clips outer document");x?(V?(ce=D?I(te):te,l[A]=isolateEvalWithHash(functionCache,ce,te,l)):l[A]=isolateEval(te),l[A].scope=N):l[A]=new Code(te,N)}else{if(m!==BSON.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+m.toString(16)+' for fieldname "'+A+'", are you using the latest BSON parser');if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");var M=q.toString("utf8",c,c+$-1);c+=$;var H=utils.allocBuffer(12);q.copy(H,0,c,c+12),Y=new ObjectID(H),c+=12;var L=M.split("."),oe=L.shift(),fe=L.join(".");l[A]=new DBRef(fe,Y,oe)}}if(u!==c-g)throw C?new Error("corrupt array bson"):new Error("corrupt object bson");return null!=l.$id&&(l=new DBRef(l.$ref,l.$id,l.$db)),l},isolateEvalWithHash=function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function isolateEval(functionString){var value=null;return eval("value = "+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize},function(le,q,c){"use strict";(function(p){function C(j){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(j)}var x=c(107).writeIEEE754,V=c(25).Long,D=c(60),I=c(30).Binary,S=c(16).normalizedFunctionString,O=/\x00/,v=["$db","$ref","$id","$clusterTime"],y=function(j){return"object"===C(j)&&"[object Date]"===Object.prototype.toString.call(j)},h=function(j){return"[object RegExp]"===Object.prototype.toString.call(j)},f=function(j,pe,he,J,Ee){j[J++]=Z.BSON_DATA_STRING;var te=j.write(pe,J,Ee?"ascii":"utf8");j[(J=J+te+1)-1]=0;var ce=j.write(he,J+4,"utf8");return j[J+3]=ce+1>>24&255,j[J+2]=ce+1>>16&255,j[J+1]=ce+1>>8&255,j[J]=ce+1&255,J=J+4+ce,j[J++]=0,J},g=function(j,pe,he,J,Ee){if(Math.floor(he)===he&&he>=Z.JS_INT_MIN&&he<=Z.JS_INT_MAX)if(he>=Z.BSON_INT32_MIN&&he<=Z.BSON_INT32_MAX){j[J++]=Z.BSON_DATA_INT;var te=j.write(pe,J,Ee?"ascii":"utf8");J+=te,j[J++]=0,j[J++]=255&he,j[J++]=he>>8&255,j[J++]=he>>16&255,j[J++]=he>>24&255}else if(he>=Z.JS_INT_MIN&&he<=Z.JS_INT_MAX)j[J++]=Z.BSON_DATA_NUMBER,J+=te=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,he,J,"little",52,8),J+=8;else{j[J++]=Z.BSON_DATA_LONG,J+=te=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var ce=V.fromNumber(he),ue=ce.getLowBits(),N=ce.getHighBits();j[J++]=255&ue,j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255,j[J++]=255&N,j[J++]=N>>8&255,j[J++]=N>>16&255,j[J++]=N>>24&255}else j[J++]=Z.BSON_DATA_NUMBER,J+=te=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,he,J,"little",52,8),J+=8;return J},u=function(j,pe,he,J,Ee){return j[J++]=Z.BSON_DATA_NULL,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,J},l=function(j,pe,he,J,Ee){return j[J++]=Z.BSON_DATA_BOOLEAN,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,j[J++]=he?1:0,J},_=function(j,pe,he,J,Ee){j[J++]=Z.BSON_DATA_DATE,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var te=V.fromNumber(he.getTime()),ce=te.getLowBits(),ue=te.getHighBits();return j[J++]=255&ce,j[J++]=ce>>8&255,j[J++]=ce>>16&255,j[J++]=ce>>24&255,j[J++]=255&ue,j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255,J},m=function(j,pe,he,J,Ee){if(j[J++]=Z.BSON_DATA_REGEXP,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,he.source&&null!=he.source.match(O))throw Error("value "+he.source+" must not contain null bytes");return J+=j.write(he.source,J,"utf8"),j[J++]=0,he.global&&(j[J++]=115),he.ignoreCase&&(j[J++]=105),he.multiline&&(j[J++]=109),j[J++]=0,J},T=function(j,pe,he,J,Ee){if(j[J++]=Z.BSON_DATA_REGEXP,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,null!=he.pattern.match(O))throw Error("pattern "+he.pattern+" must not contain null bytes");return J+=j.write(he.pattern,J,"utf8"),j[J++]=0,J+=j.write(he.options.split("").sort().join(""),J,"utf8"),j[J++]=0,J},A=function(j,pe,he,J,Ee){return j[J++]=null===he?Z.BSON_DATA_NULL:"MinKey"===he._bsontype?Z.BSON_DATA_MIN_KEY:Z.BSON_DATA_MAX_KEY,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,J},$=function(j,pe,he,J,Ee){if(j[J++]=Z.BSON_DATA_OID,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,"string"==typeof he.id)j.write(he.id,J,"binary");else{if(!he.id||!he.id.copy)throw new Error("object ["+JSON.stringify(he)+"] is not a valid ObjectId");he.id.copy(j,J,0,12)}return J+12},Y=function(j,pe,he,J,Ee){j[J++]=Z.BSON_DATA_BINARY,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var te=he.length;return j[J++]=255&te,j[J++]=te>>8&255,j[J++]=te>>16&255,j[J++]=te>>24&255,j[J++]=Z.BSON_BINARY_SUBTYPE_DEFAULT,he.copy(j,J,0,te),J+te},B=function(j,pe,he,J,Ee,te,ce,ue,N,M){for(var H=0;H<M.length;H++)if(M[H]===he)throw new Error("cyclic dependency detected");M.push(he),j[J++]=Array.isArray(he)?Z.BSON_DATA_ARRAY:Z.BSON_DATA_OBJECT,J+=j.write(pe,J,N?"ascii":"utf8"),j[J++]=0;var L=Q(j,he,Ee,J,te+1,ce,ue,M);return M.pop(),L},F=function(j,pe,he,J,Ee){return j[J++]=Z.BSON_DATA_DECIMAL128,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,he.bytes.copy(j,J,0,16),J+16},R=function(j,pe,he,J,Ee){j[J++]="Long"===he._bsontype?Z.BSON_DATA_LONG:Z.BSON_DATA_TIMESTAMP,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var te=he.getLowBits(),ce=he.getHighBits();return j[J++]=255&te,j[J++]=te>>8&255,j[J++]=te>>16&255,j[J++]=te>>24&255,j[J++]=255&ce,j[J++]=ce>>8&255,j[J++]=ce>>16&255,j[J++]=ce>>24&255,J},U=function(j,pe,he,J,Ee){return j[J++]=Z.BSON_DATA_INT,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,j[J++]=255&he,j[J++]=he>>8&255,j[J++]=he>>16&255,j[J++]=he>>24&255,J},P=function(j,pe,he,J,Ee){return j[J++]=Z.BSON_DATA_NUMBER,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,he,J,"little",52,8),J+8},G=function(j,pe,he,J,Ee,te,ce){j[J++]=Z.BSON_DATA_CODE,J+=j.write(pe,J,ce?"ascii":"utf8"),j[J++]=0;var ue=S(he),N=j.write(ue,J+4,"utf8")+1;return j[J]=255&N,j[J+1]=N>>8&255,j[J+2]=N>>16&255,j[J+3]=N>>24&255,J=J+4+N-1,j[J++]=0,J},W=function(j,pe,he,J,Ee,te,ce,ue,N){if(he.scope&&"object"===C(he.scope)){j[J++]=Z.BSON_DATA_CODE_W_SCOPE;var M=j.write(pe,J,N?"ascii":"utf8");J+=M,j[J++]=0;var H=J,L="string"==typeof he.code?he.code:he.code.toString(),oe=j.write(L,(J+=4)+4,"utf8")+1;j[J]=255&oe,j[J+1]=oe>>8&255,j[J+2]=oe>>16&255,j[J+3]=oe>>24&255,j[J+4+oe-1]=0;var fe=Q(j,he.scope,Ee,J=J+oe+4,te+1,ce,ue);J=fe-1;var Ce=fe-H;j[H++]=255&Ce,j[H++]=Ce>>8&255,j[H++]=Ce>>16&255,j[H++]=Ce>>24&255,j[J++]=0}else{j[J++]=Z.BSON_DATA_CODE,J+=M=j.write(pe,J,N?"ascii":"utf8"),j[J++]=0,L=he.code.toString();var Ie=j.write(L,J+4,"utf8")+1;j[J]=255&Ie,j[J+1]=Ie>>8&255,j[J+2]=Ie>>16&255,j[J+3]=Ie>>24&255,J=J+4+Ie-1,j[J++]=0}return J},ne=function(j,pe,he,J,Ee){j[J++]=Z.BSON_DATA_BINARY,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var te=he.value(!0),ce=he.position;return he.sub_type===I.SUBTYPE_BYTE_ARRAY&&(ce+=4),j[J++]=255&ce,j[J++]=ce>>8&255,j[J++]=ce>>16&255,j[J++]=ce>>24&255,j[J++]=he.sub_type,he.sub_type===I.SUBTYPE_BYTE_ARRAY&&(j[J++]=255&(ce-=4),j[J++]=ce>>8&255,j[J++]=ce>>16&255,j[J++]=ce>>24&255),te.copy(j,J,0,he.position),J+he.position},X=function(j,pe,he,J,Ee){j[J++]=Z.BSON_DATA_SYMBOL,J+=j.write(pe,J,Ee?"ascii":"utf8"),j[J++]=0;var te=j.write(he.value,J+4,"utf8")+1;return j[J]=255&te,j[J+1]=te>>8&255,j[J+2]=te>>16&255,j[J+3]=te>>24&255,J=J+4+te-1,j[J++]=0,J},z=function(j,pe,he,J,Ee,te,ce){j[J++]=Z.BSON_DATA_OBJECT,J+=j.write(pe,J,ce?"ascii":"utf8"),j[J++]=0;var ue,N=J,M=(ue=Q(j,null!=he.db?{$ref:he.namespace,$id:he.oid,$db:he.db}:{$ref:he.namespace,$id:he.oid},!1,J,Ee+1,te))-N;return j[N++]=255&M,j[N++]=M>>8&255,j[N++]=M>>16&255,j[N++]=M>>24&255,ue},Q=function(j,pe,he,J,Ee,te,ce,ue){J=J||0,(ue=ue||[]).push(pe);var N=J+4;if(Array.isArray(pe))for(var M=0;M<pe.length;M++){var H=""+M,L=pe[M];if(L&&L.toBSON){if("function"!=typeof L.toBSON)throw new Error("toBSON is not a function");L=L.toBSON()}var oe=C(L);if("string"===oe)N=f(j,H,L,N,!0);else if("number"===oe)N=g(j,H,L,N,!0);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N,!0);else if(L instanceof Date||y(L))N=_(j,H,L,N,!0);else if(void 0===L)N=u(j,H,0,N,!0);else if(null===L)N=u(j,H,0,N,!0);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N,!0);else if(p.isBuffer(L))N=Y(j,H,L,N,!0);else if(L instanceof RegExp||h(L))N=m(j,H,L,N,!0);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,he,Ee,te,ce,!0,ue);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N,!0);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=R(j,H,L,N,!0);else if("Double"===L._bsontype)N=P(j,H,L,N,!0);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Code"===L._bsontype)N=W(j,H,L,N,he,Ee,te,ce,!0);else if("Binary"===L._bsontype)N=ne(j,H,L,N,!0);else if("Symbol"===L._bsontype)N=X(j,H,L,N,!0);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te,!0);else if("BSONRegExp"===L._bsontype)N=T(j,H,L,N,!0);else if("Int32"===L._bsontype)N=U(j,H,L,N,!0);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N,!0);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}else if(pe instanceof D)for(var fe=pe.entries(),Ce=!1;!Ce;){var Ie=fe.next();if(!(Ce=Ie.done)){if(H=Ie.value[0],oe=C(L=Ie.value[1]),"string"==typeof H&&-1===v.indexOf(H)){if(null!=H.match(O))throw Error("key "+H+" must not contain null bytes");if(he){if("$"===H[0])throw Error("key "+H+" must not start with '$'");if(~H.indexOf("."))throw Error("key "+H+" must not contain '.'")}}if("string"===oe)N=f(j,H,L,N);else if("number"===oe)N=g(j,H,L,N);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N);else if(L instanceof Date||y(L))N=_(j,H,L,N);else if(null===L||void 0===L&&!1===ce)N=u(j,H,0,N);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N);else if(p.isBuffer(L))N=Y(j,H,L,N);else if(L instanceof RegExp||h(L))N=m(j,H,L,N);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,he,Ee,te,ce,!1,ue);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=R(j,H,L,N);else if("Double"===L._bsontype)N=P(j,H,L,N);else if("Code"===L._bsontype)N=W(j,H,L,N,he,Ee,te,ce);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Binary"===L._bsontype)N=ne(j,H,L,N);else if("Symbol"===L._bsontype)N=X(j,H,L,N);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te);else if("BSONRegExp"===L._bsontype)N=T(j,H,L,N);else if("Int32"===L._bsontype)N=U(j,H,L,N);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}}else{if(pe.toBSON){if("function"!=typeof pe.toBSON)throw new Error("toBSON is not a function");if(null!=(pe=pe.toBSON())&&"object"!==C(pe))throw new Error("toBSON function did not return an object")}for(H in pe){if((L=pe[H])&&L.toBSON){if("function"!=typeof L.toBSON)throw new Error("toBSON is not a function");L=L.toBSON()}if(oe=C(L),"string"==typeof H&&-1===v.indexOf(H)){if(null!=H.match(O))throw Error("key "+H+" must not contain null bytes");if(he){if("$"===H[0])throw Error("key "+H+" must not start with '$'");if(~H.indexOf("."))throw Error("key "+H+" must not contain '.'")}}if("string"===oe)N=f(j,H,L,N);else if("number"===oe)N=g(j,H,L,N);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N);else if(L instanceof Date||y(L))N=_(j,H,L,N);else if(void 0===L)!1===ce&&(N=u(j,H,0,N));else if(null===L)N=u(j,H,0,N);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N);else if(p.isBuffer(L))N=Y(j,H,L,N);else if(L instanceof RegExp||h(L))N=m(j,H,L,N);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,he,Ee,te,ce,!1,ue);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=R(j,H,L,N);else if("Double"===L._bsontype)N=P(j,H,L,N);else if("Code"===L._bsontype)N=W(j,H,L,N,he,Ee,te,ce);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Binary"===L._bsontype)N=ne(j,H,L,N);else if("Symbol"===L._bsontype)N=X(j,H,L,N);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te);else if("BSONRegExp"===L._bsontype)N=T(j,H,L,N);else if("Int32"===L._bsontype)N=U(j,H,L,N);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}}ue.pop(),j[N++]=0;var Ue=N-J;return j[J++]=255&Ue,j[J++]=Ue>>8&255,j[J++]=Ue>>16&255,j[J++]=Ue>>24&255,N},Z={BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128,BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648};Z.BSON_INT64_MAX=Math.pow(2,63)-1,Z.BSON_INT64_MIN=-Math.pow(2,63),Z.JS_INT_MAX=9007199254740992,Z.JS_INT_MIN=-9007199254740992,le.exports=Q}).call(this,c(2).Buffer)},function(le,q){q.readIEEE754=function(c,p,C,x,V){var D,I,S="big"===C,O=8*V-x-1,v=(1<<O)-1,y=v>>1,h=-7,f=S?0:V-1,g=S?1:-1,u=c[p+f];for(f+=g,D=u&(1<<-h)-1,u>>=-h,h+=O;h>0;D=256*D+c[p+f],f+=g,h-=8);for(I=D&(1<<-h)-1,D>>=-h,h+=x;h>0;I=256*I+c[p+f],f+=g,h-=8);if(0===D)D=1-y;else{if(D===v)return I?NaN:1/0*(u?-1:1);I+=Math.pow(2,x),D-=y}return(u?-1:1)*I*Math.pow(2,D-x)},q.writeIEEE754=function(c,p,C,x,V,D){var I,S,O,v="big"===x,y=8*D-V-1,h=(1<<y)-1,f=h>>1,g=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,u=v?D-1:0,l=v?-1:1,_=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(S=isNaN(p)?1:0,I=h):(I=Math.floor(Math.log(p)/Math.LN2),p*(O=Math.pow(2,-I))<1&&(I--,O*=2),(p+=I+f>=1?g/O:g*Math.pow(2,1-f))*O>=2&&(I++,O/=2),I+f>=h?(S=0,I=h):I+f>=1?(S=(p*O-1)*Math.pow(2,V),I+=f):(S=p*Math.pow(2,f-1)*Math.pow(2,V),I=0));V>=8;c[C+u]=255&S,u+=l,S/=256,V-=8);for(I=I<<V|S,y+=V;y>0;c[C+u]=255&I,u+=l,I/=256,y-=8);c[C+u-l]|=128*_}},function(le,q,c){"use strict";(function(p){function C(A){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(A)}var x=c(25).Long,V=c(40).Double,D=c(41).Timestamp,I=c(42).ObjectID,S=c(44).Symbol,O=c(43).BSONRegExp,v=c(45).Code,y=c(46),h=c(47).MinKey,f=c(48).MaxKey,g=c(49).DBRef,u=c(30).Binary,l=c(16).normalizedFunctionString,_=function(A,$,Y){var B=5;if(Array.isArray(A))for(var F=0;F<A.length;F++)B+=m(F.toString(),A[F],$,!0,Y);else for(var R in A.toBSON&&(A=A.toBSON()),A)B+=m(R,A[R],$,!1,Y);return B};function m(A,$,Y,B,F){switch($&&$.toBSON&&($=$.toBSON()),C($)){case"string":return 1+p.byteLength(A,"utf8")+1+4+p.byteLength($,"utf8")+1;case"number":return Math.floor($)===$&&$>=T.JS_INT_MIN&&$<=T.JS_INT_MAX&&$>=T.BSON_INT32_MIN&&$<=T.BSON_INT32_MAX?(null!=A?p.byteLength(A,"utf8")+1:0)+5:(null!=A?p.byteLength(A,"utf8")+1:0)+9;case"undefined":return B||!F?(null!=A?p.byteLength(A,"utf8")+1:0)+1:0;case"boolean":return(null!=A?p.byteLength(A,"utf8")+1:0)+2;case"object":if(null==$||$ instanceof h||$ instanceof f||"MinKey"===$._bsontype||"MaxKey"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+1;if($ instanceof I||"ObjectID"===$._bsontype||"ObjectId"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+13;if($ instanceof Date||"object"===C(U=$)&&"[object Date]"===Object.prototype.toString.call(U))return(null!=A?p.byteLength(A,"utf8")+1:0)+9;if(void 0!==p&&p.isBuffer($))return(null!=A?p.byteLength(A,"utf8")+1:0)+6+$.length;if($ instanceof x||$ instanceof V||$ instanceof D||"Long"===$._bsontype||"Double"===$._bsontype||"Timestamp"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+9;if($ instanceof y||"Decimal128"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+17;if($ instanceof v||"Code"===$._bsontype)return null!=$.scope&&Object.keys($.scope).length>0?(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+4+p.byteLength($.code.toString(),"utf8")+1+_($.scope,Y,F):(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+p.byteLength($.code.toString(),"utf8")+1;if($ instanceof u||"Binary"===$._bsontype)return $.sub_type===u.SUBTYPE_BYTE_ARRAY?(null!=A?p.byteLength(A,"utf8")+1:0)+($.position+1+4+1+4):(null!=A?p.byteLength(A,"utf8")+1:0)+($.position+1+4+1);if($ instanceof S||"Symbol"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+p.byteLength($.value,"utf8")+4+1+1;if($ instanceof g||"DBRef"===$._bsontype){var R={$ref:$.namespace,$id:$.oid};return null!=$.db&&(R.$db=$.db),(null!=A?p.byteLength(A,"utf8")+1:0)+1+_(R,Y,F)}return $ instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call($)?(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.source,"utf8")+1+($.global?1:0)+($.ignoreCase?1:0)+($.multiline?1:0)+1:$ instanceof O||"BSONRegExp"===$._bsontype?(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.pattern,"utf8")+1+p.byteLength($.options,"utf8")+1:(null!=A?p.byteLength(A,"utf8")+1:0)+_($,Y,F)+1;case"function":if($ instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call($)||"[object RegExp]"===String.call($))return(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.source,"utf8")+1+($.global?1:0)+($.ignoreCase?1:0)+($.multiline?1:0)+1;if(Y&&null!=$.scope&&Object.keys($.scope).length>0)return(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+4+p.byteLength(l($),"utf8")+1+_($.scope,Y,F);if(Y)return(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+p.byteLength(l($),"utf8")+1}var U;return 0}var T={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992};le.exports=_}).call(this,c(2).Buffer)},function(le,q,c){"use strict";le.exports=c(39).Decimal128},function(le,q,c){"use strict";var p=c(39).ObjectID;Object.defineProperty(p.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),le.exports=p},function(le,q,c){"use strict";le.exports=function(){}},function(le,q,c){"use strict";var p=c(113).ctor("require","modify","init","default","ignore");le.exports=function(){this.strictMode=void 0,this.selected=void 0,this.shardval=void 0,this.saveError=void 0,this.validationError=void 0,this.adhocPaths=void 0,this.removing=void 0,this.inserting=void 0,this.saving=void 0,this.version=void 0,this.getters={},this._id=void 0,this.populate=void 0,this.populated=void 0,this.wasPopulated=!1,this.scope=void 0,this.activePaths=new p,this.pathsToScopes={},this.cachedRequired={},this.session=null,this.$setCalled=new Set,this.ownerDocument=void 0,this.fullPath=void 0}},function(le,q,c){"use strict";var p=c(1),C=le.exports=function(){};C.ctor=function(){var x=p.args(arguments),V=function(){C.apply(this,arguments),this.paths={},this.states={},this.stateNames=x;for(var I=x.length;I--;)this.states[x[I]]={}};return V.prototype=new C,x.forEach(function(D){V.prototype[D]=function(I){this._changeState(I,D)}}),V},C.prototype._changeState=function(x,V){var D=this.states[this.paths[x]];D&&delete D[x],this.paths[x]=V,this.states[V][x]=!0},C.prototype.clear=function(x){for(var V,D=Object.keys(this.states[x]),I=D.length;I--;)delete this.states[x][V=D[I]],delete this.paths[V]},C.prototype.some=function(){var x=this,V=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(V,function(D){return Object.keys(x.states[D]).length})},C.prototype._iter=function(x){return function(){var V=arguments.length,D=p.args(arguments,0,V-1),I=arguments[V-1];D.length||(D=this.stateNames);var S=this,O=D.reduce(function(v,y){return v.concat(Object.keys(S.states[y]))},[]);return O[x](function(v,y,h){return I(v,y,h)})}},C.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},C.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}},function(le,q){function c(I){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}var p=1e3,C=6e4,x=60*C,V=24*x;function D(I,S,O,v){var y=S>=1.5*O;return Math.round(I/O)+" "+v+(y?"s":"")}le.exports=function(I,S){S=S||{};var v,y,O=c(I);if("string"===O&&I.length>0)return function(v){if(!((v=String(v)).length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(y){var h=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*V;case"hours":case"hour":case"hrs":case"hr":case"h":return h*x;case"minutes":case"minute":case"mins":case"min":case"m":return h*C;case"seconds":case"second":case"secs":case"sec":case"s":return h*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(I);if("number"===O&&isFinite(I))return S.long?(v=I,(y=Math.abs(v))>=V?D(v,y,V,"day"):y>=x?D(v,y,x,"hour"):y>=C?D(v,y,C,"minute"):y>=p?D(v,y,p,"second"):v+" ms"):function(v){var y=Math.abs(v);return y>=V?Math.round(v/V)+"d":y>=x?Math.round(v/x)+"h":y>=C?Math.round(v/C)+"m":y>=p?Math.round(v/p)+"s":v+"ms"}(I);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(I))}},function(le,q,c){function p(D){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var C=c(116),x=["__proto__","constructor","prototype"];function V(D){return D}q.get=function(D,I,S,O){var v;"function"==typeof S&&(S.length<2?(O=S,S=void 0):(v=S,S=void 0)),O||(O=V);var y="string"==typeof D?C(D):D;if(!Array.isArray(y))throw new TypeError("Invalid `path`. Must be either string or array");for(var h,f=I,g=0;g<y.length;++g){if(h=y[g],"string"!=typeof y[g]&&"number"!=typeof y[g])throw new TypeError("Each segment of path to `get()` must be a string or number, got "+p(y[g]));if(Array.isArray(f)&&!/^\d+$/.test(h)){var u=y.slice(g);return[].concat(f).map(function(_){return _?q.get(u,_,S||v,O):O(void 0)})}if(v)f=v(f,h);else{var l=S&&f[S]?f[S]:f;f=l instanceof Map?l.get(h):l[h]}if(!f)return O(f)}return O(f)},q.has=function(D,I){var S="string"==typeof D?C(D):D;if(!Array.isArray(S))throw new TypeError("Invalid `path`. Must be either string or array");for(var O=S.length,v=I,y=0;y<O;++y){if("string"!=typeof S[y]&&"number"!=typeof S[y])throw new TypeError("Each segment of path to `has()` must be a string or number, got "+p(S[y]));if(null==v||"object"!==p(v)||!(S[y]in v))return!1;v=v[S[y]]}return!0},q.unset=function(D,I){var S="string"==typeof D?C(D):D;if(!Array.isArray(S))throw new TypeError("Invalid `path`. Must be either string or array");for(var O=S.length,v=I,y=0;y<O;++y){if(null==v||"object"!==p(v)||!(S[y]in v))return!1;if("string"!=typeof S[y]&&"number"!=typeof S[y])throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+p(S[y]));if(-1!==x.indexOf(S[y]))return!1;if(y===O-1)return delete v[S[y]],!0;v=v instanceof Map?v.get(S[y]):v[S[y]]}return!0},q.set=function(D,I,S,O,v,y){var h;"function"==typeof O&&(O.length<2?(v=O,O=void 0):(h=O,O=void 0)),v||(v=V);var f="string"==typeof D?C(D):D;if(!Array.isArray(f))throw new TypeError("Invalid `path`. Must be either string or array");if(null!=S){for(var g=0;g<f.length;++g){if("string"!=typeof f[g]&&"number"!=typeof f[g])throw new TypeError("Each segment of path to `set()` must be a string or number, got "+p(f[g]));if(-1!==x.indexOf(f[g]))return}for(var u,l=y||/\$/.test(D)&&!1!==y,_=S,m=(g=0,f.length-1);g<m;++g)if("$"!=(u=f[g])){if(Array.isArray(_)&&!/^\d+$/.test(u)){var T=f.slice(g);if(!l&&Array.isArray(I))for(var A=0;A<_.length&&A<I.length;++A)q.set(T,I[A],_[A],O||h,v,l);else for(A=0;A<_.length;++A)q.set(T,I,_[A],O||h,v,l);return}if(h)_=h(_,u);else{var $=O&&_[O]?_[O]:_;_=$ instanceof Map?$.get(u):$[u]}if(!_)return}else if(g==m-1)break;if(u=f[m],O&&_[O]&&(_=_[O]),Array.isArray(_)&&!/^\d+$/.test(u))if(!l&&Array.isArray(I))!function B(F,R,U,P,G,W){for(var ne,X=0;X<F.length&&X<R.length;++X)ne=F[X],Array.isArray(ne)&&Array.isArray(R[X])?B(ne,R[X],U,P,G,W):ne&&(P?P(ne,U,W(R[X])):(ne[G]&&(ne=ne[G]),ne[U]=W(R[X])))}(_,I,u,h,O,v);else for(A=0;A<_.length;++A){var Y=_[A];Y&&(h?h(Y,u,v(I)):(Y[O]&&(Y=Y[O]),Y[u]=v(I)))}else h?h(_,u,v(I)):_ instanceof Map?_.set(u,v(I)):_[u]=v(I)}}},function(le,q,c){"use strict";le.exports=function(p){for(var C=[],x="",V="DEFAULT",D=0;D<p.length;++D)"IN_SQUARE_BRACKETS"!==V||/\d/.test(p[D])||"]"===p[D]||(V="DEFAULT",x=C[C.length-1]+"["+x,C.splice(C.length-1,1)),"["===p[D]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&(C.push(x),x=""),V="IN_SQUARE_BRACKETS"):"]"===p[D]?"IN_SQUARE_BRACKETS"===V?(V="IMMEDIATELY_AFTER_SQUARE_BRACKETS",C.push(x),x=""):(V="DEFAULT",x+=p[D]):"."===p[D]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&(C.push(x),x=""),V="DEFAULT"):x+=p[D];return"IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&C.push(x),C}},function(le,q,c){"use strict";function p(I){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}function C(I,S){for(var O=0;O<S.length;O++){var v=S[O];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,(h=function(f,g){if("object"!==p(f)||null===f)return f;var u=f[Symbol.toPrimitive];if(void 0!==u){var l=u.call(f,"string");if("object"!==p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(v.key),"symbol"===p(h)?h:String(h)),v)}var h}var V=c(26),D=function x(I,S,O){return S&&C(I.prototype,S),O&&C(I,O),Object.defineProperty(I,"prototype",{writable:!1}),I}(function I(S){if(function(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")}(this,I),this._docs={},this._childDocs=[],null!=S&&(S=V(S),Object.assign(this,S),"object"===p(S.subPopulate)&&(this.populate=S.subPopulate),null!=S.perDocumentLimit&&null!=S.limit))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+S.path+"`.")});le.exports=D},function(le,q,c){"use strict";var p=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function V(D){if(null==D)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(D)}le.exports=function(){try{if(!Object.assign)return!1;var D=new String("abc");if(D[5]="de","5"===Object.getOwnPropertyNames(D)[0])return!1;for(var I={},S=0;S<10;S++)I["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(I).map(function(v){return I[v]}).join(""))return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(v){O[v]=v}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},O)).join("")}catch(v){return!1}}()?Object.assign:function(D,I){for(var S,O,v=V(D),y=1;y<arguments.length;y++){for(var h in S=Object(arguments[y]))C.call(S,h)&&(v[h]=S[h]);if(p){O=p(S);for(var f=0;f<O.length;f++)x.call(S,O[f])&&(v[O[f]]=S[O[f]])}}return v}},function(le,q,c){"use strict";function p(u){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}var C=c(63),x=c(23),V=c(4),D=c(69),I=c(122)("mquery");function S(u,l){if(!(this instanceof S))return new S(u,l);var _=this.constructor.prototype;this.op=_.op||void 0,this.options=Object.assign({},_.options),this._conditions=_._conditions?D.clone(_._conditions):{},this._fields=_._fields?D.clone(_._fields):void 0,this._update=_._update?D.clone(_._update):void 0,this._path=_._path||void 0,this._distinct=_._distinct||void 0,this._collection=_._collection||void 0,this._traceFunction=_._traceFunction||void 0,l&&this.setOptions(l),u&&(u.find&&u.remove&&u.update?this.collection(u):this.find(u))}var O="$geoWithin";Object.defineProperty(S,"use$geoWithin",{get:function(){return"$geoWithin"==O},set:function(u){O=!0===u?"$geoWithin":"$within"}}),S.prototype.toConstructor=function(){function u(_,m){if(!(this instanceof u))return new u(_,m);S.call(this,_,m)}D.inherits(u,S);var l=u.prototype;return l.options={},l.setOptions(this.options),l.op=this.op,l._conditions=D.clone(this._conditions),l._fields=D.clone(this._fields),l._update=D.clone(this._update),l._path=this._path,l._distinct=this._distinct,l._collection=this._collection,l._traceFunction=this._traceFunction,u},S.prototype.setOptions=function(u){if(!u||!D.isObject(u))return this;for(var l,_=D.keys(u),m=0;m<_.length;++m)if("function"==typeof this[l=_[m]]){var T=D.isArray(u[l])?u[l]:[u[l]];this[l].apply(this,T)}else this.options[l]=u[l];return this},S.prototype.collection=function(u){return this._collection=new S.Collection(u),this},S.prototype.collation=function(u){return this.options.collation=u,this},S.prototype.$where=function(u){return this._conditions.$where=u,this},S.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");var u=p(arguments[0]);if("string"==u)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"==u&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")},S.prototype.equals=function(u){return this._ensurePath("equals"),this._conditions[this._path]=u,this},S.prototype.eq=function(u){return this._ensurePath("eq"),this._conditions[this._path]=u,this},S.prototype.or=function(u){var l=this._conditions.$or||(this._conditions.$or=[]);return D.isArray(u)||(u=[u]),l.push.apply(l,u),this},S.prototype.nor=function(u){var l=this._conditions.$nor||(this._conditions.$nor=[]);return D.isArray(u)||(u=[u]),l.push.apply(l,u),this},S.prototype.and=function(u){var l=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(u)||(u=[u]),l.push.apply(l,u),this},"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(u){S.prototype[u]=function(){var l,_;1===arguments.length?(this._ensurePath(u),_=arguments[0],l=this._path):(_=arguments[1],l=arguments[0]);var m=null===this._conditions[l]||"object"===p(this._conditions[l])?this._conditions[l]:this._conditions[l]={};return m["$"+u]=_,this}}),S.prototype.mod=function(){var u,l;1===arguments.length?(this._ensurePath("mod"),u=arguments[0],l=this._path):2!==arguments.length||D.isArray(arguments[1])?3===arguments.length?(u=C(arguments,1),l=arguments[0]):(u=arguments[1],l=arguments[0]):(this._ensurePath("mod"),u=C(arguments),l=this._path);var _=this._conditions[l]||(this._conditions[l]={});return _.$mod=u,this},S.prototype.exists=function(){var u,l;0===arguments.length?(this._ensurePath("exists"),u=this._path,l=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),u=this._path,l=arguments[0]):(u=arguments[0],l=!0):2===arguments.length&&(u=arguments[0],l=arguments[1]);var _=this._conditions[u]||(this._conditions[u]={});return _.$exists=l,this},S.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError("Invalid argument");var u,l,_;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),l=this._path,u=arguments[0];else if(D.isObject(arguments[0]))this._ensurePath("elemMatch"),l=this._path,_=arguments[0];else if("function"==typeof arguments[1])l=arguments[0],u=arguments[1];else{if(!arguments[1]||!D.isObject(arguments[1]))throw new TypeError("Invalid argument");l=arguments[0],_=arguments[1]}u&&(u(_=new S),_=_._conditions);var m=this._conditions[l]||(this._conditions[l]={});return m.$elemMatch=_,this},S.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=O,0===arguments.length)return this;if(2===arguments.length)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);var u=arguments[0];if(!u)throw new TypeError("Invalid argument");if(u.center)return this.circle(u);if(u.box)return this.box.apply(this,u.box);if(u.polygon)return this.polygon.apply(this,u.polygon);if(u.type&&u.coordinates)return this.geometry(u);throw new TypeError("Invalid argument")},S.prototype.box=function(){var u,l;if(3===arguments.length)u=arguments[0],l=[arguments[1],arguments[2]];else{if(2!==arguments.length)throw new TypeError("Invalid argument");this._ensurePath("box"),u=this._path,l=[arguments[0],arguments[1]]}var _=this._conditions[u]||(this._conditions[u]={});return _[this._geoComparison||O]={$box:l},this},S.prototype.polygon=function(){var u,l;"string"==typeof arguments[0]?(l=arguments[0],u=C(arguments,1)):(this._ensurePath("polygon"),l=this._path,u=C(arguments));var _=this._conditions[l]||(this._conditions[l]={});return _[this._geoComparison||O]={$polygon:u},this},S.prototype.circle=function(){var u,l;if(1===arguments.length)this._ensurePath("circle"),u=this._path,l=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");u=arguments[0],l=arguments[1]}if(!("radius"in l)||!l.center)throw new Error("center and radius are required");var _=this._conditions[u]||(this._conditions[u]={}),m=l.spherical?"$centerSphere":"$center",T=this._geoComparison||O;return _[T]={},_[T][m]=[l.center,l.radius],"unique"in l&&(_[T].$uniqueDocs=!!l.unique),this},S.prototype.near=function(){var u,l;if(this._geoComparison="$near",0===arguments.length)return this;if(1===arguments.length)this._ensurePath("near"),u=this._path,l=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");u=arguments[0],l=arguments[1]}if(!l.center)throw new Error("center is required");var _=this._conditions[u]||(this._conditions[u]={}),m=l.spherical?"$nearSphere":"$near";if(Array.isArray(l.center)){_[m]=l.center;var T="maxDistance"in l?l.maxDistance:null;null!=T&&(_.$maxDistance=T),null!=l.minDistance&&(_.$minDistance=l.minDistance)}else{if("Point"!=l.center.type||!Array.isArray(l.center.coordinates))throw new Error(V.format("Invalid GeoJSON specified for %s",m));_[m]={$geometry:l.center},"maxDistance"in l&&(_[m].$maxDistance=l.maxDistance),"minDistance"in l&&(_[m].$minDistance=l.minDistance)}return this},S.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",0===arguments.length)return this;var u=arguments[0];if(null!=u&&u.type&&u.coordinates)return this.geometry(u);throw new TypeError("Invalid argument")},S.prototype.geometry=function(){if("$within"!=this._geoComparison&&"$geoWithin"!=this._geoComparison&&"$near"!=this._geoComparison&&"$geoIntersects"!=this._geoComparison)throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");var u,l;if(1!==arguments.length)throw new TypeError("Invalid argument");if(this._ensurePath("geometry"),l=this._path,!(u=arguments[0]).type||!Array.isArray(u.coordinates))throw new TypeError("Invalid argument");var _=this._conditions[l]||(this._conditions[l]={});return _[this._geoComparison]={$geometry:u},this},S.prototype.select=function(){var u=arguments[0];if(!u)return this;if(1!==arguments.length)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");var l,_,m=this._fields||(this._fields={}),T=p(u);if(("string"==T||D.isArgumentsObject(u))&&"number"==typeof u.length||Array.isArray(u)){for("string"==T&&(u=u.split(/\s+/)),l=0,_=u.length;l<_;++l){var A=u[l];if(A){var $="-"==A[0]?0:1;0===$&&(A=A.substring(1)),m[A]=$}}return this}if(D.isObject(u)){var Y=D.keys(u);for(l=0;l<Y.length;++l)m[Y[l]]=u[Y[l]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")},S.prototype.slice=function(){if(0===arguments.length)return this;var u,l;if(this._validate("slice"),1===arguments.length){var _=arguments[0];if("object"===p(_)&&!Array.isArray(_)){for(var m=Object.keys(_),T=m.length,A=0;A<T;++A)this.slice(m[A],_[m[A]]);return this}this._ensurePath("slice"),u=this._path,l=arguments[0]}else 2===arguments.length?"number"==typeof arguments[0]?(this._ensurePath("slice"),u=this._path,l=C(arguments)):(u=arguments[0],l=arguments[1]):3===arguments.length&&(u=arguments[0],l=C(arguments,1));var $=this._fields||(this._fields={});return $[u]={$slice:l},this},S.prototype.sort=function(u){if(!u)return this;var l,_,m;this._validate("sort");var T=p(u);if(Array.isArray(u)){for(_=u.length,l=0;l<u.length;++l){if(!Array.isArray(u[l]))throw new Error("Invalid sort() argument, must be array of arrays");h(this.options,u[l][0],u[l][1])}return this}if(1===arguments.length&&"string"==T){for(_=(u=u.split(/\s+/)).length,l=0;l<_;++l)if(m=u[l]){var A="-"==m[0]?-1:1;-1===A&&(m=m.substring(1)),y(this.options,m,A)}return this}if(D.isObject(u)){var $=D.keys(u);for(l=0;l<$.length;++l)y(this.options,m=$[l],u[m]);return this}if("undefined"!=typeof Map&&u instanceof Map)return f(this.options,u),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var v={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function y(u,l,_){if(Array.isArray(u.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var m;if(_&&_.$meta)(m=u.sort||(u.sort={}))[l]={$meta:_.$meta};else{m=u.sort||(u.sort={});var T=String(_||1).toLowerCase();if(!(T=v[T]))throw new TypeError("Invalid sort value: { "+l+": "+_+" }");m[l]=T}}function h(u,l,_){if(u.sort=u.sort||[],!Array.isArray(u.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var m=String(_||1).toLowerCase();if(!(m=v[m]))throw new TypeError("Invalid sort value: [ "+l+", "+_+" ]");u.sort.push([l,m])}function f(u,l){if(u.sort=u.sort||new Map,!(u.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");l.forEach(function(_,m){var T=String(_||1).toLowerCase();if(!(T=v[T]))throw new TypeError("Invalid sort value: < "+m+": "+_+" >");u.sort.set(m,T)})}function g(u,l,_,m,T,A,$){return u.op=l,S.canMerge(_)&&u.merge(_),m&&u._mergeUpdate(m),D.isObject(T)&&u.setOptions(T),A||$?!u._update||!u.options.overwrite&&0===D.keys(u._update).length?($&&D.soon($.bind(null,null,0)),u):(T=u._optionsForExec(),$||(T.safe=!1),_=u._conditions,m=u._updateForExec(),I("update",u._collection.collectionName,_,m,T),$=u._wrapCallback(l,$,{conditions:_,doc:m,options:T}),u._collection[l](_,m,T,D.tick($)),u):u}["limit","skip","maxScan","batchSize","comment"].forEach(function(u){S.prototype[u]=function(l){return this._validate(u),this.options[u]=l,this}}),S.prototype.maxTime=S.prototype.maxTimeMS=function(u){return this._validate("maxTime"),this.options.maxTimeMS=u,this},S.prototype.snapshot=function(){return this._validate("snapshot"),this.options.snapshot=!arguments.length||!!arguments[0],this},S.prototype.hint=function(){if(0===arguments.length)return this;this._validate("hint");var u=arguments[0];if(D.isObject(u)){var l=this.options.hint||(this.options.hint={});for(var _ in u)l[_]=u[_];return this}if("string"==typeof u)return this.options.hint=u,this;throw new TypeError("Invalid hint. "+u)},S.prototype.j=function(u){return this.options.j=u,this},S.prototype.slaveOk=function(u){return this.options.slaveOk=!arguments.length||!!u,this},S.prototype.read=S.prototype.setReadPreference=function(u){return arguments.length>1&&!S.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),S.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=D.readPref(u),this},S.prototype.readConcern=S.prototype.r=function(u){return this.options.readConcern=D.readConcern(u),this},S.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=!arguments.length||!!arguments[0],this},S.prototype.writeConcern=S.prototype.w=function(u){return"object"===p(u)?(void 0!==u.j&&(this.options.j=u.j),void 0!==u.w&&(this.options.w=u.w),void 0!==u.wtimeout&&(this.options.wtimeout=u.wtimeout)):this.options.w="m"===u?"majority":u,this},S.prototype.wtimeout=S.prototype.wTimeout=function(u){return this.options.wtimeout=u,this},S.prototype.merge=function(u){if(!u)return this;if(!S.canMerge(u))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return u instanceof S?(u._conditions&&D.merge(this._conditions,u._conditions),u._fields&&(this._fields||(this._fields={}),D.merge(this._fields,u._fields)),u.options&&(this.options||(this.options={}),D.merge(this.options,u.options)),u._update&&(this._update||(this._update={}),D.mergeClone(this._update,u._update)),u._distinct&&(this._distinct=u._distinct),this):(D.merge(this._conditions,u),this)},S.prototype.find=function(u,l){if(this.op="find","function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec(),I("find",this._collection.collectionName,_,m),l=this._wrapCallback("find",l,{conditions:_,options:m}),this._collection.find(_,m,D.tick(l)),this},S.prototype.cursor=function(u){if(this.op){if("find"!==this.op)throw new TypeError(".cursor only support .find method")}else this.find(u);var l=this._conditions,_=this._optionsForExec();return this.$useProjection?_.projection=this._fieldsForExec():_.fields=this._fieldsForExec(),I("findCursor",this._collection.collectionName,l,_),this._collection.findCursor(l,_)},S.prototype.findOne=function(u,l){if(this.op="findOne","function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec(),I("findOne",this._collection.collectionName,_,m),l=this._wrapCallback("findOne",l,{conditions:_,options:m}),this._collection.findOne(_,m,D.tick(l)),this},S.prototype.count=function(u,l){if(this.op="count",this._validate(),"function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return I("count",this._collection.collectionName,_,m),l=this._wrapCallback("count",l,{conditions:_,options:m}),this._collection.count(_,m,D.tick(l)),this},S.prototype.distinct=function(u,l,_){if(this.op="distinct",this._validate(),!_){switch(p(l)){case"function":_=l,"string"==typeof u&&(l=u,u=void 0);break;case"undefined":case"string":break;default:throw new TypeError("Invalid `field` argument. Must be string or function")}switch(p(u)){case"function":_=u,u=l=void 0;break;case"string":l=u,u=void 0}}if("string"==typeof l&&(this._distinct=l),S.canMerge(u)&&this.merge(u),!_)return this;if(!this._distinct)throw new Error("No value for `distinct` has been declared");var m=this._conditions,T=this._optionsForExec();return I("distinct",this._collection.collectionName,m,T),_=this._wrapCallback("distinct",_,{conditions:m,options:T}),this._collection.distinct(this._distinct,m,T,D.tick(_)),this},S.prototype.update=function(u,l,_,m){var T;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":T=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"update",u,l,_,T,m)},S.prototype.updateMany=function(u,l,_,m){var T;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":T=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"updateMany",u,l,_,T,m)},S.prototype.updateOne=function(u,l,_,m){var T;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":T=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"updateOne",u,l,_,T,m)},S.prototype.replaceOne=function(u,l,_,m){var T;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":T=u,u=void 0;break;default:l=u,u=_=void 0}}return this.setOptions({overwrite:!0}),g(this,"replaceOne",u,l,_,T,m)},S.prototype.remove=function(u,l){var _;if(this.op="remove","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1);var T=this._conditions;return I("remove",this._collection.collectionName,T,m),l=this._wrapCallback("remove",l,{conditions:T,options:m}),this._collection.remove(T,m,D.tick(l)),this},S.prototype.deleteOne=function(u,l){var _;if(this.op="deleteOne","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1),delete m.justOne;var T=this._conditions;return I("deleteOne",this._collection.collectionName,T,m),l=this._wrapCallback("deleteOne",l,{conditions:T,options:m}),this._collection.deleteOne(T,m,D.tick(l)),this},S.prototype.deleteMany=function(u,l){var _;if(this.op="deleteMany","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1),delete m.justOne;var T=this._conditions;return I("deleteOne",this._collection.collectionName,T,m),l=this._wrapCallback("deleteOne",l,{conditions:T,options:m}),this._collection.deleteMany(T,m,D.tick(l)),this},S.prototype.findOneAndUpdate=function(u,l,_,m){switch(this.op="findOneAndUpdate",this._validate(),arguments.length){case 3:"function"==typeof _&&(m=_,_={});break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0),_=void 0;break;case 1:"function"==typeof u?(m=u,u=_=l=void 0):(l=u,u=_=void 0)}return S.canMerge(u)&&this.merge(u),l&&this._mergeUpdate(l),_&&this.setOptions(_),m?this._findAndModify("update",m):this},S.prototype.findOneAndRemove=S.prototype.findOneAndDelete=function(u,l,_){return this.op="findOneAndRemove",this._validate(),"function"==typeof l?(_=l,l=void 0):"function"==typeof u&&(_=u,u=void 0),S.canMerge(u)&&this.merge(u),l&&this.setOptions(l),_?this._findAndModify("remove",_):this},S.prototype._findAndModify=function(u,l){x.equal("function",p(l));var _,m=this._optionsForExec();if("remove"==u)m.remove=!0;else if("new"in m||(m.new=!0),"upsert"in m||(m.upsert=!1),!(_=this._updateForExec())){if(!m.upsert)return this.findOne(l);_={$set:{}}}null!=this._fieldsForExec()&&(this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec());var T=this._conditions;return I("findAndModify",this._collection.collectionName,T,_,m),l=this._wrapCallback("findAndModify",l,{conditions:T,doc:_,options:m}),this._collection.findAndModify(T,_,m,D.tick(l)),this},S.prototype._wrapCallback=function(u,l,_){var m=this._traceFunction||S.traceFunction;if(m){_.collectionName=this._collection.collectionName;var T=m&&m.call(null,u,_,this),A=(new Date).getTime();return function($,Y){if(T){var B=(new Date).getTime()-A;T.call(null,$,Y,B)}l&&l.apply(null,arguments)}}return l},S.prototype.setTraceFunction=function(u){return this._traceFunction=u,this},S.prototype.exec=function(u,l){switch(p(u)){case"function":l=u,u=null;break;case"string":this.op=u}x.ok(this.op,"Missing query type: (find, update, etc)"),"update"!=this.op&&"remove"!=this.op||l||(l=!0);var _=this;if("function"!=typeof l)return new S.Promise(function(m,T){_[_.op](function(A,$){A?T(A):m($),m=T=null})});this[this.op](l)},S.prototype.thunk=function(){var u=this;return function(l){u.exec(l)}},S.prototype.then=function(u,l){var _=this;return new S.Promise(function(m,T){_.exec(function(A,$){A?T(A):m($),m=T=null})}).then(u,l)},S.prototype.stream=function(u){if("find"!=this.op)throw new Error("stream() is only available for find");var l=this._conditions,_=this._optionsForExec();return this.$useProjection?_.projection=this._fieldsForExec():_.fields=this._fieldsForExec(),I("stream",this._collection.collectionName,l,_,u),this._collection.findStream(l,_,u)},S.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)},S.prototype.selectedInclusively=function(){if(!this._fields)return!1;var u=Object.keys(this._fields);if(0===u.length)return!1;for(var l=0;l<u.length;++l){var _=u[l];if(0===this._fields[_]||this._fields[_]&&"object"===p(this._fields[_])&&this._fields[_].$meta)return!1}return!0},S.prototype.selectedExclusively=function(){if(!this._fields)return!1;var u=Object.keys(this._fields);if(0===u.length)return!1;for(var l=0;l<u.length;++l)if(0===this._fields[u[l]])return!0;return!1},S.prototype._mergeUpdate=function(u){this._update||(this._update={}),u instanceof S?u._update&&D.mergeClone(this._update,u._update):D.mergeClone(this._update,u)},S.prototype._optionsForExec=function(){return D.clone(this.options)},S.prototype._fieldsForExec=function(){return D.clone(this._fields)},S.prototype._updateForExec=function(){for(var u=D.clone(this._update),l=D.keys(u),_=l.length,m={};_--;){var T=l[_];this.options.overwrite?m[T]=u[T]:"$"!==T[0]?(m.$set||(m.$set=u.$set?u.$set:{}),m.$set[T]=u[T],l.splice(_,1),~l.indexOf("$set")||l.push("$set")):"$set"===T&&m.$set||(m[T]=u[T])}return this._compiledUpdate=m,m},S.prototype._ensurePath=function(u){if(!this._path)throw new Error(u+"() must be used after where() when called with these arguments")},S.permissions=c(125),S._isPermitted=function(u,l){var _=S.permissions[l];return!_||!0!==_[u]},S.prototype._validate=function(u){var l,_;if(void 0===u){if("function"!=typeof(_=S.permissions[this.op]))return!0;l=_(this)}else S._isPermitted(u,this.op)||(l=u);if(l)throw new Error(l+" cannot be used with "+this.op)},S.canMerge=function(u){return u instanceof S||D.isObject(u)},S.setGlobalTraceFunction=function(u){S.traceFunction=u},S.utils=D,S.env=c(71),S.Collection=c(127),S.BaseCollection=c(32),S.Promise=c(129),le.exports=S},function(le,q,c){(function(p,C){!function(x,V){"use strict";if(!x.setImmediate){var D,I,S,O,v,y=1,h={},f=!1,g=x.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(x);u=u&&u.setTimeout?u:x,"[object process]"==={}.toString.call(x.process)?D=function(m){C.nextTick(function(){_(m)})}:function(){if(x.postMessage&&!x.importScripts){var m=!0,T=x.onmessage;return x.onmessage=function(){m=!1},x.postMessage("","*"),x.onmessage=T,m}}()?(O="setImmediate$"+Math.random()+"$",v=function(m){m.source===x&&"string"==typeof m.data&&0===m.data.indexOf(O)&&_(+m.data.slice(O.length))},x.addEventListener?x.addEventListener("message",v,!1):x.attachEvent("onmessage",v),D=function(m){x.postMessage(O+m,"*")}):x.MessageChannel?((S=new MessageChannel).port1.onmessage=function(m){_(m.data)},D=function(m){S.port2.postMessage(m)}):g&&"onreadystatechange"in g.createElement("script")?(I=g.documentElement,D=function(m){var T=g.createElement("script");T.onreadystatechange=function(){_(m),T.onreadystatechange=null,I.removeChild(T),T=null},I.appendChild(T)}):D=function(m){setTimeout(_,0,m)},u.setImmediate=function(m){"function"!=typeof m&&(m=new Function(""+m));for(var T=new Array(arguments.length-1),A=0;A<T.length;A++)T[A]=arguments[A+1];var $={callback:m,args:T};return h[y]=$,D(y),y++},u.clearImmediate=l}function l(m){delete h[m]}function _(m){if(f)setTimeout(_,0,m);else{var T=h[m];if(T){f=!0;try{!function(A){var $=A.callback,Y=A.args;switch(Y.length){case 0:$();break;case 1:$(Y[0]);break;case 2:$(Y[0],Y[1]);break;case 3:$(Y[0],Y[1],Y[2]);break;default:$.apply(void 0,Y)}}(T)}finally{l(m),f=!1}}}}}("undefined"==typeof self?void 0===p?this:p:self)}).call(this,c(9),c(10))},function(le,q,c){var p=c(2),C=p.Buffer;function x(D,I){for(var S in D)I[S]=D[S]}function V(D,I,S){return C(D,I,S)}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?le.exports=p:(x(p,q),q.Buffer=V),x(C,V),V.from=function(D,I,S){if("number"==typeof D)throw new TypeError("Argument must not be a number");return C(D,I,S)},V.alloc=function(D,I,S){if("number"!=typeof D)throw new TypeError("Argument must be a number");var O=C(D);return void 0!==I?"string"==typeof S?O.fill(I,S):O.fill(I):O.fill(0),O},V.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return C(D)},V.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return p.SlowBuffer(D)}},function(le,q,c){(function(p){function C(V){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(V)}function x(){var V;try{V=q.storage.debug}catch(D){}return!V&&void 0!==p&&"env"in p&&(V=p.env.DEBUG),V}(q=le.exports=c(123)).log=function(){return"object"===("undefined"==typeof console?"undefined":C(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},q.formatArgs=function(V){var D=this.useColors;if(V[0]=(D?"%c":"")+this.namespace+(D?" %c":" ")+V[0]+(D?"%c ":" ")+"+"+q.humanize(this.diff),D){var I="color: "+this.color;V.splice(1,0,I,"color: inherit");var S=0,O=0;V[0].replace(/%[a-zA-Z%]/g,function(v){"%%"!==v&&(S++,"%c"===v&&(O=S))}),V.splice(O,0,I)}},q.save=function(V){try{null==V?q.storage.removeItem("debug"):q.storage.debug=V}catch(D){}},q.load=x,q.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},q.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(V){}}(),q.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],q.formatters.j=function(V){try{return JSON.stringify(V)}catch(D){return"[UnexpectedJSONParseError]: "+D.message}},q.enable(x())}).call(this,c(10))},function(le,q,c){function p(x){var V;function D(){if(D.enabled){var I=D,S=+new Date,O=S-(V||S);I.diff=O,I.prev=V,I.curr=S,V=S;for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];v[0]=q.coerce(v[0]),"string"!=typeof v[0]&&v.unshift("%O");var h=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(g,u){if("%%"===g)return g;h++;var l=q.formatters[u];return"function"==typeof l&&(g=l.call(I,v[h]),v.splice(h,1),h--),g}),q.formatArgs.call(I,v);var f=D.log||q.log||console.log.bind(console);f.apply(I,v)}}return D.namespace=x,D.enabled=q.enabled(x),D.useColors=q.useColors(),D.color=function(I){var S,O=0;for(S in I)O=(O<<5)-O+I.charCodeAt(S),O|=0;return q.colors[Math.abs(O)%q.colors.length]}(x),D.destroy=C,"function"==typeof q.init&&q.init(D),q.instances.push(D),D}function C(){var x=q.instances.indexOf(this);return-1!==x&&(q.instances.splice(x,1),!0)}(q=le.exports=p.debug=p.default=p).coerce=function(x){return x instanceof Error?x.stack||x.message:x},q.disable=function(){q.enable("")},q.enable=function(x){var V;q.save(x),q.names=[],q.skips=[];var D=("string"==typeof x?x:"").split(/[\s,]+/),I=D.length;for(V=0;V<I;V++)D[V]&&("-"===(x=D[V].replace(/\*/g,".*?"))[0]?q.skips.push(new RegExp("^"+x.substr(1)+"$")):q.names.push(new RegExp("^"+x+"$")));for(V=0;V<q.instances.length;V++){var S=q.instances[V];S.enabled=q.enabled(S.namespace)}},q.enabled=function(x){if("*"===x[x.length-1])return!0;var V,D;for(V=0,D=q.skips.length;V<D;V++)if(q.skips[V].test(x))return!1;for(V=0,D=q.names.length;V<D;V++)if(q.names[V].test(x))return!0;return!1},q.humanize=c(124),q.instances=[],q.names=[],q.skips=[],q.formatters={}},function(le,q){function c(I){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}var p=1e3,C=6e4,x=60*C,V=24*x;function D(I,S,O){if(!(I<S))return I<1.5*S?Math.floor(I/S)+" "+O:Math.ceil(I/S)+" "+O+"s"}le.exports=function(I,S){S=S||{};var O,y,v=c(I);if("string"===v&&I.length>0)return function(y){if(!((y=String(y)).length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(y);if(h){var f=parseFloat(h[1]);switch((h[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"days":case"day":case"d":return f*V;case"hours":case"hour":case"hrs":case"hr":case"h":return f*x;case"minutes":case"minute":case"mins":case"min":case"m":return f*C;case"seconds":case"second":case"secs":case"sec":case"s":return f*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(I);if("number"===v&&!1===isNaN(I))return S.long?D(O=I,V,"day")||D(O,x,"hour")||D(O,C,"minute")||D(O,p,"second")||O+" ms":(y=I)>=V?Math.round(y/V)+"d":y>=x?Math.round(y/x)+"h":y>=C?Math.round(y/C)+"m":y>=p?Math.round(y/p)+"s":y+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(I))}},function(le,q,c){"use strict";var p=q;p.distinct=function(C){return C._fields&&Object.keys(C._fields).length>0?"field selection and slice":(Object.keys(p.distinct).every(function(V){return!C.options[V]||(x=V,!1)}),x);var x},p.distinct.select=p.distinct.slice=p.distinct.sort=p.distinct.limit=p.distinct.skip=p.distinct.batchSize=p.distinct.comment=p.distinct.maxScan=p.distinct.snapshot=p.distinct.hint=p.distinct.tailable=!0,p.findOneAndUpdate=p.findOneAndRemove=function(C){var x;return Object.keys(p.findOneAndUpdate).every(function(V){return!C.options[V]||(x=V,!1)}),x},p.findOneAndUpdate.limit=p.findOneAndUpdate.skip=p.findOneAndUpdate.batchSize=p.findOneAndUpdate.maxScan=p.findOneAndUpdate.snapshot=p.findOneAndUpdate.hint=p.findOneAndUpdate.tailable=p.findOneAndUpdate.comment=!0,p.count=function(C){return C._fields&&Object.keys(C._fields).length>0?"field selection and slice":(Object.keys(p.count).every(function(V){return!C.options[V]||(x=V,!1)}),x);var x},p.count.slice=p.count.batchSize=p.count.comment=p.count.maxScan=p.count.snapshot=p.count.tailable=!0},function(le,q){le.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(le,q,c){"use strict";var p=c(71);if("unknown"==p.type)throw new Error("Unknown environment");le.exports=c(p.isNode?128:32)},function(le,q,c){"use strict";var p=c(32);function C(x){this.collection=x,this.collectionName=x.collectionName}c(69).inherits(C,p),C.prototype.find=function(x,V,D){this.collection.find(x,V,function(I,S){if(I)return D(I);try{S.toArray(D)}catch(O){D(O)}})},C.prototype.findOne=function(x,V,D){this.collection.findOne(x,V,D)},C.prototype.count=function(x,V,D){this.collection.count(x,V,D)},C.prototype.distinct=function(x,V,D,I){this.collection.distinct(x,V,D,I)},C.prototype.update=function(x,V,D,I){this.collection.update(x,V,D,I)},C.prototype.updateMany=function(x,V,D,I){this.collection.updateMany(x,V,D,I)},C.prototype.updateOne=function(x,V,D,I){this.collection.updateOne(x,V,D,I)},C.prototype.replaceOne=function(x,V,D,I){this.collection.replaceOne(x,V,D,I)},C.prototype.deleteOne=function(x,V,D){this.collection.deleteOne(x,V,D)},C.prototype.deleteMany=function(x,V,D){this.collection.deleteMany(x,V,D)},C.prototype.remove=function(x,V,D){this.collection.remove(x,V,D)},C.prototype.findAndModify=function(x,V,D,I){var S=Array.isArray(D.sort)?D.sort:[];this.collection.findAndModify(x,S,V,D,I)},C.prototype.findStream=function(x,V,D){return this.collection.find(x,V).stream(D)},C.prototype.findCursor=function(x,V){return this.collection.find(x,V)},le.exports=C},function(le,q,c){(function(p,C,x){var V,I,S;function O(v){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(v)}S=function(){return function f(g,u,l){function _(A,$){if(!u[A]){if(!g[A]){var Y="function"==typeof _dereq_&&_dereq_;if(!$&&Y)return Y(A,!0);if(m)return m(A,!0);var B=new Error("Cannot find module '"+A+"'");throw B.code="MODULE_NOT_FOUND",B}var F=u[A]={exports:{}};g[A][0].call(F.exports,function(R){return _(g[A][1][R]||R)},F,F.exports,f,g,u,l)}return u[A].exports}for(var m="function"==typeof _dereq_&&_dereq_,T=0;T<l.length;T++)_(l[T]);return _}({1:[function(f,g,u){"use strict";g.exports=function(l){var _=l._SomePromiseArray;function m(T){var A=new _(T),$=A.promise();return A.setHowMany(1),A.setUnwrap(),A.init(),$}l.any=function(T){return m(T)},l.prototype.any=function(){return m(this)}}},{}],2:[function(f,g,u){"use strict";var l;try{throw new Error}catch(F){l=F}var _=f("./schedule"),m=f("./queue"),T=f("./util");function A(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new m(16),this._normalQueue=new m(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var F=this;this.drainQueues=function(){F._drainQueues()},this._schedule=_}function $(F,R,U){this._lateQueue.push(F,R,U),this._queueTick()}function Y(F,R,U){this._normalQueue.push(F,R,U),this._queueTick()}function B(F){this._normalQueue._pushOne(F),this._queueTick()}A.prototype.setScheduler=function(F){var R=this._schedule;return this._schedule=F,this._customScheduler=!0,R},A.prototype.hasCustomScheduler=function(){return this._customScheduler},A.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},A.prototype.disableTrampolineIfNecessary=function(){T.hasDevTools&&(this._trampolineEnabled=!1)},A.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},A.prototype.fatalError=function(F,R){R?(p.stderr.write("Fatal "+(F instanceof Error?F.stack:F)+"\n"),p.exit(2)):this.throwLater(F)},A.prototype.throwLater=function(F,R){if(1===arguments.length&&(R=F,F=function(){throw R}),"undefined"!=typeof setTimeout)setTimeout(function(){F(R)},0);else try{this._schedule(function(){F(R)})}catch(U){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},T.hasDevTools?(A.prototype.invokeLater=function(F,R,U){this._trampolineEnabled?$.call(this,F,R,U):this._schedule(function(){setTimeout(function(){F.call(R,U)},100)})},A.prototype.invoke=function(F,R,U){this._trampolineEnabled?Y.call(this,F,R,U):this._schedule(function(){F.call(R,U)})},A.prototype.settlePromises=function(F){this._trampolineEnabled?B.call(this,F):this._schedule(function(){F._settlePromises()})}):(A.prototype.invokeLater=$,A.prototype.invoke=Y,A.prototype.settlePromises=B),A.prototype._drainQueue=function(F){for(;F.length()>0;){var R=F.shift();if("function"==typeof R){var U=F.shift(),P=F.shift();R.call(U,P)}else R._settlePromises()}},A.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},A.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},A.prototype._reset=function(){this._isTickUsed=!1},g.exports=A,g.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(f,g,u){"use strict";g.exports=function(l,_,m,T){var A=!1,$=function(R,U){this._reject(U)},Y=function(R,U){U.promiseRejectionQueued=!0,U.bindingPromise._then($,$,null,this,R)},B=function(R,U){0==(50397184&this._bitField)&&this._resolveCallback(U.target)},F=function(R,U){U.promiseRejectionQueued||this._reject(R)};l.prototype.bind=function(R){A||(A=!0,l.prototype._propagateFrom=T.propagateFromFunction(),l.prototype._boundValue=T.boundValueFunction());var U=m(R),P=new l(_);P._propagateFrom(this,1);var G=this._target();if(P._setBoundTo(U),U instanceof l){var W={promiseRejectionQueued:!1,promise:P,target:G,bindingPromise:U};G._then(_,Y,void 0,P,W),U._then(B,F,void 0,P,W),P._setOnCancel(U)}else P._resolveCallback(G);return P},l.prototype._setBoundTo=function(R){void 0!==R?(this._bitField=2097152|this._bitField,this._boundTo=R):this._bitField=-2097153&this._bitField},l.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},l.bind=function(R,U){return l.resolve(U).bind(R)}}},{}],4:[function(f,g,u){"use strict";var l;"undefined"!=typeof Promise&&(l=Promise);var _=f("./promise")();_.noConflict=function(){try{Promise===_&&(Promise=l)}catch(m){}return _},g.exports=_},{"./promise":22}],5:[function(f,g,u){"use strict";var l=Object.create;if(l){var _=l(null),m=l(null);_[" size"]=m[" size"]=0}g.exports=function(T){var A=f("./util"),$=A.canEvaluate;function Y(R){return function(U,P){var G;if(null!=U&&(G=U[P]),"function"!=typeof G){var W="Object "+A.classString(U)+" has no method '"+A.toString(P)+"'";throw new T.TypeError(W)}return G}(R,this.pop()).apply(R,this)}function B(R){return R[this]}function F(R){var U=+this;return U<0&&(U=Math.max(0,U+R.length)),R[U]}T.prototype.call=function(R){var U=[].slice.call(arguments,1);return U.push(R),this._then(Y,void 0,void 0,U,void 0)},T.prototype.get=function(R){var U;if("number"==typeof R)U=F;else if($){var P=(void 0)(R);U=null!==P?P:B}else U=B;return this._then(U,void 0,void 0,R,void 0)}}},{"./util":36}],6:[function(f,g,u){"use strict";g.exports=function(l,_,m,T){var A=f("./util"),$=A.tryCatch,Y=A.errorObj,B=l._async;l.prototype.break=l.prototype.cancel=function(){if(!T.cancellation())return this._warn("cancellation is disabled");for(var F=this,R=F;F._isCancellable();){if(!F._cancelBy(R)){R._isFollowing()?R._followee().cancel():R._cancelBranched();break}var U=F._cancellationParent;if(null==U||!U._isCancellable()){F._isFollowing()?F._followee().cancel():F._cancelBranched();break}F._isFollowing()&&F._followee().cancel(),F._setWillBeCancelled(),R=F,F=U}},l.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},l.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},l.prototype._cancelBy=function(F){return F===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},l.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},l.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),B.invoke(this._cancelPromises,this,void 0))},l.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},l.prototype._unsetOnCancel=function(){this._onCancelField=void 0},l.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},l.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},l.prototype._doInvokeOnCancel=function(F,R){if(A.isArray(F))for(var U=0;U<F.length;++U)this._doInvokeOnCancel(F[U],R);else if(void 0!==F)if("function"==typeof F){if(!R){var P=$(F).call(this._boundValue());P===Y&&(this._attachExtraTrace(P.e),B.throwLater(P.e))}}else F._resultCancelled(this)},l.prototype._invokeOnCancel=function(){var F=this._onCancel();this._unsetOnCancel(),B.invoke(this._doInvokeOnCancel,this,F)},l.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},l.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(f,g,u){"use strict";g.exports=function(l){var _=f("./util"),m=f("./es5").keys,T=_.tryCatch,A=_.errorObj;return function($,Y,B){return function(F){var R=B._boundValue();e:for(var U=0;U<$.length;++U){var P=$[U];if(P===Error||null!=P&&P.prototype instanceof Error){if(F instanceof P)return T(Y).call(R,F)}else if("function"==typeof P){var G=T(P).call(R,F);if(G===A)return G;if(G)return T(Y).call(R,F)}else if(_.isObject(F)){for(var W=m(P),ne=0;ne<W.length;++ne){var X=W[ne];if(P[X]!=F[X])continue e}return T(Y).call(R,F)}}return l}}}},{"./es5":13,"./util":36}],8:[function(f,g,u){"use strict";g.exports=function(l){var _=!1,m=[];function T(){this._trace=new T.CapturedTrace(A())}function A(){var $=m.length-1;if($>=0)return m[$]}return l.prototype._promiseCreated=function(){},l.prototype._pushContext=function(){},l.prototype._popContext=function(){return null},l._peekContext=l.prototype._peekContext=function(){},T.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,m.push(this._trace))},T.prototype._popContext=function(){if(void 0!==this._trace){var $=m.pop(),Y=$._promiseCreated;return $._promiseCreated=null,Y}return null},T.CapturedTrace=null,T.create=function(){if(_)return new T},T.deactivateLongStackTraces=function(){},T.activateLongStackTraces=function(){var $=l.prototype._pushContext,Y=l.prototype._popContext,B=l._peekContext,F=l.prototype._peekContext,R=l.prototype._promiseCreated;T.deactivateLongStackTraces=function(){l.prototype._pushContext=$,l.prototype._popContext=Y,l._peekContext=B,l.prototype._peekContext=F,l.prototype._promiseCreated=R,_=!1},_=!0,l.prototype._pushContext=T.prototype._pushContext,l.prototype._popContext=T.prototype._popContext,l._peekContext=l.prototype._peekContext=A,l.prototype._promiseCreated=function(){var U=this._peekContext();U&&null==U._promiseCreated&&(U._promiseCreated=this)}},T}},{}],9:[function(f,g,u){"use strict";g.exports=function(l,_){var m,T,A,$=l._getDomain,Y=l._async,B=f("./errors").Warning,F=f("./util"),R=F.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,P=/\((?:timers\.js):\d+:\d+\)/,G=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,W=null,ne=null,X=!1,z=0!=F.env("BLUEBIRD_DEBUG"),Q=!(0==F.env("BLUEBIRD_WARNINGS")||!z&&!F.env("BLUEBIRD_WARNINGS")),Z=!(0==F.env("BLUEBIRD_LONG_STACK_TRACES")||!z&&!F.env("BLUEBIRD_LONG_STACK_TRACES")),j=0!=F.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!F.env("BLUEBIRD_W_FORGOTTEN_RETURN"));l.prototype.suppressUnhandledRejections=function(){var re=this._target();re._bitField=-1048577&re._bitField|524288},l.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var re=this;setTimeout(function(){re._notifyUnhandledRejection()},1)}},l.prototype._notifyUnhandledRejectionIsHandled=function(){mt("rejectionHandled",m,void 0,this)},l.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},l.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},l.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var re=this._settledValue();this._setUnhandledRejectionIsNotified(),mt("unhandledRejection",T,re,this)}},l.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},l.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},l.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},l.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},l.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},l.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},l.prototype._warn=function(re,ge,we){return rt(re,ge,we||this)},l.onPossiblyUnhandledRejection=function(re){var ge=$();T="function"==typeof re?null===ge?re:F.domainBind(ge,re):void 0},l.onUnhandledRejectionHandled=function(re){var ge=$();m="function"==typeof re?null===ge?re:F.domainBind(ge,re):void 0};var pe=function(){};l.longStackTraces=function(){if(Y.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ie.longStackTraces&&Ot()){var re=l.prototype._captureStackTrace,ge=l.prototype._attachExtraTrace;ie.longStackTraces=!0,pe=function(){if(Y.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");l.prototype._captureStackTrace=re,l.prototype._attachExtraTrace=ge,_.deactivateLongStackTraces(),Y.enableTrampoline(),ie.longStackTraces=!1},l.prototype._captureStackTrace=Ue,l.prototype._attachExtraTrace=et,_.activateLongStackTraces(),Y.disableTrampolineIfNecessary()}},l.hasLongStackTraces=function(){return ie.longStackTraces&&Ot()};var he=function(){try{if("function"==typeof CustomEvent){var re=new CustomEvent("CustomEvent");return F.global.dispatchEvent(re),function(ge,we){var De=new CustomEvent(ge.toLowerCase(),{detail:we,cancelable:!0});return!F.global.dispatchEvent(De)}}return"function"==typeof Event?(re=new Event("CustomEvent"),F.global.dispatchEvent(re),function(ge,we){var De=new Event(ge.toLowerCase(),{cancelable:!0});return De.detail=we,!F.global.dispatchEvent(De)}):((re=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),F.global.dispatchEvent(re),function(ge,we){var De=document.createEvent("CustomEvent");return De.initCustomEvent(ge.toLowerCase(),!1,!0,we),!F.global.dispatchEvent(De)})}catch(ge){}return function(){return!1}}(),J=F.isNode?function(){return p.emit.apply(p,arguments)}:F.global?function(re){var ge="on"+re.toLowerCase(),we=F.global[ge];return!!we&&(we.apply(F.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function Ee(re,ge){return{promise:ge}}var te={promiseCreated:Ee,promiseFulfilled:Ee,promiseRejected:Ee,promiseResolved:Ee,promiseCancelled:Ee,promiseChained:function(re,ge,we){return{promise:ge,child:we}},warning:function(re,ge){return{warning:ge}},unhandledRejection:function(re,ge,we){return{reason:ge,promise:we}},rejectionHandled:Ee},ce=function(re){var ge=!1;try{ge=J.apply(null,arguments)}catch(De){Y.throwLater(De),ge=!0}var we=!1;try{we=he(re,te[re].apply(null,arguments))}catch(De){Y.throwLater(De),we=!0}return we||ge};function ue(){return!1}function N(re,ge,we){var De=this;try{re(ge,we,function(Oe){if("function"!=typeof Oe)throw new TypeError("onCancel must be a function, got: "+F.toString(Oe));De._attachCancellationCallback(Oe)})}catch(Oe){return Oe}}function M(re){if(!this._isCancellable())return this;var ge=this._onCancel();void 0!==ge?F.isArray(ge)?ge.push(re):this._setOnCancel([ge,re]):this._setOnCancel(re)}function H(){return this._onCancelField}function L(re){this._onCancelField=re}function oe(){this._cancellationParent=void 0,this._onCancelField=void 0}function fe(re,ge){if(0!=(1&ge)){this._cancellationParent=re;var we=re._branchesRemainingToCancel;void 0===we&&(we=0),re._branchesRemainingToCancel=we+1}0!=(2&ge)&&re._isBound()&&this._setBoundTo(re._boundTo)}l.config=function(re){if("longStackTraces"in(re=Object(re))&&(re.longStackTraces?l.longStackTraces():!re.longStackTraces&&l.hasLongStackTraces()&&pe()),"warnings"in re){var ge=re.warnings;ie.warnings=!!ge,j=ie.warnings,F.isObject(ge)&&"wForgottenReturn"in ge&&(j=!!ge.wForgottenReturn)}if("cancellation"in re&&re.cancellation&&!ie.cancellation){if(Y.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");l.prototype._clearCancellationData=oe,l.prototype._propagateFrom=fe,l.prototype._onCancel=H,l.prototype._setOnCancel=L,l.prototype._attachCancellationCallback=M,l.prototype._execute=N,Ce=fe,ie.cancellation=!0}return"monitoring"in re&&(re.monitoring&&!ie.monitoring?(ie.monitoring=!0,l.prototype._fireEvent=ce):!re.monitoring&&ie.monitoring&&(ie.monitoring=!1,l.prototype._fireEvent=ue)),l},l.prototype._fireEvent=ue,l.prototype._execute=function(re,ge,we){try{re(ge,we)}catch(De){return De}},l.prototype._onCancel=function(){},l.prototype._setOnCancel=function(re){},l.prototype._attachCancellationCallback=function(re){},l.prototype._captureStackTrace=function(){},l.prototype._attachExtraTrace=function(){},l.prototype._clearCancellationData=function(){},l.prototype._propagateFrom=function(re,ge){};var Ce=function(re,ge){0!=(2&ge)&&re._isBound()&&this._setBoundTo(re._boundTo)};function Ie(){var re=this._boundTo;return void 0!==re&&re instanceof l?re.isFulfilled()?re.value():void 0:re}function Ue(){this._trace=new $n(this._peekContext())}function et(re,ge){if(R(re)){var we=this._trace;if(void 0!==we&&ge&&(we=we._parent),void 0!==we)we.attachExtraTrace(re);else if(!re.__stackCleaned__){var De=$e(re);F.notEnumerableProp(re,"stack",De.message+"\n"+De.stack.join("\n")),F.notEnumerableProp(re,"__stackCleaned__",!0)}}}function rt(re,ge,we){if(ie.warnings){var De,Oe=new B(re);if(ge)we._attachExtraTrace(Oe);else if(ie.longStackTraces&&(De=l._peekContext()))De.attachExtraTrace(Oe);else{var ke=$e(Oe);Oe.stack=ke.message+"\n"+ke.stack.join("\n")}ce("warning",Oe)||st(Oe,"",!0)}}function Ae(re){for(var ge=[],we=0;we<re.length;++we){var De=re[we],Oe="    (No stack trace)"===De||W.test(De),ke=Oe&&rn(De);Oe&&!ke&&(X&&" "!==De.charAt(0)&&(De="    "+De),ge.push(De))}return ge}function $e(re){var ge=re.stack,we=re.toString();return ge="string"==typeof ge&&ge.length>0?function(De){for(var Oe=De.stack.replace(/\s+$/g,"").split("\n"),ke=0;ke<Oe.length;++ke){var Ne=Oe[ke];if("    (No stack trace)"===Ne||W.test(Ne))break}return ke>0&&"SyntaxError"!=De.name&&(Oe=Oe.slice(ke)),Oe}(re):["    (No stack trace)"],{message:we,stack:"SyntaxError"==re.name?ge:Ae(ge)}}function st(re,ge,we){var De;"undefined"!=typeof console&&(De=F.isObject(re)?ge+ne(re.stack,re):ge+String(re),"function"==typeof A?A(De,we):"function"!=typeof console.log&&"object"!==O(console.log)||console.log(De))}function mt(re,ge,we,De){var Oe=!1;try{"function"==typeof ge&&(Oe=!0,"rejectionHandled"===re?ge(De):ge(we,De))}catch(ke){Y.throwLater(ke)}"unhandledRejection"===re?ce(re,we,De)||Oe||st(we,"Unhandled rejection "):ce(re,De)}function Et(re){var ge,we;if("function"==typeof re)ge="[function "+(re.name||"anonymous")+"]";else{if(ge=re&&"function"==typeof re.toString?re.toString():F.toString(re),/\[object [a-zA-Z0-9$_]+\]/.test(ge))try{ge=JSON.stringify(re)}catch(we){}0===ge.length&&(ge="(empty array)")}return"(<"+((we=ge).length<41?we:we.substr(0,38)+"...")+">, no stack trace)"}function Ot(){return"function"==typeof Pi}var rn=function(){return!1},si=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function wn(re){var ge=re.match(si);if(ge)return{fileName:ge[1],line:parseInt(ge[2],10)}}function $n(re){this._parent=re,this._promisesCreated=0;var ge=this._length=1+(void 0===re?0:re._length);Pi(this,$n),ge>32&&this.uncycle()}F.inherits($n,Error),_.CapturedTrace=$n,$n.prototype.uncycle=function(){var re=this._length;if(!(re<2)){for(var ge=[],we={},De=0,Oe=this;void 0!==Oe;++De)ge.push(Oe),Oe=Oe._parent;for(De=(re=this._length=De)-1;De>=0;--De){var ke=ge[De].stack;void 0===we[ke]&&(we[ke]=De)}for(De=0;De<re;++De){var Ne=we[ge[De].stack];if(void 0!==Ne&&Ne!==De){Ne>0&&(ge[Ne-1]._parent=void 0,ge[Ne-1]._length=1),ge[De]._parent=void 0,ge[De]._length=1;var je=De>0?ge[De-1]:this;Ne<re-1?(je._parent=ge[Ne+1],je._parent.uncycle(),je._length=je._parent._length+1):(je._parent=void 0,je._length=1);for(var Ve=je._length+1,Be=De-2;Be>=0;--Be)ge[Be]._length=Ve,Ve++;return}}}},$n.prototype.attachExtraTrace=function(re){if(!re.__stackCleaned__){this.uncycle();for(var ge=$e(re),we=ge.message,De=[ge.stack],Oe=this;void 0!==Oe;)De.push(Ae(Oe.stack.split("\n"))),Oe=Oe._parent;(function(ke){for(var Ne=ke[0],je=1;je<ke.length;++je){for(var Ve=ke[je],Be=Ne.length-1,qe=Ne[Be],He=-1,We=Ve.length-1;We>=0;--We)if(Ve[We]===qe){He=We;break}for(We=He;We>=0&&Ne[Be]===Ve[We];--We)Ne.pop(),Be--;Ne=Ve}})(De),function(ke){for(var Ne=0;Ne<ke.length;++Ne)(0===ke[Ne].length||Ne+1<ke.length&&ke[Ne][0]===ke[Ne+1][0])&&(ke.splice(Ne,1),Ne--)}(De),F.notEnumerableProp(re,"stack",function(ke,Ne){for(var je=0;je<Ne.length-1;++je)Ne[je].push("From previous event:"),Ne[je]=Ne[je].join("\n");return je<Ne.length&&(Ne[je]=Ne[je].join("\n")),ke+"\n"+Ne.join("\n")}(we,De)),F.notEnumerableProp(re,"__stackCleaned__",!0)}};var Pi=function(){var re=/^\s*at\s*/,ge=function(ke,Ne){return"string"==typeof ke?ke:void 0!==Ne.name&&void 0!==Ne.message?Ne.toString():Et(Ne)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,W=re,ne=ge;var we=Error.captureStackTrace;return rn=function(ke){return U.test(ke)},function(ke,Ne){Error.stackTraceLimit+=6,we(ke,Ne),Error.stackTraceLimit-=6}}var De,Oe=new Error;if("string"==typeof Oe.stack&&Oe.stack.split("\n")[0].indexOf("stackDetection@")>=0)return W=/@/,ne=ge,X=!0,function(ke){ke.stack=(new Error).stack};try{throw new Error}catch(ke){De="stack"in ke}return!("stack"in Oe)&&De&&"number"==typeof Error.stackTraceLimit?(W=re,ne=ge,function(ke){Error.stackTraceLimit+=6;try{throw new Error}catch(Ne){ke.stack=Ne.stack}Error.stackTraceLimit-=6}):(ne=function(ke,Ne){return"string"==typeof ke?ke:"object"!==O(Ne)&&"function"!=typeof Ne||void 0===Ne.name||void 0===Ne.message?Et(Ne):Ne.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(A=function(re){console.warn(re)},F.isNode&&p.stderr.isTTY?A=function(re,ge){console.warn((ge?"\x1b[33m":"\x1b[31m")+re+"\x1b[0m\n")}:F.isNode||"string"!=typeof(new Error).stack||(A=function(re,ge){console.warn("%c"+re,ge?"color: darkorange":"color: red")}));var ie={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1};return Z&&l.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return Ce},boundValueFunction:function(){return Ie},checkForgottenReturns:function(re,ge,we,De,Oe){if(void 0===re&&null!==ge&&j){if(void 0!==Oe&&Oe._returnedNonUndefined()||0==(65535&De._bitField))return;we&&(we+=" ");var ke="",Ne="";if(ge._trace){for(var je=ge._trace.stack.split("\n"),Ve=Ae(je),Be=Ve.length-1;Be>=0;--Be){var qe=Ve[Be];if(!P.test(qe)){var He=qe.match(G);He&&(ke="at "+He[1]+":"+He[2]+":"+He[3]+" ");break}}if(Ve.length>0){var We=Ve[0];for(Be=0;Be<je.length;++Be)if(je[Be]===We){Be>0&&(Ne="\n"+je[Be-1]);break}}}De._warn("a promise was created in a "+we+"handler "+ke+"but was not returned from it, see http://goo.gl/rRqMUw"+Ne,!0,ge)}},setBounds:function(re,ge){if(Ot()){for(var we,De,Oe=re.stack.split("\n"),ke=ge.stack.split("\n"),Ne=-1,je=-1,Ve=0;Ve<Oe.length;++Ve)if(Be=wn(Oe[Ve])){we=Be.fileName,Ne=Be.line;break}for(Ve=0;Ve<ke.length;++Ve){var Be;if(Be=wn(ke[Ve])){De=Be.fileName,je=Be.line;break}}Ne<0||je<0||!we||!De||we!==De||Ne>=je||(rn=function(qe){if(U.test(qe))return!0;var He=wn(qe);return!!(He&&He.fileName===we&&Ne<=He.line&&He.line<=je)})}},warn:rt,deprecated:function(re,ge){var we=re+" is deprecated and will be removed in a future version.";return ge&&(we+=" Use "+ge+" instead."),rt(we)},CapturedTrace:$n,fireDomEvent:he,fireGlobalEvent:J}}},{"./errors":12,"./util":36}],10:[function(f,g,u){"use strict";g.exports=function(l){function _(){return this.value}function m(){throw this.reason}l.prototype.return=l.prototype.thenReturn=function(T){return T instanceof l&&T.suppressUnhandledRejections(),this._then(_,void 0,void 0,{value:T},void 0)},l.prototype.throw=l.prototype.thenThrow=function(T){return this._then(m,void 0,void 0,{reason:T},void 0)},l.prototype.catchThrow=function(T){if(arguments.length<=1)return this._then(void 0,m,void 0,{reason:T},void 0);var A=arguments[1],$=function(){throw A};return this.caught(T,$)},l.prototype.catchReturn=function(T){if(arguments.length<=1)return T instanceof l&&T.suppressUnhandledRejections(),this._then(void 0,_,void 0,{value:T},void 0);var A=arguments[1];A instanceof l&&A.suppressUnhandledRejections();var $=function(){return A};return this.caught(T,$)}}},{}],11:[function(f,g,u){"use strict";g.exports=function(l,_){var m=l.reduce,T=l.all;function A(){return T(this)}l.prototype.each=function($){return m(this,$,_,0)._then(A,void 0,void 0,this,void 0)},l.prototype.mapSeries=function($){return m(this,$,_,_)},l.each=function($,Y){return m($,Y,_,0)._then(A,void 0,void 0,$,void 0)},l.mapSeries=function($,Y){return m($,Y,_,_)}}},{}],12:[function(f,g,u){"use strict";var l,_,m=f("./es5"),T=m.freeze,A=f("./util"),$=A.inherits,Y=A.notEnumerableProp;function B(Q,Z){function j(pe){if(!(this instanceof j))return new j(pe);Y(this,"message","string"==typeof pe?pe:Z),Y(this,"name",Q),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return $(j,Error),j}var F=B("Warning","warning"),R=B("CancellationError","cancellation error"),U=B("TimeoutError","timeout error"),P=B("AggregateError","aggregate error");try{l=TypeError,_=RangeError}catch(Q){l=B("TypeError","type error"),_=B("RangeError","range error")}for(var G="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),W=0;W<G.length;++W)"function"==typeof Array.prototype[G[W]]&&(P.prototype[G[W]]=Array.prototype[G[W]]);m.defineProperty(P.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),P.prototype.isOperational=!0;var ne=0;function X(Q){if(!(this instanceof X))return new X(Q);Y(this,"name","OperationalError"),Y(this,"message",Q),this.cause=Q,this.isOperational=!0,Q instanceof Error?(Y(this,"message",Q.message),Y(this,"stack",Q.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}P.prototype.toString=function(){var Q=Array(4*ne+1).join(" "),Z="\n"+Q+"AggregateError of:\n";ne++,Q=Array(4*ne+1).join(" ");for(var j=0;j<this.length;++j){for(var pe=this[j]===this?"[Circular AggregateError]":this[j]+"",he=pe.split("\n"),J=0;J<he.length;++J)he[J]=Q+he[J];Z+=(pe=he.join("\n"))+"\n"}return ne--,Z},$(X,Error);var z=Error.__BluebirdErrorTypes__;z||(z=T({CancellationError:R,TimeoutError:U,OperationalError:X,RejectionError:X,AggregateError:P}),m.defineProperty(Error,"__BluebirdErrorTypes__",{value:z,writable:!1,enumerable:!1,configurable:!1})),g.exports={Error,TypeError:l,RangeError:_,CancellationError:z.CancellationError,OperationalError:z.OperationalError,TimeoutError:z.TimeoutError,AggregateError:z.AggregateError,Warning:F}},{"./es5":13,"./util":36}],13:[function(f,g,u){var l=function(){"use strict";return void 0===this}();if(l)g.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:l,propertyIsWritable:function($,Y){var B=Object.getOwnPropertyDescriptor($,Y);return!(B&&!B.writable&&!B.set)}};else{var _={}.hasOwnProperty,m={}.toString,T={}.constructor.prototype,A=function($){var Y=[];for(var B in $)_.call($,B)&&Y.push(B);return Y};g.exports={isArray:function($){try{return"[object Array]"===m.call($)}catch(Y){return!1}},keys:A,names:A,defineProperty:function($,Y,B){return $[Y]=B.value,$},getDescriptor:function($,Y){return{value:$[Y]}},freeze:function($){return $},getPrototypeOf:function($){try{return Object($).constructor.prototype}catch(Y){return T}},isES5:l,propertyIsWritable:function(){return!0}}}},{}],14:[function(f,g,u){"use strict";g.exports=function(l,_){var m=l.map;l.prototype.filter=function(T,A){return m(this,T,A,_)},l.filter=function(T,A,$){return m(T,A,$,_)}}},{}],15:[function(f,g,u){"use strict";g.exports=function(l,_,m){var T=f("./util"),A=l.CancellationError,$=T.errorObj,Y=f("./catch_filter")(m);function B(W,ne,X){this.promise=W,this.type=ne,this.handler=X,this.called=!1,this.cancelPromise=null}function F(W){this.finallyHandler=W}function R(W,ne){return null!=W.cancelPromise&&(arguments.length>1?W.cancelPromise._reject(ne):W.cancelPromise._cancel(),W.cancelPromise=null,!0)}function U(){return G.call(this,this.promise._target()._settledValue())}function P(W){if(!R(this,W))return $.e=W,$}function G(W){var ne=this.promise,X=this.handler;if(!this.called){this.called=!0;var z=this.isFinallyHandler()?X.call(ne._boundValue()):X.call(ne._boundValue(),W);if(z===m)return z;if(void 0!==z){ne._setReturnedNonUndefined();var Q=_(z,ne);if(Q instanceof l){if(null!=this.cancelPromise){if(Q._isCancelled()){var Z=new A("late cancellation observer");return ne._attachExtraTrace(Z),$.e=Z,$}Q.isPending()&&Q._attachCancellationCallback(new F(this))}return Q._then(U,P,void 0,this,void 0)}}}return ne.isRejected()?(R(this),$.e=W,$):(R(this),W)}return B.prototype.isFinallyHandler=function(){return 0===this.type},F.prototype._resultCancelled=function(){R(this.finallyHandler)},l.prototype._passThrough=function(W,ne,X,z){return"function"!=typeof W?this.then():this._then(X,z,void 0,new B(this,ne,W),void 0)},l.prototype.lastly=l.prototype.finally=function(W){return this._passThrough(W,0,G,G)},l.prototype.tap=function(W){return this._passThrough(W,1,G)},l.prototype.tapCatch=function(W){var ne=arguments.length;if(1===ne)return this._passThrough(W,1,void 0,G);var X,z=new Array(ne-1),Q=0;for(X=0;X<ne-1;++X){var Z=arguments[X];if(!T.isObject(Z))return l.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+T.classString(Z)));z[Q++]=Z}z.length=Q;var j=arguments[X];return this._passThrough(Y(z,j,this),1,void 0,G)},B}},{"./catch_filter":7,"./util":36}],16:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A,$){var Y=f("./errors").TypeError,B=f("./util"),F=B.errorObj,R=B.tryCatch,U=[];function P(G,W,ne,X){if($.cancellation()){var z=new l(m),Q=this._finallyPromise=new l(m);this._promise=z.lastly(function(){return Q}),z._captureStackTrace(),z._setOnCancel(this)}else(this._promise=new l(m))._captureStackTrace();this._stack=X,this._generatorFunction=G,this._receiver=W,this._generator=void 0,this._yieldHandlers="function"==typeof ne?[ne].concat(U):U,this._yieldedPromise=null,this._cancellationPhase=!1}B.inherits(P,A),P.prototype._isResolved=function(){return null===this._promise},P.prototype._cleanup=function(){this._promise=this._generator=null,$.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},P.prototype._promiseCancelled=function(){if(!this._isResolved()){var G;if(void 0!==this._generator.return)this._promise._pushContext(),G=R(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var W=new l.CancellationError("generator .return() sentinel");l.coroutine.returnSentinel=W,this._promise._attachExtraTrace(W),this._promise._pushContext(),G=R(this._generator.throw).call(this._generator,W),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(G)}},P.prototype._promiseFulfilled=function(G){this._yieldedPromise=null,this._promise._pushContext();var W=R(this._generator.next).call(this._generator,G);this._promise._popContext(),this._continue(W)},P.prototype._promiseRejected=function(G){this._yieldedPromise=null,this._promise._attachExtraTrace(G),this._promise._pushContext();var W=R(this._generator.throw).call(this._generator,G);this._promise._popContext(),this._continue(W)},P.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof l){var G=this._yieldedPromise;this._yieldedPromise=null,G.cancel()}},P.prototype.promise=function(){return this._promise},P.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},P.prototype._continue=function(G){var W=this._promise;if(G===F)return this._cleanup(),this._cancellationPhase?W.cancel():W._rejectCallback(G.e,!1);var ne=G.value;if(!0===G.done)return this._cleanup(),this._cancellationPhase?W.cancel():W._resolveCallback(ne);var X=T(ne,this._promise);if(X instanceof l||null!==(X=function(Q,Z,j){for(var pe=0;pe<Z.length;++pe){j._pushContext();var he=R(Z[pe])(Q);if(j._popContext(),he===F){j._pushContext();var J=l.reject(F.e);return j._popContext(),J}var Ee=T(he,j);if(Ee instanceof l)return Ee}return null}(X,this._yieldHandlers,this._promise))){var z=(X=X._target())._bitField;0==(50397184&z)?(this._yieldedPromise=X,X._proxy(this,null)):0!=(33554432&z)?l._async.invoke(this._promiseFulfilled,this,X._value()):0!=(16777216&z)?l._async.invoke(this._promiseRejected,this,X._reason()):this._promiseCancelled()}else this._promiseRejected(new Y("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(ne))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},l.coroutine=function(G,W){if("function"!=typeof G)throw new Y("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var ne=Object(W).yieldHandler,X=P,z=(new Error).stack;return function(){var Q=G.apply(this,arguments),Z=new X(void 0,void 0,ne,z),j=Z.promise();return Z._generator=Q,Z._promiseFulfilled(void 0),j}},l.coroutine.addYieldHandler=function(G){if("function"!=typeof G)throw new Y("expecting a function but got "+B.classString(G));U.push(G)},l.spawn=function(G){if($.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof G)return _("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var W=new P(G,this),ne=W.promise();return W._run(l.spawn),ne}}},{"./errors":12,"./util":36}],17:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A,$){f("./util"),l.join=function(){var B,F=arguments.length-1;F>0&&"function"==typeof arguments[F]&&(B=arguments[F]);var R=[].slice.call(arguments);B&&R.pop();var U=new _(R).promise();return void 0!==B?U.spread(B):U}}},{"./util":36}],18:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A,$){var Y=l._getDomain,B=f("./util"),F=B.tryCatch,R=B.errorObj,U=l._async;function P(W,ne,X,z){this.constructor$(W),this._promise._captureStackTrace();var Q=Y();this._callback=null===Q?ne:B.domainBind(Q,ne),this._preservedValues=z===A?new Array(this.length()):null,this._limit=X,this._inFlight=0,this._queue=[],U.invoke(this._asyncInit,this,void 0)}function G(W,ne,X,z){if("function"!=typeof ne)return m("expecting a function but got "+B.classString(ne));var Q=0;if(void 0!==X){if("object"!==O(X)||null===X)return l.reject(new TypeError("options argument must be an object but it is "+B.classString(X)));if("number"!=typeof X.concurrency)return l.reject(new TypeError("'concurrency' must be a number but it is "+B.classString(X.concurrency)));Q=X.concurrency}return new P(W,ne,Q="number"==typeof Q&&isFinite(Q)&&Q>=1?Q:0,z).promise()}B.inherits(P,_),P.prototype._asyncInit=function(){this._init$(void 0,-2)},P.prototype._init=function(){},P.prototype._promiseFulfilled=function(W,ne){var X=this._values,z=this.length(),Q=this._preservedValues,Z=this._limit;if(ne<0){if(X[ne=-1*ne-1]=W,Z>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(Z>=1&&this._inFlight>=Z)return X[ne]=W,this._queue.push(ne),!1;null!==Q&&(Q[ne]=W);var j=this._promise,pe=this._callback,he=j._boundValue();j._pushContext();var J=F(pe).call(he,W,ne,z),Ee=j._popContext();if($.checkForgottenReturns(J,Ee,null!==Q?"Promise.filter":"Promise.map",j),J===R)return this._reject(J.e),!0;var te=T(J,this._promise);if(te instanceof l){var ce=(te=te._target())._bitField;if(0==(50397184&ce))return Z>=1&&this._inFlight++,X[ne]=te,te._proxy(this,-1*(ne+1)),!1;if(0==(33554432&ce))return 0!=(16777216&ce)?(this._reject(te._reason()),!0):(this._cancel(),!0);J=te._value()}X[ne]=J}return++this._totalResolved>=z&&(null!==Q?this._filter(X,Q):this._resolve(X),!0)},P.prototype._drainQueue=function(){for(var W=this._queue,ne=this._limit,X=this._values;W.length>0&&this._inFlight<ne;){if(this._isResolved())return;var z=W.pop();this._promiseFulfilled(X[z],z)}},P.prototype._filter=function(W,ne){for(var X=ne.length,z=new Array(X),Q=0,Z=0;Z<X;++Z)W[Z]&&(z[Q++]=ne[Z]);z.length=Q,this._resolve(z)},P.prototype.preservedValues=function(){return this._preservedValues},l.prototype.map=function(W,ne){return G(this,W,ne,null)},l.map=function(W,ne,X,z){return G(W,ne,X,z)}}},{"./util":36}],19:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A){var $=f("./util"),Y=$.tryCatch;l.method=function(B){if("function"!=typeof B)throw new l.TypeError("expecting a function but got "+$.classString(B));return function(){var F=new l(_);F._captureStackTrace(),F._pushContext();var R=Y(B).apply(this,arguments),U=F._popContext();return A.checkForgottenReturns(R,U,"Promise.method",F),F._resolveFromSyncValue(R),F}},l.attempt=l.try=function(B){if("function"!=typeof B)return T("expecting a function but got "+$.classString(B));var F,R=new l(_);if(R._captureStackTrace(),R._pushContext(),arguments.length>1){A.deprecated("calling Promise.try with more than 1 argument");var U=arguments[1],P=arguments[2];F=$.isArray(U)?Y(B).apply(P,U):Y(B).call(P,U)}else F=Y(B)();var G=R._popContext();return A.checkForgottenReturns(F,G,"Promise.try",R),R._resolveFromSyncValue(F),R},l.prototype._resolveFromSyncValue=function(B){B===$.errorObj?this._rejectCallback(B.e,!1):this._resolveCallback(B,!0)}}},{"./util":36}],20:[function(f,g,u){"use strict";var l=f("./util"),_=l.maybeWrapAsError,m=f("./errors").OperationalError,T=f("./es5"),A=/^(?:name|message|stack|cause)$/;function $(Y){var B,P;if((P=Y)instanceof Error&&T.getPrototypeOf(P)===Error.prototype){(B=new m(Y)).name=Y.name,B.message=Y.message,B.stack=Y.stack;for(var F=T.keys(Y),R=0;R<F.length;++R){var U=F[R];A.test(U)||(B[U]=Y[U])}return B}return l.markAsOriginatingFromRejection(Y),Y}g.exports=function(Y,B){return function(F,R){if(null!==Y){if(F){var U=$(_(F));Y._attachExtraTrace(U),Y._reject(U)}else if(B){var P=[].slice.call(arguments,1);Y._fulfill(P)}else Y._fulfill(R);Y=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(f,g,u){"use strict";g.exports=function(l){var _=f("./util"),m=l._async,T=_.tryCatch,A=_.errorObj;function $(F,R){if(!_.isArray(F))return Y.call(this,F,R);var U=T(R).apply(this._boundValue(),[null].concat(F));U===A&&m.throwLater(U.e)}function Y(F,R){var U=this._boundValue(),P=void 0===F?T(R).call(U,null):T(R).call(U,null,F);P===A&&m.throwLater(P.e)}function B(F,R){if(!F){var U=new Error(F+"");U.cause=F,F=U}var P=T(R).call(this._boundValue(),F);P===A&&m.throwLater(P.e)}l.prototype.asCallback=l.prototype.nodeify=function(F,R){if("function"==typeof F){var U=Y;void 0!==R&&Object(R).spread&&(U=$),this._then(U,B,void 0,this,F)}return this}}},{"./util":36}],22:[function(f,g,u){"use strict";g.exports=function(){var l=function(){return new P("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},_=function(){return new ue.PromiseInspection(this._target())},m=function(L){return ue.reject(new P(L))};function T(){}var A,$={},Y=f("./util");Y.notEnumerableProp(ue,"_getDomain",A=Y.isNode?function(){var L=p.domain;return void 0===L&&(L=null),L}:function(){return null});var B=f("./es5"),F=f("./async"),R=new F;B.defineProperty(ue,"_async",{value:R});var U=f("./errors"),P=ue.TypeError=U.TypeError;ue.RangeError=U.RangeError;var G=ue.CancellationError=U.CancellationError;ue.TimeoutError=U.TimeoutError,ue.OperationalError=U.OperationalError,ue.RejectionError=U.OperationalError,ue.AggregateError=U.AggregateError;var W=function(){},ne={},X={},z=f("./thenables")(ue,W),Q=f("./promise_array")(ue,W,z,m,T),Z=f("./context")(ue),j=Z.create,pe=f("./debuggability")(ue,Z),he=f("./finally")(ue,z,X),J=f("./catch_filter")(X),Ee=f("./nodeback"),te=Y.errorObj,ce=Y.tryCatch;function ue(L){L!==W&&function(oe,fe){if(null==oe||oe.constructor!==ue)throw new P("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof fe)throw new P("expecting a function but got "+Y.classString(fe))}(this,L),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(L),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function N(L){this.promise._resolveCallback(L)}function M(L){this.promise._rejectCallback(L,!1)}function H(L){var oe=new ue(W);oe._fulfillmentHandler0=L,oe._rejectionHandler0=L,oe._promise0=L,oe._receiver0=L}return ue.prototype.toString=function(){return"[object Promise]"},ue.prototype.caught=ue.prototype.catch=function(L){var oe=arguments.length;if(oe>1){var fe,Ce=new Array(oe-1),Ie=0;for(fe=0;fe<oe-1;++fe){var Ue=arguments[fe];if(!Y.isObject(Ue))return m("Catch statement predicate: expecting an object but got "+Y.classString(Ue));Ce[Ie++]=Ue}return Ce.length=Ie,this.then(void 0,J(Ce,L=arguments[fe],this))}return this.then(void 0,L)},ue.prototype.reflect=function(){return this._then(_,_,void 0,this,void 0)},ue.prototype.then=function(L,oe){if(pe.warnings()&&arguments.length>0&&"function"!=typeof L&&"function"!=typeof oe){var fe=".then() only accepts functions but was passed: "+Y.classString(L);arguments.length>1&&(fe+=", "+Y.classString(oe)),this._warn(fe)}return this._then(L,oe,void 0,void 0,void 0)},ue.prototype.done=function(L,oe){this._then(L,oe,void 0,void 0,void 0)._setIsFinal()},ue.prototype.spread=function(L){return"function"!=typeof L?m("expecting a function but got "+Y.classString(L)):this.all()._then(L,void 0,void 0,ne,void 0)},ue.prototype.toJSON=function(){var L={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(L.fulfillmentValue=this.value(),L.isFulfilled=!0):this.isRejected()&&(L.rejectionReason=this.reason(),L.isRejected=!0),L},ue.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Q(this).promise()},ue.prototype.error=function(L){return this.caught(Y.originatesFromRejection,L)},ue.getNewLibraryCopy=g.exports,ue.is=function(L){return L instanceof ue},ue.fromNode=ue.fromCallback=function(L){var oe=new ue(W);oe._captureStackTrace();var fe=arguments.length>1&&!!Object(arguments[1]).multiArgs,Ce=ce(L)(Ee(oe,fe));return Ce===te&&oe._rejectCallback(Ce.e,!0),oe._isFateSealed()||oe._setAsyncGuaranteed(),oe},ue.all=function(L){return new Q(L).promise()},ue.cast=function(L){var oe=z(L);return oe instanceof ue||((oe=new ue(W))._captureStackTrace(),oe._setFulfilled(),oe._rejectionHandler0=L),oe},ue.resolve=ue.fulfilled=ue.cast,ue.reject=ue.rejected=function(L){var oe=new ue(W);return oe._captureStackTrace(),oe._rejectCallback(L,!0),oe},ue.setScheduler=function(L){if("function"!=typeof L)throw new P("expecting a function but got "+Y.classString(L));return R.setScheduler(L)},ue.prototype._then=function(L,oe,fe,Ce,Ie){var Ue=void 0!==Ie,et=Ue?Ie:new ue(W),rt=this._target(),Ae=rt._bitField;Ue||(et._propagateFrom(this,3),et._captureStackTrace(),void 0===Ce&&0!=(2097152&this._bitField)&&(Ce=0!=(50397184&Ae)?this._boundValue():rt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,et));var $e=A();if(0!=(50397184&Ae)){var st,mt,Et=rt._settlePromiseCtx;0!=(33554432&Ae)?(mt=rt._rejectionHandler0,st=L):0!=(16777216&Ae)?(mt=rt._fulfillmentHandler0,st=oe,rt._unsetRejectionIsUnhandled()):(Et=rt._settlePromiseLateCancellationObserver,mt=new G("late cancellation observer"),rt._attachExtraTrace(mt),st=oe),R.invoke(Et,rt,{handler:null===$e?st:"function"==typeof st&&Y.domainBind($e,st),promise:et,receiver:Ce,value:mt})}else rt._addCallbacks(L,oe,et,Ce,$e);return et},ue.prototype._length=function(){return 65535&this._bitField},ue.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},ue.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},ue.prototype._setLength=function(L){this._bitField=-65536&this._bitField|65535&L},ue.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},ue.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},ue.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},ue.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},ue.prototype._isFinal=function(){return(4194304&this._bitField)>0},ue.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},ue.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},ue.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},ue.prototype._setAsyncGuaranteed=function(){R.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},ue.prototype._receiverAt=function(L){var oe=0===L?this._receiver0:this[4*L-4+3];if(oe!==$)return void 0===oe&&this._isBound()?this._boundValue():oe},ue.prototype._promiseAt=function(L){return this[4*L-4+2]},ue.prototype._fulfillmentHandlerAt=function(L){return this[4*L-4+0]},ue.prototype._rejectionHandlerAt=function(L){return this[4*L-4+1]},ue.prototype._boundValue=function(){},ue.prototype._migrateCallback0=function(L){var oe=L._fulfillmentHandler0,fe=L._rejectionHandler0,Ce=L._promise0,Ie=L._receiverAt(0);void 0===Ie&&(Ie=$),this._addCallbacks(oe,fe,Ce,Ie,null)},ue.prototype._migrateCallbackAt=function(L,oe){var fe=L._fulfillmentHandlerAt(oe),Ce=L._rejectionHandlerAt(oe),Ie=L._promiseAt(oe),Ue=L._receiverAt(oe);void 0===Ue&&(Ue=$),this._addCallbacks(fe,Ce,Ie,Ue,null)},ue.prototype._addCallbacks=function(L,oe,fe,Ce,Ie){var Ue=this._length();if(Ue>=65531&&(Ue=0,this._setLength(0)),0===Ue)this._promise0=fe,this._receiver0=Ce,"function"==typeof L&&(this._fulfillmentHandler0=null===Ie?L:Y.domainBind(Ie,L)),"function"==typeof oe&&(this._rejectionHandler0=null===Ie?oe:Y.domainBind(Ie,oe));else{var et=4*Ue-4;this[et+2]=fe,this[et+3]=Ce,"function"==typeof L&&(this[et+0]=null===Ie?L:Y.domainBind(Ie,L)),"function"==typeof oe&&(this[et+1]=null===Ie?oe:Y.domainBind(Ie,oe))}return this._setLength(Ue+1),Ue},ue.prototype._proxy=function(L,oe){this._addCallbacks(void 0,void 0,oe,L,null)},ue.prototype._resolveCallback=function(L,oe){if(0==(117506048&this._bitField)){if(L===this)return this._rejectCallback(l(),!1);var fe=z(L,this);if(!(fe instanceof ue))return this._fulfill(L);oe&&this._propagateFrom(fe,2);var Ce=fe._target();if(Ce!==this){var Ie=Ce._bitField;if(0==(50397184&Ie)){var Ue=this._length();Ue>0&&Ce._migrateCallback0(this);for(var et=1;et<Ue;++et)Ce._migrateCallbackAt(this,et);this._setFollowing(),this._setLength(0),this._setFollowee(Ce)}else if(0!=(33554432&Ie))this._fulfill(Ce._value());else if(0!=(16777216&Ie))this._reject(Ce._reason());else{var rt=new G("late cancellation observer");Ce._attachExtraTrace(rt),this._reject(rt)}}else this._reject(l())}},ue.prototype._rejectCallback=function(L,oe,fe){var Ce=Y.ensureErrorObject(L),Ie=Ce===L;if(!Ie&&!fe&&pe.warnings()){var Ue="a promise was rejected with a non-error: "+Y.classString(L);this._warn(Ue,!0)}this._attachExtraTrace(Ce,!!oe&&Ie),this._reject(L)},ue.prototype._resolveFromExecutor=function(L){if(L!==W){var oe=this;this._captureStackTrace(),this._pushContext();var fe=!0,Ce=this._execute(L,function(Ie){oe._resolveCallback(Ie)},function(Ie){oe._rejectCallback(Ie,fe)});fe=!1,this._popContext(),void 0!==Ce&&oe._rejectCallback(Ce,!0)}},ue.prototype._settlePromiseFromHandler=function(L,oe,fe,Ce){var Ie=Ce._bitField;if(0==(65536&Ie)){var Ue;Ce._pushContext(),oe===ne?fe&&"number"==typeof fe.length?Ue=ce(L).apply(this._boundValue(),fe):(Ue=te).e=new P("cannot .spread() a non-array: "+Y.classString(fe)):Ue=ce(L).call(oe,fe);var et=Ce._popContext();0==(65536&(Ie=Ce._bitField))&&(Ue===X?Ce._reject(fe):Ue===te?Ce._rejectCallback(Ue.e,!1):(pe.checkForgottenReturns(Ue,et,"",Ce,this),Ce._resolveCallback(Ue)))}},ue.prototype._target=function(){for(var L=this;L._isFollowing();)L=L._followee();return L},ue.prototype._followee=function(){return this._rejectionHandler0},ue.prototype._setFollowee=function(L){this._rejectionHandler0=L},ue.prototype._settlePromise=function(L,oe,fe,Ce){var Ie=L instanceof ue,Ue=this._bitField,et=0!=(134217728&Ue);0!=(65536&Ue)?(Ie&&L._invokeInternalOnCancel(),fe instanceof he&&fe.isFinallyHandler()?(fe.cancelPromise=L,ce(oe).call(fe,Ce)===te&&L._reject(te.e)):oe===_?L._fulfill(_.call(fe)):fe instanceof T?fe._promiseCancelled(L):Ie||L instanceof Q?L._cancel():fe.cancel()):"function"==typeof oe?Ie?(et&&L._setAsyncGuaranteed(),this._settlePromiseFromHandler(oe,fe,Ce,L)):oe.call(fe,Ce,L):fe instanceof T?fe._isResolved()||(0!=(33554432&Ue)?fe._promiseFulfilled(Ce,L):fe._promiseRejected(Ce,L)):Ie&&(et&&L._setAsyncGuaranteed(),0!=(33554432&Ue)?L._fulfill(Ce):L._reject(Ce))},ue.prototype._settlePromiseLateCancellationObserver=function(L){var oe=L.handler,fe=L.promise,Ce=L.receiver,Ie=L.value;"function"==typeof oe?fe instanceof ue?this._settlePromiseFromHandler(oe,Ce,Ie,fe):oe.call(Ce,Ie,fe):fe instanceof ue&&fe._reject(Ie)},ue.prototype._settlePromiseCtx=function(L){this._settlePromise(L.promise,L.handler,L.receiver,L.value)},ue.prototype._settlePromise0=function(L,oe,fe){var Ce=this._promise0,Ie=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Ce,L,Ie,oe)},ue.prototype._clearCallbackDataAtIndex=function(L){var oe=4*L-4;this[oe+2]=this[oe+3]=this[oe+0]=this[oe+1]=void 0},ue.prototype._fulfill=function(L){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(L===this){var fe=l();return this._attachExtraTrace(fe),this._reject(fe)}this._setFulfilled(),this._rejectionHandler0=L,(65535&oe)>0&&(0!=(134217728&oe)?this._settlePromises():R.settlePromises(this))}},ue.prototype._reject=function(L){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=L,this._isFinal())return R.fatalError(L,Y.isNode);(65535&oe)>0?R.settlePromises(this):this._ensurePossibleRejectionHandled()}},ue.prototype._fulfillPromises=function(L,oe){for(var fe=1;fe<L;fe++){var Ce=this._fulfillmentHandlerAt(fe),Ie=this._promiseAt(fe),Ue=this._receiverAt(fe);this._clearCallbackDataAtIndex(fe),this._settlePromise(Ie,Ce,Ue,oe)}},ue.prototype._rejectPromises=function(L,oe){for(var fe=1;fe<L;fe++){var Ce=this._rejectionHandlerAt(fe),Ie=this._promiseAt(fe),Ue=this._receiverAt(fe);this._clearCallbackDataAtIndex(fe),this._settlePromise(Ie,Ce,Ue,oe)}},ue.prototype._settlePromises=function(){var L=this._bitField,oe=65535&L;if(oe>0){if(0!=(16842752&L)){var fe=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,fe,L),this._rejectPromises(oe,fe)}else{var Ce=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Ce,L),this._fulfillPromises(oe,Ce)}this._setLength(0)}this._clearCancellationData()},ue.prototype._settledValue=function(){var L=this._bitField;return 0!=(33554432&L)?this._rejectionHandler0:0!=(16777216&L)?this._fulfillmentHandler0:void 0},ue.defer=ue.pending=function(){return pe.deprecated("Promise.defer","new Promise"),{promise:new ue(W),resolve:N,reject:M}},Y.notEnumerableProp(ue,"_makeSelfResolutionError",l),f("./method")(ue,W,z,m,pe),f("./bind")(ue,W,z,pe),f("./cancel")(ue,Q,m,pe),f("./direct_resolve")(ue),f("./synchronous_inspection")(ue),f("./join")(ue,Q,z,W,R,A),ue.Promise=ue,ue.version="3.5.1",f("./map.js")(ue,Q,m,z,W,pe),f("./call_get.js")(ue),f("./using.js")(ue,m,z,j,W,pe),f("./timers.js")(ue,W,pe),f("./generators.js")(ue,m,W,z,T,pe),f("./nodeify.js")(ue),f("./promisify.js")(ue,W),f("./props.js")(ue,Q,z,m),f("./race.js")(ue,W,z,m),f("./reduce.js")(ue,Q,m,z,W,pe),f("./settle.js")(ue,Q,pe),f("./some.js")(ue,Q,m),f("./filter.js")(ue,W),f("./each.js")(ue,W),f("./any.js")(ue),Y.toFastProperties(ue),Y.toFastProperties(ue.prototype),H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new ue(W)),pe.setBounds(F.firstLineError,Y.lastLineError),ue}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A){var $=f("./util");function Y(B){var F=this._promise=new l(_);B instanceof l&&F._propagateFrom(B,3),F._setOnCancel(this),this._values=B,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return $.inherits(Y,A),Y.prototype.length=function(){return this._length},Y.prototype.promise=function(){return this._promise},Y.prototype._init=function B(F,R){var U=m(this._values,this._promise);if(U instanceof l){var P=(U=U._target())._bitField;if(this._values=U,0==(50397184&P))return this._promise._setAsyncGuaranteed(),U._then(B,this._reject,void 0,this,R);if(0==(33554432&P))return 0!=(16777216&P)?this._reject(U._reason()):this._cancel();U=U._value()}if(null!==(U=$.asArray(U)))0!==U.length?this._iterate(U):-5===R?this._resolveEmptyArray():this._resolve(function(W){switch(W){case-2:return[];case-3:return{};case-6:return new Map}}(R));else{var G=T("expecting an array or an iterable object but got "+$.classString(U)).reason();this._promise._rejectCallback(G,!1)}},Y.prototype._iterate=function(B){var F=this.getActualLength(B.length);this._length=F,this._values=this.shouldCopyValues()?new Array(F):this._values;for(var R=this._promise,U=!1,P=null,G=0;G<F;++G){var W=m(B[G],R);P=W instanceof l?(W=W._target())._bitField:null,U?null!==P&&W.suppressUnhandledRejections():null!==P?0==(50397184&P)?(W._proxy(this,G),this._values[G]=W):U=0!=(33554432&P)?this._promiseFulfilled(W._value(),G):0!=(16777216&P)?this._promiseRejected(W._reason(),G):this._promiseCancelled(G):U=this._promiseFulfilled(W,G)}U||R._setAsyncGuaranteed()},Y.prototype._isResolved=function(){return null===this._values},Y.prototype._resolve=function(B){this._values=null,this._promise._fulfill(B)},Y.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},Y.prototype._reject=function(B){this._values=null,this._promise._rejectCallback(B,!1)},Y.prototype._promiseFulfilled=function(B,F){return this._values[F]=B,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},Y.prototype._promiseCancelled=function(){return this._cancel(),!0},Y.prototype._promiseRejected=function(B){return this._totalResolved++,this._reject(B),!0},Y.prototype._resultCancelled=function(){if(!this._isResolved()){var B=this._values;if(this._cancel(),B instanceof l)B.cancel();else for(var F=0;F<B.length;++F)B[F]instanceof l&&B[F].cancel()}},Y.prototype.shouldCopyValues=function(){return!0},Y.prototype.getActualLength=function(B){return B},Y}},{"./util":36}],24:[function(f,g,u){"use strict";g.exports=function(l,_){var m={},T=f("./util"),A=f("./nodeback"),$=T.withAppended,Y=T.maybeWrapAsError,B=T.canEvaluate,F=f("./errors").TypeError,R={__isPromisified__:!0},U=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),P=function(Z){return T.isIdentifier(Z)&&"_"!==Z.charAt(0)&&"constructor"!==Z};function G(Z){return!U.test(Z)}function W(Z){try{return!0===Z.__isPromisified__}catch(j){return!1}}function ne(Z,j,pe){var he=T.getDataPropertyOrDefault(Z,j+pe,R);return!!he&&W(he)}var z=B?void 0:function(Z,j,pe,he,J,Ee){var te=function(){return this}(),ce=Z;function ue(){var N=j;j===m&&(N=this);var M=new l(_);M._captureStackTrace();var H="string"==typeof ce&&this!==te?this[ce]:Z,L=A(M,Ee);try{H.apply(N,$(arguments,L))}catch(oe){M._rejectCallback(Y(oe),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return"string"==typeof ce&&(Z=he),T.notEnumerableProp(ue,"__isPromisified__",!0),ue};function Q(Z,j,pe,he,J){for(var Ee=new RegExp(j.replace(/([$])/,"\\$")+"$"),te=function X(Z,j,pe,he){for(var J=T.inheritedDataKeys(Z),Ee=[],te=0;te<J.length;++te){var ce=J[te],ue=Z[ce],N=he===P||P(ce);"function"!=typeof ue||W(ue)||ne(Z,ce,j)||!he(ce,ue,Z,N)||Ee.push(ce,ue)}return function(M,H,L){for(var oe=0;oe<M.length;oe+=2){var fe=M[oe];if(L.test(fe))for(var Ce=fe.replace(L,""),Ie=0;Ie<M.length;Ie+=2)if(M[Ie]===Ce)throw new F("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",H))}}(Ee,j,pe),Ee}(Z,j,Ee,pe),ce=0,ue=te.length;ce<ue;ce+=2){var N=te[ce],M=te[ce+1],H=N+j;if(he===z)Z[H]=z(N,m,N,M,j,J);else{var L=he(M,function(){return z(N,m,N,M,j,J)});T.notEnumerableProp(L,"__isPromisified__",!0),Z[H]=L}}return T.toFastProperties(Z),Z}l.promisify=function(Z,j){if("function"!=typeof Z)throw new F("expecting a function but got "+T.classString(Z));if(W(Z))return Z;var he,J,pe=(he=Z,J=void 0===(j=Object(j)).context?m:j.context,z(he,J,void 0,he,null,!!j.multiArgs));return T.copyDescriptors(Z,pe,G),pe},l.promisifyAll=function(Z,j){if("function"!=typeof Z&&"object"!==O(Z))throw new F("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var pe=!!(j=Object(j)).multiArgs,he=j.suffix;"string"!=typeof he&&(he="Async");var J=j.filter;"function"!=typeof J&&(J=P);var Ee=j.promisifier;if("function"!=typeof Ee&&(Ee=z),!T.isIdentifier(he))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var te=T.inheritedDataKeys(Z),ce=0;ce<te.length;++ce){var ue=Z[te[ce]];"constructor"!==te[ce]&&T.isClass(ue)&&(Q(ue.prototype,he,J,Ee,pe),Q(ue,he,J,Ee,pe))}return Q(Z,he,J,Ee,pe)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(f,g,u){"use strict";g.exports=function(l,_,m,T){var A,$=f("./util"),Y=$.isObject,B=f("./es5");"function"==typeof Map&&(A=Map);var F=function(){var P=0,G=0;function W(ne,X){this[P]=ne,this[P+G]=X,P++}return function(ne){G=ne.size,P=0;var X=new Array(2*ne.size);return ne.forEach(W,X),X}}();function R(P){var G,W=!1;if(void 0!==A&&P instanceof A)G=F(P),W=!0;else{var ne=B.keys(P),X=ne.length;G=new Array(2*X);for(var z=0;z<X;++z){var Q=ne[z];G[z]=P[Q],G[z+X]=Q}}this.constructor$(G),this._isMap=W,this._init$(void 0,W?-6:-3)}function U(P){var G,W=m(P);return Y(W)?(G=W instanceof l?W._then(l.props,void 0,void 0,void 0,void 0):new R(W).promise(),W instanceof l&&G._propagateFrom(W,2),G):T("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}$.inherits(R,_),R.prototype._init=function(){},R.prototype._promiseFulfilled=function(P,G){if(this._values[G]=P,++this._totalResolved>=this._length){var W;if(this._isMap)W=function(Q){for(var Z=new A,j=Q.length/2|0,pe=0;pe<j;++pe)Z.set(Q[j+pe],Q[pe]);return Z}(this._values);else{W={};for(var ne=this.length(),X=0,z=this.length();X<z;++X)W[this._values[X+ne]]=this._values[X]}return this._resolve(W),!0}return!1},R.prototype.shouldCopyValues=function(){return!1},R.prototype.getActualLength=function(P){return P>>1},l.prototype.props=function(){return U(this)},l.props=function(P){return U(P)}}},{"./es5":13,"./util":36}],26:[function(f,g,u){"use strict";function l(_){this._capacity=_,this._length=0,this._front=0}l.prototype._willBeOverCapacity=function(_){return this._capacity<_},l.prototype._pushOne=function(_){var m=this.length();this._checkCapacity(m+1),this[this._front+m&this._capacity-1]=_,this._length=m+1},l.prototype.push=function(_,m,T){var A=this.length()+3;if(this._willBeOverCapacity(A))return this._pushOne(_),this._pushOne(m),void this._pushOne(T);var $=this._front+A-3;this._checkCapacity(A);var Y=this._capacity-1;this[$+0&Y]=_,this[$+1&Y]=m,this[$+2&Y]=T,this._length=A},l.prototype.shift=function(){var _=this._front,m=this[_];return this[_]=void 0,this._front=_+1&this._capacity-1,this._length--,m},l.prototype.length=function(){return this._length},l.prototype._checkCapacity=function(_){this._capacity<_&&this._resizeTo(this._capacity<<1)},l.prototype._resizeTo=function(_){var m=this._capacity;this._capacity=_,function(T,A,$,Y,B){for(var F=0;F<B;++F)$[F+Y]=T[F+0],T[F+0]=void 0}(this,0,this,m,this._front+this._length&m-1)},g.exports=l},{}],27:[function(f,g,u){"use strict";g.exports=function(l,_,m,T){var A=f("./util");function $(Y,B){var F,R=m(Y);if(R instanceof l)return(F=R).then(function(z){return $(z,F)});if(null===(Y=A.asArray(Y)))return T("expecting an array or an iterable object but got "+A.classString(Y));var U=new l(_);void 0!==B&&U._propagateFrom(B,3);for(var P=U._fulfill,G=U._reject,W=0,ne=Y.length;W<ne;++W){var X=Y[W];(void 0!==X||W in Y)&&l.cast(X)._then(P,G,void 0,U,null)}return U}l.race=function(Y){return $(Y,void 0)},l.prototype.race=function(){return $(this,void 0)}}},{"./util":36}],28:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A,$){var Y=l._getDomain,B=f("./util"),F=B.tryCatch;function R(ne,X,z,Q){this.constructor$(ne);var Z=Y();this._fn=null===Z?X:B.domainBind(Z,X),void 0!==z&&(z=l.resolve(z))._attachCancellationCallback(this),this._initialValue=z,this._currentCancellable=null,this._eachValues=Q===A?Array(this._length):0===Q?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function U(ne,X){this.isFulfilled()?X._resolve(ne):X._reject(ne)}function P(ne,X,z,Q){return"function"!=typeof X?m("expecting a function but got "+B.classString(X)):new R(ne,X,z,Q).promise()}function G(ne){this.accum=ne,this.array._gotAccum(ne);var X=T(this.value,this.array._promise);return X instanceof l?(this.array._currentCancellable=X,X._then(W,void 0,void 0,this,void 0)):W.call(this,X)}function W(ne){var X,z=this.array,Q=z._promise,Z=F(z._fn);Q._pushContext(),(X=void 0!==z._eachValues?Z.call(Q._boundValue(),ne,this.index,this.length):Z.call(Q._boundValue(),this.accum,ne,this.index,this.length))instanceof l&&(z._currentCancellable=X);var j=Q._popContext();return $.checkForgottenReturns(X,j,void 0!==z._eachValues?"Promise.each":"Promise.reduce",Q),X}B.inherits(R,_),R.prototype._gotAccum=function(ne){null!=this._eachValues&&ne!==A&&this._eachValues.push(ne)},R.prototype._eachComplete=function(ne){return null!==this._eachValues&&this._eachValues.push(ne),this._eachValues},R.prototype._init=function(){},R.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},R.prototype.shouldCopyValues=function(){return!1},R.prototype._resolve=function(ne){this._promise._resolveCallback(ne),this._values=null},R.prototype._resultCancelled=function(ne){if(ne===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof l&&this._currentCancellable.cancel(),this._initialValue instanceof l&&this._initialValue.cancel())},R.prototype._iterate=function(ne){var X,z;this._values=ne;var Q=ne.length;if(void 0!==this._initialValue?(X=this._initialValue,z=0):(X=l.resolve(ne[0]),z=1),this._currentCancellable=X,!X.isRejected())for(;z<Q;++z)X=X._then(G,void 0,void 0,{accum:null,value:ne[z],index:z,length:Q,array:this},void 0);void 0!==this._eachValues&&(X=X._then(this._eachComplete,void 0,void 0,this,void 0)),X._then(U,U,void 0,X,this)},l.prototype.reduce=function(ne,X){return P(this,ne,X,null)},l.reduce=function(ne,X,z,Q){return P(ne,X,z,Q)}}},{"./util":36}],29:[function(f,g,u){"use strict";var l,_,m,T,A,$=f("./util"),Y=$.getNativePromise();if($.isNode&&"undefined"==typeof MutationObserver){var B=C.setImmediate,F=p.nextTick;l=$.isRecentNode?function(U){B.call(C,U)}:function(U){F.call(p,U)}}else if("function"==typeof Y&&"function"==typeof Y.resolve){var R=Y.resolve();l=function(U){R.then(U)}}else l="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==x?function(U){x(U)}:"undefined"!=typeof setTimeout?function(U){setTimeout(U,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(_=document.createElement("div"),m={attributes:!0},T=!1,A=document.createElement("div"),new MutationObserver(function(){_.classList.toggle("foo"),T=!1}).observe(A,m),function(U){var P=new MutationObserver(function(){P.disconnect(),U()});P.observe(_,m),T||(T=!0,A.classList.toggle("foo"))});g.exports=l},{"./util":36}],30:[function(f,g,u){"use strict";g.exports=function(l,_,m){var T=l.PromiseInspection;function A($){this.constructor$($)}f("./util").inherits(A,_),A.prototype._promiseResolved=function($,Y){return this._values[$]=Y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},A.prototype._promiseFulfilled=function($,Y){var B=new T;return B._bitField=33554432,B._settledValueField=$,this._promiseResolved(Y,B)},A.prototype._promiseRejected=function($,Y){var B=new T;return B._bitField=16777216,B._settledValueField=$,this._promiseResolved(Y,B)},l.settle=function($){return m.deprecated(".settle()",".reflect()"),new A($).promise()},l.prototype.settle=function(){return l.settle(this)}}},{"./util":36}],31:[function(f,g,u){"use strict";g.exports=function(l,_,m){var T=f("./util"),A=f("./errors").RangeError,$=f("./errors").AggregateError,Y=T.isArray,B={};function F(U){this.constructor$(U),this._howMany=0,this._unwrap=!1,this._initialized=!1}function R(U,P){if((0|P)!==P||P<0)return m("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var G=new F(U),W=G.promise();return G.setHowMany(P),G.init(),W}T.inherits(F,_),F.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var U=Y(this._values);!this._isResolved()&&U&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},F.prototype.init=function(){this._initialized=!0,this._init()},F.prototype.setUnwrap=function(){this._unwrap=!0},F.prototype.howMany=function(){return this._howMany},F.prototype.setHowMany=function(U){this._howMany=U},F.prototype._promiseFulfilled=function(U){return this._addFulfilled(U),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},F.prototype._promiseRejected=function(U){return this._addRejected(U),this._checkOutcome()},F.prototype._promiseCancelled=function(){return this._values instanceof l||null==this._values?this._cancel():(this._addRejected(B),this._checkOutcome())},F.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var U=new $,P=this.length();P<this._values.length;++P)this._values[P]!==B&&U.push(this._values[P]);return U.length>0?this._reject(U):this._cancel(),!0}return!1},F.prototype._fulfilled=function(){return this._totalResolved},F.prototype._rejected=function(){return this._values.length-this.length()},F.prototype._addRejected=function(U){this._values.push(U)},F.prototype._addFulfilled=function(U){this._values[this._totalResolved++]=U},F.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},F.prototype._getRangeError=function(U){return new A("Input array must contain at least "+this._howMany+" items but contains only "+U+" items")},F.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},l.some=function(U,P){return R(U,P)},l.prototype.some=function(U){return R(this,U)},l._SomePromiseArray=F}},{"./errors":12,"./util":36}],32:[function(f,g,u){"use strict";g.exports=function(l){function _(F){void 0!==F?(F=F._target(),this._bitField=F._bitField,this._settledValueField=F._isFateSealed()?F._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}_.prototype._settledValue=function(){return this._settledValueField};var m=_.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},T=_.prototype.error=_.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},A=_.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},$=_.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},Y=_.prototype.isPending=function(){return 0==(50397184&this._bitField)},B=_.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};_.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},l.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},l.prototype._isCancelled=function(){return this._target().__isCancelled()},l.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},l.prototype.isPending=function(){return Y.call(this._target())},l.prototype.isRejected=function(){return $.call(this._target())},l.prototype.isFulfilled=function(){return A.call(this._target())},l.prototype.isResolved=function(){return B.call(this._target())},l.prototype.value=function(){return m.call(this._target())},l.prototype.reason=function(){var F=this._target();return F._unsetRejectionIsUnhandled(),T.call(F)},l.prototype._value=function(){return this._settledValue()},l.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},l.PromiseInspection=_}},{}],33:[function(f,g,u){"use strict";g.exports=function(l,_){var m=f("./util"),T=m.errorObj,A=m.isObject,$={}.hasOwnProperty;return function(Y,B){if(A(Y)){if(Y instanceof l)return Y;var F=function(U){try{return(P=U).then}catch(P){return T.e=P,T}var P}(Y);if(F===T){B&&B._pushContext();var R=l.reject(F.e);return B&&B._popContext(),R}if("function"==typeof F)return function(U){try{return $.call(U,"_promise0")}catch(P){return!1}}(Y)?(R=new l(_),Y._then(R._fulfill,R._reject,void 0,R,null),R):function(U,P,G){var W=new l(_),ne=W;G&&G._pushContext(),W._captureStackTrace(),G&&G._popContext();var X=m.tryCatch(P).call(U,function(z){W&&(W._resolveCallback(z),W=null)},function(z){W&&(W._rejectCallback(z,!1,!0),W=null)});return W&&X===T&&(W._rejectCallback(X.e,!0,!0),W=null),ne}(Y,F,B)}return Y}}},{"./util":36}],34:[function(f,g,u){"use strict";g.exports=function(l,_,m){var T=f("./util"),A=l.TimeoutError;function $(U){this.handle=U}$.prototype._resultCancelled=function(){clearTimeout(this.handle)};var Y=function(U){return B(+this).thenReturn(U)},B=l.delay=function(U,P){var G,W;return void 0!==P?(G=l.resolve(P)._then(Y,null,null,U,void 0),m.cancellation()&&P instanceof l&&G._setOnCancel(P)):(G=new l(_),W=setTimeout(function(){G._fulfill()},+U),m.cancellation()&&G._setOnCancel(new $(W)),G._captureStackTrace()),G._setAsyncGuaranteed(),G};function F(U){return clearTimeout(this.handle),U}function R(U){throw clearTimeout(this.handle),U}l.prototype.delay=function(U){return B(U,this)},l.prototype.timeout=function(U,P){var G,W;U=+U;var ne=new $(setTimeout(function(){var X,z,Q,Z;G.isPending()&&(X=G,Q=W,Z="string"!=typeof(z=P)?z instanceof Error?z:new A("operation timed out"):new A(z),T.markAsOriginatingFromRejection(Z),X._attachExtraTrace(Z),X._reject(Z),null!=Q&&Q.cancel())},U));return m.cancellation()?(W=this.then(),(G=W._then(F,R,void 0,ne,void 0))._setOnCancel(ne)):G=this._then(F,R,void 0,ne,void 0),G}}},{"./util":36}],35:[function(f,g,u){"use strict";g.exports=function(l,_,m,T,A,$){var Y=f("./util"),B=f("./errors").TypeError,F=f("./util").inherits,R=Y.errorObj,U=Y.tryCatch,P={};function G(Z){setTimeout(function(){throw Z},0)}function W(Z,j){var pe=0,he=Z.length,J=new l(A);return function Ee(){if(pe>=he)return J._fulfill();var ce,ue,te=(ce=Z[pe++],(ue=m(ce))!==ce&&"function"==typeof ce._isDisposable&&"function"==typeof ce._getDisposer&&ce._isDisposable()&&ue._setDisposable(ce._getDisposer()),ue);if(te instanceof l&&te._isDisposable()){try{te=m(te._getDisposer().tryDispose(j),Z.promise)}catch(ce){return G(ce)}if(te instanceof l)return te._then(Ee,G,null,null,null)}Ee()}(),J}function ne(Z,j,pe){this._data=Z,this._promise=j,this._context=pe}function X(Z,j,pe){this.constructor$(Z,j,pe)}function z(Z){return ne.isDisposer(Z)?(this.resources[this.index]._setDisposable(Z),Z.promise()):Z}function Q(Z){this.length=Z,this.promise=null,this[Z-1]=null}ne.prototype.data=function(){return this._data},ne.prototype.promise=function(){return this._promise},ne.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():P},ne.prototype.tryDispose=function(Z){var j=this.resource(),pe=this._context;void 0!==pe&&pe._pushContext();var he=j!==P?this.doDispose(j,Z):null;return void 0!==pe&&pe._popContext(),this._promise._unsetDisposable(),this._data=null,he},ne.isDisposer=function(Z){return null!=Z&&"function"==typeof Z.resource&&"function"==typeof Z.tryDispose},F(X,ne),X.prototype.doDispose=function(Z,j){return this.data().call(Z,Z,j)},Q.prototype._resultCancelled=function(){for(var Z=this.length,j=0;j<Z;++j){var pe=this[j];pe instanceof l&&pe.cancel()}},l.using=function(){var Z=arguments.length;if(Z<2)return _("you must pass at least 2 arguments to Promise.using");var j,pe=arguments[Z-1];if("function"!=typeof pe)return _("expecting a function but got "+Y.classString(pe));var he=!0;2===Z&&Array.isArray(arguments[0])?(Z=(j=arguments[0]).length,he=!1):(j=arguments,Z--);for(var J=new Q(Z),Ee=0;Ee<Z;++Ee){var te=j[Ee];if(ne.isDisposer(te)){var ce=te;(te=te.promise())._setDisposable(ce)}else{var ue=m(te);ue instanceof l&&(te=ue._then(z,null,null,{resources:J,index:Ee},void 0))}J[Ee]=te}var N=new Array(J.length);for(Ee=0;Ee<N.length;++Ee)N[Ee]=l.resolve(J[Ee]).reflect();var M=l.all(N).then(function(L){for(var oe=0;oe<L.length;++oe){var fe=L[oe];if(fe.isRejected())return R.e=fe.error(),R;if(!fe.isFulfilled())return void M.cancel();L[oe]=fe.value()}H._pushContext(),pe=U(pe);var Ce=he?pe.apply(void 0,L):pe(L),Ie=H._popContext();return $.checkForgottenReturns(Ce,Ie,"Promise.using",H),Ce}),H=M.lastly(function(){var L=new l.PromiseInspection(M);return W(J,L)});return J.promise=H,H._setOnCancel(J),H},l.prototype._setDisposable=function(Z){this._bitField=131072|this._bitField,this._disposer=Z},l.prototype._isDisposable=function(){return(131072&this._bitField)>0},l.prototype._getDisposer=function(){return this._disposer},l.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},l.prototype.disposer=function(Z){if("function"==typeof Z)return new X(Z,this,T());throw new B}}},{"./errors":12,"./util":36}],36:[function(f,g,u){"use strict";var T,l=f("./es5"),_="undefined"==typeof navigator,m={e:{}},A="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==C?C:void 0!==this?this:null;function $(){try{var $e=T;return T=null,$e.apply(this,arguments)}catch(st){return m.e=st,m}}function F($e){return null==$e||!0===$e||!1===$e||"string"==typeof $e||"number"==typeof $e}function W($e,st,mt){return F($e)||l.defineProperty($e,st,{value:mt,configurable:!0,enumerable:!1,writable:!0}),$e}var X=function(){var $e=[Array.prototype,Object.prototype,Function.prototype],st=function(Ot){for(var rn=0;rn<$e.length;++rn)if($e[rn]===Ot)return!0;return!1};if(l.isES5){var mt=Object.getOwnPropertyNames;return function(Ot){for(var rn=[],si=Object.create(null);null!=Ot&&!st(Ot);){var wn;try{wn=mt(Ot)}catch(re){return rn}for(var $n=0;$n<wn.length;++$n){var Pi=wn[$n];if(!si[Pi]){si[Pi]=!0;var ie=Object.getOwnPropertyDescriptor(Ot,Pi);null!=ie&&null==ie.get&&null==ie.set&&rn.push(Pi)}}Ot=l.getPrototypeOf(Ot)}return rn}}var Et={}.hasOwnProperty;return function(Ot){if(st(Ot))return[];var rn=[];e:for(var si in Ot)if(Et.call(Ot,si))rn.push(si);else{for(var wn=0;wn<$e.length;++wn)if(Et.call($e[wn],si))continue e;rn.push(si)}return rn}}(),z=/this\s*\.\s*\S+\s*=/,j=/^[a-z$_][a-z$_0-9]*$/i;function J($e){try{return $e+""}catch(st){return"[no string representation]"}}function Ee($e){return $e instanceof Error||null!==$e&&"object"===O($e)&&"string"==typeof $e.message&&"string"==typeof $e.name}function ue($e){return Ee($e)&&l.propertyIsWritable($e,"stack")}var N="stack"in new Error?function($e){return ue($e)?$e:new Error(J($e))}:function($e){if(ue($e))return $e;try{throw new Error(J($e))}catch(st){return st}};function M($e){return{}.toString.call($e)}var L=function($e){return l.isArray($e)?$e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var oe="function"==typeof Array.from?function($e){return Array.from($e)}:function($e){for(var st,mt=[],Et=$e[Symbol.iterator]();!(st=Et.next()).done;)mt.push(st.value);return mt};L=function($e){return l.isArray($e)?$e:null!=$e&&"function"==typeof $e[Symbol.iterator]?oe($e):null}}var Ae,fe=void 0!==p&&"[object process]"===M(p).toLowerCase(),Ce=void 0!==p&&void 0!==p.env,rt={isClass:function Q($e){try{if("function"==typeof $e){var st=l.names($e.prototype),mt=l.isES5&&st.length>1,Et=st.length>0&&!(1===st.length&&"constructor"===st[0]),Ot=z.test($e+"")&&l.names($e).length>0;if(mt||Et||Ot)return!0}return!1}catch(rn){return!1}},isIdentifier:function pe($e){return j.test($e)},inheritedDataKeys:X,getDataPropertyOrDefault:function G($e,st,mt){if(!l.isES5)return{}.hasOwnProperty.call($e,st)?$e[st]:void 0;var Et=Object.getOwnPropertyDescriptor($e,st);return null!=Et?null==Et.get&&null==Et.set?Et.value:mt:void 0},thrower:function ne($e){throw $e},isArray:l.isArray,asArray:L,notEnumerableProp:W,isPrimitive:F,isObject:function R($e){return"function"==typeof $e||"object"===O($e)&&null!==$e},isError:Ee,canEvaluate:_,errorObj:m,tryCatch:function Y($e){return T=$e,$},inherits:function($e,st){var mt={}.hasOwnProperty;function Et(){for(var Ot in this.constructor=$e,this.constructor$=st,st.prototype)mt.call(st.prototype,Ot)&&"$"!==Ot.charAt(Ot.length-1)&&(this[Ot+"$"]=st.prototype[Ot])}return Et.prototype=st.prototype,$e.prototype=new Et,$e.prototype},withAppended:function P($e,st){var mt,Et=$e.length,Ot=new Array(Et+1);for(mt=0;mt<Et;++mt)Ot[mt]=$e[mt];return Ot[mt]=st,Ot},maybeWrapAsError:function U($e){return F($e)?new Error(J($e)):$e},toFastProperties:function Z($e){function st(){}st.prototype=$e;for(var mt=8;mt--;)new st;return $e},filledRange:function he($e,st,mt){for(var Et=new Array($e),Ot=0;Ot<$e;++Ot)Et[Ot]=st+Ot+mt;return Et},toString:J,canAttachTrace:ue,ensureErrorObject:N,originatesFromRejection:function ce($e){return null!=$e&&($e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===$e.isOperational)},markAsOriginatingFromRejection:function te($e){try{W($e,"isOperational",!0)}catch(st){}},classString:M,copyDescriptors:function H($e,st,mt){for(var Et=l.names($e),Ot=0;Ot<Et.length;++Ot){var rn=Et[Ot];if(mt(rn))try{l.defineProperty(st,rn,l.getDescriptor($e,rn))}catch(si){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:fe,hasEnvVariables:Ce,env:function Ie($e){return Ce?p.env[$e]:void 0},global:A,getNativePromise:function Ue(){if("function"==typeof Promise)try{var $e=new Promise(function(){});if("[object Promise]"==={}.toString.call($e))return Promise}catch(st){}},domainBind:function et($e,st){return $e.bind(st)}};rt.isRecentNode=rt.isNode&&(0===(Ae=p.versions.node.split(".").map(Number))[0]&&Ae[1]>10||Ae[0]>0),rt.isNode&&rt.toFastProperties(p);try{throw new Error}catch($e){rt.lastLineError=$e}g.exports=rt},{"./es5":13}]},{},[4])(4)},"object"==O(q)&&void 0!==le?le.exports=S():void 0===(I="function"==typeof(V=S)?V.apply(q,[]):V)||(le.exports=I),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,c(10),c(9),c(70).setImmediate)},function(le,q,c){"use strict";var p=le.exports={};p.DocumentNotFoundError=null,p.general={},p.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",p.general.required="Path `{PATH}` is required.",p.Number={},p.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",p.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",p.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",p.Date={},p.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",p.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",p.String={},p.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",p.String.match="Path `{PATH}` is invalid ({VALUE}).",p.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",p.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function D(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function I(y){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var S=c(5),O=c(4),v=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&x(_,m)}(l,y);var h,u=function V(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=I(y);if(h){var u=I(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return D(this,f)}}(l);function l(_,m,T,A){var $,Y;!function(F,R){if(!(F instanceof R))throw new TypeError("Cannot call a class as a function")}(this,l);var B=S.messages;return Y=null!=B.DocumentNotFoundError?"function"==typeof B.DocumentNotFoundError?B.DocumentNotFoundError(_,m):B.DocumentNotFoundError:'No document found for query "'+O.inspect(_)+'" on model "'+m+'"',($=u.call(this,Y)).result=A,$.numAffected=T,$.filter=_,$.query=_,$}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(S);Object.defineProperty(v.prototype,"name",{value:"DocumentNotFoundError"}),le.exports=v},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){var m;!function(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}(this,g);var T=_.join(", ");return(m=f.call(this,'No matching document found for id "'+u._id+'" version '+l+' modifiedPaths "'+T+'"')).version=l,m.modifiedPaths=_,m}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"VersionError"}),le.exports=S},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Can't save() the same doc multiple times in parallel. Document: "+u._id)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ParallelSaveError"}),le.exports=S},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Cannot overwrite `"+u+"` model once compiled.")}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"OverwriteModelError"}),le.exports=S},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Schema hasn't been registered for model \""+u+'".\nUse mongoose.model(name, schema)')}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"MissingSchemaError"}),le.exports=S},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){!function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,g);var l="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+u.join("\n  ")+"\nUse Model.update() to update these arrays instead.";return f.call(this,l)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"DivergentArrayError"}),le.exports=S},function(le,q,c){"use strict";var p=c(34);le.exports=function(C){var x,V;C.$immutable?(C.$immutableSetter=(x=C.path,V=C.options.immutable,function(D){if(null==this||null==this.$__||this.isNew||!("function"==typeof V?V.call(this,this):V))return D;var I=this.$__getValue(x);if("throw"===this.$__.strictMode&&D!==I)throw new p(x,"Path `"+x+"` is immutable and strict mode is set to throw.",!0);return I}),C.set(C.$immutableSetter)):C.$immutableSetter&&(C.setters=C.setters.filter(function(D){return D!==C.$immutableSetter}),delete C.$immutableSetter)}},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){return function(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,'Parameter "'+l+'" to '+_+"() must be an object, got "+u.toString())}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ObjectParameterError"}),le.exports=S},function(le,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Can't validate() the same doc multiple times in parallel. Document: "+u._id)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(14));Object.defineProperty(S.prototype,"name",{value:"ParallelValidateError"}),le.exports=S},function(le,q,c){"use strict";(function(p){function C(h,f){var g="undefined"!=typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!g){if(Array.isArray(h)||(g=function(A,$){if(A){if("string"==typeof A)return x(A,$);var Y=Object.prototype.toString.call(A).slice(8,-1);if("Object"===Y&&A.constructor&&(Y=A.constructor.name),"Map"===Y||"Set"===Y)return Array.from(A);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return x(A,$)}}(h))||f&&h&&"number"==typeof h.length){g&&(h=g);var u=0,l=function(){};return{s:l,n:function(){return u>=h.length?{done:!0}:{done:!1,value:h[u++]}},e:function(A){throw A},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,m=!0,T=!1;return{s:function(){g=g.call(h)},n:function(){var A=g.next();return m=A.done,A},e:function(A){T=!0,_=A},f:function(){try{m||null==g.return||g.return()}finally{if(T)throw _}}}}function x(h,f){(null==f||f>h.length)&&(f=h.length);for(var g=0,u=new Array(f);g<f;g++)u[g]=h[g];return u}function V(h){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function D(){this._pres=new Map,this._posts=new Map}function I(h,f,g,u,l,_,m){return _.useErrorHandlers?h.execPost(g,u,l,{error:f},function(A){return"function"==typeof m&&m(A)}):"function"==typeof m?m(f):void 0}function S(h,f,g){return h.has(f)?h.get(f):g}function O(h,f,g,u){var l;try{l=h.apply(f,g)}catch(_){return u(_)}v(l)&&l.then(function(){return u()},function(_){return u(_)})}function v(h){return null!=h&&"function"==typeof h.then}function y(h){var f=!1,g=this;return function(){var u=arguments;if(!f)return f=!0,p.nextTick(function(){return h.apply(g,u)})}}D.prototype.execPre=function(h,f,g,u){3===arguments.length&&(u=g,g=[]);var l=S(this._pres,h,[]),_=l.length,m=l.numAsync||0,T=0,A=m,$=!1,Y=g;if(!_)return p.nextTick(function(){u(null)});var B=function R(){if(!(T>=_)){var U=l[T];if(U.isAsync){var P=[y(F),y(function(X){return X?$?void 0:($=!0,u(X)):0==--A&&T>=_?u(null):void 0})];O(U.fn,f,P,P[0])}else if(U.fn.length>0){P=[y(F)];for(var G=arguments.length>=2?arguments:[null].concat(Y),W=1;W<G.length;++W)P.push(G[W]);O(U.fn,f,P,P[0])}else{var ne=null;try{ne=U.fn.call(f)}catch(X){if(null!=X)return u(X)}if(v(ne))ne.then(function(){return F()},function(X){return F(X)});else{if(++T>=_)return A>0?void 0:p.nextTick(function(){u(null)});R()}}}};function F(R){return R?$?void 0:($=!0,u(R)):++T>=_?A>0?void 0:u(null):void B.apply(f,arguments)}B.apply(null,[null].concat(g))},D.prototype.execPreSync=function(h,f,g){for(var u=S(this._pres,h,[]),l=u.length,_=0;_<l;++_)u[_].fn.apply(f,g||[])},D.prototype.execPost=function(h,f,g,u,l){arguments.length<5&&(l=u,u=null);var _=S(this._posts,h,[]),m=_.length,T=0,A=null;if(u&&u.error&&(A=u.error),!m)return p.nextTick(function(){l.apply(null,[A].concat(g))});var $=function Y(){for(var B=_[T].fn,F=0,R=g.length,U=[],P=0;P<R;++P)F+=g[P]&&g[P]._kareemIgnore?0:1,g[P]&&g[P]._kareemIgnore||U.push(g[P]);if(A)if(B.length===F+2){var G=y(function(z){if(z&&(A=z),++T>=m)return l.call(null,A);Y()});O(B,f,[A].concat(U).concat([G]),G)}else{if(++T>=m)return l.call(null,A);Y()}else{var W=y(function(z){return z?(A=z,Y()):++T>=m?l.apply(null,[null].concat(g)):void Y()});if(B.length===F+2)return++T>=m?l.apply(null,[null].concat(g)):Y();if(B.length===F+1)O(B,f,U.concat([W]),W);else{var ne,X;try{X=B.apply(f,U)}catch(z){ne=z,A=z}if(v(X))return X.then(function(){return W()},function(z){return W(z)});if(++T>=m)return l.apply(null,[ne].concat(g));Y()}}};$()},D.prototype.execPostSync=function(h,f,g){for(var u=S(this._posts,h,[]),l=u.length,_=0;_<l;++_)u[_].fn.apply(f,g||[])},D.prototype.createWrapperSync=function(h,f){var g=this;return function(){g.execPreSync(h,this,arguments);var u=f.apply(this,arguments);return g.execPostSync(h,this,[u]),u}},D.prototype.wrap=function(h,f,g,u,l){var _=u.length>0?u[u.length-1]:null,m=("function"==typeof _&&u.slice(0,u.length-1),this),T=(l=l||{}).checkForPromise;this.execPre(h,g,u,function(A){if(A){for(var $=l.numCallbackParams||0,Y=l.contextParameter?[g]:[],B=Y.length;B<$;++B)Y.push(null);return I(m,A,h,g,Y,l,_)}var F="function"==typeof _?u.length-1:u.length,R=f.length,U=f.apply(g,u.slice(0,F).concat(P));if(T){if(null!=U&&"function"==typeof U.then)return U.then(function(G){return P(null,G)},function(G){return P(G)});if(R<F+1)return P(null,U)}function P(){var G=Array.prototype.slice.call(arguments,1);if(l.nullResultByDefault&&0===G.length&&G.push(null),arguments[0])return I(m,arguments[0],h,g,G,l,_);m.execPost(h,g,G,function(){return arguments[0]?"function"==typeof _?_(arguments[0]):void 0:"function"==typeof _?_.apply(g,arguments):void 0})}})},D.prototype.filter=function(h){for(var f=this,g=this.clone(),u=Array.from(g._pres.keys()),l=function(){var B=m[_],F=f._pres.get(B).map(function(R){return Object.assign({},R,{name:B})}).filter(h);if(0===F.length)return g._pres.delete(B),"continue";F.numAsync=F.filter(function(R){return R.isAsync}).length,g._pres.set(B,F)},_=0,m=u;_<m.length;_++)l();for(var T=Array.from(g._posts.keys()),A=function(){var B=Y[$],F=f._posts.get(B).map(function(R){return Object.assign({},R,{name:B})}).filter(h);if(0===F.length)return g._posts.delete(B),"continue";g._posts.set(B,F)},$=0,Y=T;$<Y.length;$++)A();return g},D.prototype.hasHooks=function(h){return this._pres.has(h)||this._posts.has(h)},D.prototype.createWrapper=function(h,f,g,u){var l=this;return this.hasHooks(h)?function(){var _=g||this,m=Array.prototype.slice.call(arguments);l.wrap(h,f,_,m,u)}:function(){var _=arguments,m=this;p.nextTick(function(){return f.apply(m,_)})}},D.prototype.pre=function(h,f,g,u,l){var _={};"object"===V(f)&&null!=f?f=(_=f).isAsync:"boolean"!=typeof arguments[1]&&(u=g,g=f,f=!1);var m=S(this._pres,h,[]);if(this._pres.set(h,m),f&&(m.numAsync=m.numAsync||0,++m.numAsync),"function"!=typeof g)throw new Error('pre() requires a function, got "'+V(g)+'"');return l?m.unshift(Object.assign({},_,{fn:g,isAsync:f})):m.push(Object.assign({},_,{fn:g,isAsync:f})),this},D.prototype.post=function(h,f,g,u){var l=S(this._posts,h,[]);if("function"==typeof f&&(u=!!g,g=f,f={}),"function"!=typeof g)throw new Error('post() requires a function, got "'+V(g)+'"');return u?l.unshift(Object.assign({},f,{fn:g})):l.push(Object.assign({},f,{fn:g})),this._posts.set(h,l),this},D.prototype.clone=function(){var h,f=new D,g=C(this._pres.keys());try{for(g.s();!(h=g.n()).done;){var u=h.value,l=this._pres.get(u).slice();l.numAsync=this._pres.get(u).numAsync,f._pres.set(u,l)}}catch(A){g.e(A)}finally{g.f()}var _,m=C(this._posts.keys());try{for(m.s();!(_=m.n()).done;){var T=_.value;f._posts.set(T,this._posts.get(T).slice())}}catch(A){m.e(A)}finally{m.f()}return f},D.prototype.merge=function(h,f){var g,u=(f=1===arguments.length||f)?this.clone():this,l=C(h._pres.keys());try{var _=function(){var $=g.value,Y=S(u._pres,$,[]),B=h._pres.get($).filter(function(R){return-1===Y.map(function(U){return U.fn}).indexOf(R.fn)}),F=Y.concat(B);F.numAsync=Y.numAsync||0,F.numAsync+=B.filter(function(R){return R.isAsync}).length,u._pres.set($,F)};for(l.s();!(g=l.n()).done;)_()}catch($){l.e($)}finally{l.f()}var m,T=C(h._posts.keys());try{var A=function(){var $=m.value,Y=S(u._posts,$,[]),B=h._posts.get($).filter(function(F){return-1===Y.indexOf(F)});u._posts.set($,Y.concat(B))};for(T.s();!(m=T.n()).done;)A()}catch($){T.e($)}finally{T.f()}return u},le.exports=D}).call(this,c(10))},function(le,q,c){"use strict";function p(I){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}function C(I,S){for(var O=0;O<S.length;O++){var v=S[O];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,(h=function(f,g){if("object"!==p(f)||null===f)return f;var u=f[Symbol.toPrimitive];if(void 0!==u){var l=u.call(f,"string");if("object"!==p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(v.key),"symbol"===p(h)?h:String(h)),v)}var h}var V=c(8),D=function x(I,S,O){return S&&C(I.prototype,S),O&&C(I,O),Object.defineProperty(I,"prototype",{writable:!1}),I}(function I(S){(function(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")})(this,I),Object.assign(this,S),null!=S&&null!=S.options&&(this.options=Object.assign({},S.options))});Object.defineProperty(D.prototype,"ref",V),Object.defineProperty(D.prototype,"refPath",V),Object.defineProperty(D.prototype,"localField",V),Object.defineProperty(D.prototype,"foreignField",V),Object.defineProperty(D.prototype,"justOne",V),Object.defineProperty(D.prototype,"count",V),Object.defineProperty(D.prototype,"match",V),Object.defineProperty(D.prototype,"options",V),Object.defineProperty(D.prototype,"skip",V),Object.defineProperty(D.prototype,"limit",V),Object.defineProperty(D.prototype,"perDocumentLimit",V),le.exports=D},function(le,q,c){"use strict";var p=c(3),C=c(21);le.exports=function(x){var V=[],D=new WeakMap,I=x.constructor.indexTypes,S=new Map;return function O(v,y,h){if(!D.has(v)){D.set(v,!0),y=y||"";for(var g=0,u=Object.keys(v.paths);g<u.length;g++){var l=u[g],_=v.paths[l];if(null==h||!h.paths[l]){if(_.$isMongooseDocumentArray||_.$isSingleNested){if(!0!==p(_,"options.excludeIndexes")&&!0!==p(_,"schemaOptions.excludeIndexes")&&!0!==p(_,"schema.options.excludeIndexes")&&O(_.schema,y+l+"."),null!=_.schema.discriminators)for(var m=_.schema.discriminators,A=0,$=Object.keys(m);A<$.length;A++)O(m[$[A]],y+l+".",_.schema);if(_.$isMongooseDocumentArray)continue}var B=_._index||_.caster&&_.caster._index;if(!1!==B&&null!=B){var F={},R=C(B),U=R?B:{},P="string"==typeof B?B:!!R&&B.type;if(P&&-1!==I.indexOf(P))F[y+l]=P;else if(U.text)F[y+l]="text",delete U.text;else{var G=-1===Number(B);F[y+l]=G?-1:1}delete U.type,"background"in U||(U.background=!0),null!=v.options.autoIndex&&(U._autoIndex=v.options.autoIndex);var W=U&&U.name;"string"==typeof W&&S.has(W)?Object.assign(S.get(W),F):(V.push([F,U]),S.set(W,F))}}}D.delete(v),y?function(ne,X){for(var z=ne._indexes,Q=z.length,Z=0;Z<Q;++Z){for(var j=z[Z][0],pe=z[Z][1],he=Object.keys(j),J=he.length,Ee={},te=0;te<J;++te){var ce=he[te];Ee[X+ce]=j[ce]}var ue=Object.assign({},pe);if(null!=pe&&null!=pe.partialFilterExpression){ue.partialFilterExpression={};for(var N=pe.partialFilterExpression,M=0,H=Object.keys(N);M<H.length;M++){var L=H[M];ue.partialFilterExpression[X+L]=N[L]}}V.push([Ee,ue])}}(v,y):(v._indexes.forEach(function(ne){"background"in ne[1]||(ne[1].background=!0)}),V=V.concat(v._indexes))}}(x),V}},function(le,q,c){"use strict";var p=c(144),C=c(146),x=c(3),V=c(77),D=c(35);le.exports=function(I,S){var O=I.childSchemas.find(function(l){return!!l.schema.options.timestamps});if(S||O){var v=V(S,"createdAt"),y=V(S,"updatedAt"),h=null!=S&&S.hasOwnProperty("currentTime")?S.currentTime:null,f={};I.$timestamps={createdAt:v,updatedAt:y},y&&!I.paths[y]&&(f[y]=Date),v&&!I.paths[v]&&(f[v]=Date),I.add(f),I.pre("save",function(l){var _=x(this,"$__.saveOptions.timestamps");if(!1===_)return l();var m=null!=_&&!1===_.updatedAt,T=null!=_&&!1===_.createdAt,A=null!=h?h():(this.ownerDocument?this.ownerDocument():this).constructor.base.now(),$=this._id&&this._id.auto;if(!T&&this.isNew&&v&&!this.get(v)&&this.$__isSelected(v)&&this.$set(v,$?this._id.getTimestamp():A),!m&&y&&(this.isNew||this.isModified())){var Y=A;this.isNew&&(null!=v?Y=this.$__getValue(v):$&&(Y=this._id.getTimestamp())),this.$set(y,Y)}l()}),I.methods.initializeTimestamps=function(){var l=null!=h?h():this.constructor.base.now();return v&&!this.get(v)&&this.$set(v,l),y&&!this.get(y)&&this.$set(y,l),this},u[D.builtInMiddleware]=!0;var g={query:!0,model:!1};I.pre("findOneAndReplace",g,u),I.pre("findOneAndUpdate",g,u),I.pre("replaceOne",g,u),I.pre("update",g,u),I.pre("updateOne",g,u),I.pre("updateMany",g,u)}function u(l){var _=null!=h?h():this.model.base.now();"findOneAndReplace"===this.op&&null==this.getUpdate()&&this.setUpdate({}),C(_,v,y,this.getUpdate(),this.options,this.schema),p(_,this.getUpdate(),this.model.schema),l()}}},function(le,q,c){"use strict";function p(S,O){var v="undefined"!=typeof Symbol&&S[Symbol.iterator]||S["@@iterator"];if(!v){if(Array.isArray(S)||(v=function(l,_){if(l){if("string"==typeof l)return C(l,_);var m=Object.prototype.toString.call(l).slice(8,-1);if("Object"===m&&l.constructor&&(m=l.constructor.name),"Map"===m||"Set"===m)return Array.from(l);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return C(l,_)}}(S))||O&&S&&"number"==typeof S.length){v&&(S=v);var y=0,h=function(){};return{s:h,n:function(){return y>=S.length?{done:!0}:{done:!1,value:S[y++]}},e:function(l){throw l},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,u=!1;return{s:function(){v=v.call(S)},n:function(){var l=v.next();return g=l.done,l},e:function(l){u=!0,f=l},f:function(){try{g||null==v.return||v.return()}finally{if(u)throw f}}}}function C(S,O){(null==O||O>S.length)&&(O=S.length);for(var v=0,y=new Array(O);v<O;v++)y[v]=S[v];return y}var x=c(145),V=c(77);function D(S,O,v){if(null!=O){if(Object.keys(O).some(function($){return $.startsWith("$")})){if(O.$push&&A(O.$push),O.$addToSet&&A(O.$addToSet),null!=O.$set)for(var y=0,h=Object.keys(O.$set);y<h.length;y++)I(v,h[y],O.$set,S);if(null!=O.$setOnInsert)for(var g=0,u=Object.keys(O.$setOnInsert);g<u.length;g++)I(v,u[g],O.$setOnInsert,S)}var _,m=p(Object.keys(O).filter(function($){return!$.startsWith("$")}));try{for(m.s();!(_=m.n()).done;)I(v,_.value,O,S)}catch($){m.e($)}finally{m.f()}}function A($){for(var Y=function(){var R=F[B],U=v.path(R.replace(/\.\$\./i,".").replace(/.\$$/,""));if($[R]&&U&&U.$isMongooseDocumentArray&&U.schema.options.timestamps){var P=U.schema.options.timestamps,G=V(P,"createdAt"),W=V(P,"updatedAt");$[R].$each?$[R].$each.forEach(function(ne){null!=W&&(ne[W]=S),null!=G&&(ne[G]=S)}):(null!=W&&($[R][W]=S),null!=G&&($[R][G]=S))}},B=0,F=Object.keys($);B<F.length;B++)Y()}}function I(S,O,v,y){var h=x(O),f=S.path(h);if(f){for(var g=[],u=h.split("."),l=u.length-1;l>0;--l){var _=S.path(u.slice(0,l).join("."));null!=_&&(_.$isMongooseDocumentArray||_.$isSingleNested)&&g.push({parentPath:O.split(".").slice(0,l).join("."),parentSchemaType:_})}if(Array.isArray(v[O])&&f.$isMongooseDocumentArray)!function(ne,X,z){var Q=X.schema.options.timestamps;if(Q)for(var Z=ne.length,j=V(Q,"createdAt"),pe=V(Q,"updatedAt"),he=0;he<Z;++he)null!=pe&&(ne[he][pe]=z),null!=j&&(ne[he][j]=z),D(z,ne[he],X.schema)}(v[O],f,y);else if(v[O]&&f.$isSingleNested)!function(ne,X,z){var Q=X.schema.options.timestamps;if(Q){var Z=V(Q,"createdAt"),j=V(Q,"updatedAt");null!=j&&(ne[j]=z),null!=Z&&(ne[Z]=z),D(z,ne,X.schema)}}(v[O],f,y);else if(g.length>0){var m,T=p(g);try{for(T.s();!(m=T.n()).done;){var A=m.value,$=A.parentPath,Y=A.parentSchemaType,B=Y.schema.options.timestamps,F=V(B,"updatedAt");if(B&&null!=F)if(Y.$isSingleNested)v[$+"."+F]=y;else if(Y.$isMongooseDocumentArray){var R=O.substr($.length+1);if(/^\d+$/.test(R)){v[$+"."+R][F]=y;continue}var U=R.indexOf(".");v[$+"."+(R=-1!==U?R.substr(0,U):R)+"."+F]=y}}}catch(ne){T.e(ne)}finally{T.f()}}else if(null!=f.schema&&f.schema!=S&&v[O]){var P=f.schema.options.timestamps,G=V(P,"createdAt"),W=V(P,"updatedAt");if(!P)return;null!=W&&(v[O][W]=y),null!=G&&(v[O][G]=y)}}}le.exports=D},function(le,q,c){"use strict";le.exports=function(p){return p.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},function(le,q,c){"use strict";var p=c(3);le.exports=function(C,x,V,D,I){var S=D,O=S,v=p(I,"overwrite",!1),y=p(I,"timestamps",!0);if(!y||null==S)return D;var h=null!=y&&!1===y.createdAt,f=null!=y&&!1===y.updatedAt;if(v)return D&&D.$set&&(D=D.$set,S.$set={},O=S.$set),f||!V||D[V]||(O[V]=C),h||!x||D[x]||(O[x]=C),S;if(D=D||{},Array.isArray(S))return S.push({$set:{updatedAt:C}}),S;if(S.$set=S.$set||{},!f&&V&&(!D.$currentDate||!D.$currentDate[V])){var g=!1;if(-1!==V.indexOf("."))for(var u=V.split("."),l=1;l<u.length;++l){var _=u.slice(-l).join("."),m=u.slice(0,-l).join(".");if(null!=D[m]){D[m][_]=C,g=!0;break}if(D.$set&&D.$set[m]){D.$set[m][_]=C,g=!0;break}}g||(S.$set[V]=C),S.hasOwnProperty(V)&&delete S[V]}if(!h&&x){D[x]&&delete D[x],D.$set&&D.$set[x]&&delete D.$set[x];var T=!1;if(-1!==x.indexOf("."))for(var A=x.split("."),$=1;$<A.length;++$){var Y=A.slice(-$).join("."),B=A.slice(0,-$).join(".");if(null!=D[B]){D[B][Y]=C,T=!0;break}if(D.$set&&D.$set[B]){D.$set[B][Y]=C,T=!0;break}}T||(S.$setOnInsert=S.$setOnInsert||{},S.$setOnInsert[x]=C)}return 0===Object.keys(S.$set).length&&delete S.$set,S}},function(le,q,c){"use strict";var p=c(14),C=c(4);le.exports=function(x,V){if("string"!=typeof x&&"function"!=typeof x)throw new p('Invalid ref at path "'+V+'". Got '+C.inspect(x,{depth:0}))}},function(le,q,c){"use strict";function p(C,x){var V={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0},D=x.hooks.filter(function(I){var O,v,S=(v={},(O=I).hasOwnProperty("query")&&(v.query=O.query),O.hasOwnProperty("document")&&(v.document=O.document),v);return"updateOne"===I.name?null==S.query||!!S.query:"deleteOne"===I.name?!!S.query||0===Object.keys(S).length:"validate"===I.name||"remove"===I.name?!!S.query:null==I.query&&null==I.document||!!I.query});C.prototype._execUpdate=D.createWrapper("update",C.prototype._execUpdate,null,V),C.prototype.__distinct=D.createWrapper("distinct",C.prototype.__distinct,null,V),C.prototype.validate=D.createWrapper("validate",C.prototype.validate,null,V),p.middlewareFunctions.filter(function(I){return"update"!==I&&"distinct"!==I&&"validate"!==I}).forEach(function(I){C.prototype["_".concat(I)]=D.createWrapper(I,C.prototype["_".concat(I)],null,V)})}le.exports=p,p.middlewareFunctions=["count","countDocuments","deleteMany","deleteOne","distinct","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndRemove","findOneAndReplace","findOneAndUpdate","remove","replaceOne","update","updateMany","updateOne","validate"]},function(le,q,c){"use strict";function p(f,g){var u="undefined"!=typeof Symbol&&f[Symbol.iterator]||f["@@iterator"];if(!u){if(Array.isArray(f)||(u=function($,Y){if($){if("string"==typeof $)return C($,Y);var B=Object.prototype.toString.call($).slice(8,-1);if("Object"===B&&$.constructor&&(B=$.constructor.name),"Map"===B||"Set"===B)return Array.from($);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return C($,Y)}}(f))||g&&f&&"number"==typeof f.length){u&&(f=u);var l=0,_=function(){};return{s:_,n:function(){return l>=f.length?{done:!0}:{done:!1,value:f[l++]}},e:function($){throw $},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m,T=!0,A=!1;return{s:function(){u=u.call(f)},n:function(){var $=u.next();return T=$.done,$},e:function($){A=!0,m=$},f:function(){try{T||null==u.return||u.return()}finally{if(A)throw m}}}}function C(f,g){(null==g||g>f.length)&&(g=f.length);for(var u=0,l=new Array(g);u<g;u++)l[u]=f[u];return l}var x=c(6),V=c(5),D=c(150),I=c(79),S=c(1),O=x.CastError;function v(f,g){this.enumValues=[],this.regExp=null,x.call(this,f,g,"String")}function y(f){return this.castForQuery(f)}v.schemaName="String",v.defaultOptions={},(v.prototype=Object.create(x.prototype)).constructor=v,Object.defineProperty(v.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:D}),v._cast=I,v.cast=function(f){return 0===arguments.length||(!1===f&&(f=this._defaultCaster),this._cast=f),this._cast},v._defaultCaster=function(f){if(null!=f&&"string"!=typeof f)throw new Error;return f},v.get=x.get,v.set=x.set,v._checkRequired=function(f){return(f instanceof String||"string"==typeof f)&&f.length},v.checkRequired=x.checkRequired,v.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(T){return T.validator!==this.enumValidator},this),this.enumValidator=!1),void 0===arguments[0]||!1===arguments[0])return this;var f,g;S.isObject(arguments[0])?Array.isArray(arguments[0].values)?(f=arguments[0].values,g=arguments[0].message):(f=S.object.vals(arguments[0]),g=V.messages.String.enum):(f=arguments,g=V.messages.String.enum);var u,l=p(f);try{for(l.s();!(u=l.n()).done;){var _=u.value;void 0!==_&&this.enumValues.push(this.cast(_))}}catch(T){l.e(T)}finally{l.f()}var m=this.enumValues;return this.enumValidator=function(T){return void 0===T||~m.indexOf(T)},this.validators.push({validator:this.enumValidator,message:g,type:"enum",enumValues:m}),this},v.prototype.lowercase=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.toLowerCase()})},v.prototype.uppercase=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.toUpperCase()})},v.prototype.trim=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.trim()})},v.prototype.minLength=v.prototype.minlength=function(f,g){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(l){return l.validator!==this.minlengthValidator},this)),null!=f){var u=g||V.messages.String.minlength;u=u.replace(/{MINLENGTH}/,f),this.validators.push({validator:this.minlengthValidator=function(l){return null===l||l.length>=f},message:u,type:"minlength",minlength:f})}return this},v.prototype.maxLength=v.prototype.maxlength=function(f,g){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(l){return l.validator!==this.maxlengthValidator},this)),null!=f){var u=g||V.messages.String.maxlength;u=u.replace(/{MAXLENGTH}/,f),this.validators.push({validator:this.maxlengthValidator=function(l){return null===l||l.length<=f},message:u,type:"maxlength",maxlength:f})}return this},v.prototype.match=function(f,g){return this.validators.push({validator:function(l){return!!f&&(f.lastIndex=0,null==l||""===l||f.test(l))},message:g||V.messages.String.match,type:"regexp",regexp:f}),this},v.prototype.checkRequired=function(f,g){return x._isRef(this,f,g,!0)?!!f:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():v.checkRequired())(f)},v.prototype.cast=function(f,g,u){if(x._isRef(this,f,g,u))return"string"==typeof f?f:this._castRef(f,g,u);var l;l="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():v.cast();try{return l(f)}catch(_){throw new O("string",f,this.path,null,this)}};var h=S.options(x.prototype.$conditionalHandlers,{$all:function(f){var g=this;return Array.isArray(f)?f.map(function(u){return g.castForQuery(u)}):[this.castForQuery(f)]},$gt:y,$gte:y,$lt:y,$lte:y,$options:String,$regex:y,$not:y});Object.defineProperty(v.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(h)}),v.prototype.castForQuery=function(f,g){var u;if(2===arguments.length){if(!(u=this.$conditionalHandlers[f]))throw new Error("Can't use "+f+" with String.");return u.call(this,g)}return g=f,"[object RegExp]"===Object.prototype.toString.call(g)?g:this._castForQuery(g)},le.exports=v},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"match",v),Object.defineProperty(O.prototype,"lowercase",v),Object.defineProperty(O.prototype,"trim",v),Object.defineProperty(O.prototype,"uppercase",v),Object.defineProperty(O.prototype,"minLength",v),Object.defineProperty(O.prototype,"minlength",v),Object.defineProperty(O.prototype,"maxLength",v),Object.defineProperty(O.prototype,"maxlength",v),Object.defineProperty(O.prototype,"populate",v),le.exports=O},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"min",v),Object.defineProperty(O.prototype,"max",v),Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"populate",v),le.exports=O},function(le,q,c){"use strict";var p=c(23);le.exports=function(C){return null==C?C:""===C?null:("string"!=typeof C&&"boolean"!=typeof C||(C=Number(C)),p.ok(!isNaN(C)),C instanceof Number?C.valueOf():"number"==typeof C?C:Array.isArray(C)||"function"!=typeof C.valueOf?C.toString&&!Array.isArray(C)&&C.toString()==Number(C)?Number(C):void p.ok(!1):Number(C.valueOf()))}},function(le,q,c){"use strict";var p=c(13),C=c(6),x=c(53),V=c(1);function D(I,S){C.call(this,I,S,"Boolean")}D.schemaName="Boolean",D.defaultOptions={},(D.prototype=Object.create(C.prototype)).constructor=D,D._cast=x,D.set=C.set,D.cast=function(I){return 0===arguments.length||(!1===I&&(I=this._defaultCaster),this._cast=I),this._cast},D._defaultCaster=function(I){if(null!=I&&"boolean"!=typeof I)throw new Error;return I},D._checkRequired=function(I){return!0===I||!1===I},D.checkRequired=C.checkRequired,D.prototype.checkRequired=function(I){return this.constructor._checkRequired(I)},Object.defineProperty(D,"convertToTrue",{get:function(){return x.convertToTrue},set:function(I){x.convertToTrue=I}}),Object.defineProperty(D,"convertToFalse",{get:function(){return x.convertToFalse},set:function(I){x.convertToFalse=I}}),D.prototype.cast=function(I){var S;S="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():D.cast();try{return S(I)}catch(O){throw new p("Boolean",I,this.path,O,this)}},D.$conditionalHandlers=V.options(C.prototype.$conditionalHandlers,{}),D.prototype.castForQuery=function(I,S){var O;return 2===arguments.length?(O=D.$conditionalHandlers[I])?O.call(this,S):this._castForQuery(S):this._castForQuery(I)},D.prototype._castNullish=function(I){if(void 0===I&&null!=this.$$context&&null!=this.$$context._mongooseOptions&&this.$$context._mongooseOptions.omitUndefined)return I;var S="function"==typeof this.constructor.cast?this.constructor.cast():D.cast();return null==S?I:!(S.convertToFalse instanceof Set&&S.convertToFalse.has(I))&&(!!(S.convertToTrue instanceof Set&&S.convertToTrue.has(I))||I)},le.exports=D},function(le,q,c){"use strict";var p,C,x=c(57),V=c(13),D=c(19).EventEmitter,I=c(160),S=c(6),O=c(33),v=c(93),y=c(3),h=c(94),f=c(4),g=c(1),u=c(95),l=c(0).arrayAtomicsSymbol,_=c(0).arrayPathSymbol,m=c(0).documentArrayParent;function T(Y,B,F,R){null!=R&&null!=R._id?B=h(B,R):null!=F&&null!=F._id&&(B=h(B,F));var U=A(B,F);U.prototype.$basePath=Y,x.call(this,Y,U,F),this.schema=B,this.schemaOptions=R||{},this.$isMongooseDocumentArray=!0,this.Constructor=U,U.base=B.base;var P=this.defaultValue;"defaultValue"in this&&void 0===P||this.default(function(){var W=P.call(this);return Array.isArray(W)||(W=[W]),W});var G=this;this.$embeddedSchemaType=new S(Y+".$",{required:y(this,"schemaOptions.required",!1)}),this.$embeddedSchemaType.cast=function(W,ne,X){return G.cast(W,ne,X)[0]},this.$embeddedSchemaType.$isMongooseDocumentArrayElement=!0,this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function A(Y,B,F){function R(){C.apply(this,arguments),this.$session(this.ownerDocument().$session())}C||(C=c(29));var U=null!=F?F.prototype:C.prototype;for(var P in(R.prototype=Object.create(U)).$__setSchema(Y),R.schema=Y,R.prototype.constructor=R,R.$isArraySubdocument=!0,R.events=new D,Y.methods)R.prototype[P]=Y.methods[P];for(var G in Y.statics)R[G]=Y.statics[G];for(var W in D.prototype)R[W]=D.prototype[W];return R.options=B,R}function $(Y,B,F){if(F&&B){for(var R,U,P,G=Y.path+".",W=Object.keys(B),ne=W.length,X={};ne--;)if((U=W[ne]).startsWith(G)){if("$"===(P=U.substring(G.length)))continue;P.startsWith("$.")&&(P=P.substr(2)),R||(R=!0),X[P]=B[U]}return R&&X||void 0}}T.schemaName="DocumentArray",T.options={castNonArrays:!0},(T.prototype=Object.create(x.prototype)).constructor=T,T.prototype.OptionsConstructor=I,T.prototype.discriminator=function(Y,B,F){"function"==typeof Y&&(Y=g.getFunctionName(Y));var R=A(B=v(this.casterConstructor,Y,B,F),null,this.casterConstructor);R.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(R,"name",{value:Y})}catch(U){}return this.casterConstructor.discriminators[Y]=R,this.casterConstructor.discriminators[Y]},T.prototype.doValidate=function(Y,B,F,R){p||(p=c(18));var U=this;try{S.prototype.doValidate.call(this,Y,function(P){if(P)return P.$isArrayValidatorError=!0,B(P);var G,W=Y&&Y.length;if(!W||R&&R.updateValidator)return B();function ne(j){null!=j&&((G=j)instanceof O||(G.$isArrayValidatorError=!0)),--W||B(G)}Y.isMongooseDocumentArray||(Y=new p(Y,U.path,F));for(var X=0,z=W;X<z;++X){var Q=Y[X];if(null!=Q){if(!(Q instanceof C)){var Z=u(U.casterConstructor,Y[X]);Q=Y[X]=new Z(Q,Y,void 0,void 0,X)}null==R||!R.validateModifiedOnly||Q.isModified()?Q.$__validate(ne):--W||B(G)}else--W||B(G)}},F)}catch(P){return P.$isArrayValidatorError=!0,B(P)}},T.prototype.doValidateSync=function(Y,B,F){var R=S.prototype.doValidateSync.call(this,Y,B);if(null!=R)return R.$isArrayValidatorError=!0,R;var U=Y&&Y.length,P=null;if(U){for(var G=0,W=U;G<W;++G){var ne=Y[G];if(ne){if(!(ne instanceof C)){var X=u(this.casterConstructor,Y[G]);ne=Y[G]=new X(ne,Y,void 0,void 0,G)}if(null==F||!F.validateModifiedOnly||ne.isModified()){var z=ne.validateSync();z&&null==P&&(P=z)}}}return P}},T.prototype.getDefault=function(Y){var B="function"==typeof this.defaultValue?this.defaultValue.call(Y):this.defaultValue;if(null==B)return B;p||(p=c(18)),Array.isArray(B)||(B=[B]),B=new p(B,this.path,Y);for(var F=0;F<B.length;++F){var R=new(u(this.casterConstructor,B[F]))({},B,void 0,void 0,F);R.init(B[F]),R.isNew=!0,Object.assign(R.$__.activePaths.default,R.$__.activePaths.init),R.$__.activePaths.init={},B[F]=R}return B},T.prototype.cast=function(Y,B,F,R,U){if(p||(p=c(18)),null!=Y&&null!=Y[_]&&Y===R)return Y;var P,G,W={transform:!1,virtuals:!1};if(U=U||{},!Array.isArray(Y)){if(!F&&!T.options.castNonArrays)throw new V("DocumentArray",f.inspect(Y),this.path,null,this);return B&&F&&B.markModified(this.path),this.cast([Y],B,F,R,U)}Y&&Y.isMongooseDocumentArray||U.skipDocumentArrayCast?Y&&Y.isMongooseDocumentArray&&(Y=new p(Y,this.path,B)):Y=new p(Y,this.path,B),null!=R&&(Y[l]=R[l]||{}),null!=U.arrayPathIndex&&(Y[_]=this.path+"."+U.arrayPathIndex);for(var ne=Y.length,X={skipId:!0,willInit:!0},z=0;z<ne;++z)if(Y[z]){var Q=u(this.casterConstructor,Y[z]);if(!Y[z].$__||Y[z]instanceof Q&&Y[z][m]===B||(Y[z]=Y[z].toObject({transform:!1,virtuals:Y[z].schema===Q.schema})),Y[z]instanceof C)null==Y[z].__index&&Y[z].$setIndex(z);else if(null!=Y[z])if(F)B?P||(P=$(this,B.$__.selected,F)):P=!0,G=new Q(null,Y,X,P,z),Y[z]=G.init(Y[z]);else if(R&&"function"==typeof R.id&&(G=R.id(Y[z]._id)),R&&G&&g.deepEqual(G.toObject(W),Y[z]))G.set(Y[z]),Y[z]=G;else try{G=new Q(Y[z],Y,void 0,void 0,z),Y[z]=G}catch(j){var Z=f.inspect(Y[z]);throw new V("embedded",Z,Y[_],j,this)}}return Y},T.prototype.clone=function(){var Y=Object.assign({},this.options),B=new this.constructor(this.path,this.schema,Y,this.schemaOptions);return B.validators=this.validators.slice(),void 0!==this.requiredValidator&&(B.requiredValidator=this.requiredValidator),B.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),B},T.prototype.applyGetters=function(Y,B){return S.prototype.applyGetters.call(this,Y,B)},T.defaultOptions={},T.set=S.set,le.exports=T},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"of",v),le.exports=O},function(le,q,c){"use strict";le.exports=function p(C){if(!Array.isArray(C))return{min:0,max:0,containsNonArrayItem:!0};if(0===C.length)return{min:1,max:1,containsNonArrayItem:!1};if(1===C.length&&!Array.isArray(C[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var x=p(C[0]),V=1;V<C.length;++V){var D=p(C[V]);D.min<x.min&&(x.min=D.min),D.max>x.max&&(x.max=D.max),x.containsNonArrayItem=x.containsNonArrayItem||D.containsNonArrayItem}return x.min=x.min+1,x.max=x.max+1,x}},function(le,q,c){"use strict";function p(m,T){var A="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!A){if(Array.isArray(m)||(A=function(U,P){if(U){if("string"==typeof U)return C(U,P);var G=Object.prototype.toString.call(U).slice(8,-1);if("Object"===G&&U.constructor&&(G=U.constructor.name),"Map"===G||"Set"===G)return Array.from(U);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return C(U,P)}}(m))||T&&m&&"number"==typeof m.length){A&&(m=A);var $=0,Y=function(){};return{s:Y,n:function(){return $>=m.length?{done:!0}:{done:!1,value:m[$++]}},e:function(U){throw U},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,F=!0,R=!1;return{s:function(){A=A.call(m)},n:function(){var U=A.next();return F=U.done,U},e:function(U){R=!0,B=U},f:function(){try{F||null==A.return||A.return()}finally{if(R)throw B}}}}function C(m,T){(null==T||T>m.length)&&(T=m.length);for(var A=0,$=new Array(T);A<T;A++)$[A]=m[A];return $}function x(m){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(m)}var V=c(13),D=c(34),I=c(56),S=c(158),O=c(3),v=c(24),y=c(159),h=c(83),f=c(4),g=c(21),u=c(31),l=["Polygon","MultiPolygon"];function _(m,T,A){if(Array.isArray(m))m.forEach(function(R,U){if(Array.isArray(R)||g(R))return _(R,T,A);m[U]=T.castForQueryWrapper({val:R,context:A})});else for(var $=Object.keys(m),Y=$.length;Y--;){var B=$[Y],F=m[B];Array.isArray(F)||g(F)?(_(F,T,A),m[B]=F):m[B]=T.castForQuery({val:F,context:A})}}le.exports=function m(T,A,$,Y){if(Array.isArray(A))throw new Error("Query filter must be an object, got an array ",f.inspect(A));if(null==A)return A;A.hasOwnProperty("_bsontype")&&"ObjectID"!==A._bsontype&&delete A._bsontype,null!=T&&null!=T.discriminators&&null!=A[T.options.discriminatorKey]&&(T=y(T,A[T.options.discriminatorKey])||T);var B,F,R,U,P,G,W=Object.keys(A),ne=W.length;for($=$||{};ne--;)if(G=A[U=W[ne]],"$or"===U||"$nor"===U||"$and"===U){if(!Array.isArray(G))throw new V("Array",G,U);for(var X=0;X<G.length;++X){if(null==G[X]||"object"!==x(G[X]))throw new V("Object",G[X],U+"."+X);G[X]=m(T,G[X],$,Y)}}else{if("$where"===U){if("string"!==(P=x(G))&&"function"!==P)throw new Error("Must have a string or function for $where");"function"===P&&(A[U]=G.toString());continue}if("$elemMatch"===U)G=m(T,G,$,Y);else if("$text"===U)G=S(G,U);else{if(!T)continue;if(!(F=T.path(U)))for(var z=U.split("."),Q=z.length;Q--;){var Z=z.slice(0,Q).join("."),j=z.slice(Q).join("."),pe=T.path(Z),he=O(pe,"schema.options.discriminatorKey");if(null!=pe&&null!=O(pe,"schema.discriminators")&&null!=he&&j!==he){var J=O(A,Z+"."+he);null!=J&&(F=pe.schema.discriminators[J].path(j))}}if(F){if(null==G)continue;if("Object"===v(G))if(Object.keys(G).some(h))for(var Ee=Object.keys(G),te=void 0,ce=Ee.length;ce--;)if(R=G[te=Ee[ce]],"$not"===te){if(R&&F&&!F.caster){if((B=Object.keys(R)).length&&h(B[0]))for(var ue in R)R[ue]=F.castForQueryWrapper({$conditional:ue,val:R[ue],context:Y});else G[te]=F.castForQueryWrapper({$conditional:te,val:R,context:Y});continue}m(F.caster?F.caster.schema:T,R,$,Y)}else G[te]=F.castForQueryWrapper({$conditional:te,val:R,context:Y});else A[U]=F.castForQueryWrapper({val:G,context:Y});else if(Array.isArray(G)&&-1===["Buffer","Array"].indexOf(F.instance)){var N,M=[],H=p(G);try{for(H.s();!(N=H.n()).done;)M.push(F.castForQueryWrapper({val:N.value,context:Y}))}catch(mt){H.e(mt)}finally{H.f()}A[U]={$in:M}}else A[U]=F.castForQueryWrapper({val:G,context:Y})}else{for(var oe=U.split("."),fe=oe.length,Ce=void 0,Ie=void 0,Ue=void 0;fe--&&(Ce=oe.slice(0,fe).join("."),!(F=T.path(Ce))););if(F){F.caster&&F.caster.schema?((Ue={})[Ie=oe.slice(fe).join(".")]=G,A[U]=m(F.caster.schema,Ue,$,Y)[Ie]):A[U]=G;continue}if(g(G)){var et="";if(G.$near?et="$near":G.$nearSphere?et="$nearSphere":G.$within?et="$within":G.$geoIntersects?et="$geoIntersects":G.$geoWithin&&(et="$geoWithin"),et){var rt=new I.Number("__QueryCasting__"),Ae=G[et];if(null!=G.$maxDistance&&(G.$maxDistance=rt.castForQueryWrapper({val:G.$maxDistance,context:Y})),null!=G.$minDistance&&(G.$minDistance=rt.castForQueryWrapper({val:G.$minDistance,context:Y})),"$within"===et){var $e=Ae.$center||Ae.$centerSphere||Ae.$box||Ae.$polygon;if(!$e)throw new Error("Bad $within parameter: "+JSON.stringify(G));Ae=$e}else if("$near"===et&&"string"==typeof Ae.type&&Array.isArray(Ae.coordinates))Ae=Ae.coordinates;else if(("$near"===et||"$nearSphere"===et||"$geoIntersects"===et)&&Ae.$geometry&&"string"==typeof Ae.$geometry.type&&Array.isArray(Ae.$geometry.coordinates))null!=Ae.$maxDistance&&(Ae.$maxDistance=rt.castForQueryWrapper({val:Ae.$maxDistance,context:Y})),null!=Ae.$minDistance&&(Ae.$minDistance=rt.castForQueryWrapper({val:Ae.$minDistance,context:Y})),u(Ae.$geometry)&&(Ae.$geometry=Ae.$geometry.toObject({transform:!1,virtuals:!1})),Ae=Ae.$geometry.coordinates;else if("$geoWithin"===et)if(Ae.$geometry){u(Ae.$geometry)&&(Ae.$geometry=Ae.$geometry.toObject({virtuals:!1}));var st=Ae.$geometry.type;if(-1===l.indexOf(st))throw new Error('Invalid geoJSON type for $geoWithin "'+st+'", must be "Polygon" or "MultiPolygon"');Ae=Ae.$geometry.coordinates}else u(Ae=Ae.$box||Ae.$polygon||Ae.$center||Ae.$centerSphere)&&(Ae=Ae.toObject({virtuals:!1}));_(Ae,rt,Y);continue}}if(T.nested[U])continue;if($.upsert&&$.strict)throw"throw"===$.strict?new D(U):new D(U,'Path "'+U+'" is not in schema, strict mode is `true`, and upsert is `true`.');if("throw"===$.strictQuery)throw new D(U,'Path "'+U+"\" is not in schema and strictQuery is 'throw'.");$.strictQuery&&delete A[U]}}}return A}},function(le,q,c){"use strict";function p(D){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var C=c(13),x=c(53),V=c(79);le.exports=function(D,I){if(null==D||"object"!==p(D))throw new C("$text",D,I);return null!=D.$search&&(D.$search=V(D.$search,I+".$search")),null!=D.$language&&(D.$language=V(D.$language,I+".$language")),null!=D.$caseSensitive&&(D.$caseSensitive=x(D.$caseSensitive,I+".$castSensitive")),null!=D.$diacriticSensitive&&(D.$diacriticSensitive=x(D.$diacriticSensitive,I+".$diacriticSensitive")),D}},function(le,q,c){"use strict";var p=c(82);le.exports=function(C,x){if(null==C||null==C.discriminators)return null;for(var V=0,D=Object.keys(C.discriminators);V<D.length;V++){var S=C.discriminators[D[V]];if(null!=S.discriminatorMapping&&p(S.discriminatorMapping.value,x))return S}return null}},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"excludeIndexes",v),Object.defineProperty(O.prototype,"_id",v),le.exports=O},function(le,q,c){"use strict";function p(T){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(T)}var C,x=c(13),V=c(19).EventEmitter,D=c(75),I=c(162),S=c(6),O=c(52),v=c(36).castToNumber,y=c(93),h=c(84),f=c(3),g=c(95),u=c(94),l=c(17).internalToObjectOptions;function _(T,A,$){T=u(T,$),this.caster=m(T),this.caster.path=A,this.caster.prototype.$basePath=A,this.schema=T,this.$isSingleNested=!0,S.call(this,A,$,"Embedded")}function m(T,A){C||(C=c(92));var $=function(U,P,G){var W=this;this.$__parent=G,C.apply(this,arguments),this.$session(this.ownerDocument().$session()),G&&(G.on("save",function(){W.emit("save",W),W.constructor.emit("save",W)}),G.on("isNew",function(ne){W.isNew=ne,W.emit("isNew",ne),W.constructor.emit("isNew",ne)}))},Y=null!=A?A.prototype:C.prototype;for(var B in($.prototype=Object.create(Y)).$__setSchema(T),$.prototype.constructor=$,$.schema=T,$.$isSingleNested=!0,$.events=new V,$.prototype.toBSON=function(){return this.toObject(l)},T.methods)$.prototype[B]=T.methods[B];for(var F in T.statics)$[F]=T.statics[F];for(var R in V.prototype)$[R]=V.prototype[R];return $}le.exports=_,(_.prototype=Object.create(S.prototype)).constructor=_,_.prototype.OptionsConstructor=I,_.prototype.$conditionalHandlers.$geoWithin=function(T){return{$geometry:this.castForQuery(T.$geometry)}},_.prototype.$conditionalHandlers.$near=_.prototype.$conditionalHandlers.$nearSphere=h.cast$near,_.prototype.$conditionalHandlers.$within=_.prototype.$conditionalHandlers.$geoWithin=h.cast$within,_.prototype.$conditionalHandlers.$geoIntersects=h.cast$geoIntersects,_.prototype.$conditionalHandlers.$minDistance=v,_.prototype.$conditionalHandlers.$maxDistance=v,_.prototype.$conditionalHandlers.$exists=O,_.prototype.cast=function(T,A,$,Y,B){if(T&&T.$isSingleNested&&T.parent===A)return T;if(null!=T&&("object"!==p(T)||Array.isArray(T)))throw new D(this.path,T);var F,R=g(this.caster,T),U=f(A,"$__.selected",{}),P=this.path,G=Object.keys(U).reduce(function(W,ne){return ne.startsWith(P+".")&&(W[ne.substr(P.length+1)]=U[ne]),W},{});return B=Object.assign({},B,{priorDoc:Y}),$?((F=new R(void 0,G,A)).init(T),F):0===Object.keys(T).length?new R({},G,A,void 0,B):new R(T,G,A,void 0,B)},_.prototype.castForQuery=function(T,A,$){var Y;if(2===arguments.length){if(!(Y=this.$conditionalHandlers[T]))throw new Error("Can't use "+T);return Y.call(this,A)}if(null==(A=T))return A;this.options.runSetters&&(A=this._applySetters(A));var B=g(this.caster,A),F=null!=$&&null!=$.strict?$.strict:void 0;try{A=new B(A,F)}catch(R){throw R instanceof x?R:new x("Embedded",A,this.path,R,this)}return A},_.prototype.doValidate=function(T,A,$,Y){var B=g(this.caster,T);if(Y&&Y.skipSchemaValidators)return T instanceof B||(T=new B(T,null,$)),T.validate(A);S.prototype.doValidate.call(this,T,function(F){return F?A(F):T?void T.validate(A):A(null)},$,Y)},_.prototype.doValidateSync=function(T,A,$){if(!$||!$.skipSchemaValidators){var Y=S.prototype.doValidateSync.call(this,T,A);if(Y)return Y}if(T)return T.validateSync()},_.prototype.discriminator=function(T,A,$){return A=y(this.caster,T,A,$),this.caster.discriminators[T]=m(A,this.caster),this.caster.discriminators[T]},_.defaultOptions={},_.set=S.set,_.prototype.clone=function(){var T=Object.assign({},this.options),A=new this.constructor(this.schema,this.path,T);return A.validators=this.validators.slice(),void 0!==this.requiredValidator&&(A.requiredValidator=this.requiredValidator),A.caster.discriminators=Object.assign({},this.caster.discriminators),A}},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"_id",v),le.exports=O},function(le,q,c){"use strict";(function(p){function C(f){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}var x=c(88),V=c(164),D=c(6),I=c(81),S=c(1),O=x.Binary,v=D.CastError;function y(f,g){D.call(this,f,g,"Buffer")}function h(f){return this.castForQuery(f)}y.schemaName="Buffer",y.defaultOptions={},(y.prototype=Object.create(D.prototype)).constructor=y,y.prototype.OptionsConstructor=V,y._checkRequired=function(f){return!(!f||!f.length)},y.set=D.set,y.checkRequired=D.checkRequired,y.prototype.checkRequired=function(f,g){return D._isRef(this,f,g,!0)?!!f:this.constructor._checkRequired(f)},y.prototype.cast=function(f,g,u){var l;if(D._isRef(this,f,g,u)){if(f&&f.isMongooseBuffer)return f;if(p.isBuffer(f))return f&&f.isMongooseBuffer||(f=new x(f,[this.path,g]),null!=this.options.subtype&&(f._subtype=this.options.subtype)),f;if(f instanceof O){if(l=new x(f.value(!0),[this.path,g]),"number"!=typeof f.sub_type)throw new v("Buffer",f,this.path,null,this);return l._subtype=f.sub_type,l}return this._castRef(f,g,u)}if(f&&f._id&&(f=f._id),f&&f.isMongooseBuffer)return f;if(p.isBuffer(f))return f&&f.isMongooseBuffer||(f=new x(f,[this.path,g]),null!=this.options.subtype&&(f._subtype=this.options.subtype)),f;if(f instanceof O){if(l=new x(f.value(!0),[this.path,g]),"number"!=typeof f.sub_type)throw new v("Buffer",f,this.path,null,this);return l._subtype=f.sub_type,l}if(null===f)return f;var _=C(f);if("string"===_||"number"===_||Array.isArray(f)||"object"===_&&"Buffer"===f.type&&Array.isArray(f.data))return"number"===_&&(f=[f]),l=new x(f,[this.path,g]),null!=this.options.subtype&&(l._subtype=this.options.subtype),l;throw new v("Buffer",f,this.path,null,this)},y.prototype.subtype=function(f){return this.options.subtype=f,this},y.prototype.$conditionalHandlers=S.options(D.prototype.$conditionalHandlers,{$bitsAllClear:I,$bitsAnyClear:I,$bitsAllSet:I,$bitsAnySet:I,$gt:h,$gte:h,$lt:h,$lte:h}),y.prototype.castForQuery=function(f,g){var u;if(2===arguments.length){if(!(u=this.$conditionalHandlers[f]))throw new Error("Can't use "+f+" with Buffer.");return u.call(this,g)}var l=this._castForQuery(g=f);return l&&l.toObject({transform:!1,virtuals:!1})},le.exports=y}).call(this,c(2).Buffer)},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"subtype",v),le.exports=O},function(le,q,c){"use strict";var p=c(5),C=c(166),x=c(6),V=c(167),D=c(24),I=c(1),S=x.CastError;function O(y,h){x.call(this,y,h,"Date")}function v(y){return this.cast(y)}O.schemaName="Date",O.defaultOptions={},(O.prototype=Object.create(x.prototype)).constructor=O,O.prototype.OptionsConstructor=C,O._cast=V,O.set=x.set,O.cast=function(y){return 0===arguments.length||(!1===y&&(y=this._defaultCaster),this._cast=y),this._cast},O._defaultCaster=function(y){if(null!=y&&!(y instanceof Date))throw new Error;return y},O.prototype.expires=function(y){return"Object"!==D(this._index)&&(this._index={}),this._index.expires=y,I.expires(this._index),this},O._checkRequired=function(y){return y instanceof Date},O.checkRequired=x.checkRequired,O.prototype.checkRequired=function(y,h){return x._isRef(this,y,h,!0)?!!y:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():O.checkRequired())(y)},O.prototype.min=function(y,h){if(this.minValidator&&(this.validators=this.validators.filter(function(u){return u.validator!==this.minValidator},this)),y){var f=h||p.messages.Date.min;"string"==typeof f&&(f=f.replace(/{MIN}/,y===Date.now?"Date.now()":y.toString()));var g=this;this.validators.push({validator:this.minValidator=function(u){var l=y;"function"==typeof y&&y!==Date.now&&(l=l.call(this));var _=l===Date.now?l():g.cast(l);return null===u||u.valueOf()>=_.valueOf()},message:f,type:"min",min:y})}return this},O.prototype.max=function(y,h){if(this.maxValidator&&(this.validators=this.validators.filter(function(u){return u.validator!==this.maxValidator},this)),y){var f=h||p.messages.Date.max;"string"==typeof f&&(f=f.replace(/{MAX}/,y===Date.now?"Date.now()":y.toString()));var g=this;this.validators.push({validator:this.maxValidator=function(u){var l=y;"function"==typeof l&&l!==Date.now&&(l=l.call(this));var _=l===Date.now?l():g.cast(l);return null===u||u.valueOf()<=_.valueOf()},message:f,type:"max",max:y})}return this},O.prototype.cast=function(y){var h;h="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():O.cast();try{return h(y)}catch(f){throw new S("date",y,this.path,f,this)}},O.prototype.$conditionalHandlers=I.options(x.prototype.$conditionalHandlers,{$gt:v,$gte:v,$lt:v,$lte:v}),O.prototype.castForQuery=function(y,h){if(2!==arguments.length)return this._castForQuery(y);var f=this.$conditionalHandlers[y];if(!f)throw new Error("Can't use "+y+" with Date.");return f.call(this,h)},le.exports=O},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"min",v),Object.defineProperty(O.prototype,"max",v),Object.defineProperty(O.prototype,"expires",v),le.exports=O},function(le,q,c){"use strict";var p=c(23);le.exports=function(C){return null==C||""===C?null:C instanceof Date?(p.ok(!isNaN(C.valueOf())),C):(p.ok("boolean"!=typeof C),x=C instanceof Number||"number"==typeof C?new Date(C):"string"==typeof C&&!isNaN(Number(C))&&(Number(C)>=275761||Number(C)<-271820)?new Date(Number(C)):"function"==typeof C.valueOf?new Date(C.valueOf()):new Date(C),isNaN(x.valueOf())?void p.ok(!1):x);var x}},function(le,q,c){"use strict";var p,C=c(169),x=c(6),V=c(89),D=c(24),I=c(11),S=c(1),O=x.CastError;function v(g,u){!("string"==typeof g&&24===g.length&&/^[a-f0-9]+$/i.test(g))&&void 0!==g||u&&u.suppressWarning||(console.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),console.trace()),x.call(this,g,u,"ObjectID")}function y(g){return this.cast(g)}function h(){return new I}function f(g){if(p||(p=c(12)),this instanceof p){if(void 0===g){var u=new I;return this.$__._id=u,u}this.$__._id=g}return g}v.schemaName="ObjectId",v.defaultOptions={},(v.prototype=Object.create(x.prototype)).constructor=v,v.prototype.OptionsConstructor=C,v.get=x.get,v.set=x.set,v.prototype.auto=function(g){return g&&(this.default(h),this.set(f)),this},v._checkRequired=function(g){return g instanceof I},v._cast=V,v.cast=function(g){return 0===arguments.length||(!1===g&&(g=this._defaultCaster),this._cast=g),this._cast},v._defaultCaster=function(g){if(!(g instanceof I))throw new Error(g+" is not an instance of ObjectId");return g},v.checkRequired=x.checkRequired,v.prototype.checkRequired=function(g,u){return x._isRef(this,g,u,!0)?!!g:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():v.checkRequired())(g)},v.prototype.cast=function(g,u,l){if(x._isRef(this,g,u,l))return g instanceof I?g:"objectid"===(D(g)||"").toLowerCase()?new I(g.toHexString()):this._castRef(g,u,l);var _;_="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():v.cast();try{return _(g)}catch(m){throw new O("ObjectId",g,this.path,m,this)}},v.prototype.$conditionalHandlers=S.options(x.prototype.$conditionalHandlers,{$gt:y,$gte:y,$lt:y,$lte:y}),h.$runBeforeSetters=!0,le.exports=v},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"auto",v),Object.defineProperty(O.prototype,"populate",v),le.exports=O},function(le,q,c){"use strict";var p=c(6),C=p.CastError,x=c(20),V=c(171),D=c(1);function I(O,v){p.call(this,O,v,"Decimal128")}function S(O){return this.cast(O)}I.schemaName="Decimal128",I.defaultOptions={},(I.prototype=Object.create(p.prototype)).constructor=I,I._cast=V,I.set=p.set,I.cast=function(O){return 0===arguments.length||(!1===O&&(O=this._defaultCaster),this._cast=O),this._cast},I._defaultCaster=function(O){if(null!=O&&!(O instanceof x))throw new Error;return O},I._checkRequired=function(O){return O instanceof x},I.checkRequired=p.checkRequired,I.prototype.checkRequired=function(O,v){return p._isRef(this,O,v,!0)?!!O:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():I.checkRequired())(O)},I.prototype.cast=function(O,v,y){if(p._isRef(this,O,v,y))return O instanceof x?O:this._castRef(O,v,y);var h;h="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():I.cast();try{return h(O)}catch(f){throw new C("Decimal128",O,this.path,f,this)}},I.prototype.$conditionalHandlers=D.options(p.prototype.$conditionalHandlers,{$gt:S,$gte:S,$lt:S,$lte:S}),le.exports=I},function(le,q,c){"use strict";(function(p){function C(D){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var x=c(20),V=c(23);le.exports=function(D){return null==D?D:"object"===C(D)&&"string"==typeof D.$numberDecimal?x.fromString(D.$numberDecimal):D instanceof x?D:"string"==typeof D?x.fromString(D):p.isBuffer(D)?new x(D):"number"==typeof D?x.fromString(String(D)):"function"==typeof D.valueOf&&"string"==typeof D.valueOf()?x.fromString(D.valueOf()):void V.ok(!1)}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";(function(p){function C(_){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function V(_,m){(null==m||m>_.length)&&(m=_.length);for(var T=0,A=new Array(m);T<m;T++)A[T]=_[T];return A}function I(){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(_,m,T){var A=S(_,m);if(A){var $=Object.getOwnPropertyDescriptor(A,m);return $.get?$.get.call(arguments.length<3?_:T):$.value}}).apply(this,arguments)}function S(_,m){for(;!Object.prototype.hasOwnProperty.call(_,m)&&null!==(_=h(_)););return _}function O(_,m){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T})(_,m)}function y(_,m){if(m&&("object"===C(m)||"function"==typeof m))return m;if(void 0!==m)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)})(_)}var f=c(90),g=c(173),u=c(6),l=function(_){!function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&O(B,F)}(Y,_);var m,T,$=function v(_){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}();return function(){var T,A=h(_);if(m){var $=h(this).constructor;T=Reflect.construct(A,arguments,$)}else T=A.apply(this,arguments);return y(this,T)}}(Y);function Y(B,F){var R;return function(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}(this,Y),(R=$.call(this,B,F,"Map")).$isSchemaMap=!0,R}return m=Y,(T=[{key:"set",value:function(B,F){return u.set(B,F)}},{key:"cast",value:function(B,F,R){if(B instanceof f)return B;var U=this.path;if(R){var P=new f({},U,F,this.$__schemaType);if(B instanceof p.Map){var G,W=function x(_,m){var T="undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(!T){if(Array.isArray(_)||(T=function(R,U){if(R){if("string"==typeof R)return V(R,U);var P=Object.prototype.toString.call(R).slice(8,-1);if("Object"===P&&R.constructor&&(P=R.constructor.name),"Map"===P||"Set"===P)return Array.from(R);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return V(R,U)}}(_))||m&&_&&"number"==typeof _.length){T&&(_=T);var A=0,$=function(){};return{s:$,n:function(){return A>=_.length?{done:!0}:{done:!1,value:_[A++]}},e:function(R){throw R},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Y,B=!0,F=!1;return{s:function(){T=T.call(_)},n:function(){var R=T.next();return B=R.done,R},e:function(R){F=!0,Y=R},f:function(){try{B||null==T.return||T.return()}finally{if(F)throw Y}}}}(B.keys());try{for(W.s();!(G=W.n()).done;){var ne=G.value,X=B.get(ne);X=null==X?P.$__schemaType._castNullish(X):P.$__schemaType.cast(X,F,!0,null,{path:U+"."+ne}),P.$init(ne,X)}}catch(pe){W.e(pe)}finally{W.f()}}else for(var z=0,Q=Object.keys(B);z<Q.length;z++){var Z=Q[z],j=B[Z];j=null==j?P.$__schemaType._castNullish(j):P.$__schemaType.cast(j,F,!0,null,{path:U+"."+Z}),P.$init(Z,j)}return P}return new f(B,U,F,this.$__schemaType)}},{key:"clone",value:function(){var B=I(h(Y.prototype),"clone",this).call(this);return null!=this.$__schemaType&&(B.$__schemaType=this.$__schemaType.clone()),B}}])&&function D(_,m){for(var T=0;T<m.length;T++){var A=m[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,(Y=function(B,F){if("object"!==C(B)||null===B)return B;var R=B[Symbol.toPrimitive];if(void 0!==R){var U=R.call(B,"string");if("object"!==C(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(A.key),"symbol"===C(Y)?Y:String(Y)),A)}var Y}(m.prototype,T),Object.defineProperty(m,"prototype",{writable:!1}),Y}(u);l.prototype.OptionsConstructor=g,l.defaultOptions={},le.exports=l}).call(this,c(9))},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"of",v),le.exports=O},function(le,q,c){"use strict";(function(p){function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}var x=c(15).get().Binary,V=c(20),D=c(11),I=c(31);function S(O){return O&&"object"===C(O)&&!(O instanceof Date)&&!(O instanceof D)&&(!Array.isArray(O)||O.length>0)&&!(O instanceof p)&&!(O instanceof V)&&!(O instanceof x)}q.flatten=function O(v,y,h,f){var g,u=(g=v&&I(v)&&!p.isBuffer(v)?Object.keys(v.toObject({transform:!1,virtuals:!1})):Object.keys(v||{})).length,l={};y=y?y+".":"";for(var _=0;_<u;++_){var m=g[_],T=v[m];l[y+m]=T;var A=f&&f.path&&f.path(y+m),$=f&&f.nested&&f.nested[y+m];if(!A||"Mixed"!==A.instance){if(S(T)){if(h&&h.skipArrays&&Array.isArray(T))continue;var Y=O(T,y+m,h,f);for(var B in Y)l[B]=Y[B];Array.isArray(T)&&(l[y+m]=T)}if($)for(var R=0,U=Object.keys(f.paths);R<U.length;R++){var P=U[R];P.startsWith(y+m+".")&&!l.hasOwnProperty(P)&&(l[P]=void 0)}}}return l},q.modifiedPaths=function O(v,y,h){var f=Object.keys(v||{}),g=f.length;h=h||{},y=y?y+".":"";for(var u=0;u<g;++u){var l=f[u],_=v[l];h[y+l]=!0,I(_)&&!p.isBuffer(_)&&(_=_.toObject({transform:!1,virtuals:!1})),S(_)&&O(_,y+l,h)}return h}}).call(this,c(2).Buffer)},function(le,q,c){"use strict";var p=c(3);le.exports=function C(x,V,D){for(var I=(D=D||{}).typeOnly,S=V.split("."),O=null,v="adhocOrUndefined",y=0;y<S.length;++y){var h=S.slice(0,y+1).join(".");if(null!=(O=x.schema.path(h))){if("Mixed"===O.instance)return I?"real":O;if(v=x.schema.pathType(h),(O.$isSingleNested||O.$isMongooseDocumentArrayElement)&&null!=O.schema.discriminators){var f=O.schema.discriminators,g=x.get(h+"."+p(O,"schema.options.discriminatorKey"));if(null==g||null==f[g])continue;var u=S.slice(y+1).join(".");return C(x.get(h),u,D)}}else v="adhocOrUndefined"}return I?v:O}},function(le,q,c){"use strict";function p(){return null!=this._id?String(this._id):null}le.exports=function(C){!C.paths.id&&!C.options.noVirtualId&&C.options.id&&C.virtual("id").get(p)}},function(le,q,c){"use strict";var p=c(59);le.exports=function(C){if(null==C)return null;var x=Object.keys(C),V=x.length,D=null;if(1===V&&"_id"===x[0])D=!!C[x[V]];else for(;V--;)if("_id"!==x[V]&&p(C[x[V]])){D=!C[x[V]];break}return D}},function(le,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function C(y,h){var f="undefined"!=typeof Symbol&&y[Symbol.iterator]||y["@@iterator"];if(!f){if(Array.isArray(y)||(f=function(T,A){if(T){if("string"==typeof T)return x(T,A);var $=Object.prototype.toString.call(T).slice(8,-1);if("Object"===$&&T.constructor&&($=T.constructor.name),"Map"===$||"Set"===$)return Array.from(T);if("Arguments"===$||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return x(T,A)}}(y))||h&&y&&"number"==typeof y.length){f&&(y=f);var g=0,u=function(){};return{s:u,n:function(){return g>=y.length?{done:!0}:{done:!1,value:y[g++]}},e:function(T){throw T},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,_=!0,m=!1;return{s:function(){f=f.call(y)},n:function(){var T=f.next();return _=T.done,T},e:function(T){m=!0,l=T},f:function(){try{_||null==f.return||f.return()}finally{if(m)throw l}}}}function x(y,h){(null==h||h>y.length)&&(h=y.length);for(var f=0,g=new Array(h);f<h;f++)g[f]=y[f];return g}var V=c(179),D=c(3),I=c(37),S=c(59),O=c(26);function v(y){return function(h){h.options||(h.options={}),null!=y&&Array.isArray(y.virtuals)&&((y=Object.assign({},y)).virtuals=y.virtuals.filter(function(f){return"string"==typeof f&&f.startsWith(h.path+".")}).map(function(f){return f.slice(h.path.length+1)})),h.options.lean=y}}q.preparePopulationOptions=function(y,h){var f=y.options.populate,g=Object.keys(f).reduce(function(u,l){return u.concat([f[l]])},[]);return null!=h.lean&&g.filter(function(u){return null==D(u,"options.lean")}).forEach(v(h.lean)),g.forEach(function(u){u._localModel=y.model}),g},q.preparePopulationOptionsMQ=function(y,h){var f=y._mongooseOptions.populate,g=Object.keys(f).reduce(function(_,m){return _.concat([f[m]])},[]);null!=h.lean&&g.filter(function(_){return null==D(_,"options.lean")}).forEach(v(h.lean));var u=D(y,"options.session",null);null!=u&&g.forEach(function(_){null!=_.options?"session"in _.options||(_.options.session=u):_.options={session:u}});var l=y._fieldsForExec();return g.forEach(function(_){_._queryProjection=l}),g.forEach(function(_){_._localModel=y.model}),g},q.createModel=function(y,h,f,g,u){y.hooks.execPreSync("createModel",h);var l=y.schema?y.schema.discriminatorMapping:null,_=l&&l.isRoot?l.key:null,m=h[_];if(_&&m&&y.discriminators){var T=y.discriminators[m]||I(y.discriminators,m);if(T){var A=O(g);return q.applyPaths(A,T.schema),new T(void 0,A,!0)}}return void 0===u&&((u={}).defaults=!0),new y(void 0,f,{skipId:!0,isNew:!1,willInit:!0,defaults:u.defaults})},q.applyPaths=function(y,h){var f,g,u;if(y)for(u=(g=Object.keys(y)).length;u--;)if("+"!==g[u][0]){var l=y[g[u]];if(S(l)){f=!l;break}}var _=[],m=[],T=[];switch(function Q(Z,j){if(j||(j=""),-1!==T.indexOf(Z))return[];T.push(Z);var pe=[];return Z.eachPath(function(he,J){j&&(he=j+"."+he);var Ee=z(he,J);if(null==Ee&&J.$isMongooseArray&&!J.$isMongooseDocumentArray&&(Ee=z(he,J.caster)),null!=Ee&&pe.push(Ee),J.schema){var te=Q(J.schema,he);!1===f&&V(y,he,J.schema,_,te)}}),T.pop(),pe}(h),f){case!0:var A,$=C(m);try{for($.s();!(A=$.n()).done;)y[A.value]=0}catch(Q){$.e(Q)}finally{$.f()}break;case!1:h&&h.paths._id&&h.paths._id.options&&!1===h.paths._id.options.select&&(y._id=0);var B,F=C(_);try{for(F.s();!(B=F.n()).done;){var R=B.value;y[R]=y[R]||1}}catch(Q){F.e(Q)}finally{F.f()}break;case void 0:if(null==y)break;for(var U=0,P=Object.keys(y||{});U<P.length;U++){var G=P[U];G.startsWith("+")&&delete y[G]}var W,ne=C(m);try{for(ne.s();!(W=ne.n()).done;)y[W.value]=0}catch(Q){ne.e(Q)}finally{ne.f()}}function z(Q,Z){var j="+"+Q,pe=y&&j in y;if(pe&&delete y[j],"boolean"==typeof Z.selected){if(pe)return delete y[j],void(!1===f&&g.length>1&&!~g.indexOf(Q)&&(y[Q]=1));for(var he=Q.split("."),J="",Ee=0;Ee<he.length;++Ee)if(-1!==m.indexOf(J+=J.length?"."+he[Ee]:he[Ee]))return;if(!f&&D(Z,"options.$skipDiscriminatorCheck",!1))for(var te="",ce=0;ce<he.length;++ce){var ue=D(y,te+=(0===te.length?"":".")+he[ce],!1)||D(y,te+".$",!1);if(ue&&"object"!==p(ue))return}return(Z.selected?_:m).push(Q),Q}}},q.handleDeleteWriteOpResult=function(y){return function(h,f){if(h)return y(h);var g=Object.assign({},f.result);return null!=D(f,"result.n",null)&&(g.deletedCount=f.result.n),null!=f.deletedCount&&(g.deletedCount=f.deletedCount),y(null,g)}}},function(le,q,c){"use strict";le.exports=function(p,C,x,V,D){var I=Object.keys(p).reduce(function(O,v){return O||v.startsWith(C+".")},!1),S=C+"."+x.options.discriminatorKey;I||1!==D.length||D[0]!==S||V.splice(V.indexOf(S),1)}},function(le,q,c){"use strict";function p(C){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}le.exports=function(C){return!!C&&("object"===p(C)||"function"==typeof C)&&"function"==typeof C.then}},function(le,q,c){"use strict";var p=c(12),C=c(19).EventEmitter,x=c(5),V=c(54),D=c(11),I=x.ValidationError,S=c(78),O=c(21);function v(y,h,f,g,u){if(!(this instanceof v))return new v(y,h,f,g,u);if(O(h)&&!h.instanceOfSchema&&(h=new V(h)),h=this.schema||h,!this.schema&&h.options._id&&void 0===(y=y||{})._id&&(y._id=new D),!h)throw new x.MissingSchemaError;for(var l in this.$__setSchema(h),p.call(this,y,f,g,u),S(this,h,{decorateDoc:!0}),h.methods)this[l]=h.methods[l];for(var _ in h.statics)this[_]=h.statics[_]}(v.prototype=Object.create(p.prototype)).constructor=v,v.events=new C,v.$emitter=new C,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(y){v[y]=function(){return v.$emitter[y].apply(v.$emitter,arguments)}}),v.ValidationError=I,le.exports=v}])},module.exports=q()}},le=>{le(le.s=904)}]);