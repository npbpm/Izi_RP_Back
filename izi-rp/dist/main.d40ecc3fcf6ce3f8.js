(self.webpackChunkizi_rp=self.webpackChunkizi_rp||[]).push([[179],{904:(ae,q,c)=>{"use strict";function p(t){return"function"==typeof t}function w(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const x=w(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function V(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(p(i))try{i()}catch(o){n=o instanceof x?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{O(o)}catch(s){n=null!=n?n:[],s instanceof x?n=[...n,...s.errors]:n.push(s)}}if(n)throw new x(n)}}add(n){var e;if(n&&n!==this)if(this.closed)O(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&V(e,n)}remove(n){const{_finalizers:e}=this;e&&V(e,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const t=new D;return t.closed=!0,t})();const I=D.EMPTY;function S(t){return t instanceof D||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function O(t){p(t)?t():t.unsubscribe()}const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(t,n,...e){const{delegate:i}=y;return(null==i?void 0:i.setTimeout)?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=y;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function h(t){y.setTimeout(()=>{const{onUnhandledError:n}=v;if(!n)throw t;n(t)})}function f(){}const g=_("C",void 0,void 0);function _(t,n,e){return{kind:t,value:n,error:e}}let m=null;function C(t){if(v.useDeprecatedSynchronousErrorHandling){const n=!m;if(n&&(m={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=m;if(m=null,e)throw i}}else t()}class $ extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,S(n)&&n.add(this)):this.destination=W}static create(n,e,i){return new k(n,e,i)}next(n){this.isStopped?G(function l(t){return _("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?G(function u(t){return _("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?G(g,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K=Function.prototype.bind;function B(t,n){return K.call(t,n)}class F{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){U(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){U(i)}else U(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){U(e)}}}class k extends ${constructor(n,e,i){let r;if(super(),p(n)||!n)r={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&v.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&B(n.next,o),error:n.error&&B(n.error,o),complete:n.complete&&B(n.complete,o)}):r=n}this.destination=new F(r)}}function U(t){v.useDeprecatedSynchronousErrorHandling?function A(t){v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=t)}(t):h(t)}function G(t,n){const{onStoppedNotification:e}=v;e&&y.setTimeout(()=>e(t,n))}const W={closed:!0,next:f,error:function P(t){throw t},complete:f},ne="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}let Z=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function pe(t){return t&&t instanceof $||function ce(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(t)&&S(t)}(e)?e:new k(e,i,r);return C(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=j(i))((r,o)=>{const s=new k({next:a=>{try{e(a)}catch(d){o(d),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ne](){return this}pipe(...e){return function Q(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=j(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function j(t){var n;return null!==(n=null!=t?t:v.Promise)&&void 0!==n?n:Promise}const J=w(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new te(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new J}next(e){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?I:(this.currentObservers=null,o.push(e),new D(()=>{this.currentObservers=null,V(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Z;return e.source=this,e}}return t.create=(n,e)=>new te(n,e),t})();class te extends Ee{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:I}}function ue(t){return p(null==t?void 0:t.lift)}function le(t){return n=>{if(ue(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(t,n,e,i,r){return new M(t,n,e,i,r)}class M extends ${constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(d){n.error(d)}}:super._next,this._error=r?function(a){try{r(a)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function H(t,n){return le((e,i)=>{let r=0;e.subscribe(N(i,o=>{i.next(t.call(n,o,r++))}))})}function bn(t){return this instanceof bn?(this.v=t,this):new bn(t)}function Fn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(se){i[se]&&(r[se]=function(me){return new Promise(function(Te,Ae){o.push([se,me,Te,Ae])>1||a(se,me)})})}function a(se,me){try{!function d(se){se.value instanceof bn?Promise.resolve(se.value.v).then(T,R):ee(o[0][2],se)}(i[se](me))}catch(Te){ee(o[0][3],Te)}}function T(se){a("next",se)}function R(se){a("throw",se)}function ee(se,me){se(me),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ie(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function mt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,d){!function r(o,s,a,d){Promise.resolve(d).then(function(T){o({value:T,done:a})},s)}(a,d,(s=t[o](s)).done,s.value)})}}}const Ne=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function je(t){return p(null==t?void 0:t.then)}function Le(t){return p(t[ne])}function Be(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function Ge(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qe=function Ue(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function et(t){return p(null==t?void 0:t[qe])}function dt(t){return Fn(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield bn(e.read());if(r)return yield bn(void 0);yield yield bn(i)}}finally{e.releaseLock()}})}function _t(t){return p(null==t?void 0:t.getReader)}function Ke(t){if(t instanceof Z)return t;if(null!=t){if(Le(t))return function lt(t){return new Z(n=>{const e=t[ne]();if(p(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ne(t))return function ht(t){return new Z(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(je(t))return function wt(t){return new Z(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,h)})}(t);if(Be(t))return pt(t);if(et(t))return function Pt(t){return new Z(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(_t(t))return function cn(t){return pt(dt(t))}(t)}throw Ge(t)}function pt(t){return new Z(n=>{(function on(t,n){var e,i,r,o;return function it(t,n,e,i){return new(e||(e=Promise))(function(o,s){function a(R){try{T(i.next(R))}catch(ee){s(ee)}}function d(R){try{T(i.throw(R))}catch(ee){s(ee)}}function T(R){R.done?o(R.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(R.value).then(a,d)}T((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ie(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function dn(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Bt(t,n,e=1/0){return p(n)?Bt((i,r)=>H((o,s)=>n(i,o,r,s))(Ke(t(i,r))),e):("number"==typeof n&&(e=n),le((i,r)=>function nr(t,n,e,i,r,o,s,a){const d=[];let T=0,R=0,ee=!1;const se=()=>{ee&&!d.length&&!T&&n.complete()},me=Ae=>T<i?Te(Ae):d.push(Ae),Te=Ae=>{o&&n.next(Ae),T++;let Re=!1;Ke(e(Ae,R++)).subscribe(N(n,Fe=>{null==r||r(Fe),o?me(Fe):n.next(Fe)},()=>{Re=!0},void 0,()=>{if(Re)try{for(T--;d.length&&T<i;){const Fe=d.shift();s?dn(n,s,()=>Te(Fe)):Te(Fe)}se()}catch(Fe){n.error(Fe)}}))};return t.subscribe(N(n,me,()=>{ee=!0,se()})),()=>{null==a||a()}}(i,r,t,e)))}function xn(t=1/0){return Bt(X,t)}const Tn=new Z(t=>t.complete());function hr(t){return t&&p(t.schedule)}function gn(t){return t[t.length-1]}function eo(t){return p(gn(t))?t.pop():void 0}function wi(t){return hr(gn(t))?t.pop():void 0}function Qo(t,n=0){return le((e,i)=>{e.subscribe(N(i,r=>dn(i,t,()=>i.next(r),n),()=>dn(i,t,()=>i.complete(),n),r=>dn(i,t,()=>i.error(r),n)))})}function to(t,n=0){return le((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Wa(t,n){if(!t)throw new Error("Iterable cannot be null");return new Z(e=>{dn(e,n,()=>{const i=t[Symbol.asyncIterator]();dn(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function qn(t,n){return n?function Iu(t,n){if(null!=t){if(Le(t))return function xu(t,n){return Ke(t).pipe(to(n),Qo(n))}(t,n);if(Ne(t))return function qa(t,n){return new Z(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(je(t))return function Xo(t,n){return Ke(t).pipe(to(n),Qo(n))}(t,n);if(Be(t))return Wa(t,n);if(et(t))return function Au(t,n){return new Z(e=>{let i;return dn(e,n,()=>{i=t[qe](),dn(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>p(null==i?void 0:i.return)&&i.return()})}(t,n);if(_t(t))return function Mu(t,n){return Wa(dt(t),n)}(t,n)}throw Ge(t)}(t,n):Ke(t)}function kr(...t){const n=wi(t),e=function Do(t,n){return"number"==typeof gn(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Ke(i[0]):xn(e)(qn(i,n)):Tn}function za(t={}){const{connector:n=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,d,T=0,R=!1,ee=!1;const se=()=>{null==a||a.unsubscribe(),a=void 0},me=()=>{se(),s=d=void 0,R=ee=!1},Te=()=>{const Ae=s;me(),null==Ae||Ae.unsubscribe()};return le((Ae,Re)=>{T++,!ee&&!R&&se();const Fe=d=null!=d?d:n();Re.add(()=>{T--,0===T&&!ee&&!R&&(a=Oo(Te,r))}),Fe.subscribe(Re),!s&&T>0&&(s=new k({next:Ie=>Fe.next(Ie),error:Ie=>{ee=!0,se(),a=Oo(me,e,Ie),Fe.error(Ie)},complete:()=>{R=!0,se(),a=Oo(me,i),Fe.complete()}}),Ke(Ae).subscribe(s))})(o)}}function Oo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new k({next:()=>{i.unsubscribe(),t()}});return n(...e).subscribe(i)}function ln(t){for(let n in t)if(t[n]===ln)return n;throw Error("Could not find renamed property on target object.")}function Ya(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Qt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ks(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const es=ln({__forward_ref__:ln});function ut(t){return t.__forward_ref__=ut,t.toString=function(){return Qt(this())},t}function yt(t){return Li(t)?t():t}function Li(t){return"function"==typeof t&&t.hasOwnProperty(es)&&t.__forward_ref__===ut}class Tt extends Error{constructor(n,e){super(function _r(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function St(t){return"string"==typeof t?t:null==t?"":String(t)}function jn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():St(t)}function Pu(t,n){const e=n?` in ${n}`:"";throw new Tt(-201,`No provider for ${jn(t)} found${e}`)}function Ui(t,n){null==t&&function un(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function ap(t){return Lm(t,ku)||Lm(t,Um)}function Lm(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vm(t){return t&&(t.hasOwnProperty(lp)||t.hasOwnProperty(fS))?t[lp]:null}const ku=ln({\u0275prov:ln}),lp=ln({\u0275inj:ln}),Um=ln({ngInjectableDef:ln}),fS=ln({ngInjectorDef:ln});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let up;function No(t){const n=up;return up=t,n}function Hm(t,n,e){const i=ap(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&xt.Optional?null:void 0!==n?n:void Pu(Qt(t),"Injector")}function xo(t){return{toString:t}.toString()}var mr=(()=>((mr=mr||{})[mr.OnPush=0]="OnPush",mr[mr.Default=1]="Default",mr))(),Rr=(()=>{return(t=Rr||(Rr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Rr;var t})();const _S="undefined"!=typeof globalThis&&globalThis,mS="undefined"!=typeof window&&window,gS="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pn=_S||"undefined"!=typeof global&&global||mS||gS,Rs={},fn=[],Ru=ln({\u0275cmp:ln}),cp=ln({\u0275dir:ln}),dp=ln({\u0275pipe:ln}),Gm=ln({\u0275mod:ln}),io=ln({\u0275fac:ln}),Ka=ln({__NG_ELEMENT_ID__:ln});let yS=0;function Gt(t){return xo(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rr.Emulated,id:"c",styles:t.styles||fn,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,s=t.pipes;return i.id+=yS++,i.inputs=Ym(t.inputs,e),i.outputs=Ym(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(qm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wm):null,i})}function qm(t){return ai(t)||function Ao(t){return t[cp]||null}(t)}function Wm(t){return function ts(t){return t[dp]||null}(t)}const zm={};function qt(t){return xo(()=>{const n={type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(zm[t.id]=t.type),n})}function Ym(t,n){if(null==t)return Rs;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,n&&(n[r]=o)}return e}const Ze=Gt;function ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ai(t){return t[Ru]||null}function ir(t,n){const e=t[Gm]||null;if(!e&&!0===n)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return e}function Fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function yr(t){return Array.isArray(t)&&!0===t[1]}function hp(t){return 0!=(8&t.flags)}function Bu(t){return 2==(2&t.flags)}function Lu(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function TS(t){return 0!=(512&t[2])}function ss(t,n){return t.hasOwnProperty(io)?t[io]:null}class OS{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function $n(){return Zm}function Zm(t){return t.type.prototype.ngOnChanges&&(t.setInput=xS),NS}function NS(){const t=Qm(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===Rs)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function xS(t,n,e,i){const r=Qm(t)||function AS(t,n){return t[Jm]=n}(t,{previous:Rs,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],d=s[a];o[a]=new OS(d&&d.currentValue,n,s===Rs),t[i]=n}$n.ngInherit=!0;const Jm="__ngSimpleChanges__";function Qm(t){return t[Jm]||null}let vp;function Mn(t){return!!t.listen}const Xm={createRenderer:(t,n)=>function bp(){return void 0!==vp?vp:"undefined"!=typeof document?document:void 0}()};function Bn(t){for(;Array.isArray(t);)t=t[0];return t}function Vu(t,n){return Bn(n[t])}function Gi(t,n){return Bn(n[t.index])}function wp(t,n){return t.data[n]}function qi(t,n){const e=n[t];return Fr(e)?e:e[0]}function eg(t){return 4==(4&t[2])}function Cp(t){return 128==(128&t[2])}function Mo(t,n){return null==n?null:t[n]}function tg(t){t[18]=0}function Ep(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const Mt={lFrame:cg(null),bindingsEnabled:!0};function ig(){return Mt.bindingsEnabled}function He(){return Mt.lFrame.lView}function Yt(){return Mt.lFrame.tView}function ye(t){return Mt.lFrame.contextLView=t,t[8]}function Wn(){let t=rg();for(;null!==t&&64===t.type;)t=t.parent;return t}function rg(){return Mt.lFrame.currentTNode}function jr(t,n){const e=Mt.lFrame;e.currentTNode=t,e.isParent=n}function Tp(){return Mt.lFrame.isParent}function Sp(){Mt.lFrame.isParent=!1}function Ei(){const t=Mt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ro(){return Mt.lFrame.bindingIndex}function Vs(){return Mt.lFrame.bindingIndex++}function oo(t){const n=Mt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function zS(t,n){const e=Mt.lFrame;e.bindingIndex=e.bindingRootIndex=t,Dp(n)}function Dp(t){Mt.lFrame.currentDirectiveIndex=t}function ag(){return Mt.lFrame.currentQueryIndex}function Np(t){Mt.lFrame.currentQueryIndex=t}function KS(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function lg(t,n,e){if(e&xt.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&xt.Host||(r=KS(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;n=r,t=o}const i=Mt.lFrame=ug();return i.currentTNode=n,i.lView=t,!0}function Hu(t){const n=ug(),e=t[1];Mt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function ug(){const t=Mt.lFrame,n=null===t?null:t.child;return null===n?cg(t):n}function cg(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function dg(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pg=dg;function Gu(){const t=dg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ti(){return Mt.lFrame.selectedIndex}function Io(t){Mt.lFrame.selectedIndex=t}function Sn(){const t=Mt.lFrame;return wp(t.tView,t.selectedIndex)}function qu(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:d,ngAfterViewChecked:T,ngOnDestroy:R}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),d&&(t.viewHooks||(t.viewHooks=[])).push(-e,d),T&&((t.viewHooks||(t.viewHooks=[])).push(e,T),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,T)),null!=R&&(t.destroyHooks||(t.destroyHooks=[])).push(e,R)}}function Wu(t,n,e){fg(t,n,3,e)}function zu(t,n,e,i){(3&t[2])===e&&fg(t,n,e,i)}function xp(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function fg(t,n,e,i){const o=null!=i?i:-1,s=n.length-1;let a=0;for(let d=void 0!==i?65535&t[18]:0;d<s;d++)if("number"==typeof n[d+1]){if(a=n[d],null!=i&&a>=i)break}else n[d]<0&&(t[18]+=65536),(a<o||-1==o)&&(rD(t,e,n,d),t[18]=(4294901760&t[18])+d+2),d++}function rD(t,n,e,i){const r=e[i]<0,o=e[i+1],a=t[r?-e[i]:e[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class el{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Yu(t,n,e){const i=Mn(t);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],d=e[r++];i?t.setAttribute(n,a,d,s):n.setAttributeNS(s,a,d)}else{const s=o,a=e[++r];Mp(s)?i&&t.setProperty(n,s,a):i?t.setAttribute(n,s,a):n.setAttribute(s,a),r++}}return r}function hg(t){return 3===t||4===t||6===t}function Mp(t){return 64===t.charCodeAt(0)}function Ku(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||_g(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function _g(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function mg(t){return-1!==t}function Us(t){return 32767&t}function Hs(t,n){let e=function uD(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Ip=!0;function Zu(t){const n=Ip;return Ip=t,n}let cD=0;function nl(t,n){const e=kp(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,Pp(i.data,t),Pp(n,null),Pp(i.blueprint,null));const r=Ju(t,n),o=t.injectorIndex;if(mg(r)){const s=Us(r),a=Hs(r,n),d=a[1].data;for(let T=0;T<8;T++)n[o+T]=a[s+T]|d[s+T]}return n[o+8]=r,o}function Pp(t,n){t.push(0,0,0,0,0,0,0,0,n)}function kp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ju(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Qu(t,n,e){!function dD(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ka)&&(i=e[Ka]),null==i&&(i=e[Ka]=cD++);const r=255&i;n.data[t+(r>>5)]|=1<<r}(t,n,e)}function vg(t,n,e){if(e&xt.Optional)return t;Pu(n,"NodeInjector")}function bg(t,n,e,i){if(e&xt.Optional&&void 0===i&&(i=null),0==(e&(xt.Self|xt.Host))){const r=t[9],o=No(void 0);try{return r?r.get(n,i,e&xt.Optional):Hm(n,i,e&xt.Optional)}finally{No(o)}}return vg(i,n,e)}function wg(t,n,e,i=xt.Default,r){if(null!==t){const o=function _D(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ka)?t[Ka]:void 0;return"number"==typeof n?n>=0?255&n:fD:n}(e);if("function"==typeof o){if(!lg(n,t,i))return i&xt.Host?vg(r,e,i):bg(n,e,i,r);try{const s=o(i);if(null!=s||i&xt.Optional)return s;Pu(e)}finally{pg()}}else if("number"==typeof o){let s=null,a=kp(t,n),d=-1,T=i&xt.Host?n[16][6]:null;for((-1===a||i&xt.SkipSelf)&&(d=-1===a?Ju(t,n):n[a+8],-1!==d&&Tg(i,!1)?(s=n[1],a=Us(d),n=Hs(d,n)):a=-1);-1!==a;){const R=n[1];if(Eg(o,a,R.data)){const ee=hD(a,n,e,s,i,T);if(ee!==Cg)return ee}d=n[a+8],-1!==d&&Tg(i,n[1].data[a+8]===T)&&Eg(o,a,n)?(s=R,a=Us(d),n=Hs(d,n)):a=-1}}}return bg(n,e,i,r)}const Cg={};function fD(){return new Gs(Wn(),He())}function hD(t,n,e,i,r,o){const s=n[1],a=s.data[t+8],R=Xu(a,s,e,null==i?Bu(a)&&Ip:i!=s&&0!=(3&a.type),r&xt.Host&&o===a);return null!==R?il(n,s,R,a):Cg}function Xu(t,n,e,i,r){const o=t.providerIndexes,s=n.data,a=1048575&o,d=t.directiveStart,R=o>>20,se=r?a+R:t.directiveEnd;for(let me=i?a:a+R;me<se;me++){const Te=s[me];if(me<d&&e===Te||me>=d&&Te.type===e)return me}if(r){const me=s[d];if(me&&vr(me)&&me.type===e)return d}return null}function il(t,n,e,i){let r=t[e];const o=n.data;if(function oD(t){return t instanceof el}(r)){const s=r;s.resolving&&function sp(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Tt(-200,`Circular dependency in DI detected for ${t}${e}`)}(jn(o[e]));const a=Zu(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?No(s.injectImpl):null;lg(t,i,xt.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function iD(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=Zm(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],n)}finally{null!==d&&No(d),Zu(a),s.resolving=!1,pg()}}return r}function Eg(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Tg(t,n){return!(t&xt.Self||t&xt.Host&&n)}class Gs{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return wg(this._tNode,this._lView,n,i,e)}}function hi(t){return xo(()=>{const n=t.prototype.constructor,e=n[io]||Rp(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[io]||Rp(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Rp(t){return Li(t)?()=>{const n=Rp(yt(t));return n&&n()}:ss(t)}function so(t){return function pD(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(hg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===n)return e[r+1];r+=2}}}return null}(Wn(),t)}const Ws="__parameters__";function Ys(t,n,e){return xo(()=>{const i=function Fp(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(d,T,R){const ee=d.hasOwnProperty(Ws)?d[Ws]:Object.defineProperty(d,Ws,{value:[]})[Ws];for(;ee.length<=R;)ee.push(null);return(ee[R]=ee[R]||[]).push(s),d}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gD=new kt("AnalyzeForEntryComponents");function sr(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),sr(i,n)):n!==t&&n.push(i)}return n}function $r(t,n){t.forEach(e=>Array.isArray(e)?$r(e,n):n(e))}function Dg(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function ec(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function sl(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Wi(t,n,e){let i=Ks(t,n);return i>=0?t[1|i]=e:(i=~i,function bD(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function $p(t,n){const e=Ks(t,n);if(e>=0)return t[1|e]}function Ks(t,n){return function xg(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const al={},Lp="__NG_DI_FLAG__",nc="ngTempTokenPath",OD=/\n/gm,Mg="__source",xD=ln({provide:String,useValue:ln});let ll;function Ig(t){const n=ll;return ll=t,n}function AD(t,n=xt.Default){if(void 0===ll)throw new Tt(203,"");return null===ll?Hm(t,void 0,n):ll.get(t,n&xt.Optional?null:void 0,n)}function Je(t,n=xt.Default){return(function hS(){return up}()||AD)(yt(t),n)}const MD=Je;function Vp(t){const n=[];for(let e=0;e<t.length;e++){const i=yt(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Tt(900,"");let r,o=xt.Default;for(let s=0;s<i.length;s++){const a=i[s],d=ID(a);"number"==typeof d?-1===d?r=a.token:o|=d:r=a}n.push(Je(r,o))}else n.push(Je(i))}return n}function ul(t,n){return t[Lp]=n,t.prototype[Lp]=n,t}function ID(t){return t[Lp]}const ic=ul(Ys("Inject",t=>({token:t})),-1),ko=ul(Ys("Optional"),8),cl=ul(Ys("SkipSelf"),4);var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();const Lg="__ngContext__";function _i(t,n){t[Lg]=n}function Gp(t){const n=function pl(t){return t[Lg]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Wp(t,n){return undefined(t,n)}function fl(t){const n=t[3];return yr(n)?n[3]:n}function zp(t){return zg(t[13])}function Yp(t){return zg(t[4])}function zg(t){for(;null!==t&&!yr(t);)t=t[4];return t}function Js(t,n,e,i,r){if(null!=i){let o,s=!1;yr(i)?o=i:Fr(i)&&(s=!0,i=i[0]);const a=Bn(i);0===t&&null!==e?null==r?Xg(n,e,a):as(n,e,a,r||null,!0):1===t&&null!==e?as(n,e,a,r||null,!0):2===t?function tf(t,n,e){const i=oc(t,n);i&&function uO(t,n,e,i){Mn(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=o&&function pO(t,n,e,i,r){const o=e[7];o!==Bn(e)&&Js(n,t,i,o,r);for(let a=10;a<e.length;a++){const d=e[a];hl(d[1],d,t,n,i,o)}}(n,t,o,e,r)}}function Zp(t,n,e){if(Mn(t))return t.createElement(n,e);{const i=null!==e?function kS(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?t.createElement(n):t.createElementNS(i,n)}}function Kg(t,n){const e=t[9],i=e.indexOf(n),r=n[3];1024&n[2]&&(n[2]&=-1025,Ep(r,-1)),e.splice(i,1)}function Jp(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const r=i[17];null!==r&&r!==t&&Kg(r,i),n>0&&(t[e-1][4]=i[4]);const o=ec(t,10+n);!function tO(t,n){hl(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Zg(t,n){if(!(256&n[2])){const e=n[11];Mn(e)&&e.destroyNode&&hl(t,n,e,3,null,null),function rO(t){let n=t[13];if(!n)return Qp(t[1],t);for(;n;){let e=null;if(Fr(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Fr(n)&&Qp(n[1],n),n=n[3];null===n&&(n=t),Fr(n)&&Qp(n[1],n),e=n&&n[4]}n=e}}(n)}}function Qp(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function lO(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof el)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],d=o[s+1];try{d.call(a)}finally{}}else try{o.call(r)}finally{}}}}(t,n),function aO(t,n){const e=t.cleanup,i=n[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(n):Bn(n[s]),d=i[r=e[o+2]],T=e[o+3];"boolean"==typeof T?a.removeEventListener(e[o],d,T):T>=0?i[r=T]():i[r=-T].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();n[7]=null}}(t,n),1===n[1].type&&Mn(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&yr(n[3])){e!==n[3]&&Kg(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function Jg(t,n,e){return function Qg(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Rr.None||r===Rr.Emulated)return null}return Gi(i,e)}(t,n.parent,e)}function as(t,n,e,i,r){Mn(t)?t.insertBefore(n,e,i,r):n.insertBefore(e,i,r)}function Xg(t,n,e){Mn(t)?t.appendChild(n,e):n.appendChild(e)}function ey(t,n,e,i,r){null!==i?as(t,n,e,i,r):Xg(t,n,e)}function oc(t,n){return Mn(t)?t.parentNode(n):n.parentNode}function ty(t,n,e){return iy(t,n,e)}let iy=function ny(t,n,e){return 40&t.type?Gi(t,e):null};function sc(t,n,e,i){const r=Jg(t,i,n),o=n[11],a=ty(i.parent||n[6],i,n);if(null!=r)if(Array.isArray(e))for(let d=0;d<e.length;d++)ey(o,r,e[d],a,!1);else ey(o,r,e,a,!1)}function ac(t,n){if(null!==n){const e=n.type;if(3&e)return Gi(n,t);if(4&e)return ef(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return ac(t,i);{const r=t[n.index];return yr(r)?ef(-1,r):Bn(r)}}if(32&e)return Wp(n,t)()||Bn(t[n.index]);{const i=oy(t,n);return null!==i?Array.isArray(i)?i[0]:ac(fl(t[16]),i):ac(t,n.next)}}return null}function oy(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ef(t,n){const e=10+t+1;if(e<n.length){const i=n[e],r=i[1].firstChild;if(null!==r)return ac(i,r)}return n[7]}function nf(t,n,e,i,r,o,s){for(;null!=e;){const a=i[e.index],d=e.type;if(s&&0===n&&(a&&_i(Bn(a),i),e.flags|=4),64!=(64&e.flags))if(8&d)nf(t,n,e.child,i,r,o,!1),Js(n,t,r,a,o);else if(32&d){const T=Wp(e,i);let R;for(;R=T();)Js(n,t,r,R,o);Js(n,t,r,a,o)}else 16&d?sy(t,n,i,e,r,o):Js(n,t,r,a,o);e=s?e.projectionNext:e.next}}function hl(t,n,e,i,r,o){nf(e,i,t.firstChild,n,r,o,!1)}function sy(t,n,e,i,r,o){const s=e[16],d=s[6].projection[i.projection];if(Array.isArray(d))for(let T=0;T<d.length;T++)Js(n,t,r,d[T],o);else nf(t,n,d,s[3],r,o,!0)}function ay(t,n,e){Mn(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function rf(t,n,e){Mn(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}class dy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ro(t){return t instanceof dy?t.changingThisBreaksApplicationSecurity:t}const DO=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,OO=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function pf(t){const n=function gl(){const t=He();return t&&t[12]}();return n?n.sanitize(Ln.URL,t)||"":function _l(t,n){const e=function CO(t){return t instanceof dy&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}(t,"URL")?Ro(t):function cc(t){return(t=String(t)).match(DO)||t.match(OO)?t:"unsafe:"+t}(St(t))}function hf(t){return t.ngOriginalError}function GO(t,...n){t.error(...n)}class yl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=function HO(t){return t&&t.ngErrorLogger||GO}(n);i(this._console,"ERROR",n),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&hf(n);for(;e&&hf(e);)e=hf(e);return e||null}}const JO=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pn))();function by(t){return t.ownerDocument.defaultView}function Lr(t){return t instanceof Function?t():t}function Cy(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}const Ey="ng-template";function eN(t,n,e){let i=0;for(;i<t.length;){let r=t[i++];if(e&&"class"===r){if(r=t[i],-1!==Cy(r.toLowerCase(),n,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===n)return!0;return!1}}return!1}function Ty(t){return 4===t.type&&t.value!==Ey}function tN(t,n,e){return n===(4!==t.type||e?t.value:Ey)}function nN(t,n,e){let i=4;const r=t.attrs||[],o=function oN(t){for(let n=0;n<t.length;n++)if(hg(t[n]))return n;return t.length}(r);let s=!1;for(let a=0;a<n.length;a++){const d=n[a];if("number"!=typeof d){if(!s)if(4&i){if(i=2|1&i,""!==d&&!tN(t,d,e)||""===d&&1===n.length){if(br(i))return!1;s=!0}}else{const T=8&i?d:n[++a];if(8&i&&null!==t.attrs){if(!eN(t.attrs,T,e)){if(br(i))return!1;s=!0}continue}const ee=iN(8&i?"class":d,r,Ty(t),e);if(-1===ee){if(br(i))return!1;s=!0;continue}if(""!==T){let se;se=ee>o?"":r[ee+1].toLowerCase();const me=8&i?se:null;if(me&&-1!==Cy(me,T,0)||2&i&&T!==se){if(br(i))return!1;s=!0}}}}else{if(!s&&!br(i)&&!br(d))return!1;if(s&&br(d))continue;s=!1,i=d|1&i}}return br(i)||s}function br(t){return 0==(1&t)}function iN(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function sN(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function Sy(t,n,e=!1){for(let i=0;i<n.length;i++)if(nN(t,n[i],e))return!0;return!1}function aN(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Dy(t,n){return t?":not("+n.trim()+")":n}function lN(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!br(s)&&(n+=Dy(o,r),r=""),i=s,o=o||!br(i);e++}return""!==r&&(n+=Dy(o,r)),n}const It={};function he(t){Oy(Yt(),He(),Ti()+t,!1)}function Oy(t,n,e,i){if(!i)if(3==(3&n[2])){const o=t.preOrderCheckHooks;null!==o&&Wu(n,o,e)}else{const o=t.preOrderHooks;null!==o&&zu(n,o,0,e)}Io(e)}function pc(t,n){return t<<17|n<<2}function wr(t){return t>>17&32767}function _f(t){return 2|t}function ao(t){return(131068&t)>>2}function mf(t,n){return-131069&t|n<<2}function gf(t){return 1|t}function $y(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=t.data[o];Np(r),s.contentQueries(2,n[o],o)}}}function vl(t,n,e,i,r,o,s,a,d,T){const R=n.blueprint.slice();return R[0]=r,R[2]=140|i,tg(R),R[3]=R[15]=t,R[8]=e,R[10]=s||t&&t[10],R[11]=a||t&&t[11],R[12]=d||t&&t[12]||null,R[9]=T||t&&t[9]||null,R[6]=o,R[16]=2==n.type?t[16]:R,R}function Xs(t,n,e,i,r){let o=t.data[n];if(null===o)o=function Df(t,n,e,i,r){const o=rg(),s=Tp(),d=t.data[n]=function DN(t,n,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=d),null!==o&&(s?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d)),d}(t,n,e,i,r),function WS(){return Mt.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Xa(){const t=Mt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jr(o,!0),o}function ea(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function bl(t,n,e){Hu(n);try{const i=t.viewQuery;null!==i&&Rf(1,i,e);const r=t.template;null!==r&&By(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$y(t,n),t.staticViewQueries&&Rf(2,t.viewQuery,e);const o=t.components;null!==o&&function EN(t,n){for(let e=0;e<n.length;e++)GN(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,Gu()}}function ta(t,n,e,i){const r=n[2];if(256!=(256&r)){Hu(n);try{tg(n),function og(t){return Mt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&By(t,n,e,2,i);const s=3==(3&r);if(s){const T=t.preOrderCheckHooks;null!==T&&Wu(n,T,null)}else{const T=t.preOrderHooks;null!==T&&zu(n,T,0,null),xp(n,0)}if(function UN(t){for(let n=zp(t);null!==n;n=Yp(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Ep(o,1),r[2]|=1024}}}(n),function VN(t){for(let n=zp(t);null!==n;n=Yp(n))for(let e=10;e<n.length;e++){const i=n[e],r=i[1];Cp(i)&&ta(r,i,r.template,i[8])}}(n),null!==t.contentQueries&&$y(t,n),s){const T=t.contentCheckHooks;null!==T&&Wu(n,T)}else{const T=t.contentHooks;null!==T&&zu(n,T,1),xp(n,1)}!function wN(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Io(~r);else{const o=r,s=e[++i],a=e[++i];zS(s,o),a(2,n[o])}}}finally{Io(-1)}}(t,n);const a=t.components;null!==a&&function CN(t,n){for(let e=0;e<n.length;e++)HN(t,n[e])}(n,a);const d=t.viewQuery;if(null!==d&&Rf(2,d,i),s){const T=t.viewCheckHooks;null!==T&&Wu(n,T)}else{const T=t.viewHooks;null!==T&&zu(n,T,2),xp(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,Ep(n[3],-1))}finally{Gu()}}}function TN(t,n,e,i){const r=n[10],s=eg(n);try{!s&&r.begin&&r.begin(),s&&bl(t,n,i),ta(t,n,e,i)}finally{!s&&r.end&&r.end()}}function By(t,n,e,i,r){const o=Ti(),s=2&i;try{Io(-1),s&&n.length>20&&Oy(t,n,20,!1),e(i,r)}finally{Io(o)}}function Ly(t,n,e){if(hp(n)){const r=n.directiveEnd;for(let o=n.directiveStart;o<r;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Of(t,n,e){!ig()||(function PN(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;t.firstCreatePass||nl(e,n),_i(i,n);const s=e.initialInputs;for(let a=r;a<o;a++){const d=t.data[a],T=vr(d);T&&$N(n,e,d);const R=il(n,t,a,e);_i(R,n),null!==s&&BN(0,a-r,R,d,0,s),T&&(qi(e.index,n)[8]=R)}}(t,n,e,Gi(e,n)),128==(128&e.flags)&&function kN(t,n,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function YS(){return Mt.lFrame.currentDirectiveIndex}();try{Io(s);for(let d=i;d<r;d++){const T=t.data[d],R=n[d];Dp(d),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Yy(T,R)}}finally{Io(-1),Dp(a)}}(t,n,e))}function Nf(t,n,e=Gi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(n,t):t[s];t[r++]=a}}}function Vy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=_c(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function _c(t,n,e,i,r,o,s,a,d,T){const R=20+i,ee=R+r,se=function SN(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:It);return e}(R,ee),me="function"==typeof T?T():T;return se[1]={type:t,blueprint:se,template:e,queries:null,viewQuery:a,declTNode:n,data:se.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:d,consts:me,incompleteFirstPass:!1}}function Gy(t,n,e,i){const r=ev(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&tv(t).push(i,r.length-1))}function qy(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,r):e[i]=[n,r]}return e}function Yi(t,n,e,i,r,o,s,a){const d=Gi(n,e);let R,T=n.inputs;!a&&null!=T&&(R=T[i])?(rv(t,e,R,i,r),Bu(n)&&function xN(t,n){const e=qi(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function NN(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,Mn(o)?o.setProperty(d,i,r):Mp(i)||(d.setProperty?d.setProperty(i,r):d[i]=r))}function xf(t,n,e,i){let r=!1;if(ig()){const o=function RN(t,n,e){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Sy(e,s.selectors,!1)&&(r||(r=[]),Qu(nl(e,n),t,s.type),vr(s)?(Ky(t,e),r.unshift(s)):r.push(s))}return r}(t,n,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Zy(e,t.data.length,o.length);for(let R=0;R<o.length;R++){const ee=o[R];ee.providersResolver&&ee.providersResolver(ee)}let a=!1,d=!1,T=ea(t,n,o.length,null);for(let R=0;R<o.length;R++){const ee=o[R];e.mergedAttrs=Ku(e.mergedAttrs,ee.hostAttrs),Jy(t,e,n,T,ee),jN(T,ee,s),null!==ee.contentQueries&&(e.flags|=8),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(e.flags|=128);const se=ee.type.prototype;!a&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!d&&(se.ngOnChanges||se.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),d=!0),T++}!function ON(t,n){const i=n.directiveEnd,r=t.data,o=n.attrs,s=[];let a=null,d=null;for(let T=n.directiveStart;T<i;T++){const R=r[T],ee=R.inputs,se=null===o||Ty(n)?null:LN(ee,o);s.push(se),a=qy(ee,T,a),d=qy(R.outputs,T,d)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=d}(t,e)}s&&function FN(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new Tt(-301,!1);i.push(n[r],o)}}}(e,i,s)}return e.mergedAttrs=Ku(e.mergedAttrs,e.attrs),r}function zy(t,n,e,i,r,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const d=~n.index;(function IN(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=d&&a.push(d),a.push(i,r,s)}}function Yy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ky(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function jN(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;vr(n)&&(e[""]=t)}}function Zy(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Jy(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=ss(r.type)),s=new el(o,vr(r),null);t.blueprint[i]=s,e[i]=s,zy(t,n,0,i,ea(t,e,r.hostVars,It),r)}function $N(t,n,e){const i=Gi(n,t),r=Vy(e),o=t[10],s=mc(t,vl(t,r,null,e.onPush?64:16,i,n,o,o.createRenderer(i,e),null,null));t[n.index]=s}function Vr(t,n,e,i,r,o){const s=Gi(t,n);!function Af(t,n,e,i,r,o,s){if(null==o)Mn(t)?t.removeAttribute(n,r,e):n.removeAttribute(r);else{const a=null==s?St(o):s(o,i||"",r);Mn(t)?t.setAttribute(n,r,a,e):e?n.setAttributeNS(e,r,a):n.setAttribute(r,a)}}(n[11],s,o,t.value,e,i,r)}function BN(t,n,e,i,r,o){const s=o[n];if(null!==s){const a=i.setInput;for(let d=0;d<s.length;){const T=s[d++],R=s[d++],ee=s[d++];null!==a?i.setInput(e,ee,T,R):e[R]=ee}}}function LN(t,n){let e=null,i=0;for(;i<n.length;){const r=n[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,t[r],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Qy(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function HN(t,n){const e=qi(n,t);if(Cp(e)){const i=e[1];80&e[2]?ta(i,e,i.template,e[8]):e[5]>0&&Mf(e)}}function Mf(t){for(let i=zp(t);null!==i;i=Yp(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];ta(s,o,s.template,o[8])}else o[5]>0&&Mf(o)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=qi(e[i],t);Cp(r)&&r[5]>0&&Mf(r)}}function GN(t,n){const e=qi(n,t),i=e[1];(function qN(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),bl(i,e,e[8])}function mc(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function If(t){for(;t;){t[2]|=64;const n=fl(t);if(TS(t)&&!n)return t;t=n}return null}function Xy(t){!function Pf(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=Gp(e),r=i[1];TN(r,i,r.template,e)}}(t[8])}function Rf(t,n,e){Np(0),n(t,e)}const zN=(()=>Promise.resolve(null))();function ev(t){return t[7]||(t[7]=[])}function tv(t){return t.cleanup||(t.cleanup=[])}function iv(t,n){const e=t[9],i=e?e.get(yl,null):null;i&&i.handleError(n)}function rv(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],d=n[s],T=t.data[s];null!==T.setInput?T.setInput(d,r,i,a):d[a]=r}}function lo(t,n,e){const i=Vu(n,t);!function Yg(t,n,e){Mn(t)?t.setValue(n,e):n.textContent=e}(t[11],i,e)}function gc(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?r=ks(r,a):2==o&&(i=ks(i,a+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}const Ff=new kt("INJECTOR",-1);class ov{get(n,e=al){if(e===al){const i=new Error(`NullInjectorError: No provider for ${Qt(n)}!`);throw i.name="NullInjectorError",i}return e}}const jf=new kt("Set Injector scope."),wl={},ZN={};let $f;function sv(){return void 0===$f&&($f=new ov),$f}function av(t,n=null,e=null,i){const r=lv(t,n,e,i);return r._resolveInjectorDefTypes(),r}function lv(t,n=null,e=null,i){return new JN(t,e,n||sv(),i)}class JN{constructor(n,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&$r(e,a=>this.processProvider(a,n,e)),$r([n],a=>this.processInjectorType(a,[],o)),this.records.set(Ff,na(void 0,this));const s=this.records.get(jf);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof n?null:Qt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=al,i=xt.Default){this.assertNotDestroyed();const r=Ig(this),o=No(void 0);try{if(!(i&xt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const d=function s2(t){return"function"==typeof t||"object"==typeof t&&t instanceof kt}(n)&&ap(n);a=d&&this.injectableDefInScope(d)?na(Bf(n),wl):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&xt.Self?sv():this.parent).get(n,e=i&xt.Optional&&e===al?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[nc]=s[nc]||[]).unshift(Qt(n)),r)throw s;return function PD(t,n,e,i){const r=t[nc];throw n[Mg]&&r.unshift(n[Mg]),t.message=function kD(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=Qt(n);if(Array.isArray(n))r=n.map(Qt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Qt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(OD,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[nc]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{No(o),Ig(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,r)=>n.push(Qt(r))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Tt(205,!1)}processInjectorType(n,e,i){if(!(n=yt(n)))return!1;let r=Vm(n);const o=null==r&&n.ngModule||void 0,s=void 0===o?n:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Vm(o)),null==r)return!1;if(null!=r.imports&&!a){let R;i.push(s);try{$r(r.imports,ee=>{this.processInjectorType(ee,e,i)&&(void 0===R&&(R=[]),R.push(ee))})}finally{}if(void 0!==R)for(let ee=0;ee<R.length;ee++){const{ngModule:se,providers:me}=R[ee];$r(me,Te=>this.processProvider(Te,se,me||fn))}}this.injectorDefTypes.add(s);const d=ss(s)||(()=>new s);this.records.set(s,na(d,wl));const T=r.providers;if(null!=T&&!a){const R=n;$r(T,ee=>this.processProvider(ee,R,T))}return void 0!==o&&void 0!==n.providers}processProvider(n,e,i){let r=ia(n=yt(n))?n:yt(n&&n.provide);const o=function XN(t,n,e){return cv(t)?na(void 0,t.useValue):na(uv(t),wl)}(n);if(ia(n)||!0!==n.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=na(void 0,wl,!0),s.factory=()=>Vp(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,o)}hydrate(n,e){return e.value===wl&&(e.value=ZN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function o2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=yt(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Bf(t){const n=ap(t),e=null!==n?n.factory:ss(t);if(null!==e)return e;if(t instanceof kt)throw new Tt(204,!1);if(t instanceof Function)return function QN(t){const n=t.length;if(n>0)throw sl(n,"?"),new Tt(204,!1);const e=function dS(t){const n=t&&(t[ku]||t[Um]);if(n){const e=function pS(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Tt(204,!1)}function uv(t,n,e){let i;if(ia(t)){const r=yt(t);return ss(r)||Bf(r)}if(cv(t))i=()=>yt(t.useValue);else if(function t2(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Vp(t.deps||[]));else if(function e2(t){return!(!t||!t.useExisting)}(t))i=()=>Je(yt(t.useExisting));else{const r=yt(t&&(t.useClass||t.provide));if(!function r2(t){return!!t.deps}(t))return ss(r)||Bf(r);i=()=>new r(...Vp(t.deps))}return i}function na(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function cv(t){return null!==t&&"object"==typeof t&&xD in t}function ia(t){return"function"==typeof t}let Yn=(()=>{class t{static create(e,i){var r;if(Array.isArray(e))return av({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return av({name:o},e.parent,e.providers,o)}}}return t.THROW_IF_NOT_FOUND=al,t.NULL=new ov,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>Je(Ff)}),t.__NG_ELEMENT_ID__=-1,t})();function h2(t,n){qu(Gp(t)[1],Wn())}function an(t){let n=function Cv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(vr(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Tt(903,"");r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=Uf(t.inputs),s.declaredInputs=Uf(t.declaredInputs),s.outputs=Uf(t.outputs);const a=r.hostBindings;a&&y2(t,a);const d=r.viewQuery,T=r.contentQueries;if(d&&m2(t,d),T&&g2(t,T),Ya(t.inputs,r.inputs),Ya(t.declaredInputs,r.declaredInputs),Ya(t.outputs,r.outputs),vr(r)&&r.data.animation){const R=t.data;R.animation=(R.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===an&&(e=!1)}}n=Object.getPrototypeOf(n)}!function _2(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Ku(r.hostAttrs,e=Ku(e,r.hostAttrs))}}(i)}function Uf(t){return t===Rs?{}:t===fn?[]:t}function m2(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function g2(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function y2(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}let yc=null;function ra(){if(!yc){const t=pn.Symbol;if(t&&t.iterator)yc=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(yc=i)}}}return yc}function Cl(t){return!!Hf(t)&&(Array.isArray(t)||!(t instanceof Map)&&ra()in t)}function Hf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ur(t,n,e){return t[n]=e}function mi(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function us(t,n,e,i){const r=mi(t,n,e);return mi(t,n+1,i)||r}function vc(t,n,e,i,r){const o=us(t,n,e,i);return mi(t,n+2,r)||o}function sn(t,n,e,i){const r=He();return mi(r,Vs(),n)&&(Yt(),Vr(Sn(),r,t,n,e,i)),sn}function sa(t,n,e,i){return mi(t,Vs(),e)?n+St(e)+i:It}function Oe(t,n,e,i,r,o,s,a){const d=He(),T=Yt(),R=t+20,ee=T.firstCreatePass?function S2(t,n,e,i,r,o,s,a,d){const T=n.consts,R=Xs(n,t,4,s||null,Mo(T,a));xf(n,e,R,Mo(T,d)),qu(n,R);const ee=R.tViews=_c(2,R,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,T);return null!==n.queries&&(n.queries.template(n,R),ee.queries=n.queries.embeddedTView(R)),R}(R,T,d,n,e,i,r,o,s):T.data[R];jr(ee,!1);const se=d[11].createComment("");sc(T,d,se,ee),_i(se,d),mc(d,d[R]=Qy(se,d,se,ee)),Lu(ee)&&Of(T,d,ee),null!=s&&Nf(d,ee,a)}function We(t){return function Ls(t,n){return t[n]}(function qS(){return Mt.lFrame.contextLView}(),20+t)}function be(t,n=xt.Default){const e=He();return null===e?Je(t,n):wg(Wn(),e,yt(t),n)}function Yf(){throw new Error("invalid")}function Ce(t,n,e){const i=He();return mi(i,Vs(),n)&&Yi(Yt(),Sn(),i,t,n,i[11],e,!1),Ce}function Kf(t,n,e,i,r){const s=r?"class":"style";rv(t,e,n.inputs[s],s,i)}function b(t,n,e,i){const r=He(),o=Yt(),s=20+t,a=r[11],d=r[s]=Zp(a,n,function nD(){return Mt.lFrame.currentNamespace}()),T=o.firstCreatePass?function W2(t,n,e,i,r,o,s){const a=n.consts,T=Xs(n,t,2,r,Mo(a,o));return xf(n,e,T,Mo(a,s)),null!==T.attrs&&gc(T,T.attrs,!1),null!==T.mergedAttrs&&gc(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(s,o,r,0,n,e,i):o.data[s];jr(T,!0);const R=T.mergedAttrs;null!==R&&Yu(a,d,R);const ee=T.classes;null!==ee&&rf(a,d,ee);const se=T.styles;return null!==se&&ay(a,d,se),64!=(64&T.flags)&&sc(o,r,d,T),0===function LS(){return Mt.lFrame.elementDepthCount}()&&_i(d,r),function VS(){Mt.lFrame.elementDepthCount++}(),Lu(T)&&(Of(o,r,T),Ly(o,T,r)),null!==i&&Nf(r,T),b}function E(){let t=Wn();Tp()?Sp():(t=t.parent,jr(t,!1));const n=t;!function US(){Mt.lFrame.elementDepthCount--}();const e=Yt();return e.firstCreatePass&&(qu(e,t),hp(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function aD(t){return 0!=(16&t.flags)}(n)&&Kf(e,n,He(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function lD(t){return 0!=(32&t.flags)}(n)&&Kf(e,n,He(),n.stylesWithoutHost,!1),E}function Pe(t,n,e,i){return b(t,n,e,i),E(),Pe}function uo(t,n,e){const i=He(),r=Yt(),o=t+20,s=r.firstCreatePass?function z2(t,n,e,i,r){const o=n.consts,s=Mo(o,i),a=Xs(n,t,8,"ng-container",s);return null!==s&&gc(a,s,!0),xf(n,e,a,Mo(o,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,r,i,n,e):r.data[o];jr(s,!0);const a=i[o]=i[11].createComment("");return sc(r,i,a,s),_i(a,i),Lu(s)&&(Of(r,i,s),Ly(r,s,i)),null!=e&&Nf(i,s),uo}function co(){let t=Wn();const n=Yt();return Tp()?Sp():(t=t.parent,jr(t,!1)),n.firstCreatePass&&(qu(n,t),hp(t)&&n.queries.elementEnd(t)),co}function wc(t,n,e){return uo(t,n,e),co(),wc}function ze(){return He()}function Tl(t){return!!t&&"function"==typeof t.then}const Zf=function Uv(t){return!!t&&"function"==typeof t.subscribe};function _e(t,n,e,i){const r=He(),o=Yt(),s=Wn();return function Gv(t,n,e,i,r,o,s,a){const d=Lu(i),R=t.firstCreatePass&&tv(t),ee=n[8],se=ev(n);let me=!0;if(3&i.type||a){const Re=Gi(i,n),Fe=a?a(Re):Re,Ie=se.length,Ye=a?Xe=>a(Bn(Xe[i.index])):i.index;if(Mn(e)){let Xe=null;if(!a&&d&&(Xe=function Y2(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=n[7],d=r[o+2];return a.length>d?a[d]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==Xe)(Xe.__ngLastListenerFn__||Xe).__ngNextListenerFn__=o,Xe.__ngLastListenerFn__=o,me=!1;else{o=Jf(i,n,ee,o,!1);const ct=e.listen(Fe,r,o);se.push(o,ct),R&&R.push(r,Ye,Ie,Ie+1)}}else o=Jf(i,n,ee,o,!0),Fe.addEventListener(r,o,s),se.push(o),R&&R.push(r,Ye,Ie,s)}else o=Jf(i,n,ee,o,!1);const Te=i.outputs;let Ae;if(me&&null!==Te&&(Ae=Te[r])){const Re=Ae.length;if(Re)for(let Fe=0;Fe<Re;Fe+=2){const Dt=n[Ae[Fe]][Ae[Fe+1]].subscribe(o),Jt=se.length;se.push(o,Dt),R&&R.push(r,i.index,Jt,-(Jt+1))}}}(o,r,r[11],s,t,n,!!e,i),_e}function qv(t,n,e,i){try{return!1!==e(i)}catch(r){return iv(t,r),!1}}function Jf(t,n,e,i,r){return function o(s){if(s===Function)return i;const a=2&t.flags?qi(t.index,n):n;0==(32&n[2])&&If(a);let d=qv(n,0,i,s),T=o.__ngNextListenerFn__;for(;T;)d=qv(n,0,T,s)&&d,T=T.__ngNextListenerFn__;return r&&!1===d&&(s.preventDefault(),s.returnValue=!1),d}}function fe(t=1){return function ZS(t){return(Mt.lFrame.contextLView=function JS(t,n){for(;t>0;)n=n[15],t--;return n}(t,Mt.lFrame.contextLView))[8]}(t)}function K2(t,n){let e=null;const i=function rN(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?Sy(t,o,!0):aN(i,o))return r}else e=r}return e}function Sl(t){const n=He()[16][6];if(!n.projection){const i=n.projection=sl(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=t?K2(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Dl(t,n=0,e){const i=He(),r=Yt(),o=Xs(r,20+t,16,null,e||null);null===o.projection&&(o.projection=n),Sp(),64!=(64&o.flags)&&function dO(t,n,e){sy(n[11],0,n,e,Jg(t,e,n),ty(e.parent||n[6],e,n))}(r,i,o)}function nt(t,n,e){return _a(t,"",n,"",e),nt}function _a(t,n,e,i,r){const o=He(),s=sa(o,n,e,i);return s!==It&&Yi(Yt(),Sn(),o,t,s,o[11],r,!1),_a}function e0(t,n,e,i,r){const o=t[e+1],s=null===n;let a=i?wr(o):ao(o),d=!1;for(;0!==a&&(!1===d||s);){const R=t[a+1];Q2(t[a],n)&&(d=!0,t[a+1]=i?gf(R):_f(R)),a=i?wr(R):ao(R)}d&&(t[e+1]=i?_f(o):gf(o))}function Q2(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ks(t,n)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t0(t){return t.substring(Kn.key,Kn.keyEnd)}function n0(t,n){const e=Kn.textEnd;return e===n?-1:(n=Kn.keyEnd=function nx(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Kn.key=n,e),ma(t,n,e))}function ma(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Ki(t,n,e){return Er(t,n,e,!1),Ki}function nn(t,n){return Er(t,n,null,!0),nn}function $o(t){!function Tr(t,n,e,i){const r=Yt(),o=oo(2);r.firstUpdatePass&&u0(r,null,o,i);const s=He();if(e!==It&&mi(s,o,e)){const a=r.data[Ti()];if(f0(a,i)&&!l0(r,o)){let d=i?a.classesWithoutHost:a.stylesWithoutHost;null!==d&&(e=ks(d,e||"")),Kf(r,a,s,e,i)}else!function dx(t,n,e,i,r,o,s,a){r===It&&(r=fn);let d=0,T=0,R=0<r.length?r[0]:null,ee=0<o.length?o[0]:null;for(;null!==R||null!==ee;){const se=d<r.length?r[d+1]:void 0,me=T<o.length?o[T+1]:void 0;let Ae,Te=null;R===ee?(d+=2,T+=2,se!==me&&(Te=ee,Ae=me)):null===ee||null!==R&&R<ee?(d+=2,Te=R):(T+=2,Te=ee,Ae=me),null!==Te&&d0(t,n,e,i,Te,Ae,s,a),R=d<r.length?r[d]:null,ee=T<o.length?o[T]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function cx(t,n,e){if(null==e||""===e)return fn;const i=[],r=Ro(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}(Wi,Gr,t,!0)}function Gr(t,n){for(let e=function ex(t){return function o0(t){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=t.length}(t),n0(t,ma(t,0,Kn.textEnd))}(n);e>=0;e=n0(n,e))Wi(t,t0(n),!0)}function Er(t,n,e,i){const r=He(),o=Yt(),s=oo(2);o.firstUpdatePass&&u0(o,t,s,i),n!==It&&mi(r,s,n)&&d0(o,o.data[Ti()],r,r[11],t,r[s+1]=function px(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Qt(Ro(t)))),t}(n,e),i,s)}function l0(t,n){return n>=t.expandoStartIndex}function u0(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[Ti()],s=l0(t,e);f0(o,i)&&null===n&&!s&&(n=!1),n=function sx(t,n,e,i){const r=function Op(t){const n=Mt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=Ol(e=Qf(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=Qf(r,t,n,e,i),null===o){let d=function ax(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ao(i))return t[wr(i)]}(t,n,i);void 0!==d&&Array.isArray(d)&&(d=Qf(null,t,n,d[1],i),d=Ol(d,n.attrs,i),function lx(t,n,e,i){t[wr(e?n.classBindings:n.styleBindings)]=i}(t,n,i,d))}else o=function ux(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Ol(i,t[o].hostAttrs,e);return Ol(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function Z2(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=wr(s),d=ao(s);t[i]=e;let R,T=!1;if(Array.isArray(e)){const ee=e;R=ee[1],(null===R||Ks(ee,R)>0)&&(T=!0)}else R=e;if(r)if(0!==d){const se=wr(t[a+1]);t[i+1]=pc(se,a),0!==se&&(t[se+1]=mf(t[se+1],i)),t[a+1]=function dN(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=pc(a,0),0!==a&&(t[a+1]=mf(t[a+1],i)),a=i;else t[i+1]=pc(d,0),0===a?a=i:t[d+1]=mf(t[d+1],i),d=i;T&&(t[i+1]=_f(t[i+1])),e0(t,R,i,!0),e0(t,R,i,!1),function J2(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&Ks(o,n)>=0&&(e[i+1]=gf(e[i+1]))}(n,R,t,i,o),s=pc(a,d),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function Qf(t,n,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],i=Ol(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function Ol(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wi(t,s,!!e||n[++o]))}return void 0===t?null:t}function d0(t,n,e,i,r,o,s,a){if(!(3&n.type))return;const d=t.data,T=d[a+1];Cc(function Ay(t){return 1==(1&t)}(T)?p0(d,n,e,r,ao(T),s):void 0)||(Cc(o)||function xy(t){return 2==(2&t)}(T)&&(o=p0(d,null,e,r,a,s)),function fO(t,n,e,i,r){const o=Mn(t);if(n)r?o?t.addClass(e,i):e.classList.add(i):o?t.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:zi.DashCase;if(null==r)o?t.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=zi.Important),o?t.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Vu(Ti(),e),r,o))}function p0(t,n,e,i,r,o){const s=null===n;let a;for(;r>0;){const d=t[r],T=Array.isArray(d),R=T?d[1]:d,ee=null===R;let se=e[r+1];se===It&&(se=ee?fn:void 0);let me=ee?$p(se,i):R===i?se:void 0;if(T&&!Cc(me)&&(me=$p(d,i)),Cc(me)&&(a=me,s))return a;const Te=t[r+1];r=s?wr(Te):ao(Te)}if(null!==n){let d=o?n.residualClasses:n.residualStyles;null!=d&&(a=$p(d,i))}return a}function Cc(t){return void 0!==t}function f0(t,n){return 0!=(t.flags&(n?16:32))}function Y(t,n=""){const e=He(),i=Yt(),r=t+20,o=i.firstCreatePass?Xs(i,r,1,n,null):i.data[r],s=e[r]=function Kp(t,n){return Mn(t)?t.createText(n):t.createTextNode(n)}(e[11],n);sc(i,e,s,o),jr(o,!1)}function vt(t){return Kt("",t,""),vt}function Kt(t,n,e){const i=He(),r=sa(i,t,n,e);return r!==It&&lo(i,Ti(),r),Kt}function ga(t,n,e,i,r){const o=He(),s=function aa(t,n,e,i,r,o){const a=us(t,ro(),e,r);return oo(2),a?n+St(e)+i+St(r)+o:It}(o,t,n,e,i,r);return s!==It&&lo(o,Ti(),s),ga}function Xf(t,n,e,i,r,o,s){const a=He(),d=function la(t,n,e,i,r,o,s,a){const T=vc(t,ro(),e,r,s);return oo(3),T?n+St(e)+i+St(r)+o+St(s)+a:It}(a,t,n,e,i,r,o,s);return d!==It&&lo(a,Ti(),d),Xf}function po(t,n,e){const i=He();return mi(i,Vs(),n)&&Yi(Yt(),Sn(),i,t,n,i[11],e,!0),po}const cs=void 0;var Ix=["en",[["a","p"],["AM","PM"],cs],[["AM","PM"],cs,cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cs,"{1} 'at' {0}",cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mx(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ya={};function Di(t){const n=function Px(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=M0(n);if(e)return e;const i=n.split("-")[0];if(e=M0(i),e)return e;if("en"===i)return Ix;throw new Error(`Missing locale data for the locale "${t}".`)}function M0(t){return t in ya||(ya[t]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[t]),ya[t]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const Ec="en-US";let I0=Ec;function ih(t,n,e,i,r){if(t=yt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ih(t[o],n,e,i,r);else{const o=Yt(),s=He();let a=ia(t)?t:yt(t.provide),d=uv(t);const T=Wn(),R=1048575&T.providerIndexes,ee=T.directiveStart,se=T.providerIndexes>>20;if(ia(t)||!t.multi){const me=new el(d,r,be),Te=oh(a,n,r?R:R+se,ee);-1===Te?(Qu(nl(T,s),o,a),rh(o,t,n.length),n.push(a),T.directiveStart++,T.directiveEnd++,r&&(T.providerIndexes+=1048576),e.push(me),s.push(me)):(e[Te]=me,s[Te]=me)}else{const me=oh(a,n,R+se,ee),Te=oh(a,n,R,R+se),Ae=me>=0&&e[me],Re=Te>=0&&e[Te];if(r&&!Re||!r&&!Ae){Qu(nl(T,s),o,a);const Fe=function xA(t,n,e,i,r){const o=new el(t,e,be);return o.multi=[],o.index=n,o.componentProviders=0,n1(o,r,i&&!e),o}(r?NA:OA,e.length,r,i,d);!r&&Re&&(e[Te].providerFactory=Fe),rh(o,t,n.length,0),n.push(a),T.directiveStart++,T.directiveEnd++,r&&(T.providerIndexes+=1048576),e.push(Fe),s.push(Fe)}else rh(o,t,me>-1?me:Te,n1(e[r?Te:me],d,!r&&i));!r&&i&&Re&&e[Te].componentProviders++}}}function rh(t,n,e,i){const r=ia(n),o=function n2(t){return!!t.useClass}(n);if(r||o){const d=(o?yt(n.useClass):n).prototype.ngOnDestroy;if(d){const T=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const R=T.indexOf(e);-1===R?T.push(e,[i,d]):T[R+1].push(i,d)}else T.push(e,d)}}}function n1(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function oh(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function OA(t,n,e,i){return ah(this.multi,[])}function NA(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=il(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),ah(r,o);for(let d=s;d<a.length;d++)o.push(a[d])}else o=[],ah(r,o);return o}function ah(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Xt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function DA(t,n,e){const i=Yt();if(i.firstCreatePass){const r=vr(t);ih(e,i.data,i.blueprint,r,!0),ih(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class i1{}class IA{resolveComponentFactory(n){throw function MA(t){const n=Error(`No component factory found for ${Qt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ba=(()=>{class t{}return t.NULL=new IA,t})();function PA(){return wa(Wn(),He())}function wa(t,n){return new Zt(Gi(t,n))}let Zt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=PA,t})();function kA(t){return t instanceof Zt?t.nativeElement:t}class lh{}let Ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function FA(){const t=He(),e=qi(Wn().index,t);return function RA(t){return t[11]}(Fr(e)?e:t)}(),t})(),jA=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Il{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const $A=new Il("13.3.12"),uh={};function Nc(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&i.push(Bn(o)),yr(o))for(let a=10;a<o.length;a++){const d=o[a],T=d[1].firstChild;null!==T&&Nc(d[1],d,T,i)}const s=e.type;if(8&s)Nc(t,n,e.child,i);else if(32&s){const a=Wp(e,n);let d;for(;d=a();)i.push(d)}else if(16&s){const a=oy(n,e);if(Array.isArray(a))i.push(...a);else{const d=fl(n[16]);Nc(d[1],d,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Pl{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Nc(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(yr(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Jp(n,i),ec(e,i))}this._attachedToViewContainer=!1}Zg(this._lView[1],this._lView)}onDestroy(n){Gy(this._lView[1],this._lView,null,n)}markForCheck(){If(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function kf(t,n,e){const i=n[10];i.begin&&i.begin();try{ta(t,n,t.template,e)}catch(r){throw iv(n,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Tt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iO(t,n){hl(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Tt(902,"");this._appRef=n}}class BA extends Pl{constructor(n){super(n),this._view=n}detectChanges(){Xy(this._view)}checkNoChanges(){}get context(){return null}}class o1 extends ba{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ai(n);return new ch(e,this.ngModule)}}function s1(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class ch extends i1{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function uN(t){return t.map(lN).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return s1(this.componentDef.inputs)}get outputs(){return s1(this.componentDef.outputs)}create(n,e,i,r){const o=(r=r||this.ngModule)?function VA(t,n){return{get:(e,i,r)=>{const o=t.get(e,uh,r);return o!==uh||i===uh?o:n.get(e,i,r)}}}(n,r.injector):n,s=o.get(lh,Xm),a=o.get(jA,null),d=s.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",R=i?function Hy(t,n,e){if(Mn(t))return t.selectRootElement(n,e===Rr.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(d,i,this.componentDef.encapsulation):Zp(s.createRenderer(null,this.componentDef),T,function LA(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(T)),ee=this.componentDef.onPush?576:528,se=function wv(t,n){return{components:[],scheduler:t||JO,clean:zN,playerHandler:n||null,flags:0}}(),me=_c(0,null,null,1,0,null,null,null,null,null),Te=vl(null,me,se,ee,null,null,s,d,a,o);let Ae,Re;Hu(Te);try{const Fe=function vv(t,n,e,i,r,o){const s=e[1];e[20]=t;const d=Xs(s,20,2,"#host",null),T=d.mergedAttrs=n.hostAttrs;null!==T&&(gc(d,T,!0),null!==t&&(Yu(r,t,T),null!==d.classes&&rf(r,t,d.classes),null!==d.styles&&ay(r,t,d.styles)));const R=i.createRenderer(t,n),ee=vl(e,Vy(n),null,n.onPush?64:16,e[20],d,i,R,o||null,null);return s.firstCreatePass&&(Qu(nl(d,e),s,n.type),Ky(s,d),Zy(d,e.length,1)),mc(e,ee),e[20]=ee}(R,this.componentDef,Te,s,d);if(R)if(i)Yu(d,R,["ng-version",$A.full]);else{const{attrs:Ie,classes:Ye}=function cN(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!br(r))break;r=o}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Ie&&Yu(d,R,Ie),Ye&&Ye.length>0&&rf(d,R,Ye.join(" "))}if(Re=wp(me,20),void 0!==e){const Ie=Re.projection=[];for(let Ye=0;Ye<this.ngContentSelectors.length;Ye++){const Xe=e[Ye];Ie.push(null!=Xe?Array.from(Xe):null)}}Ae=function bv(t,n,e,i,r){const o=e[1],s=function MN(t,n,e){const i=Wn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Jy(t,i,n,ea(t,n,1,null),e));const r=il(n,t,i.directiveStart,i);_i(r,n);const o=Gi(i,n);return o&&_i(o,n),r}(o,e,n);if(i.components.push(s),t[8]=s,r&&r.forEach(d=>d(s,n)),n.contentQueries){const d=Wn();n.contentQueries(1,s,d.directiveStart)}const a=Wn();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Io(a.index),zy(e[1],a,0,a.directiveStart,a.directiveEnd,n),Yy(n,s)),s}(Fe,this.componentDef,Te,se,[h2]),bl(me,Te,null)}finally{Gu()}return new HA(this.componentType,Ae,wa(Re,Te),Te,Re)}}class HA extends class AA{}{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new BA(r),this.componentType=n}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class fo{}class a1{}const Ca=new Map;class c1 extends fo{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new o1(this);const i=ir(n);this._bootstrapComponents=Lr(i.bootstrap),this._r3Injector=lv(n,e,[{provide:fo,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],Qt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Yn.THROW_IF_NOT_FOUND,i=xt.Default){return n===Yn||n===fo||n===Ff?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dh extends a1{constructor(n){super(),this.moduleType=n,null!==ir(n)&&function qA(t){const n=new Set;!function e(i){const r=ir(i,!0),o=r.id;null!==o&&(function l1(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${Qt(n)} vs ${Qt(n.name)}`)}(o,Ca.get(o),i),Ca.set(o,i));const s=Lr(r.imports);for(const a of s)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new c1(this.moduleType,n)}}function ho(t,n,e,i){return function f1(t,n,e,i,r,o){const s=n+e;return mi(t,s,r)?Ur(t,s+1,o?i.call(o,r):i(r)):kl(t,s+1)}(He(),Ei(),t,n,e,i)}function Ea(t,n,e,i,r){return function h1(t,n,e,i,r,o,s){const a=n+e;return us(t,a,r,o)?Ur(t,a+2,s?i.call(s,r,o):i(r,o)):kl(t,a+2)}(He(),Ei(),t,n,e,i,r)}function xc(t,n,e,i,r,o){return function _1(t,n,e,i,r,o,s,a){const d=n+e;return vc(t,d,r,o,s)?Ur(t,d+3,a?i.call(a,r,o,s):i(r,o,s)):kl(t,d+3)}(He(),Ei(),t,n,e,i,r,o)}function p1(t,n,e,i,r,o,s){return function m1(t,n,e,i,r,o,s,a,d){const T=n+e;return function ar(t,n,e,i,r,o){const s=us(t,n,e,i);return us(t,n+2,r,o)||s}(t,T,r,o,s,a)?Ur(t,T+4,d?i.call(d,r,o,s,a):i(r,o,s,a)):kl(t,T+4)}(He(),Ei(),t,n,e,i,r,o,s)}function kl(t,n){const e=t[n];return e===It?void 0:e}function ph(t){return n=>{setTimeout(t,void 0,n)}}const gt=class rM extends Ee{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var r,o,s;let a=n,d=e||(()=>null),T=i;if(n&&"object"==typeof n){const ee=n;a=null===(r=ee.next)||void 0===r?void 0:r.bind(ee),d=null===(o=ee.error)||void 0===o?void 0:o.bind(ee),T=null===(s=ee.complete)||void 0===s?void 0:s.bind(ee)}this.__isAsync&&(d=ph(d),a&&(a=ph(a)),T&&(T=ph(T)));const R=super.subscribe({next:a,error:d,complete:T});return n instanceof D&&n.add(R),R}};function oM(){return this._results[ra()]()}class fh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ra(),i=fh.prototype;i[e]||(i[e]=oM)}get changes(){return this._changes||(this._changes=new gt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=sr(n);(this._changesDetected=!function yD(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let At=(()=>{class t{}return t.__NG_ELEMENT_ID__=lM,t})();const sM=At,aM=class extends sM{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=vl(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),bl(e,i,n),new Pl(i)}};function lM(){return Ac(Wn(),He())}function Ac(t,n){return 4&t.type?new aM(n,t,wa(t,n)):null}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=uM,t})();function uM(){return b1(Wn(),He())}const cM=lr,y1=class extends cM{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ju(this._hostTNode,this._hostLView);if(mg(n)){const e=Hs(n,this._hostLView),i=Us(n);return new Gs(e[1].data[i+8],e)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=v1(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const r=n.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(n,e,i,r,o){const s=n&&!function ol(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const ee=e||{};a=ee.index,i=ee.injector,r=ee.projectableNodes,o=ee.ngModuleRef}const d=s?n:new ch(ai(n)),T=i||this.parentInjector;if(!o&&null==d.ngModule){const se=(s?T:this.parentInjector).get(fo,null);se&&(o=se)}const R=d.create(T,r,void 0,o);return this.insert(R.hostView,a),R}insert(n,e){const i=n._lView,r=i[1];if(function BS(t){return yr(t[3])}(i)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const ee=i[3],se=new y1(ee,ee[6],ee[3]);se.detach(se.indexOf(n))}}const o=this._adjustIndex(e),s=this._lContainer;!function oO(t,n,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=n),i<o-10?(n[4]=e[r],Dg(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function sO(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(r,i,s,o);const a=ef(o,s),d=i[11],T=oc(d,s[7]);return null!==T&&function nO(t,n,e,i,r,o){i[0]=r,i[6]=n,hl(t,i,e,1,r,o)}(r,s[6],d,i,T,a),n.attachToViewContainerRef(),Dg(hh(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=v1(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Jp(this._lContainer,e);i&&(ec(hh(this._lContainer),e),Zg(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=Jp(this._lContainer,e);return i&&null!=ec(hh(this._lContainer),e)?new Pl(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function v1(t){return t[8]}function hh(t){return t[8]||(t[8]=[])}function b1(t,n){let e;const i=n[t.index];if(yr(i))e=i;else{let r;if(8&t.type)r=Bn(i);else{const o=n[11];r=o.createComment("");const s=Gi(t,n);as(o,oc(o,s),r,function cO(t,n){return Mn(t)?t.nextSibling(n):n.nextSibling}(o,s),!1)}n[t.index]=e=Qy(i,n,r,t),mc(n,e)}return new y1(e,t,n)}class _h{constructor(n){this.queryList=n,this.matches=null}clone(){return new _h(this.queryList)}setDirty(){this.queryList.setDirty()}}class mh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new mh(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==S1(n,e).matches&&this.queries[e].setDirty()}}class w1{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class gh{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new gh(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yh{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new yh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,fM(e,o)),this.matchTNodeWithReadOption(n,e,Xu(e,n,o,!1,!1))}else i===At?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Xu(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Zt||r===lr||r===At&&4&e.type)this.addMatch(e.index,-2);else{const o=Xu(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function fM(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function _M(t,n,e,i){return-1===e?function hM(t,n){return 11&t.type?wa(t,n):4&t.type?Ac(t,n):null}(n,t):-2===e?function mM(t,n,e){return e===Zt?wa(n,t):e===At?Ac(n,t):e===lr?b1(n,t):void 0}(t,n,i):il(t,t[1],e,n)}function C1(t,n,e,i){const r=n[19].queries[i];if(null===r.matches){const o=t.data,s=e.matches,a=[];for(let d=0;d<s.length;d+=2){const T=s[d];a.push(T<0?null:_M(n,o[T],s[d+1],e.metadata.read))}r.matches=a}return r.matches}function vh(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=C1(t,n,r,e);for(let a=0;a<o.length;a+=2){const d=o[a];if(d>0)i.push(s[a/2]);else{const T=o[a+1],R=n[-d];for(let ee=10;ee<R.length;ee++){const se=R[ee];se[17]===se[3]&&vh(se[1],se,T,i)}if(null!==R[9]){const ee=R[9];for(let se=0;se<ee.length;se++){const me=ee[se];vh(me[1],me,T,i)}}}}}return i}function jt(t){const n=He(),e=Yt(),i=ag();Np(i+1);const r=S1(e,i);if(t.dirty&&eg(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?vh(e,n,i,[]):C1(e,n,r,i);t.reset(o,kA),t.notifyOnChanges()}return!0}return!1}function Lo(t,n,e){const i=Yt();i.firstCreatePass&&(T1(i,new w1(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),E1(i,He(),n)}function en(t,n,e,i){const r=Yt();if(r.firstCreatePass){const o=Wn();T1(r,new w1(n,e,i),o.index),function yM(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}E1(r,He(),e)}function $t(){return function gM(t,n){return t[19].queries[n].queryList}(He(),ag())}function E1(t,n,e){const i=new fh(4==(4&e));Gy(t,n,i,i.destroy),null===n[19]&&(n[19]=new mh),n[19].queries.push(new _h(i))}function T1(t,n,e){null===t.queries&&(t.queries=new gh),t.queries.track(new yh(n,e))}function S1(t,n){return t.queries.getByIndex(n)}function tt(t,n){return Ac(t,n)}function Pc(...t){}const Sh=new kt("Application Initializer");let Dh=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Pc,this.reject=Pc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Tl(o))e.push(o);else if(Zf(o)){const s=new Promise((a,d)=>{o.subscribe({complete:a,error:d})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Je(Sh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jl=new kt("AppId",{providedIn:"root",factory:function U1(){return`${Oh()}${Oh()}${Oh()}`}});function Oh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H1=new kt("Platform Initializer"),kc=new kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G1=new kt("appBootstrapListener");let RM=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Vo=new kt("LocaleId",{providedIn:"root",factory:()=>MD(Vo,xt.Optional|xt.SkipSelf)||function FM(){return"undefined"!=typeof $localize&&$localize.locale||Ec}()});class $M{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let q1=(()=>{class t{compileModuleSync(e){return new dh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Lr(ir(e).declarations).reduce((s,a)=>{const d=ai(a);return d&&s.push(new ch(d)),s},[]);return new $M(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const LM=(()=>Promise.resolve(0))();function Nh(t){"undefined"==typeof Zone?LM.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _n{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function VM(){let t=pn.requestAnimationFrame,n=pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function GM(t){const n=()=>{!function HM(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ah(t),t.isCheckStableRunning=!0,xh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ah(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return W1(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),z1(t)}},onInvoke:(e,i,r,o,s,a,d)=>{try{return W1(t),e.invoke(r,o,s,a,d)}finally{t.shouldCoalesceRunChangeDetection&&n(),z1(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Ah(t),xh(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,UM,Pc,Pc);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const UM={};function xh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ah(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function W1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function z1(t){t._nesting--,xh(t)}class qM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}let Mh=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),Nh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(Je(_n))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),WM=(()=>{class t{constructor(){this._applications=new Map,Ih.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ih.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class zM{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let Ih=new zM,ds=null;const Y1=new kt("AllowMultipleToken"),K1=new kt("PlatformOnDestroy");class Z1{constructor(n,e){this.name=n,this.token=e}}function J1(t,n,e=[]){const i=`Platform: ${n}`,r=new kt(i);return(o=[])=>{let s=Ph();if(!s||s.injector.get(Y1,!1)){const a=[...e,...o,{provide:r,useValue:!0}];t?t(a):function JM(t){if(ds&&!ds.get(Y1,!1))throw new Tt(400,"");ds=t;const n=t.get(Q1),e=t.get(H1,null);e&&e.forEach(i=>i())}(function XM(t=[],n){return Yn.create({name:n,providers:[{provide:jf,useValue:"platform"},{provide:K1,useValue:()=>ds=null},...t]})}(a,i))}return function QM(t){const n=Ph();if(!n)throw new Tt(401,"");return n}()}}function Ph(){var t;return null!==(t=null==ds?void 0:ds.get(Q1))&&void 0!==t?t:null}let Q1=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function eI(t,n){let e;return e="noop"===t?new qM:("zone.js"===t?void 0:t)||new _n({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:_n,useValue:a}];return a.run(()=>{const T=Yn.create({providers:d,parent:this.injector,name:e.moduleType.name}),R=e.create(T),ee=R.injector.get(yl,null);if(!ee)throw new Tt(402,"");return a.runOutsideAngular(()=>{const se=a.onError.subscribe({next:me=>{ee.handleError(me)}});R.onDestroy(()=>{kh(this._modules,R),se.unsubscribe()})}),function tI(t,n,e){try{const i=e();return Tl(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(ee,a,()=>{const se=R.injector.get(Dh);return se.runInitializers(),se.donePromise.then(()=>(function jx(t){Ui(t,"Expected localeId to be defined"),"string"==typeof t&&(I0=t.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Vo,Ec)||Ec),this._moduleDoBootstrap(R),R))})})}bootstrapModule(e,i=[]){const r=X1({},i);return function KM(t,n,e){const i=new dh(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get($l);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Tt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Tt(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(K1,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Je(Yn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function X1(t,n){return Array.isArray(n)?n.reduce(X1,t):Object.assign(Object.assign({},t),n)}let $l=(()=>{class t{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Z(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),a=new Z(d=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),Nh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=kr(s,a.pipe(za()))}bootstrap(e,i){if(!this._initStatus.done)throw new Tt(405,"");let r;r=e instanceof i1?e:this._injector.get(ba).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function ZM(t){return t.isBoundToModule}(r)?void 0:this._injector.get(fo),a=r.create(Yn.NULL,[],i||r.selector,o),d=a.location.nativeElement,T=a.injector.get(Mh,null),R=T&&a.injector.get(WM);return T&&R&&R.registerApplication(d,T),a.onDestroy(()=>{this.detachView(a.hostView),kh(this.components,a),R&&R.unregisterApplication(d)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Tt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;kh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(G1,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Je(_n),Je(Yn),Je(yl),Je(Dh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kh(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let tb=!0,Zi=(()=>{class t{}return t.__NG_ELEMENT_ID__=rI,t})();function rI(t){return function oI(t,n,e){if(Bu(t)&&!e){const i=qi(t.index,n);return new Pl(i,i)}return 47&t.type?new Pl(n[16],n):null}(Wn(),He(),16==(16&t))}class sb{constructor(){}supports(n){return Cl(n)}create(n){return new dI(n)}}const cI=(t,n)=>n;class dI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||cI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<lb(i,r,o)?e:i,a=lb(s,r,o),d=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const T=a-r,R=d-r;if(T!=R){for(let se=0;se<T;se++){const me=se<o.length?o[se]:o[se]=0,Te=me+se;R<=Te&&Te<T&&(o[se]=me+1)}o[s.previousIndex]=R-T}}a!==d&&n(s,a,d)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Cl(n))throw new Tt(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function T2(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[ra()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new pI(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new ab),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ab),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class pI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class ab{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new fI,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lb(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class ub{constructor(){}supports(n){return n instanceof Map||Hf(n)}create(){return new hI}}class hI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Hf(n)))throw new Tt(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new _I(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class _I{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cb(){return new jc([new sb])}let jc=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||cb()),deps:[[t,new cl,new ko]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Tt(901,"")}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:cb}),t})();function db(){return new Bl([new ub])}let Bl=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||db()),deps:[[t,new cl,new ko]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new Tt(901,"")}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:db}),t})();const yI=J1(null,"core",[]);let vI=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Je($l))},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})(),$c=null;function qr(){return $c}const Vn=new kt("DocumentToken");let fs=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function EI(){return Je(pb)}()},providedIn:"platform"}),t})();const TI=new kt("Location Initialized");let pb=(()=>{class t extends fs{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(e){const i=qr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=qr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){fb()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){fb()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn))},t.\u0275prov=ft({token:t,factory:function(){return function SI(){return new pb(Je(Vn))}()},providedIn:"platform"}),t})();function fb(){return!!window.history.pushState}function Bh(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function hb(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function _o(t){return t&&"?"!==t[0]?"?"+t:t}let Sa=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function DI(t){const n=Je(Vn).location;return new _b(Je(fs),n&&n.origin||"")}()},providedIn:"root"}),t})();const Lh=new kt("appBaseHref");let _b=(()=>{class t extends Sa{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Bh(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+_o(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+_o(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+_o(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Je(fs),Je(Lh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),OI=(()=>{class t extends Sa{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Bh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+_o(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+_o(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Je(fs),Je(Lh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Vh=(()=>{class t{constructor(e,i){this._subject=new gt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=hb(mb(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+_o(i))}normalize(e){return t.stripTrailingSlash(function xI(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,mb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_o(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_o(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=_o,t.joinWithSlash=Bh,t.stripTrailingSlash=hb,t.\u0275fac=function(e){return new(e||t)(Je(Sa),Je(fs))},t.\u0275prov=ft({token:t,factory:function(){return function NI(){return new Vh(Je(Sa),Je(fs))}()},providedIn:"root"}),t})();function mb(t){return t.replace(/\/index.html$/,"")}var Pn=(()=>((Pn=Pn||{})[Pn.Format=0]="Format",Pn[Pn.Standalone=1]="Standalone",Pn))(),Ht=(()=>((Ht=Ht||{})[Ht.Narrow=0]="Narrow",Ht[Ht.Abbreviated=1]="Abbreviated",Ht[Ht.Wide=2]="Wide",Ht[Ht.Short=3]="Short",Ht))(),Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.Medium=1]="Medium",Dn[Dn.Long=2]="Long",Dn[Dn.Full=3]="Full",Dn))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function Bc(t,n){return cr(Di(t)[at.DateFormat],n)}function Lc(t,n){return cr(Di(t)[at.TimeFormat],n)}function Vc(t,n){return cr(Di(t)[at.DateTimeFormat],n)}function ur(t,n){const e=Di(t),i=e[at.NumberSymbols][n];if(void 0===i){if(n===bt.CurrencyDecimal)return e[at.NumberSymbols][bt.Decimal];if(n===bt.CurrencyGroup)return e[at.NumberSymbols][bt.Group]}return i}function yb(t){if(!t[at.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[at.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cr(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function Hh(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const UI=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ll={},HI=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zn=(()=>((Zn=Zn||{})[Zn.Short=0]="Short",Zn[Zn.ShortGMT=1]="ShortGMT",Zn[Zn.Long=2]="Long",Zn[Zn.Extended=3]="Extended",Zn))(),Et=(()=>((Et=Et||{})[Et.FullYear=0]="FullYear",Et[Et.Month=1]="Month",Et[Et.Date=2]="Date",Et[Et.Hours=3]="Hours",Et[Et.Minutes=4]="Minutes",Et[Et.Seconds=5]="Seconds",Et[Et.FractionalSeconds=6]="FractionalSeconds",Et[Et.Day=7]="Day",Et))(),Ft=(()=>((Ft=Ft||{})[Ft.DayPeriods=0]="DayPeriods",Ft[Ft.Days=1]="Days",Ft[Ft.Months=2]="Months",Ft[Ft.Eras=3]="Eras",Ft))();function GI(t,n,e,i){let r=function XI(t){if(wb(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,s=1]=t.split("-").map(a=>+a);return Uc(r,o-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(UI))return function eP(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,d=Number(t[6]||0),T=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(n,s,a,d,T),n}(i)}const n=new Date(t);if(!wb(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=mo(e,n)||n;let a,s=[];for(;n;){if(a=HI.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const R=s.pop();if(!R)break;n=R}}let d=r.getTimezoneOffset();i&&(d=bb(i,d),r=function QI(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function JI(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(bb(n,r)-r))}(r,i,!0));let T="";return s.forEach(R=>{const ee=function ZI(t){if(qh[t])return qh[t];let n;switch(t){case"G":case"GG":case"GGG":n=mn(Ft.Eras,Ht.Abbreviated);break;case"GGGG":n=mn(Ft.Eras,Ht.Wide);break;case"GGGGG":n=mn(Ft.Eras,Ht.Narrow);break;case"y":n=Hn(Et.FullYear,1,0,!1,!0);break;case"yy":n=Hn(Et.FullYear,2,0,!0,!0);break;case"yyy":n=Hn(Et.FullYear,3,0,!1,!0);break;case"yyyy":n=Hn(Et.FullYear,4,0,!1,!0);break;case"Y":n=Wc(1);break;case"YY":n=Wc(2,!0);break;case"YYY":n=Wc(3);break;case"YYYY":n=Wc(4);break;case"M":case"L":n=Hn(Et.Month,1,1);break;case"MM":case"LL":n=Hn(Et.Month,2,1);break;case"MMM":n=mn(Ft.Months,Ht.Abbreviated);break;case"MMMM":n=mn(Ft.Months,Ht.Wide);break;case"MMMMM":n=mn(Ft.Months,Ht.Narrow);break;case"LLL":n=mn(Ft.Months,Ht.Abbreviated,Pn.Standalone);break;case"LLLL":n=mn(Ft.Months,Ht.Wide,Pn.Standalone);break;case"LLLLL":n=mn(Ft.Months,Ht.Narrow,Pn.Standalone);break;case"w":n=Gh(1);break;case"ww":n=Gh(2);break;case"W":n=Gh(1,!0);break;case"d":n=Hn(Et.Date,1);break;case"dd":n=Hn(Et.Date,2);break;case"c":case"cc":n=Hn(Et.Day,1);break;case"ccc":n=mn(Ft.Days,Ht.Abbreviated,Pn.Standalone);break;case"cccc":n=mn(Ft.Days,Ht.Wide,Pn.Standalone);break;case"ccccc":n=mn(Ft.Days,Ht.Narrow,Pn.Standalone);break;case"cccccc":n=mn(Ft.Days,Ht.Short,Pn.Standalone);break;case"E":case"EE":case"EEE":n=mn(Ft.Days,Ht.Abbreviated);break;case"EEEE":n=mn(Ft.Days,Ht.Wide);break;case"EEEEE":n=mn(Ft.Days,Ht.Narrow);break;case"EEEEEE":n=mn(Ft.Days,Ht.Short);break;case"a":case"aa":case"aaa":n=mn(Ft.DayPeriods,Ht.Abbreviated);break;case"aaaa":n=mn(Ft.DayPeriods,Ht.Wide);break;case"aaaaa":n=mn(Ft.DayPeriods,Ht.Narrow);break;case"b":case"bb":case"bbb":n=mn(Ft.DayPeriods,Ht.Abbreviated,Pn.Standalone,!0);break;case"bbbb":n=mn(Ft.DayPeriods,Ht.Wide,Pn.Standalone,!0);break;case"bbbbb":n=mn(Ft.DayPeriods,Ht.Narrow,Pn.Standalone,!0);break;case"B":case"BB":case"BBB":n=mn(Ft.DayPeriods,Ht.Abbreviated,Pn.Format,!0);break;case"BBBB":n=mn(Ft.DayPeriods,Ht.Wide,Pn.Format,!0);break;case"BBBBB":n=mn(Ft.DayPeriods,Ht.Narrow,Pn.Format,!0);break;case"h":n=Hn(Et.Hours,1,-12);break;case"hh":n=Hn(Et.Hours,2,-12);break;case"H":n=Hn(Et.Hours,1);break;case"HH":n=Hn(Et.Hours,2);break;case"m":n=Hn(Et.Minutes,1);break;case"mm":n=Hn(Et.Minutes,2);break;case"s":n=Hn(Et.Seconds,1);break;case"ss":n=Hn(Et.Seconds,2);break;case"S":n=Hn(Et.FractionalSeconds,1);break;case"SS":n=Hn(Et.FractionalSeconds,2);break;case"SSS":n=Hn(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Gc(Zn.Short);break;case"ZZZZZ":n=Gc(Zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Gc(Zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Gc(Zn.Long);break;default:return null}return qh[t]=n,n}(R);T+=ee?ee(r,e,d):"''"===R?"'":R.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Uc(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function mo(t,n){const e=function AI(t){return Di(t)[at.LocaleId]}(t);if(Ll[e]=Ll[e]||{},Ll[e][n])return Ll[e][n];let i="";switch(n){case"shortDate":i=Bc(t,Dn.Short);break;case"mediumDate":i=Bc(t,Dn.Medium);break;case"longDate":i=Bc(t,Dn.Long);break;case"fullDate":i=Bc(t,Dn.Full);break;case"shortTime":i=Lc(t,Dn.Short);break;case"mediumTime":i=Lc(t,Dn.Medium);break;case"longTime":i=Lc(t,Dn.Long);break;case"fullTime":i=Lc(t,Dn.Full);break;case"short":const r=mo(t,"shortTime"),o=mo(t,"shortDate");i=Hc(Vc(t,Dn.Short),[r,o]);break;case"medium":const s=mo(t,"mediumTime"),a=mo(t,"mediumDate");i=Hc(Vc(t,Dn.Medium),[s,a]);break;case"long":const d=mo(t,"longTime"),T=mo(t,"longDate");i=Hc(Vc(t,Dn.Long),[d,T]);break;case"full":const R=mo(t,"fullTime"),ee=mo(t,"fullDate");i=Hc(Vc(t,Dn.Full),[R,ee])}return i&&(Ll[e][n]=i),i}function Hc(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Sr(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.substr(s.length-n)),o+s}function Hn(t,n,e=0,i=!1,r=!1){return function(o,s){let a=function WI(t,n){switch(t){case Et.FullYear:return n.getFullYear();case Et.Month:return n.getMonth();case Et.Date:return n.getDate();case Et.Hours:return n.getHours();case Et.Minutes:return n.getMinutes();case Et.Seconds:return n.getSeconds();case Et.FractionalSeconds:return n.getMilliseconds();case Et.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((e>0||a>-e)&&(a+=e),t===Et.Hours)0===a&&-12===e&&(a=12);else if(t===Et.FractionalSeconds)return function qI(t,n){return Sr(t,3).substr(0,n)}(a,n);const d=ur(s,bt.MinusSign);return Sr(a,n,d,i,r)}}function mn(t,n,e=Pn.Format,i=!1){return function(r,o){return function zI(t,n,e,i,r,o){switch(e){case Ft.Months:return function PI(t,n,e){const i=Di(t),o=cr([i[at.MonthsFormat],i[at.MonthsStandalone]],n);return cr(o,e)}(n,r,i)[t.getMonth()];case Ft.Days:return function II(t,n,e){const i=Di(t),o=cr([i[at.DaysFormat],i[at.DaysStandalone]],n);return cr(o,e)}(n,r,i)[t.getDay()];case Ft.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const T=function jI(t){const n=Di(t);return yb(n),(n[at.ExtraData][2]||[]).map(i=>"string"==typeof i?Hh(i):[Hh(i[0]),Hh(i[1])])}(n),R=function $I(t,n,e){const i=Di(t);yb(i);const o=cr([i[at.ExtraData][0],i[at.ExtraData][1]],n)||[];return cr(o,e)||[]}(n,r,i),ee=T.findIndex(se=>{if(Array.isArray(se)){const[me,Te]=se,Ae=s>=me.hours&&a>=me.minutes,Re=s<Te.hours||s===Te.hours&&a<Te.minutes;if(me.hours<Te.hours){if(Ae&&Re)return!0}else if(Ae||Re)return!0}else if(se.hours===s&&se.minutes===a)return!0;return!1});if(-1!==ee)return R[ee]}return function MI(t,n,e){const i=Di(t),o=cr([i[at.DayPeriodsFormat],i[at.DayPeriodsStandalone]],n);return cr(o,e)}(n,r,i)[s<12?0:1];case Ft.Eras:return function kI(t,n){return cr(Di(t)[at.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,t,n,e,i)}}function Gc(t){return function(n,e,i){const r=-1*i,o=ur(e,bt.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Zn.Short:return(r>=0?"+":"")+Sr(s,2,o)+Sr(Math.abs(r%60),2,o);case Zn.ShortGMT:return"GMT"+(r>=0?"+":"")+Sr(s,1,o);case Zn.Long:return"GMT"+(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);case Zn.Extended:return 0===i?"Z":(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function vb(t){return Uc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Gh(t,n=!1){return function(e,i){let r;if(n){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=vb(e),s=function KI(t){const n=Uc(t,0,1).getDay();return Uc(t,0,1+(n<=4?4:11)-n)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Sr(r,t,ur(i,bt.MinusSign))}}function Wc(t,n=!1){return function(e,i){return Sr(vb(e).getFullYear(),t,ur(i,bt.MinusSign),n)}}const qh={};function bb(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function wb(t){return t instanceof Date&&!isNaN(t.valueOf())}function Sb(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}let Db=(()=>{class t{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Cl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Qt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(be(jc),be(Bl),be(Zt),be(Ri))},t.\u0275dir=Ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class fP{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class t{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fP(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Ob(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ob(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(be(lr),be(At),be(jc))},t.\u0275dir=Ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Ob(t,n){t.context.$implicit=n.item}let ji=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new hP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Nb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Nb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(be(lr),be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class hP{constructor(){this.$implicit=null,this.ngIf=null}}function Nb(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Qt(n)}'.`)}let Ab=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(be(Zt),be(Bl),be(Ri))},t.\u0275dir=Ze({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),hs=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(be(lr))},t.\u0275dir=Ze({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[$n]}),t})();const OP=new kt("DATE_PIPE_DEFAULT_TIMEZONE");let Mb=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return GI(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw function Dr(t,n){return new Tt(2100,"")}()}}}return t.\u0275fac=function(e){return new(e||t)(be(Vo,16),be(OP,24))},t.\u0275pipe=ki({name:"date",type:t,pure:!0}),t})(),li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();let UP=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new HP(Je(Vn),window)}),t})();class HP{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function GP(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=kb(this.window.history)||kb(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function kb(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Rb{}class t_ extends class qP extends class CI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function wI(t){$c||($c=t)}(new t_)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function WP(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}();return null==e?null:function zP(t){Yc=Yc||document.createElement("a"),Yc.setAttribute("href",t);const n=Yc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Sb(document.cookie,n)}}let Yc,Ul=null;const Fb=new kt("TRANSITION_ID"),KP=[{provide:Sh,useFactory:function YP(t,n,e){return()=>{e.get(Dh).donePromise.then(()=>{const i=qr(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Fb,Vn,Yn],multi:!0}];class n_{static init(){!function YM(t){Ih=t}(new n_)}addToWindow(n){pn.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},pn.getAllAngularTestabilities=()=>n.getAllTestabilities(),pn.getAllAngularRootElements=()=>n.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(i=>{const r=pn.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(d){s=s||d,o--,0==o&&i(s)};r.forEach(function(d){d.whenStable(a)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const r=n.getTestability(e);return null!=r?r:i?qr().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let ZP=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Kc=new kt("EventManagerPlugins");let Zc=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Je(Kc),Je(_n))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class jb{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=qr().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let $b=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Hl=(()=>{class t extends $b{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Bb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Bb))}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Bb(t){qr().remove(t)}const i_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r_=/%COMP%/g;function Jc(t,n,e){for(let i=0;i<n.length;i++){let r=n[i];Array.isArray(r)?Jc(t,r,e):(r=r.replace(r_,t),e.push(r))}return e}function Ub(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let o_=(()=>{class t{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new s_(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Rr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new nk(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Rr.ShadowDom:return new ik(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Je(Zc),Je(Hl),Je(jl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class s_{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(i_[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=i_[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=i_[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(zi.DashCase|zi.Important)?n.style.setProperty(e,i,r&zi.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&zi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Ub(i)):this.eventManager.addEventListener(n,e,Ub(i))}}class nk extends s_{constructor(n,e,i,r){super(n),this.component=i;const o=Jc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function XP(t){return"_ngcontent-%COMP%".replace(r_,t)}(r+"-"+i.id),this.hostAttr=function ek(t){return"_nghost-%COMP%".replace(r_,t)}(r+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class ik extends s_{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Jc(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let rk=(()=>{class t extends jb{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Gb=["alt","control","meta","shift"],sk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ak={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lk=(()=>{class t extends jb{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="";if(Gb.forEach(d=>{const T=i.indexOf(d);T>-1&&(i.splice(T,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function uk(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&qb.hasOwnProperty(n)&&(n=qb[n]))}return sk[n]||n}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Gb.forEach(o=>{o!=r&&ak[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{t.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const fk=J1(yI,"browser",[{provide:kc,useValue:"browser"},{provide:H1,useValue:function ck(){t_.makeCurrent(),n_.init()},multi:!0},{provide:Vn,useFactory:function pk(){return function RS(t){vp=t}(document),document},deps:[]}]),hk=[{provide:jf,useValue:"root"},{provide:yl,useFactory:function dk(){return new yl},deps:[]},{provide:Kc,useClass:rk,multi:!0,deps:[Vn,_n,kc]},{provide:Kc,useClass:lk,multi:!0,deps:[Vn]},{provide:o_,useClass:o_,deps:[Zc,Hl,jl]},{provide:lh,useExisting:o_},{provide:$b,useExisting:Hl},{provide:Hl,useClass:Hl,deps:[Vn]},{provide:Mh,useClass:Mh,deps:[_n]},{provide:Zc,useClass:Zc,deps:[Kc,_n]},{provide:Rb,useClass:ZP,deps:[]}];let _k=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:jl,useValue:e.appId},{provide:Fb,useExisting:jl},KP]}}}return t.\u0275fac=function(e){return new(e||t)(Je(t,12))},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:hk,imports:[li,vI]}),t})();function Nt(...t){return qn(t,wi(t))}"undefined"!=typeof window&&window;class ri extends Ee{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:Dk}=Array,{getPrototypeOf:Ok,prototype:Nk,keys:xk}=Object;function Yb(t){if(1===t.length){const n=t[0];if(Dk(n))return{args:n,keys:null};if(function Ak(t){return t&&"object"==typeof t&&Ok(t)===Nk}(n)){const e=xk(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:Mk}=Array;function l_(t){return H(n=>function Ik(t,n){return Mk(n)?t(...n):t(n)}(t,n))}function Kb(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Zb(t,n,e){t?dn(e,t,n):n()}function Qc(t,n){const e=p(t)?t:()=>t,i=r=>r.error(e());return new Z(n?r=>n.schedule(i,0,r):i)}const Xc=w(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gl(...t){return function kk(){return xn(1)}()(qn(t,wi(t)))}function Jb(t){return new Z(n=>{Ke(t()).subscribe(n)})}function Qb(){return le((t,n)=>{let e=null;t._refCount++;const i=N(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class Rk extends Z{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ue(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const e=this.getSubject();n.add(this.source.subscribe(N(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return Qb()(this)}}function go(t,n){return le((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(N(i,d=>{null==r||r.unsubscribe();let T=0;const R=o++;Ke(t(d,R)).subscribe(r=N(i,ee=>i.next(n?n(d,ee,R,T++):ee),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function gi(t){return t<=0?()=>Tn:le((n,e)=>{let i=0;n.subscribe(N(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function ql(...t){const n=wi(t);return le((e,i)=>{(n?Gl(t,e,n):Gl(t,e)).subscribe(i)})}function Fk(t,n,e,i,r){return(o,s)=>{let a=e,d=n,T=0;o.subscribe(N(s,R=>{const ee=T++;d=a?t(d,R,ee):(a=!0,R),i&&s.next(d)},r&&(()=>{a&&s.next(d),s.complete()})))}}function Xb(t,n){return le(Fk(t,n,arguments.length>=2,!0))}function Jn(t,n){return le((e,i)=>{let r=0;e.subscribe(N(i,o=>t.call(n,o,r++)&&i.next(o)))})}function Ho(t){return le((n,e)=>{let o,i=null,r=!1;i=n.subscribe(N(e,void 0,void 0,s=>{o=Ke(t(s,Ho(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Da(t,n){return p(n)?Bt(t,n,1):Bt(t,1)}function c_(t){return t<=0?()=>Tn:le((n,e)=>{let i=[];n.subscribe(N(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ew(t=jk){return le((n,e)=>{let i=!1;n.subscribe(N(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function jk(){return new Xc}function tw(t){return le((n,e)=>{let i=!1;n.subscribe(N(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Oa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Jn((r,o)=>t(r,o,i)):X,gi(1),e?tw(n):ew(()=>new Xc))}function ui(t,n,e){const i=p(t)||n||e?{next:t,error:n,complete:e}:t;return i?le((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(N(o,d=>{var T;null===(T=i.next)||void 0===T||T.call(i,d),o.next(d)},()=>{var d;a=!1,null===(d=i.complete)||void 0===d||d.call(i),o.complete()},d=>{var T;a=!1,null===(T=i.error)||void 0===T||T.call(i,d),o.error(d)},()=>{var d,T;a&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(T=i.finalize)||void 0===T||T.call(i)}))}):X}class yo{constructor(n,e){this.id=n,this.url=e}}class d_ extends yo{constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wl extends yo{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nw extends yo{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lk extends yo{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vk extends yo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uk extends yo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hk extends yo{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gk extends yo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qk extends yo{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rw{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wk{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zk{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yk{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kk{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ow{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class Zk{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Na(t){return new Zk(t)}const sw="ngNavigationCancelingError";function p_(t){const n=Error("NavigationCancelingError: "+t);return n[sw]=!0,n}function Qk(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Wr(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!aw(t[r],n[r]))return!1;return!0}function aw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}return t===n}function lw(t){return Array.prototype.concat.apply([],t)}function uw(t){return t.length>0?t[t.length-1]:null}function ci(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function zr(t){return Zf(t)?t:Tl(t)?qn(Promise.resolve(t)):Nt(t)}const tR={exact:function pw(t,n,e){if(!ms(t.segments,n.segments)||!ed(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!pw(t.children[i],n.children[i],e))return!1;return!0},subset:fw},cw={exact:function nR(t,n){return Wr(t,n)},subset:function iR(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>aw(t[e],n[e]))},ignored:()=>!0};function dw(t,n,e){return tR[e.paths](t.root,n.root,e.matrixParams)&&cw[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function fw(t,n,e){return hw(t,n,n.segments,e)}function hw(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!ms(r,e)||n.hasChildren()||!ed(r,e,i))}if(t.segments.length===e.length){if(!ms(t.segments,e)||!ed(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!fw(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(ms(t.segments,r)&&ed(t.segments,r,i)&&t.children[Vt])&&hw(t.children[Vt],n,o,i)}}function ed(t,n,e){return n.every((i,r)=>cw[e](t[r].parameters,i.parameters))}class _s{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return sR.serialize(this)}}class Wt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,ci(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}}class zl{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Na(this.parameters)),this._parameterMap}toString(){return vw(this)}}function ms(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class _w{}class mw{parse(n){const e=new _R(n);return new _s(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Yl(n.root,!0)}`,i=function uR(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${nd(e)}=${nd(r)}`).join("&"):`${nd(e)}=${nd(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function aR(t){return encodeURI(t)}(n.fragment)}`:""}`}}const sR=new mw;function td(t){return t.segments.map(n=>vw(n)).join("/")}function Yl(t,n){if(!t.hasChildren())return td(t);if(n){const e=t.children[Vt]?Yl(t.children[Vt],!1):"",i=[];return ci(t.children,(r,o)=>{o!==Vt&&i.push(`${o}:${Yl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function oR(t,n){let e=[];return ci(t.children,(i,r)=>{r===Vt&&(e=e.concat(n(i,r)))}),ci(t.children,(i,r)=>{r!==Vt&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===Vt?[Yl(t.children[Vt],!1)]:[`${r}:${Yl(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Vt]?`${td(t)}/${e[0]}`:`${td(t)}/(${e.join("//")})`}}function gw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nd(t){return gw(t).replace(/%3B/gi,";")}function f_(t){return gw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(t){return decodeURIComponent(t)}function yw(t){return id(t.replace(/\+/g,"%20"))}function vw(t){return`${f_(t.path)}${function lR(t){return Object.keys(t).map(n=>`;${f_(n)}=${f_(t[n])}`).join("")}(t.parameters)}`}const cR=/^[^\/()?;=#]+/;function rd(t){const n=t.match(cR);return n?n[0]:""}const dR=/^[^=?&#]+/,fR=/^[^&#]+/;class _R{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Vt]=new Wt(n,e)),i}parseSegment(){const n=rd(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new zl(id(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=rd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=rd(this.remaining);r&&(i=r,this.capture(i))}n[id(e)]=id(i)}parseQueryParam(n){const e=function pR(t){const n=t.match(dR);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function hR(t){const n=t.match(fR);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=yw(e),o=yw(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=rd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Vt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Vt]:new Wt([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class bw{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=h_(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=h_(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=__(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return __(n,this._root).map(e=>e.value)}}function h_(t,n){if(t===n.value)return n;for(const e of n.children){const i=h_(t,e);if(i)return i}return null}function __(t,n){if(t===n.value)return[n];for(const e of n.children){const i=__(t,e);if(i.length)return i.unshift(n),i}return[]}class vo{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function xa(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class ww extends bw{constructor(n,e){super(n),this.snapshot=e,m_(this,n)}toString(){return this.snapshot.toString()}}function Cw(t,n){const e=function mR(t,n){const s=new od([],{},{},"",{},Vt,n,null,t.root,-1,{});return new Tw("",new vo(s,[]))}(t,n),i=new ri([new zl("",{})]),r=new ri({}),o=new ri({}),s=new ri({}),a=new ri(""),d=new Aa(i,r,s,a,o,Vt,n,e.root);return d.snapshot=e.root,new ww(new vo(d,[]),e)}class Aa{constructor(n,e,i,r,o,s,a,d){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(n=>Na(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(n=>Na(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ew(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function gR(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class od{constructor(n,e,i,r,o,s,a,d,T,R,ee){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=d,this._urlSegment=T,this._lastPathIndex=R,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tw extends bw{constructor(n,e){super(e),this.url=n,m_(this,e)}toString(){return Sw(this._root)}}function m_(t,n){n.value._routerState=t,n.children.forEach(e=>m_(t,e))}function Sw(t){const n=t.children.length>0?` { ${t.children.map(Sw).join(", ")} } `:"";return`${t.value}${n}`}function g_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Wr(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Wr(n.params,e.params)||t.params.next(e.params),function Xk(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Wr(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Wr(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function y_(t,n){const e=Wr(t.params,n.params)&&function rR(t,n){return ms(t,n)&&t.every((e,i)=>Wr(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||y_(t.parent,n.parent))}function Kl(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function vR(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Kl(t,i,r);return Kl(t,i)})}(t,n,e);return new vo(i,r)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Kl(t,a)),s}}const i=function bR(t){return new Aa(new ri(t.url),new ri(t.params),new ri(t.queryParams),new ri(t.fragment),new ri(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(o=>Kl(t,o));return new vo(i,r)}}function sd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zl(t){return"object"==typeof t&&null!=t&&t.outlets}function v_(t,n,e,i,r){let o={};if(i&&ci(i,(a,d)=>{o[d]=Array.isArray(a)?a.map(T=>`${T}`):`${a}`}),t===n)return new _s(e,o,r);const s=Dw(t,n,e);return new _s(s,o,r)}function Dw(t,n,e){const i={};return ci(t.children,(r,o)=>{i[o]=r===n?e:Dw(r,n,e)}),new Wt(t.segments,i)}class Ow{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&sd(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Zl);if(r&&r!==uw(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class b_{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Nw(t,n,e){if(t||(t=new Wt([],{})),0===t.segments.length&&t.hasChildren())return ad(t,n,e);const i=function DR(t,n,e){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;const s=t.segments[r],a=e[i];if(Zl(a))break;const d=`${a}`,T=i<e.length-1?e[i+1]:null;if(r>0&&void 0===d)break;if(d&&T&&"object"==typeof T&&void 0===T.outlets){if(!Aw(d,T,s))return o;i+=2}else{if(!Aw(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new Wt(t.segments.slice(0,i.pathIndex),{});return o.children[Vt]=new Wt(t.segments.slice(i.pathIndex),t.children),ad(o,0,r)}return i.match&&0===r.length?new Wt(t.segments,{}):i.match&&!t.hasChildren()?w_(t,n,e):i.match?ad(t,0,r):w_(t,n,e)}function ad(t,n,e){if(0===e.length)return new Wt(t.segments,{});{const i=function SR(t){return Zl(t[0])?t[0].outlets:{[Vt]:t}}(e),r={};return ci(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Nw(t.children[s],n,o))}),ci(t.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Wt(t.segments,r)}}function w_(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const o=e[r];if(Zl(o)){const d=OR(o.outlets);return new Wt(i,d)}if(0===r&&sd(e[0])){i.push(new zl(t.segments[n].path,xw(e[0]))),r++;continue}const s=Zl(o)?o.outlets[Vt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&sd(a)?(i.push(new zl(s,xw(a))),r+=2):(i.push(new zl(s,{})),r++)}return new Wt(i,{})}function OR(t){const n={};return ci(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=w_(new Wt([],{}),0,e))}),n}function xw(t){const n={};return ci(t,(e,i)=>n[i]=`${e}`),n}function Aw(t,n,e){return t==e.path&&Wr(n,e.parameters)}class xR{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),g_(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=xa(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ci(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=xa(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=xa(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=xa(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Kk(o.value.snapshot))}),n.children.length&&this.forwardEvent(new zk(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(g_(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),g_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=function AR(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),d=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=d,s.outlet&&s.outlet.activateWith(r,d),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class C_{constructor(n,e){this.routes=n,this.module=e}}function Go(t){return"function"==typeof t}function gs(t){return t instanceof _s}const Jl=Symbol("INITIAL_VALUE");function Ql(){return go(t=>function u_(...t){const n=wi(t),e=eo(t),{args:i,keys:r}=Yb(t);if(0===i.length)return qn([],n);const o=new Z(function Pk(t,n,e=X){return i=>{Zb(n,()=>{const{length:r}=t,o=new Array(r);let s=r,a=r;for(let d=0;d<r;d++)Zb(n,()=>{const T=qn(t[d],n);let R=!1;T.subscribe(N(i,ee=>{o[d]=ee,R||(R=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>Kb(r,s):X));return e?o.pipe(l_(e)):o}(t.map(n=>n.pipe(gi(1),ql(Jl)))).pipe(Xb((n,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Jl?r:(o===Jl&&(i=!0),i||!1!==o&&s!==e.length-1&&!gs(o)?r:o),n)},Jl),Jn(n=>n!==Jl),H(n=>gs(n)?n:!0===n),gi(1)))}class FR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xl,this.attachRef=null}}class Xl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new FR,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let Ma=(()=>{class t{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.name=o||Vt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,d=new jR(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(be(Xl),be(lr),be(ba),so("name"),be(Zi))},t.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class jR{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Aa?this.route:n===Xl?this.childContexts:this.parent.get(n,e)}}let Mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Pe(0,"router-outlet")},directives:[Ma],encapsulation:2}),t})();function Iw(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];$R(i,BR(n,i))}}function $R(t,n){t.children&&Iw(t.children,n)}function BR(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function E_(t){const n=t.children&&t.children.map(E_),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Vt&&(e.component=Mw),e}function dr(t){return t.outlet||Vt}function Pw(t,n){const e=t.filter(i=>dr(i)===n);return e.push(...t.filter(i=>dr(i)!==n)),e}const kw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ld(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},kw):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||Qk)(e,t,n);if(!o)return Object.assign({},kw);const s={};ci(o.posParams,(d,T)=>{s[T]=d.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function ud(t,n,e,i,r="corrected"){if(e.length>0&&function UR(t,n,e){return e.some(i=>cd(t,n,i)&&dr(i)!==Vt)}(t,e,i)){const s=new Wt(n,function VR(t,n,e,i){const r={};r[Vt]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const o of e)if(""===o.path&&dr(o)!==Vt){const s=new Wt([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,r[dr(o)]=s}return r}(t,n,i,new Wt(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function HR(t,n,e){return e.some(i=>cd(t,n,i))}(t,e,i)){const s=new Wt(t.segments,function LR(t,n,e,i,r,o){const s={};for(const a of i)if(cd(t,e,a)&&!r[dr(a)]){const d=new Wt([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:n.length,s[dr(a)]=d}return Object.assign(Object.assign({},r),s)}(t,n,e,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const o=new Wt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}function cd(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function Rw(t,n,e,i){return!!(dr(t)===i||i!==Vt&&cd(n,e,t))&&("**"===t.path||ld(n,t,e).matched)}function Fw(t,n,e){return 0===n.length&&!t.children[e]}class dd{constructor(n){this.segmentGroup=n||null}}class jw{constructor(n){this.urlTree=n}}function eu(t){return Qc(new dd(t))}function $w(t){return Qc(new jw(t))}class zR{constructor(n,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=n.get(fo)}apply(){const n=ud(this.urlTree.root,[],[],this.config).segmentGroup,e=new Wt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Vt).pipe(H(o=>this.createUrlTree(T_(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(o=>{if(o instanceof jw)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof dd?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Vt).pipe(H(r=>this.createUrlTree(T_(r),n.queryParams,n.fragment))).pipe(Ho(r=>{throw r instanceof dd?this.noMatchError(r):r}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const r=n.segments.length>0?new Wt([],{[Vt]:n}):n;return new _s(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(H(o=>new Wt([],o))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return qn(r).pipe(Da(o=>{const s=i.children[o],a=Pw(e,o);return this.expandSegmentGroup(n,a,s,o).pipe(H(d=>({segment:d,outlet:o})))}),Xb((o,s)=>(o[s.outlet]=s.segment,o),{}),function $k(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Jn((r,o)=>t(r,o,i)):X,c_(1),e?tw(n):ew(()=>new Xc))}())}expandSegment(n,e,i,r,o,s){return qn(i).pipe(Da(a=>this.expandSegmentAgainstRoute(n,e,i,a,r,o,s).pipe(Ho(T=>{if(T instanceof dd)return Nt(null);throw T}))),Oa(a=>!!a),Ho((a,d)=>{if(a instanceof Xc||"EmptyError"===a.name)return Fw(e,r,o)?Nt(new Wt([],{})):eu(e);throw a}))}expandSegmentAgainstRoute(n,e,i,r,o,s,a){return Rw(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s):eu(e):eu(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?$w(o):this.lineralizeSegments(i,o).pipe(Bt(s=>{const a=new Wt(s,{});return this.expandSegment(n,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){const{matched:a,consumedSegments:d,remainingSegments:T,positionalParamSegments:R}=ld(e,r,o);if(!a)return eu(e);const ee=this.applyRedirectCommands(d,r.redirectTo,R);return r.redirectTo.startsWith("/")?$w(ee):this.lineralizeSegments(r,ee).pipe(Bt(se=>this.expandSegment(n,e,i,se.concat(T),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Nt(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe(H(ee=>(i._loadedConfig=ee,new Wt(r,{})))):Nt(new Wt(r,{}));const{matched:s,consumedSegments:a,remainingSegments:d}=ld(e,i,r);return s?this.getChildConfig(n,i,r).pipe(Bt(R=>{const ee=R.module,se=R.routes,{segmentGroup:me,slicedSegments:Te}=ud(e,a,d,se),Ae=new Wt(me.segments,me.children);if(0===Te.length&&Ae.hasChildren())return this.expandChildren(ee,se,Ae).pipe(H(Ye=>new Wt(a,Ye)));if(0===se.length&&0===Te.length)return Nt(new Wt(a,{}));const Re=dr(i)===o;return this.expandSegment(ee,Ae,se,Te,Re?Vt:o,!0).pipe(H(Ie=>new Wt(a.concat(Ie.segments),Ie.children)))})):eu(e)}getChildConfig(n,e,i){return e.children?Nt(new C_(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?Nt(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe(Bt(r=>r?this.configLoader.load(n.injector,e).pipe(H(o=>(e._loadedConfig=o,o))):function qR(t){return Qc(p_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):Nt(new C_([],n))}runCanLoadGuards(n,e,i){const r=e.canLoad;return r&&0!==r.length?Nt(r.map(s=>{const a=n.get(s);let d;if(function IR(t){return t&&Go(t.canLoad)}(a))d=a.canLoad(e,i);else{if(!Go(a))throw new Error("Invalid CanLoad guard");d=a(e,i)}return zr(d)})).pipe(Ql(),ui(s=>{if(!gs(s))return;const a=p_(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),H(s=>!0===s)):Nt(!0)}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[Vt])return Qc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));r=r.children[Vt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,r){const o=this.createSegmentGroup(n,e.root,i,r);return new _s(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return ci(n,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(n,e,i,r){const o=this.createSegments(n,e.segments,i,r);let s={};return ci(e.children,(a,d)=>{s[d]=this.createSegmentGroup(n,a,i,r)}),new Wt(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}function T_(t){const n={};for(const i of Object.keys(t.children)){const o=T_(t.children[i]);(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function YR(t){if(1===t.numberOfChildren&&t.children[Vt]){const n=t.children[Vt];return new Wt(t.segments.concat(n.segments),n.children)}return t}(new Wt(t.segments,n))}class Bw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class pd{constructor(n,e){this.component=n,this.route=e}}function ZR(t,n,e){const i=t._root;return tu(i,n?n._root:null,e,[i.value])}function fd(t,n,e){const i=function QR(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function tu(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=xa(n);return t.children.forEach(s=>{(function XR(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const d=function e3(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!ms(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,n.url)||!Wr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y_(t,n)||!Wr(t.queryParams,n.queryParams);default:return!y_(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Bw(i)):(o.data=s.data,o._resolvedData=s._resolvedData),tu(t,n,o.component?a?a.children:null:e,i,r),d&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new pd(a.outlet.component,s))}else s&&nu(n,a,r),r.canActivateChecks.push(new Bw(i)),tu(t,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),ci(o,(s,a)=>nu(s,e.getContext(a),r)),r}function nu(t,n,e){const i=xa(t),r=t.value;ci(i,(o,s)=>{nu(o,r.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new pd(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}class c3{}function Lw(t){return new Z(n=>n.error(t))}class p3{constructor(n,e,i,r,o,s){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const n=ud(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Vt);if(null===e)return null;const i=new od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vo(i,e),o=new Tw(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(n){const e=n.value,i=Ew(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=Pw(n,o),d=this.processSegmentGroup(a,s,o);if(null===d)return null;i.push(...d)}const r=Vw(i);return function f3(t){t.sort((n,e)=>n.value.outlet===Vt?-1:e.value.outlet===Vt?1:n.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(n,e,i,r){for(const o of n){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return Fw(e,i,r)?[]:null}processSegmentAgainstRoute(n,e,i,r){if(n.redirectTo||!Rw(n,e,i,r))return null;let o,s=[],a=[];if("**"===n.path){const me=i.length>0?uw(i).parameters:{};o=new od(i,me,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gw(n),dr(n),n.component,n,Uw(e),Hw(e)+i.length,qw(n))}else{const me=ld(e,n,i);if(!me.matched)return null;s=me.consumedSegments,a=me.remainingSegments,o=new od(s,me.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gw(n),dr(n),n.component,n,Uw(e),Hw(e)+s.length,qw(n))}const d=function h3(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:T,slicedSegments:R}=ud(e,s,a,d.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===R.length&&T.hasChildren()){const me=this.processChildren(d,T);return null===me?null:[new vo(o,me)]}if(0===d.length&&0===R.length)return[new vo(o,[])];const ee=dr(n)===r,se=this.processSegment(d,T,R,ee?Vt:r);return null===se?null:[new vo(o,se)]}}function _3(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Vw(t){const n=[],e=new Set;for(const i of t){if(!_3(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=Vw(i.children);n.push(new vo(i.value,r))}return n.filter(i=>!e.has(i))}function Uw(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Hw(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Gw(t){return t.data||{}}function qw(t){return t.resolve||{}}function Ww(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function S_(t){return go(n=>{const e=t(n);return e?qn(e).pipe(H(()=>n)):Nt(n)})}class E3 extends class C3{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const D_=new kt("ROUTES");class zw{constructor(n,e,i,r){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(H(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(n);return new C_(lw(s.injector.get(D_,void 0,xt.Self|xt.Optional)).map(E_),s)}),Ho(o=>{throw e._loader$=void 0,o}));return e._loader$=new Rk(r,()=>new Ee).pipe(Qb()),e._loader$}loadModuleFactory(n){return zr(n()).pipe(Bt(e=>e instanceof a1?Nt(e):qn(this.compiler.compileModuleAsync(e))))}}class S3{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function D3(t){throw t}function O3(t,n,e){return n.parse("/")}function Yw(t,n){return Nt(null)}const N3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class t{constructor(e,i,r,o,s,a,d){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=D3,this.malformedUriErrorHandler=O3,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yw,afterPreactivation:Yw},this.urlHandlingStrategy=new S3,this.routeReuseStrategy=new E3,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(fo),this.console=s.get(RM);const ee=s.get(_n);this.isNgZoneEnabled=ee instanceof _n&&_n.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function eR(){return new _s(new Wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zw(s,a,se=>this.triggerEvent(new iw(se)),se=>this.triggerEvent(new rw(se))),this.routerState=Cw(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Jn(r=>0!==r.id),H(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),go(r=>{let o=!1,s=!1;return Nt(r).pipe(ui(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),go(a=>{const d=this.browserUrlTree.toString(),T=!this.navigated||a.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Kw(a.source)&&(this.browserUrlTree=a.extractedUrl),Nt(a).pipe(go(ee=>{const se=this.transitions.getValue();return i.next(new d_(ee.id,this.serializeUrl(ee.extractedUrl),ee.source,ee.restoredState)),se!==this.transitions.getValue()?Tn:Promise.resolve(ee)}),function KR(t,n,e,i){return go(r=>function WR(t,n,e,i,r){return new zR(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(H(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ui(ee=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ee.urlAfterRedirects})}),function m3(t,n,e,i,r){return Bt(o=>function d3(t,n,e,i,r="emptyOnly",o="legacy"){try{const s=new p3(t,n,e,i,r,o).recognize();return null===s?Lw(new c3):Nt(s)}catch(s){return Lw(s)}}(t,n,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(H(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,ee=>this.serializeUrl(ee),this.paramsInheritanceStrategy,this.relativeLinkResolution),ui(ee=>{if("eager"===this.urlUpdateStrategy){if(!ee.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl);this.setBrowserUrl(me,ee)}this.browserUrlTree=ee.urlAfterRedirects}const se=new Vk(ee.id,this.serializeUrl(ee.extractedUrl),this.serializeUrl(ee.urlAfterRedirects),ee.targetSnapshot);i.next(se)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:se,extractedUrl:me,source:Te,restoredState:Ae,extras:Re}=a,Fe=new d_(se,this.serializeUrl(me),Te,Ae);i.next(Fe);const Ie=Cw(me,this.rootComponentType).snapshot;return Nt(Object.assign(Object.assign({},a),{targetSnapshot:Ie,urlAfterRedirects:me,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Tn}),S_(a=>{const{targetSnapshot:d,id:T,extractedUrl:R,rawUrl:ee,extras:{skipLocationChange:se,replaceUrl:me}}=a;return this.hooks.beforePreactivation(d,{navigationId:T,appliedUrlTree:R,rawUrlTree:ee,skipLocationChange:!!se,replaceUrl:!!me})}),ui(a=>{const d=new Uk(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(d)}),H(a=>Object.assign(Object.assign({},a),{guards:ZR(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function t3(t,n){return Bt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Nt(Object.assign(Object.assign({},e),{guardsResult:!0})):function n3(t,n,e,i){return qn(t).pipe(Bt(r=>function u3(t,n,e,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(a=>{const d=fd(a,n,r);let T;if(function RR(t){return t&&Go(t.canDeactivate)}(d))T=zr(d.canDeactivate(t,n,e,i));else{if(!Go(d))throw new Error("Invalid CanDeactivate guard");T=zr(d(t,n,e,i))}return T.pipe(Oa())})).pipe(Ql()):Nt(!0)}(r.component,r.route,e,n,i)),Oa(r=>!0!==r,!0))}(s,i,r,t).pipe(Bt(a=>a&&function MR(t){return"boolean"==typeof t}(a)?function r3(t,n,e,i){return qn(n).pipe(Da(r=>Gl(function s3(t,n){return null!==t&&n&&n(new Wk(t)),Nt(!0)}(r.route.parent,i),function o3(t,n){return null!==t&&n&&n(new Yk(t)),Nt(!0)}(r.route,i),function l3(t,n,e){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function JR(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Jb(()=>Nt(s.guards.map(d=>{const T=fd(d,s.node,e);let R;if(function kR(t){return t&&Go(t.canActivateChild)}(T))R=zr(T.canActivateChild(i,t));else{if(!Go(T))throw new Error("Invalid CanActivateChild guard");R=zr(T(i,t))}return R.pipe(Oa())})).pipe(Ql())));return Nt(o).pipe(Ql())}(t,r.path,e),function a3(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(o=>Jb(()=>{const s=fd(o,n,e);let a;if(function PR(t){return t&&Go(t.canActivate)}(s))a=zr(s.canActivate(n,t));else{if(!Go(s))throw new Error("Invalid CanActivate guard");a=zr(s(n,t))}return a.pipe(Oa())}));return Nt(r).pipe(Ql())}(t,r.route,e))),Oa(r=>!0!==r,!0))}(i,o,t,n):Nt(a)),H(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ui(a=>{if(gs(a.guardsResult)){const T=p_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw T.url=a.guardsResult,T}const d=new Hk(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(d)}),Jn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),S_(a=>{if(a.guards.canActivateChecks.length)return Nt(a).pipe(ui(d=>{const T=new Gk(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(T)}),go(d=>{let T=!1;return Nt(d).pipe(function g3(t,n){return Bt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Nt(e);let o=0;return qn(r).pipe(Da(s=>function y3(t,n,e,i){return function v3(t,n,e,i){const r=Ww(t);if(0===r.length)return Nt({});const o={};return qn(r).pipe(Bt(s=>function b3(t,n,e,i){const r=fd(t,n,i);return zr(r.resolve?r.resolve(n,e):r(n,e))}(t[s],n,e,i).pipe(ui(a=>{o[s]=a}))),c_(1),Bt(()=>Ww(o).length===r.length?Nt(o):Tn))}(t._resolve,t,n,i).pipe(H(o=>(t._resolvedData=o,t.data=Object.assign(Object.assign({},t.data),Ew(t,e).resolve),null)))}(s.route,i,t,n)),ui(()=>o++),c_(1),Bt(s=>o===r.length?Nt(e):Tn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ui({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),ui(d=>{const T=new qk(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(T)}))}),S_(a=>{const{targetSnapshot:d,id:T,extractedUrl:R,rawUrl:ee,extras:{skipLocationChange:se,replaceUrl:me}}=a;return this.hooks.afterPreactivation(d,{navigationId:T,appliedUrlTree:R,rawUrlTree:ee,skipLocationChange:!!se,replaceUrl:!!me})}),H(a=>{const d=function yR(t,n,e){const i=Kl(t,n._root,e?e._root:void 0);return new ww(i,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:d})}),ui(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>H(i=>(new xR(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ui({next(){o=!0},complete(){o=!0}}),function Bk(t){return le((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ho(a=>{if(s=!0,function Jk(t){return t&&t[sw]}(a)){const d=gs(a.url);d||(this.navigated=!0,this.restoreHistory(r,!0));const T=new nw(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(T),d?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),ee={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kw(r.source)};this.scheduleNavigation(R,"imperative",null,ee,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const d=new Lk(r.id,this.serializeUrl(r.extractedUrl),a);i.next(d);try{r.resolve(this.errorHandler(a))}catch(T){r.reject(T)}}return Tn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const d=Object.assign({},s);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(o.state=d)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Iw(e),this.config=e.map(E_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:d}=i,T=r||this.routerState.root,R=d?this.currentUrlTree.fragment:s;let ee=null;switch(a){case"merge":ee=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":ee=this.currentUrlTree.queryParams;break;default:ee=o||null}return null!==ee&&(ee=this.removeEmptyProps(ee)),function wR(t,n,e,i,r){if(0===e.length)return v_(n.root,n.root,n.root,i,r);const o=function CR(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ow(!0,0,t);let n=0,e=!1;const i=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ci(o.outlets,(d,T)=>{a[T]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,d)=>{0==d&&"."===a||(0==d&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Ow(e,n,i)}(e);if(o.toRoot())return v_(n.root,n.root,new Wt([],{}),i,r);const s=function ER(t,n,e){if(t.isAbsolute)return new b_(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new b_(o,o===n.root,0)}const i=sd(t.commands[0])?0:1;return function TR(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new b_(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,n,t),a=s.processChildren?ad(s.segmentGroup,s.index,o.commands):Nw(s.segmentGroup,s.index,o.commands);return v_(n.root,s.segmentGroup,a,i,r)}(T,this.currentUrlTree,e,ee,null!=R?R:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=gs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function A3(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},N3):!1===i?Object.assign({},x3):i,gs(e))return dw(this.currentUrlTree,e,r);const o=this.parseUrl(e);return dw(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Wl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,d;if(this.disposed)return Promise.resolve(!1);let T,R,ee;s?(T=s.resolve,R=s.reject,ee=s.promise):ee=new Promise((Te,Ae)=>{T=Te,R=Ae});const se=++this.navigationId;let me;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),me=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):me=0,this.setTransition({id:se,targetPageId:me,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:T,reject:R,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(Te=>Promise.reject(Te))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new nw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){Yf()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Kw(t){return"imperative"!==t}let Yr=(()=>{class t{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ee,this.subscription=e.events.subscribe(o=>{o instanceof Wl&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,s){if(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ia(this.skipLocationChange),replaceUrl:Ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ia(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(be(kn),be(Aa),be(Sa))},t.\u0275dir=Ze({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&_e("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&sn("target",i.target)("href",i.href,pf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$n]}),t})();function Ia(t){return""===t||!!t}class Zw{}class Jw{preload(n,e){return Nt(null)}}let Qw=(()=>{class t{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new zw(r,i,d=>e.triggerEvent(new iw(d)),d=>e.triggerEvent(new rw(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jn(e=>e instanceof Wl),Da(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(fo);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return qn(r).pipe(xn(),H(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Nt(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Bt(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Je(kn),Je(q1),Je(Yn),Je(Zw))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),N_=(()=>{class t{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ow&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new ow(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Yf()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const ys=new kt("ROUTER_CONFIGURATION"),Xw=new kt("ROUTER_FORROOT_GUARD"),k3=[Vh,{provide:_w,useClass:mw},{provide:kn,useFactory:function B3(t,n,e,i,r,o,s={},a,d){const T=new kn(null,t,n,e,i,r,lw(o));return a&&(T.urlHandlingStrategy=a),d&&(T.routeReuseStrategy=d),function L3(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,T),s.enableTracing&&T.events.subscribe(R=>{var ee,se;null===(ee=console.group)||void 0===ee||ee.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(se=console.groupEnd)||void 0===se||se.call(console)}),T},deps:[_w,Xl,Vh,Yn,q1,D_,ys,[class T3{},new ko],[class w3{},new ko]]},Xl,{provide:Aa,useFactory:function V3(t){return t.routerState.root},deps:[kn]},Qw,Jw,class P3{preload(n,e){return e().pipe(Ho(()=>Nt(null)))}},{provide:ys,useValue:{enableTracing:!1}}];function R3(){return new Z1("Router",kn)}let Pa=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[k3,eC(e),{provide:Xw,useFactory:$3,deps:[[kn,new ko,new cl]]},{provide:ys,useValue:i||{}},{provide:Sa,useFactory:j3,deps:[fs,[new ic(Lh),new ko],ys]},{provide:N_,useFactory:F3,deps:[kn,UP,ys]},{provide:Zw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Jw},{provide:Z1,multi:!0,useFactory:R3},[x_,{provide:Sh,multi:!0,useFactory:U3,deps:[x_]},{provide:tC,useFactory:H3,deps:[x_]},{provide:G1,multi:!0,useExisting:tC}]]}}static forChild(e){return{ngModule:t,providers:[eC(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Je(Xw,8),Je(kn,8))},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();function F3(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new N_(t,n,e)}function j3(t,n,e={}){return e.useHash?new OI(t,n):new _b(t,n)}function $3(t){return"guarded"}function eC(t){return[{provide:gD,multi:!0,useValue:t},{provide:D_,multi:!0,useValue:t}]}let x_=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(TI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(kn),s=this.injector.get(ys);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(ys),r=this.injector.get(Qw),o=this.injector.get(N_),s=this.injector.get(kn),a=this.injector.get($l);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Je(Yn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function U3(t){return t.appInitializer.bind(t)}function H3(t){return t.bootstrapListener.bind(t)}const tC=new kt("Router Initializer");let q3=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-forgot-password-ok"]],decls:7,vars:0,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Votre demande \xe0 bien \xe9t\xe9 prise en compte."),E(),b(5,"p",3),Y(6,"Vous allez recevoir la proc\xe9dure de r\xe9initialisation \xe0 l'adresse :"),E()()()())},styles:[""]}),t})();function nC(...t){const n=eo(t),{args:e,keys:i}=Yb(t),r=new Z(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let d=s,T=s;for(let R=0;R<s;R++){let ee=!1;Ke(e[R]).subscribe(N(o,se=>{ee||(ee=!0,T--),a[R]=se},()=>d--,void 0,()=>{(!d||!ee)&&(T||o.next(i?Kb(i,a):a),o.complete())}))}});return n?r.pipe(l_(n)):r}let iC=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(Zt))},t.\u0275dir=Ze({type:t}),t})(),vs=(()=>{class t extends iC{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,features:[an]}),t})();const Ji=new kt("NgValueAccessor"),z3={provide:Ji,useExisting:ut(()=>xi),multi:!0},K3=new kt("CompositionEventMode");let xi=(()=>{class t extends iC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Y3(){const t=qr()?qr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(Zt),be(K3,8))},t.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&_e("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Xt([z3]),an]}),t})();function qo(t){return null==t||0===t.length}function oC(t){return null!=t&&"number"==typeof t.length}const yi=new kt("NgValidators"),Wo=new kt("NgAsyncValidators"),Z3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oi{static min(n){return sC(n)}static max(n){return aC(n)}static required(n){return lC(n)}static requiredTrue(n){return function uC(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function cC(t){return qo(t.value)||Z3.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function dC(t){return n=>qo(n.value)||!oC(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function pC(t){return n=>oC(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function fC(t){if(!t)return hd;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(qo(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return vC(n)}static composeAsync(n){return bC(n)}}function sC(t){return n=>{if(qo(n.value)||qo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function aC(t){return n=>{if(qo(n.value)||qo(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function lC(t){return qo(t.value)?{required:!0}:null}function hd(t){return null}function hC(t){return null!=t}function _C(t){const n=Tl(t)?qn(t):t;return Zf(n),n}function mC(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function gC(t,n){return n.map(e=>e(t))}function yC(t){return t.map(n=>function J3(t){return!t.validate}(n)?n:e=>n.validate(e))}function vC(t){if(!t)return null;const n=t.filter(hC);return 0==n.length?null:function(e){return mC(gC(e,n))}}function A_(t){return null!=t?vC(yC(t)):null}function bC(t){if(!t)return null;const n=t.filter(hC);return 0==n.length?null:function(e){return nC(gC(e,n).map(_C)).pipe(H(mC))}}function M_(t){return null!=t?bC(yC(t)):null}function wC(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function CC(t){return t._rawValidators}function EC(t){return t._rawAsyncValidators}function I_(t){return t?Array.isArray(t)?t:[t]:[]}function _d(t,n){return Array.isArray(t)?t.includes(n):t===n}function TC(t,n){const e=I_(n);return I_(t).forEach(r=>{_d(e,r)||e.push(r)}),e}function SC(t,n){return I_(n).filter(e=>!_d(t,e))}class DC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=A_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class zo extends DC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ai extends DC{get formDirective(){return null}get path(){return null}}class OC{constructor(n){this._cd=n}is(n){var e,i,r;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[n])}}let Qi=(()=>{class t extends OC{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(be(zo,2))},t.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&nn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[an]}),t})(),bo=(()=>{class t extends OC{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(be(Ai,10))},t.\u0275dir=Ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&nn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[an]}),t})();function gd(t,n){return[...n.path,t]}function iu(t,n){R_(t,n),n.valueAccessor.writeValue(t.value),function oF(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&xC(t,n)})}(t,n),function aF(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function sF(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&xC(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function rF(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function yd(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),bd(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vd(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function R_(t,n){const e=CC(t);null!==n.validator?t.setValidators(wC(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=EC(t);null!==n.asyncValidator?t.setAsyncValidators(wC(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();vd(n._rawValidators,r),vd(n._rawAsyncValidators,r)}function bd(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=CC(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const r=EC(t);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}const i=()=>{};return vd(n._rawValidators,i),vd(n._rawAsyncValidators,i),e}function xC(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AC(t,n){R_(t,n)}function F_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function IC(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function j_(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===xi?e=o:function cF(t){return Object.getPrototypeOf(t.constructor)===vs}(o)?i=o:r=o}),r||i||e||null}function $_(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const ru="VALID",wd="INVALID",ka="PENDING",ou="DISABLED";function L_(t){return(Cd(t)?t.validators:t)||null}function PC(t){return Array.isArray(t)?A_(t):t||null}function V_(t,n){return(Cd(n)?n.asyncValidators:t)||null}function kC(t){return Array.isArray(t)?M_(t):t||null}function Cd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const U_=t=>t instanceof Cn,Ed=t=>t instanceof pr,RC=t=>t instanceof BC;function FC(t){return U_(t)?t.value:t.getRawValue()}function jC(t,n){const e=Ed(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new Tt(1e3,"");if(!i[n])throw new Tt(1001,"")}function $C(t,n){Ed(t),t._forEachChild((i,r)=>{if(void 0===n[r])throw new Tt(1002,"")})}class H_{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=PC(this._rawValidators),this._composedAsyncValidatorFn=kC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===wd}get pending(){return this.status==ka}get disabled(){return this.status===ou}get enabled(){return this.status!==ou}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=PC(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=kC(n)}addValidators(n){this.setValidators(TC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(TC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(SC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(SC(n,this._rawAsyncValidators))}hasValidator(n){return _d(this._rawValidators,n)}hasAsyncValidator(n){return _d(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ka,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ou,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ru,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===ka)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ou:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;const e=_C(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function dF(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(r=>{i=Ed(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:RC(i)&&i.at(r)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?ou:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(wd)?wd:ru}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cd(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cn extends H_{constructor(n=null,e,i){super(L_(e),V_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cd(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){$_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){$_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class pr extends H_{constructor(n,e,i){super(L_(e),V_(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){$C(this,n),Object.keys(n).forEach(i=>{jC(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=FC(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class BC extends H_{constructor(n,e,i){super(L_(e),V_(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){$C(this,n),n.forEach((i,r)=>{jC(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>FC(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const pF={provide:Ai,useExisting:ut(()=>Td)},su=(()=>Promise.resolve(null))();let Td=(()=>{class t extends Ai{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new gt,this.form=new pr({},A_(e),M_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){su.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),iu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){su.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){su.then(()=>{const i=this._findContainer(e.path),r=new pr({});AC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){su.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){su.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,IC(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(be(yi,10),be(Wo,10))},t.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([pF]),an]}),t})();const hF={provide:zo,useExisting:ut(()=>Kr)},UC=(()=>Promise.resolve(null))();let Kr=(()=>{class t extends zo{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new Cn,this._registered=!1,this.update=new gt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=j_(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),F_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){UC.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;UC.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?gd(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(be(Ai,9),be(yi,10),be(Wo,10),be(Ji,10),be(Zi,8))},t.\u0275dir=Ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xt([hF]),an,$n]}),t})(),wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const _F={provide:Ji,useExisting:ut(()=>au),multi:!0};let au=(()=>{class t extends vs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&_e("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Xt([_F]),an]}),t})(),HC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();const G_=new kt("NgModelWithFormControlWarning"),bF={provide:Ai,useExisting:ut(()=>Zr)};let Zr=(()=>{class t extends Ai{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return iu(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){yd(e.control||null,e,!1),$_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,IC(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(yd(i||null,e),U_(r)&&(iu(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);AC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function lF(t,n){return bd(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){R_(this.form,this),this._oldForm&&bd(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(be(yi,10),be(Wo,10))},t.\u0275dir=Ze({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&_e("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([bF]),an,$n]}),t})();const EF={provide:zo,useExisting:ut(()=>Co)};let Co=(()=>{class t extends zo{constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new gt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=j_(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),F_(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(be(Ai,13),be(yi,10),be(Wo,10),be(Ji,10),be(G_,8))},t.\u0275dir=Ze({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xt([EF]),an,$n]}),t})();const TF={provide:Ji,useExisting:ut(()=>Sd),multi:!0};function YC(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Sd=(()=>{class t extends vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=YC(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function SF(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&_e("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([TF]),an]}),t})(),bs=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(YC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(be(Zt),be(Ri),be(Sd,9))},t.\u0275dir=Ze({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const DF={provide:Ji,useExisting:ut(()=>z_),multi:!0};function KC(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let z_=(()=>{class t extends vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const T=this._getOptionValue(s[a].value);r.push(T)}}else{const s=i.options;for(let a=0;a<s.length;a++){const d=s[a];if(d.selected){const T=this._getOptionValue(d.value);r.push(T)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function OF(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&_e("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([DF]),an]}),t})(),ws=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(KC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(KC(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(be(Zt),be(Ri),be(z_,9))},t.\u0275dir=Ze({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function JC(t){return"number"==typeof t?t:parseFloat(t)}let Cs=(()=>{class t{constructor(){this._validator=hd}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):hd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,features:[$n]}),t})();const xF={provide:yi,useExisting:ut(()=>Y_),multi:!0};let Y_=(()=>{class t extends Cs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>JC(e),this.createValidator=e=>aC(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&sn("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Xt([xF]),an]}),t})();const AF={provide:yi,useExisting:ut(()=>K_),multi:!0};let K_=(()=>{class t extends Cs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>JC(e),this.createValidator=e=>sC(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&sn("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Xt([AF]),an]}),t})();const MF={provide:yi,useExisting:ut(()=>Es),multi:!0};let Es=(()=>{class t extends Cs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function NF(t){return null!=t&&!1!==t&&"false"!=`${t}`}(e),this.createValidator=e=>lC}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=hi(t)))(i||t)}}(),t.\u0275dir=Ze({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&sn("required",i._enabled?"":null)},inputs:{required:"required"},features:[Xt([MF]),an]}),t})(),iE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[HC]]}),t})(),Z_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[iE]}),t})(),lu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:G_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[iE]}),t})(),Ra=(()=>{class t{group(e,i=null){const r=this._reduceControls(e);let a,o=null,s=null;return null!=i&&(function jF(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(o=null!=i.validators?i.validators:null,s=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,s=null!=i.asyncValidator?i.asyncValidator:null)),new pr(r,{asyncValidators:s,updateOn:a,validators:o})}control(e,i,r){return new Cn(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new BC(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return U_(e)||Ed(e)||RC(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:lu}),t})();class rE{}class oE{}class ot{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ot?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ot;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ot?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class $F{encodeKey(n){return sE(n)}encodeValue(n){return sE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const LF=/%(\d[a-f0-9])/gi,VF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sE(t){return encodeURIComponent(t).replace(LF,(n,e)=>{var i;return null!==(i=VF[e])&&void 0!==i?i:n})}function aE(t){return`${t}`}class Yo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new $F,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BF(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],d=e.get(s)||[];d.push(a),e.set(s,d)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Yo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(aE(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(aE(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class UF{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function lE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function uE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function cE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class uu{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function HF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ot),this.context||(this.context=new UF),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Yo,this.urlWithParams=e}serializeBody(){return null===this.body?null:lE(this.body)||uE(this.body)||cE(this.body)||function GF(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cE(this.body)?null:uE(this.body)?this.body.type||null:lE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,d=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let T=n.headers||this.headers,R=n.params||this.params;const ee=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(T=Object.keys(n.setHeaders).reduce((se,me)=>se.set(me,n.setHeaders[me]),T)),n.setParams&&(R=Object.keys(n.setParams).reduce((se,me)=>se.set(me,n.setParams[me]),R)),new uu(i,r,s,{params:R,headers:T,context:ee,reportProgress:d,responseType:o,withCredentials:a})}}var Gn=(()=>((Gn=Gn||{})[Gn.Sent=0]="Sent",Gn[Gn.UploadProgress=1]="UploadProgress",Gn[Gn.ResponseHeader=2]="ResponseHeader",Gn[Gn.DownloadProgress=3]="DownloadProgress",Gn[Gn.Response=4]="Response",Gn[Gn.User=5]="User",Gn))();class J_{constructor(n,e=200,i="OK"){this.headers=n.headers||new ot,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Q_ extends J_{constructor(n={}){super(n),this.type=Gn.ResponseHeader}clone(n={}){return new Q_({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Dd extends J_{constructor(n={}){super(n),this.type=Gn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Dd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class dE extends J_{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function X_(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qn=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof uu)o=e;else{let d,T;d=r.headers instanceof ot?r.headers:new ot(r.headers),r.params&&(T=r.params instanceof Yo?r.params:new Yo({fromObject:r.params})),o=new uu(e,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:T,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Nt(o).pipe(Da(d=>this.handler.handle(d)));if(e instanceof uu||"events"===r.observe)return s;const a=s.pipe(Jn(d=>d instanceof Dd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(H(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return a.pipe(H(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return a.pipe(H(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return a.pipe(H(d=>d.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Yo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,X_(r,i))}post(e,i,r={}){return this.request("POST",e,X_(r,i))}put(e,i,r={}){return this.request("PUT",e,X_(r,i))}}return t.\u0275fac=function(e){return new(e||t)(Je(rE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class pE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const fE=new kt("HTTP_INTERCEPTORS");let qF=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const WF=/^\)\]\}',?\n/;let hE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Z(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((me,Te)=>r.setRequestHeader(me,Te.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const me=e.detectContentTypeHeader();null!==me&&r.setRequestHeader("Content-Type",me)}if(e.responseType){const me=e.responseType.toLowerCase();r.responseType="json"!==me?me:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const me=r.statusText||"OK",Te=new ot(r.getAllResponseHeaders()),Ae=function zF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Q_({headers:Te,status:r.status,statusText:me,url:Ae}),s},d=()=>{let{headers:me,status:Te,statusText:Ae,url:Re}=a(),Fe=null;204!==Te&&(Fe=void 0===r.response?r.responseText:r.response),0===Te&&(Te=Fe?200:0);let Ie=Te>=200&&Te<300;if("json"===e.responseType&&"string"==typeof Fe){const Ye=Fe;Fe=Fe.replace(WF,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(Xe){Fe=Ye,Ie&&(Ie=!1,Fe={error:Xe,text:Fe})}}Ie?(i.next(new Dd({body:Fe,headers:me,status:Te,statusText:Ae,url:Re||void 0})),i.complete()):i.error(new dE({error:Fe,headers:me,status:Te,statusText:Ae,url:Re||void 0}))},T=me=>{const{url:Te}=a(),Ae=new dE({error:me,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Te||void 0});i.error(Ae)};let R=!1;const ee=me=>{R||(i.next(a()),R=!0);let Te={type:Gn.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(Te.total=me.total),"text"===e.responseType&&!!r.responseText&&(Te.partialText=r.responseText),i.next(Te)},se=me=>{let Te={type:Gn.UploadProgress,loaded:me.loaded};me.lengthComputable&&(Te.total=me.total),i.next(Te)};return r.addEventListener("load",d),r.addEventListener("error",T),r.addEventListener("timeout",T),r.addEventListener("abort",T),e.reportProgress&&(r.addEventListener("progress",ee),null!==o&&r.upload&&r.upload.addEventListener("progress",se)),r.send(o),i.next({type:Gn.Sent}),()=>{r.removeEventListener("error",T),r.removeEventListener("abort",T),r.removeEventListener("load",d),r.removeEventListener("timeout",T),e.reportProgress&&(r.removeEventListener("progress",ee),null!==o&&r.upload&&r.upload.removeEventListener("progress",se)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Je(Rb))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const em=new kt("XSRF_COOKIE_NAME"),tm=new kt("XSRF_HEADER_NAME");class _E{}let YF=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sb(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn),Je(kc),Je(em))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),nm=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Je(_E),Je(tm))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),KF=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(fE,[]);this.chain=i.reduceRight((r,o)=>new pE(r,o),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Je(oE),Je(Yn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ZF=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:nm,useClass:qF}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:em,useValue:e.cookieName}:[],e.headerName?{provide:tm,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:[nm,{provide:fE,useExisting:nm,multi:!0},{provide:_E,useClass:YF},{provide:em,useValue:"XSRF-TOKEN"},{provide:tm,useValue:"X-XSRF-TOKEN"}]}),t})(),mE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:[Qn,{provide:rE,useClass:KF},hE,{provide:oE,useExisting:hE}],imports:[[ZF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const im={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};let Xn=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getUserByMail(e){return this.http.get(this.apiUrl+"/user/"+e,im)}updatePersonalData(e,i,r){return this.http.put(this.apiUrl+"/user/personalData/"+e,{firstName_:r,lastName_:i},im)}updatePassword(e,i){return this.http.put(this.apiUrl+"/user/"+e,{password:i},im)}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JF=(()=>{class t{constructor(e,i,r){this.http=e,this.userService=i,this.router=r,this.changePasswordForm=new pr({password:new Cn("",oi.required)}),this.errorMessage=""}ngOnInit(){}get formControls(){return this.changePasswordForm.controls}changePassword(){if(this.changePasswordForm.invalid)return void(this.errorMessage="Veuillez rentrer un nouveau mot de passe");const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put(`http://localhost:8000/api/user/${this.userService.id}`,{password:this.changePasswordForm.value.password},e).subscribe(r=>{"Password Updated"==Object.values(r)[0]&&this.router.navigate(["/app/home"])})}}return t.\u0275fac=function(e){return new(e||t)(be(Qn),be(Xn),be(kn))},t.\u0275cmp=Gt({type:t,selectors:[["app-change-password"]],decls:19,vars:2,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"],[1,"row","d-flex","justify-content-center"],[1,"col-md-6","col-xl-4"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","name","password","placeholder","New Password","formControlName","password",1,"form-control"],[1,"mb-2","text-danger","font-weight-light"],[1,"mb-1"],["type","submit",1,"btn","btn-primary","d-block","w-100"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Premi\xe8re connexion"),E(),b(5,"p",3),Y(6," Afin d'assurer votre s\xe9curit\xe9, veuillez changer votre mot de passe s'il vous plait. "),E()()(),b(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),_e("ngSubmit",function(){return i.changePassword()}),b(12,"div",9),Pe(13,"input",10),E(),b(14,"div",11),Y(15),E(),b(16,"div",12)(17,"button",13),Y(18," Changer le mot de passe "),E()()()()()()()()),2&e&&(he(11),Ce("formGroup",i.changePasswordForm),he(4),Kt(" ",i.errorMessage," "))},directives:[wo,bo,Zr,xi,Qi,Co],styles:[""]}),t})();const QF={headers:new ot({"Content-Type":"application/json"})};let Od=(()=>{class t{constructor(e,i){this.http=e,this.userService=i}signin(e,i){return this.http.post("/api/connexion",{mail:e,password:i},QF)}isSignin(){return null!==localStorage.getItem("ACCESS_TOKEN")}signOut(){localStorage.removeItem("ACCESS_TOKEN"),localStorage.removeItem("EMAIL"),localStorage.removeItem("FIRSTNAME"),localStorage.removeItem("LASTNAME"),localStorage.removeItem("ADMIN"),localStorage.removeItem("ID")}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn),Je(Xn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XF=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.userService=i,this.fb=r,this.router=o,this.loginForm=new pr({email:new Cn("",oi.required),password:new Cn("",oi.required)}),this.errorMessage=""}ngOnInit(){}get formControls(){return this.loginForm.controls}login(){if(this.loginForm.invalid)return void(this.errorMessage="Tous les champs sont requis.");const e=this.loginForm.value.email;this.authService.signin(e,this.loginForm.value.password).subscribe(r=>{r.authorization?(localStorage.setItem("ACCESS_TOKEN",r.token),this.userService.getUserByMail(e).subscribe(o=>{localStorage.setItem("ADMIN",o.admin),localStorage.setItem("EMAIL",o.email),localStorage.setItem("FIRSTNAME",o.firstName),localStorage.setItem("LASTNAME",o.lastName),localStorage.setItem("ID",o._id),this.userService.firstName=o.firstName,this.userService.lastName=o.lastName,this.userService.mail=o.email,this.userService.admin=o.admin,this.userService.id=o._id,this.userService.isConnected=!0,this.router.navigate(1==this.userService.admin?["/admin/home"]:0==o.firstConn?["/app/home"]:["/change-password"])})):(console.log("Identifiants incorrects"),this.errorMessage="Mail ou mot de passe erron\xe9.")})}}return t.\u0275fac=function(e){return new(e||t)(be(Od),be(Xn),be(Ra),be(kn))},t.\u0275cmp=Gt({type:t,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"w-lg-50"],["id","modif",1,"row","d-flex","justify-content-center"],[1,"col-md-6","col-xl-4"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"form","mt-3",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","email","name","email","placeholder","E-mail","formControlName","email",1,"form-control"],[1,"mb-2"],["type","password","name","password","placeholder","Mot de passe","formControlName","password",1,"form-control"],[1,"mb-2","text-danger","font-weight-light"],["type","checkbox","id","remember-me",1,"form-check-input"],["for","exampleCheck1",1,"mx-2","text-secondary","form-check-label"],[1,"mb-1"],["type","submit",1,"btn","btn-primary","d-block","w-100"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Connexion"),E(),b(5,"p",3),Y(6,"Connectez-vous \xe0 votre espace de gestion iZi-RP."),E()()()(),b(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"form",8),_e("ngSubmit",function(){return i.login()}),b(12,"div",9),Pe(13,"input",10),E(),b(14,"div",11),Pe(15,"input",12),E(),b(16,"div",13),Y(17),E(),b(18,"div",9),Pe(19,"input",14),b(20,"label",15),Y(21,"Se souvenir de moi"),E()(),b(22,"div",16)(23,"button",17),Y(24," Connexion "),E()()()()()()()),2&e&&(he(11),Ce("formGroup",i.loginForm),he(6),Kt(" ",i.errorMessage," "))},directives:[wo,bo,Zr,xi,Qi,Co],styles:["#modif[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`});let Fa=(()=>{class t{constructor(e){this.http=e}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ej(t,n){if(1&t){const e=ze();b(0,"li")(1,"a",23),_e("click",function(){return ye(e),fe().change()}),Pe(2,"i",18),Y(3," Admin"),E()()}}let gE=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.userinfo=i,this.router=r,this.userService=o,this.test=!1}start(){console.log(this.userinfo),1==this.userinfo.admin&&(this.test=!0)}ngOnInit(){this.start()}change(){this.userService.mail=this.userinfo.mail,this.userService.admin=this.userinfo.admin,console.log(this.userService.mail)}logout(){this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=!1,this.authService.signOut(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(be(Od),be(Fa),be(kn),be(Xn))},t.\u0275cmp=Gt({type:t,selectors:[["app-secure"]],decls:43,vars:2,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/app/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,"mr-4"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/app/verifications-rp",1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/missions-rp",1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/travailleurs-exposes",1,"nav-link","px-2","text-light","link-secondary"],[1,"nav-link","px-2","text-light","link-secondary"],["routerLink","/app/materiels",1,"nav-link","px-2","text-light","link-secondary"],[1,"dropdown","text-end"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","text-light","text-decoration-none","dropdown-toggle"],[1,"mail"],[1,"icon"],[1,"bi","bi-person-circle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small"],["routerLink","/app/settings",1,"dropdown-item"],[1,"bi","bi-gear"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-left"],["routerLink","/admin/home",1,"dropdown-item",3,"click"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),Y(8,"V\xe9rifications RP"),E()(),b(9,"li")(10,"a",7),Y(11,"Missions RP"),E()(),b(12,"li")(13,"a",8),Y(14,"Travailleurs Expos\xe9s"),E()(),b(15,"li")(16,"a",9),Y(17,"Agenda"),E()(),b(18,"li")(19,"a",10),Y(20,"Equipements"),E()(),b(21,"li")(22,"a",9),Y(23,"Outils"),E()()(),b(24,"div",11)(25,"a",12)(26,"span",13),Y(27),E(),b(28,"span",14),Pe(29,"i",15),E()(),b(30,"ul",16)(31,"li")(32,"a",17),Pe(33,"i",18),Y(34," Param\xe8tres"),E()(),Oe(35,ej,4,0,"li",19),b(36,"li"),Pe(37,"hr",20),E(),b(38,"li")(39,"a",21),_e("click",function(){return i.logout()}),Pe(40,"i",22),Y(41," D\xe9connexion"),E()()()()()()(),Pe(42,"router-outlet")),2&e&&(he(27),vt(i.userService.mail),he(8),Ce("ngIf",i.test))},directives:[Yr,ji,Ma],styles:["body[_ngcontent-%COMP%]{background-color:#5d5b5b;color:#000}header[_ngcontent-%COMP%]{background-color:#21504b}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}.icon[_ngcontent-%COMP%]{font-size:larger}.mail[_ngcontent-%COMP%]{margin-right:5%}"]}),t})(),tj=(()=>{class t{constructor(e){this.fb=e,this.myElement=document.getElementById("user-input"),this.text="hello",this.input=document.querySelector("input"),this.log=document.getElementById("values")}ngOnInit(){this.contactForm=this.fb.group({email:new Cn,lastname:new Cn,firstname:new Cn,text:new Cn,recaptcha:["",oi.required]}),this.mafonction()}mail(){var e;let i=null===(e=this.contactForm.get("email"))||void 0===e?void 0:e.value;console.log(i)}onClick(){console.log("test"),window.grecaptcha.ready(function(){window.grecaptcha.execute("6Lc6-hAmAAAAAF4GH3kqS5sxHSjmgWnIAQkqSnMd",{action:"submit"}).then(function(e){console.log("heeh")})})}randomNumberBetween(e,i){return Math.random()*(i-e)+e}textGenerator(){let e="";for(let i=0;i<3;i++)e+=String.fromCharCode(this.randomNumberBetween(65,90)),e+=String.fromCharCode(this.randomNumberBetween(97,122)),e+=String.fromCharCode(this.randomNumberBetween(84,57));return e}drawStringOnCanvas(e){let r=document.getElementById("canvas").getContext("2d");r.clearRect(0,0,r.canvas.width,r.canvas.height);const o=["rgb(0,0,0)","rgb(130,130,130)"],s=150/e.length;for(let a=0;a<e.length;a++)r.font="20px Roboto Mono",r.fillStyle=o[this.randomNumberBetween(0,1)],r.fillText(e[a],25+a*s,this.randomNumberBetween(25,40),100)}onChange(){var e=document.getElementById("user-input");console.log("New value = "+e.value),e.value==this.text?alert("Success"):(alert("Incorrect"),this.mafonction())}mafonction(){this.text=this.textGenerator(),console.log(this.text),this.text=[...this.text].sort(()=>Math.random()-.5).join(""),this.drawStringOnCanvas(this.text)}recharger(){this.text=this.textGenerator(),console.log(this.text),this.text=[...this.text].sort(()=>Math.random()-.5).join(""),this.drawStringOnCanvas(this.text)}}return t.\u0275fac=function(e){return new(e||t)(be(Ra))},t.\u0275cmp=Gt({type:t,selectors:[["app-contact"]],decls:45,vars:1,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-10","col-xl-10"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],["novalidate","",1,"needs-validation","bg-",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","id","firstName","placeholder","Saisissez votre pr\xe9nom ...","value","","required","","formControlName","firstname",1,"form-control"],[1,"invalid-feedback"],["for","lastName",1,"form-label"],["type","text","id","lastName","placeholder","saisissez votre nom ...","value","","required","","formControlName","lastname",1,"form-control"],[1,"col-12"],["for","email",1,"form-label"],["type","email","id","email","placeholder","you@example.com","formControlName","email",1,"form-control"],["for","text",1,"form-label"],["type","text","id","text","placeholder","Votre message ...","formControlName","text",1,"form-control",2,"height","20em"],[1,"wrapper"],["id","canvas","width","200","height","80"],["id","reload-button",3,"click"],["type","text","id","user-input","placeholder","Enter the text in the image"],["id","submit-button",3,"click"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Contact"),E()()(),b(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),_e("ngSubmit",function(){return i.mail()}),b(10,"div",8)(11,"div",9)(12,"label",10),Y(13,"Pr\xe9nom"),E(),Pe(14,"input",11),b(15,"div",12),Y(16,"Votre pr\xe9nom est requis."),E()(),b(17,"div",9)(18,"label",13),Y(19,"Nom"),E(),Pe(20,"input",14),b(21,"div",12),Y(22,"Votre nom est requis."),E()(),b(23,"div",15)(24,"label",16),Y(25,"Email"),E(),Pe(26,"input",17),b(27,"div",12),Y(28,"Entrez une adresse email valide."),E()(),b(29,"div",15)(30,"label",18),Y(31,"Message"),E(),Pe(32,"textarea",19),b(33,"div",12),Y(34,"Entrez un message valide."),E()(),b(35,"div",20),Pe(36,"canvas",21),b(37,"button",22),_e("click",function(){return i.recharger()}),b(38,"i"),Y(39,"Refresh"),E()()(),Pe(40,"input",23),b(41,"button",24),_e("click",function(){return i.onChange()}),Y(42,"valider"),E(),b(43,"button"),Y(44,"Envoyer"),E()()()()()()()()),2&e&&(he(9),Ce("formGroup",i.contactForm))},directives:[wo,bo,Zr,xi,Es,Qi,Co],styles:['@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";#captchaBackground[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:220px;\\2002\\2002\\2002\\2002width:250px;\\2002\\2002\\2002\\2002 background-color:#2d3748;\\2002\\2002\\2002\\2002 display:flex;\\2002\\2002\\2002\\2002 align-items:center;\\2002\\2002\\2002\\2002justify-content:center;\\2002\\2002\\2002\\2002 flex-direction:column}#captchaHeading[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:white}#captcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:80%;\\2002\\2002\\2002\\2002width:80%;\\2002\\2002\\2002\\2002 font-size:30px;\\2002\\2002\\2002\\2002letter-spacing:3px;\\2002\\2002\\2002\\2002margin:auto;\\2002\\2002\\2002\\2002 display:block;\\2002\\2002\\2002\\2002top:0;\\2002\\2002\\2002\\2002 bottom:0;\\2002\\2002\\2002\\2002left:0;\\2002\\2002\\2002\\2002right:0}.center[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 display:flex;\\2002\\2002\\2002\\2002 flex-direction:column;\\2002\\2002\\2002\\2002 align-items:center}#submitButton[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002margin-top:2em;\\2002\\2002\\2002\\2002margin-bottom:2em;\\2002\\2002\\2002\\2002 background-color:#08e5ff;\\2002\\2002\\2002\\2002 border:0px;\\2002\\2002\\2002\\2002 font-weight:bold}#refreshButton[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 background-color:#08e5ff;\\2002\\2002\\2002\\2002 border:0px;\\2002\\2002\\2002\\2002 font-weight:bold}#textBox[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002height:25px}.incorrectCaptcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:#FF0000}.correctCaptcha[_ngcontent-%COMP%]{\\2002\\2002\\2002\\2002 color:#7FFF00}canvas[_ngcontent-%COMP%]{border:2px solid #000000;border-radius:.2em}.wrapper[_ngcontent-%COMP%]{display:flex;align-content:center;margin:1em 2px 1em 0;height:5em}button#reload-button[_ngcontent-%COMP%]{font-size:16px;width:5.6em;background-color:#9daaab;border:none;border-radius:.4em;color:#fff}']}),t})(),nj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-mentions-legales"]],decls:119,vars:0,consts:[[2,"background-color","#fbfbfb","border","1px solid #fbfbfb","margin","40px 0px","padding","10px 30px","box-shadow","rgba(0, 0, 0, 0.2) 2px 2px 20px 0px","text-align","left"],[2,"text-align","center"],[2,"text-align","left"],["href","http://www.izirp.com"],[2,"color","#b51a00"],[2,"color","rgb(0, 0, 0)"],["href","http://www.test.com"],["href","http://www.tse-ping.com"],["title","g\xe9n\xe9rateur de mentions l\xe9gales pour site internet gratuit","href","http://www.generateur-de-mentions-legales.com"],["title","imprimerie paris, imprimeur paris","href","http://welye.com"],[2,"color","#323333"],[2,"color","#000000"],["href","http://www.cnil.fr/"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"p",1)(2,"span",2)(3,"b"),Y(4,"Mentions l\xe9gales "),E(),b(5,"em"),Y(6,"IziRp"),E()()(),b(7,"p"),Y(8," Merci de lire avec attention les diff\xe9rentes modalit\xe9s d\u2019utilisation du pr\xe9sent site avant d\u2019y parcourir ses pages. En vous connectant sur ce site, vous acceptez sans r\xe9serves les pr\xe9sentes modalit\xe9s. Aussi, conform\xe9ment \xe0 l\u2019article n\xb06 de la Loi n\xb02004-575 du 21 Juin 2004 pour la confiance dans l\u2019\xe9conomie num\xe9rique, les responsables du pr\xe9sent site internet "),b(9,"a",3),Y(10,"www.izirp.com"),E(),Y(11," sont : "),E(),b(12,"p",4)(13,"span",5)(14,"b"),Y(15,"Editeur du Site : "),E()()(),Y(16," Nom : TSE Pr\xe9nom : MAX DOCTEUR ANNINO Email : izi@rp.fr Site Web : "),b(17,"a",3),Y(18,"www.izirp.com"),E(),b(19,"p",4)(20,"b")(21,"span",5),Y(22,"H\xe9bergement :"),E()()(),Y(23," H\xe9bergeur : OVS DOCTEUR ANNINO Site Web : "),b(24,"a",6),Y(25,"www.test.com"),E(),b(26,"p",4)(27,"span",5)(28,"b"),Y(29,"D\xe9veloppement"),E(),b(30,"b"),Y(31," : "),E()()(),Y(32," D\xe9velopper TSE Adresse : DOCTEUR ANNINO Site Web : "),b(33,"a",7),Y(34,"www.tse-ping.com"),E(),b(35,"p",4)(36,"span",5)(37,"b"),Y(38,"Conditions d\u2019utilisation : "),E()()(),Y(39," Ce site ("),b(40,"a",3),Y(41,"www.izirp.com"),E(),Y(42,") est propos\xe9 en diff\xe9rents langages web (HTML, HTML5, Javascript, CSS, etc\u2026) pour un meilleur confort d'utilisation et un graphisme plus agr\xe9able, nous vous recommandons de recourir \xe0 des navigateurs modernes comme Internet explorer, Safari, Firefox, Google Chrome, etc\u2026 Les mentions l\xe9gales ont \xe9t\xe9 g\xe9n\xe9r\xe9es sur le site "),b(43,"a",8),Y(44,"G\xe9n\xe9rateur de mentions l\xe9gales"),E(),Y(45,", offert par "),b(46,"a",9),Y(47,"Welye"),E(),Y(48,". "),b(49,"span",10),Y(50,"TSE MAX"),Pe(51,"b"),E(),Y(52,"met en \u0153uvre tous les moyens dont elle dispose, pour assurer une information fiable et une mise \xe0 jour fiable de ses sites internet. Toutefois, des erreurs ou omissions peuvent survenir. L'internaute devra donc s'assurer de l'exactitude des informations aupr\xe8s de , et signaler toutes modifications du site qu'il jugerait utile. n'est en aucun cas responsable de l'utilisation faite de ces informations, et de tout pr\xe9judice direct ou indirect pouvant en d\xe9couler. "),b(53,"b"),Y(54,"Cookies"),E(),Y(55," : Le site "),b(56,"a",3),Y(57,"www.izirp.com"),E(),Y(58," peut-\xeatre amen\xe9 \xe0 vous demander l\u2019acceptation des cookies pour des besoins de statistiques et d'affichage. Un cookies est une information d\xe9pos\xe9e sur votre disque dur par le serveur du site que vous visitez. Il contient plusieurs donn\xe9es qui sont stock\xe9es sur votre ordinateur dans un simple fichier texte auquel un serveur acc\xe8de pour lire et enregistrer des informations . Certaines parties de ce site ne peuvent \xeatre fonctionnelles sans l\u2019acceptation de cookies. "),b(59,"b"),Y(60,"Liens hypertextes :"),E(),Y(61," Les sites internet de peuvent offrir des liens vers d\u2019autres sites internet ou d\u2019autres ressources disponibles sur Internet. TSE MAX ne dispose d'aucun moyen pour contr\xf4ler les sites en connexion avec ses sites internet. ne r\xe9pond pas de la disponibilit\xe9 de tels sites et sources externes, ni ne la garantit. Elle ne peut \xeatre tenue pour responsable de tout dommage, de quelque nature que ce soit, r\xe9sultant du contenu de ces sites ou sources externes, et notamment des informations, produits ou services qu\u2019ils proposent, ou de tout usage qui peut \xeatre fait de ces \xe9l\xe9ments. Les risques li\xe9s \xe0 cette utilisation incombent pleinement \xe0 l'internaute, qui doit se conformer \xe0 leurs conditions d'utilisation. Les utilisateurs, les abonn\xe9s et les visiteurs des sites internet de ne peuvent mettre en place un hyperlien en direction de ce site sans l'autorisation expresse et pr\xe9alable de TSE MAX. Dans l'hypoth\xe8se o\xf9 un utilisateur ou visiteur souhaiterait mettre en place un hyperlien en direction d\u2019un des sites internet de TSE MAX, il lui appartiendra d'adresser un email accessible sur le site afin de formuler sa demande de mise en place d'un hyperlien. TSE MAX se r\xe9serve le droit d\u2019accepter ou de refuser un hyperlien sans avoir \xe0 en justifier sa d\xe9cision. "),b(62,"p",4)(63,"span",5)(64,"b"),Y(65,"Services fournis : "),E()()(),b(66,"p",10),Y(67," L'ensemble des activit\xe9s ainsi que ses informations sont pr\xe9sent\xe9s sur notre site "),b(68,"a",3),Y(69,"www.izirp.com"),E(),Y(70,". "),E(),b(71,"p",10),Y(72," TSE MAX s\u2019efforce de fournir sur le site www.izirp.com des informations aussi pr\xe9cises que possible. les renseignements figurant sur le site "),b(73,"a",3),Y(74,"www.izirp.com"),E(),Y(75," ne sont pas exhaustifs et les photos non contractuelles. Ils sont donn\xe9s sous r\xe9serve de modifications ayant \xe9t\xe9 apport\xe9es depuis leur mise en ligne. Par ailleurs, tous les informations indiqu\xe9es sur le site www.izirp.com"),b(76,"span",11),Pe(77,"b"),E(),Y(78,"sont donn\xe9es \xe0 titre indicatif, et sont susceptibles de changer ou d\u2019\xe9voluer sans pr\xe9avis. "),E(),b(79,"p",4)(80,"span",5)(81,"b"),Y(82,"Limitation contractuelles sur les donn\xe9es : "),E()()(),Y(83," Les informations contenues sur ce site sont aussi pr\xe9cises que possible et le site remis \xe0 jour \xe0 diff\xe9rentes p\xe9riodes de l\u2019ann\xe9e, mais peut toutefois contenir des inexactitudes ou des omissions. Si vous constatez une lacune, erreur ou ce qui parait \xeatre un dysfonctionnement, merci de bien vouloir le signaler par email, \xe0 l\u2019adresse izi@rp.fr, en d\xe9crivant le probl\xe8me de la mani\xe8re la plus pr\xe9cise possible (page posant probl\xe8me, type d\u2019ordinateur et de navigateur utilis\xe9, \u2026). Tout contenu t\xe9l\xe9charg\xe9 se fait aux risques et p\xe9rils de l'utilisateur et sous sa seule responsabilit\xe9. En cons\xe9quence, ne saurait \xeatre tenu responsable d'un quelconque dommage subi par l'ordinateur de l'utilisateur ou d'une quelconque perte de donn\xe9es cons\xe9cutives au t\xe9l\xe9chargement. "),b(84,"span",10),Y(85,"De plus, l\u2019utilisateur du site s\u2019engage \xe0 acc\xe9der au site en utilisant un mat\xe9riel r\xe9cent, ne contenant pas de virus et avec un navigateur de derni\xe8re g\xe9n\xe9ration mis-\xe0-jour"),E(),Y(86," Les liens hypertextes mis en place dans le cadre du pr\xe9sent site internet en direction d'autres ressources pr\xe9sentes sur le r\xe9seau Internet ne sauraient engager la responsabilit\xe9 de TSE MAX. "),b(87,"p",4)(88,"span",5)(89,"b"),Y(90,"Propri\xe9t\xe9 intellectuelle :"),E()()(),Y(91," Tout le contenu du pr\xe9sent sur le site "),b(92,"a",3),Y(93,"www.izirp.com"),E(),Y(94,", incluant, de fa\xe7on non limitative, les graphismes, images, textes, vid\xe9os, animations, sons, logos, gifs et ic\xf4nes ainsi que leur mise en forme sont la propri\xe9t\xe9 exclusive de la TSE MAX \xe0 l'exception des marques, logos ou contenus appartenant \xe0 d'autres soci\xe9t\xe9s partenaires ou auteurs. Toute reproduction, distribution, modification, adaptation, retransmission ou publication, m\xeame partielle, de ces diff\xe9rents \xe9l\xe9ments est strictement interdite sans l'accord expr\xe8s par \xe9crit de TSE MAX. Cette repr\xe9sentation ou reproduction, par quelque proc\xe9d\xe9 que ce soit, constitue une contrefa\xe7on sanctionn\xe9e par les articles L.335-2 et suivants du Code de la propri\xe9t\xe9 intellectuelle. Le non-respect de cette interdiction constitue une contrefa\xe7on pouvant engager la responsabilit\xe9 civile et p\xe9nale du contrefacteur. En outre, les propri\xe9taires des Contenus copi\xe9s pourraient intenter une action en justice \xe0 votre encontre. "),b(95,"p",4)(96,"span",5)(97,"b"),Y(98,"D\xe9claration \xe0 la CNIL : "),E()()(),Y(99," Conform\xe9ment \xe0 la loi 78-17 du 6 janvier 1978 (modifi\xe9e par la loi 2004-801 du 6 ao\xfbt 2004 relative \xe0 la protection des personnes physiques \xe0 l'\xe9gard des traitements de donn\xe9es \xe0 caract\xe8re personnel) relative \xe0 l'informatique, aux fichiers et aux libert\xe9s, ce site a fait l'objet d'une d\xe9claration XXXXXXXXXXXXXXXXX aupr\xe8s de la Commission nationale de l'informatique et des libert\xe9s ("),b(100,"a",12),Y(101,"www.cnil.fr"),E(),Y(102,"). "),b(103,"p",4)(104,"span",5)(105,"b"),Y(106,"Litiges : "),E()()(),Y(107," Les pr\xe9sentes conditions du site "),b(108,"a",3),Y(109,"www.izirp.com"),E(),Y(110," sont r\xe9gies par les lois fran\xe7aises et toute contestation ou litiges qui pourraient na\xeetre de l'interpr\xe9tation ou de l'ex\xe9cution de celles-ci seront de la comp\xe9tence exclusive des tribunaux. La langue de r\xe9f\xe9rence, pour le r\xe8glement de contentieux \xe9ventuels, est le fran\xe7ais. "),b(111,"p",4)(112,"span",5)(113,"b"),Y(114,"Donn\xe9es personnelles :"),E()()(),Y(115," De mani\xe8re g\xe9n\xe9rale, vous n\u2019\xeates pas tenu de nous communiquer vos donn\xe9es personnelles lorsque vous visitez notre site Internet "),b(116,"a",3),Y(117,"www.izirp.com"),E(),Y(118,". Cependant, ce principe comporte certaines exceptions. En effet, pour certains services propos\xe9s par notre site, vous pouvez \xeatre amen\xe9s \xe0 nous communiquer certaines donn\xe9es telles que : votre nom, votre fonction, le nom de votre soci\xe9t\xe9, votre adresse \xe9lectronique, et votre num\xe9ro de t\xe9l\xe9phone. Tel est le cas lorsque vous remplissez le formulaire qui vous est propos\xe9 en ligne, dans la rubrique \xab contact \xbb. Dans tous les cas, vous pouvez refuser de fournir vos donn\xe9es personnelles. Dans ce cas, vous ne pourrez pas utiliser les services du site, notamment celui de solliciter des renseignements sur nos activit\xe9s, ou de recevoir les lettres d\u2019information. Enfin, nous pouvons collecter de mani\xe8re automatique certaines informations vous concernant lors d\u2019une simple navigation sur notre site Internet, notamment : des informations concernant l\u2019utilisation de notre site, comme les zones que vous visitez et les services auxquels vous acc\xe9dez, votre adresse IP, le type de votre navigateur, vos temps d'acc\xe8s. De telles informations sont utilis\xe9es exclusivement \xe0 des fins de statistiques internes, de mani\xe8re \xe0 am\xe9liorer la qualit\xe9 des services qui vous sont propos\xe9s. Les bases de donn\xe9es sont prot\xe9g\xe9es par les dispositions de la loi du 1er juillet 1998 transposant la directive 96/9 du 11 mars 1996 relative \xe0 la protection juridique des bases de donn\xe9es.\n"),E())},styles:[""]}),t})(),ij=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-conditions-utilisations"]],decls:128,vars:0,consts:[[2,"background-color","#fbfbfb","border","1px solid #fbfbfb","margin","40px 0px","padding","10px 30px","box-shadow","rgba(0, 0, 0, 0.2) 2px 2px 20px 0px","text-align","left"],[2,"text-align","center"],[2,"text-align","left"],["href","https://www.legalplace.fr/guides/mentions-legales/\n  "]],template:function(e,i){1&e&&(b(0,"div",0)(1,"p",1)(2,"span",2)(3,"b"),Y(4,"Conditions g\xe9n\xe9rales d\u2019utilisation du site "),E(),b(5,"em"),Y(6,"IziRp"),E()()(),b(7,"blockquote")(8,"p")(9,"b"),Y(10,"Article 1"),E(),Y(11,"\xa0: Objet"),E(),b(12,"p"),Y(13," Les pr\xe9sentes CGU ou Conditions G\xe9n\xe9rales d\u2019Utilisation encadrent juridiquement l\u2019utilisation des services du site lapetiteperle (ci-apr\xe8s d\xe9nomm\xe9 \xab\xa0le site\xa0\xbb). "),E(),b(14,"p"),Y(15," Constituant le contrat entre la soci\xe9t\xe9 La Petite Perle, l\u2019Utilisateur, l\u2019acc\xe8s au site doit \xeatre pr\xe9c\xe9d\xe9 de l\u2019acceptation de ces CGU. L\u2019acc\xe8s \xe0 cette plateforme signifie l\u2019acceptation des pr\xe9sentes CGU. "),E(),b(16,"p")(17,"b"),Y(18,"Article 2"),E(),Y(19,"\xa0: "),b(20,"a",3),Y(21,"Mentions l\xe9gales"),E()(),b(22,"p"),Y(23," L\u2019\xe9dition du site lapetiteperle est assur\xe9e par la soci\xe9t\xe9 La Petite Perle inscrite au RCS sous le num\xe9ro 451\xa0432\xa0228, dont le si\xe8ge social est localis\xe9 au 3 Rue Docteur Joubert, 59110, La Madeleine, France M\xe9tropolitaine. "),E(),b(24,"p"),Y(25," L\u2019h\xe9bergeur du site lapetiteperle.fr est la soci\xe9t\xe9 LHW, sise au 5 Rue Keller, 59100 Roubaix, France. "),E(),b(26,"p")(27,"b"),Y(28,"Article 3"),E(),Y(29,"\xa0: Acc\xe8s au site"),E(),b(30,"p"),Y(31," Le site lapetiteperle permet d\u2019acc\xe9der gratuitement aux services suivants\xa0: "),E(),b(32,"ul")(33,"li"),Y(34,"Vente de bijoux (en or, en argent\u2026)\xa0;"),E(),b(35,"li"),Y(36,"Location de bijoux (en or, en argent\u2026)\xa0;"),E(),b(37,"li"),Y(38,"D\xe9p\xf4t-vente de bijoux."),E()(),b(39,"p"),Y(40," Le site est accessible gratuitement depuis n\u2019importe o\xf9 par tout utilisateur disposant d\u2019un acc\xe8s \xe0 Internet. Tous les frais n\xe9cessaires pour l\u2019acc\xe8s aux services (mat\xe9riel informatique, connexion Internet\u2026) sont \xe0 la charge de l\u2019utilisateur. "),E(),b(41,"p"),Y(42," L\u2019acc\xe8s aux services d\xe9di\xe9s aux membres s\u2019effectue \xe0 l\u2019aide d\u2019un identifiant et d\u2019un mot de passe. "),E(),b(43,"p"),Y(44," Pour des raisons de maintenance ou autres, l\u2019acc\xe8s au site peut \xeatre interrompu ou suspendu par l\u2019\xe9diteur sans pr\xe9avis ni justification. "),E(),b(45,"p")(46,"b"),Y(47,"Article 4"),E(),Y(48,"\xa0: Collecte des donn\xe9es"),E(),b(49,"p"),Y(50," Pour la cr\xe9ation du compte de l\u2019Utilisateur, la collecte des informations au moment de l\u2019inscription sur le site est n\xe9cessaire et obligatoire. Conform\xe9ment \xe0 la loi n\xb078-17 du 6 janvier relative \xe0 l\u2019informatique, aux fichiers et aux libert\xe9s, la collecte et le traitement d\u2019informations personnelles s\u2019effectuent dans le respect de la vie priv\xe9e. "),E(),b(51,"p"),Y(52," Suivant la loi Informatique et Libert\xe9s en date du 6 janvier 1978, articles 39 et 40, l\u2019Utilisateur dispose du droit d\u2019acc\xe9der, de rectifier, de supprimer et d\u2019opposer ses donn\xe9es personnelles. L\u2019exercice de ce droit s\u2019effectue par\xa0: "),E(),b(53,"ul")(54,"li"),Y(55,"Le formulaire de contact\xa0;"),E(),b(56,"li"),Y(57,"Son espace client."),E()(),b(58,"p")(59,"b"),Y(60,"Article 5"),E(),Y(61,"\xa0: Propri\xe9t\xe9 intellectuelle"),E(),b(62,"p"),Y(63," Les marques, logos ainsi que les contenus du site lapetiteperle (illustrations graphiques, textes\u2026) sont prot\xe9g\xe9s par le Code de la propri\xe9t\xe9 intellectuelle et par le droit d\u2019auteur. "),E(),b(64,"p"),Y(65," La reproduction et la copie des contenus par l\u2019Utilisateur requi\xe8rent une autorisation pr\xe9alable du site. Dans ce cas, toute utilisation \xe0 des usages commerciaux ou \xe0 des fins publicitaires est proscrite. "),E(),b(66,"p")(67,"b"),Y(68,"Article 6"),E(),Y(69,"\xa0: Responsabilit\xe9"),E(),b(70,"p"),Y(71," Bien que les informations publi\xe9es sur le site soient r\xe9put\xe9es fiables, le site se r\xe9serve la facult\xe9 d\u2019une non-garantie de la fiabilit\xe9 des sources. "),E(),b(72,"p"),Y(73," Les informations diffus\xe9es sur le site lapetiteperle sont pr\xe9sent\xe9es \xe0 titre purement informatif et sont sans valeur contractuelle. En d\xe9pit des mises \xe0 jour r\xe9guli\xe8res, la responsabilit\xe9 du site ne peut \xeatre engag\xe9e en cas de modification des dispositions administratives et juridiques apparaissant apr\xe8s la publication. Il en est de m\xeame pour l\u2019utilisation et l\u2019interpr\xe9tation des informations communiqu\xe9es sur la plateforme. "),E(),b(74,"p"),Y(75," Le site d\xe9cline toute responsabilit\xe9 concernant les \xe9ventuels virus pouvant infecter le mat\xe9riel informatique de l\u2019Utilisateur apr\xe8s l\u2019utilisation ou l\u2019acc\xe8s \xe0 ce site. "),E(),b(76,"p"),Y(77," Le site ne peut \xeatre tenu pour responsable en cas de force majeure ou du fait impr\xe9visible et insurmontable d\u2019un tiers. "),E(),b(78,"p"),Y(79," La garantie totale de la s\xe9curit\xe9 et la confidentialit\xe9 des donn\xe9es n\u2019est pas assur\xe9e par le site. Cependant, le site s\u2019engage \xe0 mettre en \u0153uvre toutes les m\xe9thodes requises pour le faire au mieux. "),E(),b(80,"p")(81,"b"),Y(82,"Article 7"),E(),Y(83,"\xa0: Liens hypertextes"),E(),b(84,"p"),Y(85," Le site peut \xeatre constitu\xe9 de liens hypertextes. En cliquant sur ces derniers, l\u2019Utilisateur sortira de la plateforme. Cette derni\xe8re n\u2019a pas de contr\xf4le et ne peut pas \xeatre tenue responsable du contenu des pages web relatives \xe0 ces liens. "),E(),b(86,"p")(87,"b"),Y(88,"Article 8"),E(),Y(89,"\xa0: Cookies"),E(),b(90,"p"),Y(91," Lors des visites sur le site, l\u2019installation automatique d\u2019un cookie sur le logiciel de navigation de l\u2019Utilisateur peut survenir. "),E(),b(92,"p"),Y(93," Les cookies correspondent \xe0 de petits fichiers d\xe9pos\xe9s temporairement sur le disque dur de l\u2019ordinateur de l\u2019Utilisateur. Ces cookies sont n\xe9cessaires pour assurer l\u2019accessibilit\xe9 et la navigation sur le site. Ces fichiers ne comportent pas d\u2019informations personnelles et ne peuvent pas \xeatre utilis\xe9s pour l\u2019identification d\u2019une personne. "),E(),b(94,"p"),Y(95," L\u2019information pr\xe9sente dans les cookies est utilis\xe9e pour am\xe9liorer les performances de navigation sur le site lapetiteperle.fr. "),E(),b(96,"p"),Y(97," En naviguant sur le site, l\u2019Utilisateur accepte les cookies. Leur d\xe9sactivation peut s\u2019effectuer via les param\xe8tres du logiciel de navigation. "),E(),b(98,"p")(99,"b"),Y(100,"Article 9"),E(),Y(101,"\xa0: Publication par l\u2019Utilisateur"),E(),b(102,"p"),Y(103,"Le site lapetiteperle permet aux membres de publier des commentaires."),E(),b(104,"p"),Y(105," Dans ses publications, le membre est tenu de respecter les r\xe8gles de la Netiquette ainsi que les r\xe8gles de droit en vigueur. "),E(),b(106,"p"),Y(107," Le site dispose du droit d\u2019exercer une mod\xe9ration \xe0 priori sur les publications et peut refuser leur mise en ligne sans avoir \xe0 fournir de justification. "),E(),b(108,"p"),Y(109," Le membre garde l\u2019int\xe9gralit\xe9 de ses droits de propri\xe9t\xe9 intellectuelle. Toutefois, toute publication sur le site implique la d\xe9l\xe9gation du droit non exclusif et gratuit \xe0 la soci\xe9t\xe9 \xe9ditrice de repr\xe9senter, reproduire, modifier, adapter, distribuer et diffuser la publication n\u2019importe o\xf9 et sur n\u2019importe quel support pour la dur\xe9e de la propri\xe9t\xe9 intellectuelle. Cela peut se faire directement ou par l\u2019interm\xe9diaire d\u2019un tiers autoris\xe9. Cela concerne notamment le droit d\u2019utilisation de la publication sur le web et sur les r\xe9seaux de t\xe9l\xe9phonie mobile. "),E(),b(110,"p"),Y(111," \xc0 chaque utilisation, l\u2019\xe9diteur s\u2019engage \xe0 mentionner le nom du membre \xe0 proximit\xe9 de la publication. "),E(),b(112,"p"),Y(113," L\u2019Utilisateur est tenu responsable de tout contenu qu\u2019il met en ligne. L\u2019Utilisateur s\u2019engage \xe0 ne pas publier de contenus susceptibles de porter atteinte aux int\xe9r\xeats de tierces personnes. Toutes proc\xe9dures engag\xe9es en justice par un tiers l\xe9s\xe9 \xe0 l\u2019encontre du site devront \xeatre prises en charge par l\u2019Utilisateur. "),E(),b(114,"p"),Y(115," La suppression ou la modification par le site du contenu de l\u2019Utilisateur peut s\u2019effectuer \xe0 tout moment, pour n\u2019importe quelle raison et sans pr\xe9avis. "),E(),b(116,"p")(117,"b"),Y(118,"Article 11"),E(),Y(119,"\xa0: Dur\xe9e du contrat"),E(),b(120,"p"),Y(121," Le pr\xe9sent contrat est valable pour une dur\xe9e ind\xe9termin\xe9e. Le d\xe9but de l\u2019utilisation des services du site marque l\u2019application du contrat \xe0 l\u2019\xe9gard de l\u2019Utilisateur. "),E(),b(122,"p")(123,"b"),Y(124,"Article 12"),E(),Y(125,"\xa0: Droit applicable et juridiction comp\xe9tente"),E(),b(126,"p"),Y(127," Le pr\xe9sent contrat est soumis \xe0 la l\xe9gislation fran\xe7aise. L\u2019absence de r\xe9solution \xe0 l\u2019amiable des cas de litige entre les parties implique le recours aux tribunaux fran\xe7ais comp\xe9tents pour r\xe9gler le contentieux. "),E()()())},styles:[""]}),t})(),rm=(()=>{class t{constructor(e){this.userService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(be(Xn))},t.\u0275cmp=Gt({type:t,selectors:[["app-home"]],decls:50,vars:1,consts:[[1,"container"],[1,"row","mb-5"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-3"],["routerLink","/app/verifications-rp",1,"text-decoration-none","text-dark"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"bi","bi-check-circle"],[1,"card-title","text-center"],["routerLink","/app/missions-rp",1,"text-decoration-none","text-dark"],[1,"bi","bi-list"],["routerLink","/app/travailleurs-exposes",1,"text-decoration-none","text-dark"],[1,"bi","bi-person"],[1,"bi","bi-calendar-event"],["routerLink","/app/materiels",1,"text-decoration-none","text-dark"],[1,"bi","bi-boxes"],[1,"bi","bi-tools"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4),E()()(),b(5,"div",3)(6,"div",4)(7,"a",5)(8,"div",6)(9,"div",7)(10,"h3"),Pe(11,"i",8),E(),b(12,"h5",9),Y(13,"V\xe9rifications RP"),E()()()()(),b(14,"div",4)(15,"a",10)(16,"div",6)(17,"div",7)(18,"h3"),Pe(19,"i",11),E(),b(20,"h5",9),Y(21,"Missions RP"),E()()()()(),b(22,"div",4)(23,"a",12)(24,"div",6)(25,"div",7)(26,"h3"),Pe(27,"i",13),E(),b(28,"h5",9),Y(29,"Travailleurs Expos\xe9s"),E()()()()()(),b(30,"div",3)(31,"div",4)(32,"div",6)(33,"div",7)(34,"h5",9),Pe(35,"i",14),Y(36," Agenda"),E()()()(),b(37,"div",4)(38,"a",15)(39,"div",6)(40,"div",7)(41,"h5",9),Pe(42,"i",16),Y(43," Equipements"),E()()()()(),b(44,"div",4)(45,"div",6)(46,"div",7)(47,"h5",9),Pe(48,"i",17),Y(49," Outils"),E()()()()()()),2&e&&(he(4),Kt("Bienvenue ",i.userService.firstName,""))},directives:[Yr],styles:[".httpclient-table[_ngcontent-%COMP%]{border-radius:10px}.httpclient-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{color:#fff}.httpclient-table.blue-gradient[_ngcontent-%COMP%]{background:linear-gradient(40deg,#45cafc,#5664bd)!important}"]}),t})();function rj(t,n){if(1&t&&(b(0,"li",9),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.description)}}function oj(t,n){if(1&t&&(b(0,"li",9),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.description)}}function sj(t,n){if(1&t&&(b(0,"li",9),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.description)}}let aj=(()=>{class t{constructor(){this.title="nos offres",this.filter="all",this.allItems=[{description:"L\u2019option Confort vous permet une assistance aux missions techniques du CRP"},{description:"L\u2019option Expert vous permet une assistance \xe0 toutes les missions du CRP"},{description:"L\u2019option Externalisation\xa0: nous sommes votre conseiller en radioprotection."}],this.allServices=[{description:"Audits Radioprotection"},{description:"Assistance lors des inspections de l\u2019autorit\xe9 de suret\xe9 nucl\xe9aire"},{description:"Gestion des dossiers ASN"},{description:"Veille r\xe8glementaire"},{description:"Plateforme WEB pour la gestion de la radioprotection"},{description:"Formation radioprotection (des travailleurs expos\xe9s, des patients)"},{description:"V\xe9rification p\xe9riodique de radioprotection"},{description:"Evaluation des risques"},{description:"Evaluation individuelle d\u2019exposition"},{description:"D\xe9limitation des zones r\xe9glement\xe9es"},{description:"Conformit\xe9 \xe0 la norme NF C15-160"}]}get items12(){return this.allItems}get items3(){return this.allItems}get services(){return this.allServices}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-notre-offre"]],decls:31,vars:3,consts:[[1,"container"],[1,"row","mb-3"],["id","border"],["id","D",1,"col-md-0"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"col-12","col-md-11"],["class","ms-md-3",4,"ngFor","ngForOf"],["id","para",1,"col-12","col-md-11"],["routerLink","/contact"],[1,"ms-md-3"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),Y(5,"Notre objectif : vous proposer une prestation personnalis\xe9e, adapt\xe9e aux enjeux de votre activit\xe9 afin de vous permettre d\u2019assurer une conformit\xe9 totale de la r\xe9glementation en radioprotection. Nos ing\xe9nieurs en radioprotection sont pr\xe9sents pour assurer les missions n\xe9cessaires r\xe9glementaires pour la conformit\xe9 de votre \xe9tablissement. iZi RadioProtection vous propose des prestations \xe9labor\xe9es et \xe9tudier \xe0 partir d\u2019un audit initial qui permettra de mettre en place un plan d\u2019action annuel. Nos sp\xe9cialistes s\u2019assurent d\u2019une conformit\xe9 p\xe9renne de votre \xe9tablissement. iZi RadioProtection c\u2019est votre conformit\xe9 r\xe9glementaire simple et efficace."),E()()()()(),b(6,"div",0)(7,"div",4)(8,"h2"),Y(9,"Nos services :"),E()(),b(10,"div",5)(11,"h5"),Y(12,"Si vous avez votre conseiller en radioprotection\xa0:"),E(),Oe(13,rj,2,1,"li",6),E(),b(14,"div",4)(15,"h2"),Y(16,"Nos offres"),E()(),b(17,"h5"),Y(18," Pour assurer votre conformit\xe9 r\xe9glementaire en radioprotection, iZiRadioProtection vous propose 3 offres contractuelles\xa0:"),E(),b(19,"div",7)(20,"h5"),Y(21,"Si vous avez votre conseiller en radioprotection\xa0:"),E(),Oe(22,oj,2,1,"li",6),E(),b(23,"div",7)(24,"h5"),Y(25,"Si vous n\u2019avez pas de conseiller en radioprotection\xa0:"),E(),Oe(26,sj,2,1,"li",6),E(),b(27,"p")(28,"a",8),Y(29," Contactez-nous "),E(),Y(30," d\xe8s maintenant pour plus d'informations sur nos offres en radioprotection pour le milieu m\xe9dical."),E()()),2&e&&(he(13),Ce("ngForOf",i.services),he(9),Ce("ngForOf",i.items12),he(4),Ce("ngForOf",i.items3))},directives:[Ni,Yr],styles:[".valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}#myHeader[_ngcontent-%COMP%]{color:#000;padding:70px;text-align:center;font-size:40px}*[_ngcontent-%COMP%]   #D[_ngcontent-%COMP%]{text-indent:50px;text-align:justify;font-size:10px}#border[_ngcontent-%COMP%]{border:1px solid gray;padding:10px;font-size:10px}p[_ngcontent-%COMP%]{font-size:10px;padding:20px}h2[_ngcontent-%COMP%]{padding:20px}#para[_ngcontent-%COMP%]{padding:10px}"]}),t})();const lj=["addListener","removeListener"],uj=["addEventListener","removeEventListener"],cj=["on","off"];function ei(t,n,e,i){if(p(e)&&(i=e,e=void 0),i)return ei(t,n,e).pipe(l_(i));const[r,o]=function fj(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?uj.map(s=>a=>t[s](n,a,e)):function dj(t){return p(t.addListener)&&p(t.removeListener)}(t)?lj.map(yE(t,n)):function pj(t){return p(t.on)&&p(t.off)}(t)?cj.map(yE(t,n)):[];if(!r&&Ne(t))return Bt(s=>ei(s,n,e))(Ke(t));if(!r)throw new TypeError("Invalid event target");return new Z(s=>{const a=(...d)=>s.next(1<d.length?d:d[0]);return r(a),()=>o(a)})}function yE(t,n){return e=>i=>t[e](n,i)}class hj extends D{constructor(n,e){super()}schedule(n,e=0){return this}}const Nd={setInterval(t,n,...e){const{delegate:i}=Nd;return(null==i?void 0:i.setInterval)?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Nd;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class om extends hj{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Nd.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Nd.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,V(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const vE={now:()=>(vE.delegate||Date).now(),delegate:void 0};class cu{constructor(n,e=cu.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}cu.now=vE.now;class sm extends cu{constructor(n,e=cu.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const du=new sm(om),_j=du;function bE(t){return t instanceof Date&&!isNaN(t)}function xd(t=0,n,e=_j){let i=-1;return null!=n&&(hr(n)?e=n:i=n),new Z(r=>{let o=bE(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}const{isArray:mj}=Array;function wE(t){return 1===t.length&&mj(t[0])?t[0]:t}function CE(...t){return 1===(t=wE(t)).length?Ke(t[0]):new Z(function gj(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(Ke(t[i]).subscribe(N(n,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}n.next(r)})))}}(t))}function Ad(...t){const n=eo(t),e=wE(t);return e.length?new Z(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)Ke(e[s]).subscribe(N(i,a=>{if(r[s].push(a),r.every(d=>d.length)){const d=r.map(T=>T.shift());i.next(n?n(...d):d),r.some((T,R)=>!T.length&&o[R])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Tn}function yn(t){return le((n,e)=>{Ke(t).subscribe(N(e,()=>e.complete(),f)),!e.closed&&n.subscribe(e)})}function lm(...t){const n=eo(t);return le((e,i)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),a=!1;for(let d=0;d<r;d++)Ke(t[d]).subscribe(N(i,T=>{o[d]=T,!a&&!s[d]&&(s[d]=!0,(a=s.every(X))&&(s=null))},f));e.subscribe(N(i,d=>{if(a){const T=[d,...o];i.next(n?n(...T):T)}}))})}function TE(t,n){return n?e=>Gl(n.pipe(gi(1),function bj(){return le((t,n)=>{t.subscribe(N(n,f))})}()),e.pipe(TE(t))):Bt((e,i)=>t(e,i).pipe(gi(1),function wj(t){return H(()=>t)}(e)))}function SE(t,n=du){const e=xd(t,n);return TE(()=>e)}new Z(f);var Ej={left:"right",right:"left",bottom:"top",top:"bottom"};function Md(t){return t.replace(/left|right|bottom|top/g,function(n){return Ej[n]})}function Jr(t){return t.split("-")[0]}var Tj={start:"end",end:"start"};function DE(t){return t.replace(/start|end/g,function(n){return Tj[n]})}var Xi="top",Or="bottom",Nr="right",er="left",um="auto",pu=[Xi,Or,Nr,er],ja="start",fu="end",OE="viewport",hu="popper",NE=pu.reduce(function(t,n){return t.concat([n+"-"+ja,n+"-"+fu])},[]),xE=[].concat(pu,[um]).reduce(function(t,n){return t.concat([n,n+"-"+ja,n+"-"+fu])},[]),Fj=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function tr(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Ts(t){return t instanceof tr(t).Element||t instanceof Element}function fr(t){return t instanceof tr(t).HTMLElement||t instanceof HTMLElement}function cm(t){return"undefined"!=typeof ShadowRoot&&(t instanceof tr(t).ShadowRoot||t instanceof ShadowRoot)}function Ko(t){return((Ts(t)?t.ownerDocument:t.document)||window.document).documentElement}var Ss=Math.max,Id=Math.min,$a=Math.round;function dm(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function AE(){return!/^((?!chrome|android).)*safari/i.test(dm())}function Ba(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var i=t.getBoundingClientRect(),r=1,o=1;n&&fr(t)&&(r=t.offsetWidth>0&&$a(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&$a(i.height)/t.offsetHeight||1);var a=(Ts(t)?tr(t):window).visualViewport,d=!AE()&&e,T=(i.left+(d&&a?a.offsetLeft:0))/r,R=(i.top+(d&&a?a.offsetTop:0))/o,ee=i.width/r,se=i.height/o;return{width:ee,height:se,top:R,right:T+ee,bottom:R+se,left:T,x:T,y:R}}function pm(t){var n=tr(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function fm(t){return Ba(Ko(t)).left+pm(t).scrollLeft}function Eo(t){return tr(t).getComputedStyle(t)}function Qr(t){return t?(t.nodeName||"").toLowerCase():null}function Pd(t){return"html"===Qr(t)?t:t.assignedSlot||t.parentNode||(cm(t)?t.host:null)||Ko(t)}function hm(t){var n=Eo(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function ME(t){return["html","body","#document"].indexOf(Qr(t))>=0?t.ownerDocument.body:fr(t)&&hm(t)?t:ME(Pd(t))}function _u(t,n){var e;void 0===n&&(n=[]);var i=ME(t),r=i===(null==(e=t.ownerDocument)?void 0:e.body),o=tr(i),s=r?[o].concat(o.visualViewport||[],hm(i)?i:[]):i,a=n.concat(s);return r?a:a.concat(_u(Pd(s)))}function Bj(t){return["table","td","th"].indexOf(Qr(t))>=0}function IE(t){return fr(t)&&"fixed"!==Eo(t).position?t.offsetParent:null}function mu(t){for(var n=tr(t),e=IE(t);e&&Bj(e)&&"static"===Eo(e).position;)e=IE(e);return e&&("html"===Qr(e)||"body"===Qr(e)&&"static"===Eo(e).position)?n:e||function Lj(t){var n=/firefox/i.test(dm());if(/Trident/i.test(dm())&&fr(t)&&"fixed"===Eo(t).position)return null;var r=Pd(t);for(cm(r)&&(r=r.host);fr(r)&&["html","body"].indexOf(Qr(r))<0;){var o=Eo(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||n&&"filter"===o.willChange||n&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(t)||n}function PE(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&cm(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function _m(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kE(t,n,e){return n===OE?_m(function jj(t,n){var e=tr(t),i=Ko(t),r=e.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,d=0;if(r){o=r.width,s=r.height;var T=AE();(T||!T&&"fixed"===n)&&(a=r.offsetLeft,d=r.offsetTop)}return{width:o,height:s,x:a+fm(t),y:d}}(t,e)):Ts(n)?function Vj(t,n){var e=Ba(t,!1,"fixed"===n);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(n,e):_m(function $j(t){var n,e=Ko(t),i=pm(t),r=null==(n=t.ownerDocument)?void 0:n.body,o=Ss(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ss(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+fm(t),d=-i.scrollTop;return"rtl"===Eo(r||e).direction&&(a+=Ss(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:d}}(Ko(t)))}function La(t){return t.split("-")[1]}function mm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function RE(t){var d,n=t.reference,e=t.element,i=t.placement,r=i?Jr(i):null,o=i?La(i):null,s=n.x+n.width/2-e.width/2,a=n.y+n.height/2-e.height/2;switch(r){case Xi:d={x:s,y:n.y-e.height};break;case Or:d={x:s,y:n.y+n.height};break;case Nr:d={x:n.x+n.width,y:a};break;case er:d={x:n.x-e.width,y:a};break;default:d={x:n.x,y:n.y}}var T=r?mm(r):null;if(null!=T){var R="y"===T?"height":"width";switch(o){case ja:d[T]=d[T]-(n[R]/2-e[R]/2);break;case fu:d[T]=d[T]+(n[R]/2-e[R]/2)}}return d}function jE(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function $E(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function gm(t,n){void 0===n&&(n={});var i=n.placement,r=void 0===i?t.placement:i,o=n.strategy,s=void 0===o?t.strategy:o,a=n.boundary,d=void 0===a?"clippingParents":a,T=n.rootBoundary,R=void 0===T?OE:T,ee=n.elementContext,se=void 0===ee?hu:ee,me=n.altBoundary,Te=void 0!==me&&me,Ae=n.padding,Re=void 0===Ae?0:Ae,Fe=jE("number"!=typeof Re?Re:$E(Re,pu)),Ye=t.rects.popper,Xe=t.elements[Te?se===hu?"reference":hu:se],ct=function Hj(t,n,e,i){var r="clippingParents"===n?function Uj(t){var n=_u(Pd(t)),i=["absolute","fixed"].indexOf(Eo(t).position)>=0&&fr(t)?mu(t):t;return Ts(i)?n.filter(function(r){return Ts(r)&&PE(r,i)&&"body"!==Qr(r)}):[]}(t):[].concat(n),o=[].concat(r,[e]),a=o.reduce(function(d,T){var R=kE(t,T,i);return d.top=Ss(R.top,d.top),d.right=Id(R.right,d.right),d.bottom=Id(R.bottom,d.bottom),d.left=Ss(R.left,d.left),d},kE(t,o[0],i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Ts(Xe)?Xe:Xe.contextElement||Ko(t.elements.popper),d,R,s),Dt=Ba(t.elements.reference),Jt=RE({reference:Dt,element:Ye,strategy:"absolute",placement:r}),rn=_m(Object.assign({},Ye,Jt)),On=se===hu?rn:Dt,Nn={top:ct.top-On.top+Fe.top,bottom:On.bottom-ct.bottom+Fe.bottom,left:ct.left-On.left+Fe.left,right:On.right-ct.right+Fe.right},vn=t.modifiersData.offset;if(se===hu&&vn){var Ii=vn[r];Object.keys(Nn).forEach(function(ni){var Mr=[Nr,Or].indexOf(ni)>=0?1:-1,Ir=[Xi,Or].indexOf(ni)>=0?"y":"x";Nn[ni]+=Ii[Ir]*Mr})}return Nn}const zj={name:"flip",enabled:!0,phase:"main",fn:function Wj(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0===s||s,d=e.fallbackPlacements,T=e.padding,R=e.boundary,ee=e.rootBoundary,se=e.altBoundary,me=e.flipVariations,Te=void 0===me||me,Ae=e.allowedAutoPlacements,Re=n.options.placement,Fe=Jr(Re),Ye=d||(Fe!==Re&&Te?function qj(t){if(Jr(t)===um)return[];var n=Md(t);return[DE(t),n,DE(n)]}(Re):[Md(Re)]),Xe=[Re].concat(Ye).reduce(function(Ga,Jo){return Ga.concat(Jr(Jo)===um?function Gj(t,n){void 0===n&&(n={});var r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,d=n.allowedAutoPlacements,T=void 0===d?xE:d,R=La(n.placement),ee=R?a?NE:NE.filter(function(Te){return La(Te)===R}):pu,se=ee.filter(function(Te){return T.indexOf(Te)>=0});0===se.length&&(se=ee);var me=se.reduce(function(Te,Ae){return Te[Ae]=gm(t,{placement:Ae,boundary:r,rootBoundary:o,padding:s})[Jr(Ae)],Te},{});return Object.keys(me).sort(function(Te,Ae){return me[Te]-me[Ae]})}(n,{placement:Jo,boundary:R,rootBoundary:ee,padding:T,flipVariations:Te,allowedAutoPlacements:Ae}):Jo)},[]),ct=n.rects.reference,Dt=n.rects.popper,Jt=new Map,rn=!0,On=Xe[0],Nn=0;Nn<Xe.length;Nn++){var vn=Xe[Nn],Ii=Jr(vn),ni=La(vn)===ja,Mr=[Xi,Or].indexOf(Ii)>=0,Ir=Mr?"width":"height",di=gm(n,{placement:vn,boundary:R,rootBoundary:ee,altBoundary:se,padding:T}),Pr=Mr?ni?Nr:er:ni?Or:Xi;ct[Ir]>Dt[Ir]&&(Pr=Md(Pr));var tp=Md(Pr),Ms=[];if(o&&Ms.push(di[Ii]<=0),a&&Ms.push(di[Pr]<=0,di[tp]<=0),Ms.every(function(Ga){return Ga})){On=vn,rn=!1;break}Jt.set(vn,Ms)}if(rn)for(var Fm=function(Jo){var Nu=Xe.find(function(rp){var Is=Jt.get(rp);if(Is)return Is.slice(0,Jo).every(function(jm){return jm})});if(Nu)return On=Nu,"break"},Ou=Te?3:1;Ou>0&&"break"!==Fm(Ou);Ou--);n.placement!==On&&(n.modifiersData[i]._skip=!0,n.placement=On,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gu(t,n,e){return Ss(t,Id(n,e))}function ym(t){var n=Ba(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const Jj={name:"preventOverflow",enabled:!0,phase:"main",fn:function Zj(t){var n=t.state,e=t.options,i=t.name,r=e.mainAxis,o=void 0===r||r,s=e.altAxis,a=void 0!==s&&s,se=e.tether,me=void 0===se||se,Te=e.tetherOffset,Ae=void 0===Te?0:Te,Re=gm(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),Fe=Jr(n.placement),Ie=La(n.placement),Ye=!Ie,Xe=mm(Fe),ct=function Yj(t){return"x"===t?"y":"x"}(Xe),Dt=n.modifiersData.popperOffsets,Jt=n.rects.reference,rn=n.rects.popper,On="function"==typeof Ae?Ae(Object.assign({},n.rects,{placement:n.placement})):Ae,Nn="number"==typeof On?{mainAxis:On,altAxis:On}:Object.assign({mainAxis:0,altAxis:0},On),vn=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Ii={x:0,y:0};if(Dt){if(o){var ni,Mr="y"===Xe?Xi:er,Ir="y"===Xe?Or:Nr,di="y"===Xe?"height":"width",Pr=Dt[Xe],tp=Pr+Re[Mr],Ms=Pr-Re[Ir],np=me?-rn[di]/2:0,Fm=Ie===ja?Jt[di]:rn[di],Ou=Ie===ja?-rn[di]:-Jt[di],ip=n.elements.arrow,Ga=me&&ip?ym(ip):{width:0,height:0},Jo=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Nu=Jo[Mr],rp=Jo[Ir],Is=gu(0,Jt[di],Ga[di]),jm=Ye?Jt[di]/2-np-Is-Nu-Nn.mainAxis:Fm-Is-Nu-Nn.mainAxis,IV=Ye?-Jt[di]/2+np+Is+rp+Nn.mainAxis:Ou+Is+rp+Nn.mainAxis,$m=n.elements.arrow&&mu(n.elements.arrow),XT=null!=(ni=null==vn?void 0:vn[Xe])?ni:0,RV=Pr+IV-XT,eS=gu(me?Id(tp,Pr+jm-XT-($m?"y"===Xe?$m.clientTop||0:$m.clientLeft||0:0)):tp,Pr,me?Ss(Ms,RV):Ms);Dt[Xe]=eS,Ii[Xe]=eS-Pr}if(a){var tS,Ps=Dt[ct],op="y"===ct?"height":"width",nS=Ps+Re["x"===Xe?Xi:er],iS=Ps-Re["x"===Xe?Or:Nr],Bm=-1!==[Xi,er].indexOf(Fe),rS=null!=(tS=null==vn?void 0:vn[ct])?tS:0,oS=Bm?nS:Ps-Jt[op]-rn[op]-rS+Nn.altAxis,sS=Bm?Ps+Jt[op]+rn[op]-rS-Nn.altAxis:iS,aS=me&&Bm?function Kj(t,n,e){var i=gu(t,n,e);return i>e?e:i}(oS,Ps,sS):gu(me?oS:nS,Ps,me?sS:iS);Dt[ct]=aS,Ii[ct]=aS-Ps}n.modifiersData[i]=Ii}},requiresIfExists:["offset"]},t4={name:"arrow",enabled:!0,phase:"main",fn:function Xj(t){var n,e=t.state,i=t.name,r=t.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,a=Jr(e.placement),d=mm(a),R=[er,Nr].indexOf(a)>=0?"height":"width";if(o&&s){var ee=function(n,e){return jE("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:$E(n,pu))}(r.padding,e),se=ym(o),me="y"===d?Xi:er,Te="y"===d?Or:Nr,Ae=e.rects.reference[R]+e.rects.reference[d]-s[d]-e.rects.popper[R],Re=s[d]-e.rects.reference[d],Fe=mu(o),Ie=Fe?"y"===d?Fe.clientHeight||0:Fe.clientWidth||0:0,Dt=Ie/2-se[R]/2+(Ae/2-Re/2),Jt=gu(ee[me],Dt,Ie-se[R]-ee[Te]);e.modifiersData[i]=((n={})[d]=Jt,n.centerOffset=Jt-Dt,n)}},effect:function e4(t){var n=t.state,i=t.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=n.elements.popper.querySelector(r))||!PE(n.elements.popper,r)||(n.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function o4(t,n,e){void 0===e&&(e=!1);var i=fr(n),r=fr(n)&&function r4(t){var n=t.getBoundingClientRect(),e=$a(n.width)/t.offsetWidth||1,i=$a(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),o=Ko(n),s=Ba(t,r,e),a={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!e)&&(("body"!==Qr(n)||hm(o))&&(a=function i4(t){return t!==tr(t)&&fr(t)?function n4(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):pm(t)}(n)),fr(n)?((d=Ba(n,!0)).x+=n.clientLeft,d.y+=n.clientTop):o&&(d.x=fm(o))),{x:s.left+a.scrollLeft-d.x,y:s.top+a.scrollTop-d.y,width:s.width,height:s.height}}function s4(t){var n=new Map,e=new Set,i=[];function r(o){e.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(a){if(!e.has(a)){var d=n.get(a);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.set(o.name,o)}),t.forEach(function(o){e.has(o.name)||r(o)}),i}function l4(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var BE={placement:"bottom",modifiers:[],strategy:"absolute"};function LE(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function c4(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,r=t.defaultOptions,o=void 0===r?BE:r;return function(a,d,T){void 0===T&&(T=o);var R={placement:"bottom",orderedModifiers:[],options:Object.assign({},BE,o),modifiersData:{},elements:{reference:a,popper:d},attributes:{},styles:{}},ee=[],se=!1,me={state:R,setOptions:function(Fe){var Ie="function"==typeof Fe?Fe(R.options):Fe;Ae(),R.options=Object.assign({},o,R.options,Ie),R.scrollParents={reference:Ts(a)?_u(a):a.contextElement?_u(a.contextElement):[],popper:_u(d)};var Ye=function a4(t){var n=s4(t);return Fj.reduce(function(e,i){return e.concat(n.filter(function(r){return r.phase===i}))},[])}(function u4(t){var n=t.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,R.options.modifiers)));return R.orderedModifiers=Ye.filter(function(vn){return vn.enabled}),function Te(){R.orderedModifiers.forEach(function(Re){var Ie=Re.options,Xe=Re.effect;if("function"==typeof Xe){var ct=Xe({state:R,name:Re.name,instance:me,options:void 0===Ie?{}:Ie});ee.push(ct||function(){})}})}(),me.update()},forceUpdate:function(){if(!se){var Fe=R.elements,Ie=Fe.reference,Ye=Fe.popper;if(LE(Ie,Ye)){R.rects={reference:o4(Ie,mu(Ye),"fixed"===R.options.strategy),popper:ym(Ye)},R.reset=!1,R.placement=R.options.placement,R.orderedModifiers.forEach(function(vn){return R.modifiersData[vn.name]=Object.assign({},vn.data)});for(var ct=0;ct<R.orderedModifiers.length;ct++)if(!0!==R.reset){var Dt=R.orderedModifiers[ct],Jt=Dt.fn,rn=Dt.options;"function"==typeof Jt&&(R=Jt({state:R,options:void 0===rn?{}:rn,name:Dt.name,instance:me})||R)}else R.reset=!1,ct=-1}}},update:l4(function(){return new Promise(function(Re){me.forceUpdate(),Re(R)})}),destroy:function(){Ae(),se=!0}};if(!LE(a,d))return me;function Ae(){ee.forEach(function(Re){return Re()}),ee=[]}return me.setOptions(T).then(function(Re){!se&&T.onFirstUpdate&&T.onFirstUpdate(Re)}),me}}var kd={passive:!0},_4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VE(t){var n,e=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,d=t.gpuAcceleration,T=t.adaptive,R=t.roundOffsets,ee=t.isFixed,se=s.x,me=void 0===se?0:se,Te=s.y,Ae=void 0===Te?0:Te,Re="function"==typeof R?R({x:me,y:Ae}):{x:me,y:Ae};me=Re.x,Ae=Re.y;var Fe=s.hasOwnProperty("x"),Ie=s.hasOwnProperty("y"),Ye=er,Xe=Xi,ct=window;if(T){var Dt=mu(e),Jt="clientHeight",rn="clientWidth";Dt===tr(e)&&"static"!==Eo(Dt=Ko(e)).position&&"absolute"===a&&(Jt="scrollHeight",rn="scrollWidth"),(r===Xi||(r===er||r===Nr)&&o===fu)&&(Xe=Or,Ae-=(ee&&Dt===ct&&ct.visualViewport?ct.visualViewport.height:Dt[Jt])-i.height,Ae*=d?1:-1),r!==er&&(r!==Xi&&r!==Or||o!==fu)||(Ye=Nr,me-=(ee&&Dt===ct&&ct.visualViewport?ct.visualViewport.width:Dt[rn])-i.width,me*=d?1:-1)}var ni,vn=Object.assign({position:a},T&&_4),Ii=!0===R?function m4(t,n){var i=t.y,r=n.devicePixelRatio||1;return{x:$a(t.x*r)/r||0,y:$a(i*r)/r||0}}({x:me,y:Ae},tr(e)):{x:me,y:Ae};return me=Ii.x,Ae=Ii.y,Object.assign({},vn,d?((ni={})[Xe]=Ie?"0":"",ni[Ye]=Fe?"0":"",ni.transform=(ct.devicePixelRatio||1)<=1?"translate("+me+"px, "+Ae+"px)":"translate3d("+me+"px, "+Ae+"px, 0)",ni):((n={})[Xe]=Ie?Ae+"px":"",n[Ye]=Fe?me+"px":"",n.transform="",n))}var C4=c4({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function d4(t){var n=t.state,e=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,d=tr(n.elements.popper),T=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&T.forEach(function(R){R.addEventListener("scroll",e.update,kd)}),a&&d.addEventListener("resize",e.update,kd),function(){o&&T.forEach(function(R){R.removeEventListener("scroll",e.update,kd)}),a&&d.removeEventListener("resize",e.update,kd)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function f4(t){var n=t.state;n.modifiersData[t.name]=RE({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function g4(t){var n=t.state,e=t.options,i=e.gpuAcceleration,r=void 0===i||i,o=e.adaptive,s=void 0===o||o,a=e.roundOffsets,d=void 0===a||a,R={placement:Jr(n.placement),variation:La(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:r,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,VE(Object.assign({},R,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:s,roundOffsets:d})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,VE(Object.assign({},R,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function v4(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},r=n.attributes[e]||{},o=n.elements[e];!fr(o)||!Qr(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];!1===a?o.removeAttribute(s):o.setAttribute(s,!0===a?"":a)}))})},effect:function b4(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var r=n.elements[i],o=n.attributes[i]||{},a=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(d,T){return d[T]="",d},{});!fr(r)||!Qr(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}},requires:["computeStyles"]}]});function D4(t,n){}function O4(t,n){if(1&t&&(b(0,"button",3),Y(1),Oe(2,D4,0,0,"ng-template",4),E()),2&t){const e=n.$implicit;Ce("ngbPanelToggle",e),he(1),Kt(" ",e.title,""),he(1),Ce("ngTemplateOutlet",null==e.titleTpl?null:e.titleTpl.templateRef)}}function N4(t,n){}function x4(t,n){}function A4(t,n){if(1&t){const e=ze();b(0,"div",8),_e("ngbRef",function(r){return ye(e),fe().$implicit.panelDiv=r}),b(1,"div",9),Oe(2,x4,0,0,"ng-template",4),E()()}if(2&t){const e=fe().$implicit;nt("id",e.id),sn("aria-labelledby",e.id+"-header"),he(2),Ce("ngTemplateOutlet",(null==e.contentTpl?null:e.contentTpl.templateRef)||null)}}const M4=function(t,n){return{$implicit:t,opened:n}};function I4(t,n){if(1&t&&(b(0,"div")(1,"div",5),Oe(2,N4,0,0,"ng-template",6),E(),Oe(3,A4,3,3,"div",7),E()),2&t){const e=n.$implicit,i=fe(),r=We(1);$o("accordion-item "+(e.cardClass||"")),he(1),$o("accordion-header "+(e.type?"bg-"+e.type:i.type?"bg-"+i.type:"")),_a("id","",e.id,"-header"),he(1),Ce("ngTemplateOutlet",(null==e.headerTpl?null:e.headerTpl.templateRef)||r)("ngTemplateOutletContext",Ea(8,M4,e,e.isOpen)),he(1),Ce("ngIf",!i.destroyOnHide||e.isOpen||e.transitionRunning)}}const UE=["*"],Z4=["dialog"];function bm(t){return"string"==typeof t}function Ds(t){return null!=t}function Va(t){return(t||document.body).getBoundingClientRect()}const GE={animation:!0,transitionTimerDelayMs:5},G$=()=>{},{transitionTimerDelayMs:q$}=GE,yu=new Map,Mi=(t,n,e,i)=>{let r=i.context||{};const o=yu.get(n);if(o)switch(i.runningTransition){case"continue":return Tn;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),yu.delete(n)}const s=e(n,i.animation,r)||G$;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),Nt(void 0).pipe(function U$(t){return n=>new Z(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const a=new Ee,d=new Ee,T=a.pipe(function yj(...t){return n=>Gl(n,Nt(...t))}(!0));yu.set(n,{transition$:a,complete:()=>{d.next(),d.complete()},context:r});const R=function H$(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const ee=ei(n,"transitionend").pipe(yn(T),Jn(({target:me})=>me===n));CE(xd(R+q$).pipe(yn(T)),ee,d).pipe(yn(T)).subscribe(()=>{yu.delete(n),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()},qE=(t,n,e)=>{let{direction:i,maxHeight:r}=e;const{classList:o}=t;function s(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(n)return r||(r=function z$(t){if("undefined"==typeof navigator)return"0px";const{classList:n}=t,e=n.contains("show");e||n.add("show"),t.style.height="";const i=t.getBoundingClientRect().height+"px";return e||n.remove("show"),i}(t),e.maxHeight=r,t.style.height="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Va(t),o.add("collapsing")),t.style.height="show"===i?r:"0px",()=>{s(),o.remove("collapsing"),t.style.height=""};s()};let vu=(()=>{class t{constructor(){this.animation=GE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y$=(()=>{class t{constructor(e){this._ngbConfig=e,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Je(vu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),K$=0,Cm=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelHeader",""]]}),t})(),Em=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelTitle",""]]}),t})(),Tm=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["ng-template","ngbPanelContent",""]]}),t})(),Fd=(()=>{class t{constructor(){this.disabled=!1,this.id="ngb-panel-"+K$++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new gt,this.hidden=new gt}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["ngb-panel"]],contentQueries:function(e,i,r){if(1&e&&(en(r,Em,4),en(r,Cm,4),en(r,Tm,4)),2&e){let o;jt(o=$t())&&(i.titleTpls=o),jt(o=$t())&&(i.headerTpls=o),jt(o=$t())&&(i.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),t})(),Z$=(()=>{class t{constructor(e){this._El=e,this.ngbRef=new gt}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return t.\u0275fac=function(e){return new(e||t)(be(Zt))},t.\u0275dir=Ze({type:t,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),t})(),Sm=(()=>{class t{constructor(e,i,r){this._ngZone=i,this._changeDetector=r,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new gt,this.shown=new gt,this.hidden=new gt,this.animation=e.animation,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const i=this._findPanelById(e);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){bm(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>{e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(gi(1)).subscribe(()=>{this.panels.forEach(e=>{const i=e.panelDiv;i?e.initClassDone||(e.initClassDone=!0,Mi(this._ngZone,i,qE,{animation:!1,runningTransition:"continue",context:{direction:e.isOpen?"show":"hide"}})):e.initClassDone=!1})})}_changeOpenState(e,i){if(null!=e&&!e.disabled&&e.isOpen!==i){let r=!1;this.panelChange.emit({panelId:e.id,nextState:i,preventDefault:()=>{r=!0}}),r||(e.isOpen=i,e.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(e,i=!0){this.panels.forEach(r=>{r.id!==e&&r.isOpen&&(r.isOpen=!1,r.transitionRunning=i)})}_findPanelById(e){return this.panels.find(i=>i.id===e)||null}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}_runTransitions(e){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Mi(this._ngZone,i.panelDiv,qE,{animation:e,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide"}}).subscribe(()=>{i.transitionRunning=!1;const{id:o}=i;i.isOpen?(i.shown.emit(),this.shown.emit(o)):(i.hidden.emit(),this.hidden.emit(o))})})}}return t.\u0275fac=function(e){return new(e||t)(be(Y$),be(_n),be(Zi))},t.\u0275cmp=Gt({type:t,selectors:[["ngb-accordion"]],contentQueries:function(e,i,r){if(1&e&&en(r,Fd,4),2&e){let o;jt(o=$t())&&(i.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(e,i){2&e&&sn("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(e,i){1&e&&(Oe(0,O4,3,3,"ng-template",0,1,tt),Oe(2,I4,4,11,"ng-template",2)),2&e&&(he(2),Ce("ngForOf",i.panels))},directives:function(){return[Cm,WE,hs,Ni,ji,Z$]},encapsulation:2}),t})(),WE=(()=>{class t{constructor(e,i){this.accordion=e,this.panel=i}set ngbPanelToggle(e){e&&(this.panel=e)}}return t.\u0275fac=function(e){return new(e||t)(be(Sm),be(Fd,9))},t.\u0275dir=Ze({type:t,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(e,i){1&e&&_e("click",function(){return i.accordion.toggle(i.panel.id)}),2&e&&(po("disabled",i.panel.disabled),sn("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),nn("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),jd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,i){2&e&&nn("btn",!0)("active",i.active)("disabled",i.disabled)("focus",i.focused)}}),t})(),Q$=0,Dm=(()=>{class t{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Q$++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ze({type:t,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[Xt([{provide:Ji,useExisting:ut(()=>t),multi:!0}])]}),t})(),KE=(()=>{class t{constructor(e,i,r,o,s){this._group=e,this._label=i,this._renderer=r,this._element=o,this._cd=s,this._value=null,this._group.register(this),this.updateDisabled()}set value(e){this._value=e;const i=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",i),this._group.onRadioValueUpdate()}set disabled(e){this._disabled=!1!==e,this.updateDisabled()}set focused(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return t.\u0275fac=function(e){return new(e||t)(be(Dm),be(jd),be(Ri),be(Zt),be(Zi))},t.\u0275dir=Ze({type:t,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,i){1&e&&_e("change",function(){return i.onChange()})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&po("checked",i.checked)("disabled",i.disabled)("name",i.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),t})(),ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),eT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();var ti=(()=>{return(t=ti||(ti={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",ti;var t})();const Bd=(t,n)=>!!n&&n.some(e=>e.contains(t)),tT=(t,n)=>!n||null!=function V$(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),c5="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const iT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rT(t){const n=Array.from(t.querySelectorAll(iT)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const f5=/\s+/,h5=/  +/gi,_5=/^start/,m5=/^end/,g5=/-(top|left)$/,y5=/-(bottom|right)$/,b5=/^left/,w5=/^right/,C5=/^start/,E5=/^end/;function oT({placement:t,baseClass:n}){let e=Array.isArray(t)?t:t.split(f5),r=e.findIndex(d=>"auto"===d);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(d){null==e.find(T=>-1!==T.search("^"+d))&&e.splice(r++,1,d)});const o=e.map(d=>function v5(t){return t.replace(_5,"left").replace(m5,"right").replace(g5,"-start").replace(y5,"-end")}(d));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:d}){const T=new RegExp(n+"(-[a-z]+)*","gi"),R=d.elements.popper,ee=d.placement;let se=R.className;se=se.replace(T,""),se+=` ${function T5(t,n){let[e,i]=n.split("-");const r=e.replace(b5,"start").replace(w5,"end");let o=[r];if(i){let s=i;("left"===e||"right"===e)&&(s=s.replace(C5,"top").replace(E5,"bottom")),o.push(`${r}-${s}`)}return t&&(o=o.map(s=>`${t}-${s}`)),o.join(" ")}(n,ee)}`,se=se.trim().replace(h5," "),R.className=se}},zj,Jj,t4,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function sT(t){return t}new Date(1882,10,12),new Date(2174,10,25);let fT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li,Z_]]}),t})(),gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();class As{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class F5{constructor(n,e,i,r,o,s){this._type=n,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe(gi(1),Bt(()=>Mi(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(n=!1){return this._windowRef?Mi(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(ui(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Nt(void 0)}_getContentRef(n,e){if(n){if(n instanceof At){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new As([i.rootNodes],i)}return new As([[this._renderer.createText(`${n}`)]])}return new As([])}}let j5=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(gi(1)).subscribe(()=>{Mi(this._zone,this._el.nativeElement,(e,i)=>{i&&Va(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(be(Zt),be(_n))},t.\u0275cmp=Gt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&($o("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),nn("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class vi{close(n){}dismiss(n){}}class $5{constructor(n,e,i,r){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ee,this._dismissed=new Ee,this._hidden=new Ee,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(yn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(yn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function HE(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Nt(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ad(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Eu=(()=>{return(t=Eu||(Eu={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Eu;var t})();let B5=(()=>{class t{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ee,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new gt,this.shown=new Ee,this.hidden=new Ee}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":bm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(gi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Ad(Mi(this._zone,e,()=>e.classList.remove("show"),i),Mi(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Ad(Mi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Va(o),o.classList.add("show")},e),Mi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ei(e,"keydown").pipe(yn(this._closed$),Jn(r=>r.which===ti.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Eu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ei(this._dialogEl.nativeElement,"mousedown").pipe(yn(this._closed$),ui(()=>i=!1),go(()=>ei(e,"mouseup").pipe(yn(this._closed$),gi(1))),Jn(({target:r})=>e===r)).subscribe(()=>{i=!0}),ei(e,"click").pipe(yn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Eu.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=rT(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Mi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(be(Vn),be(Zt),be(_n))},t.\u0275cmp=Gt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Lo(Z4,7),2&e){let r;jt(r=$t())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(sn("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),$o("modal d-block"+(i.windowClass?" "+i.windowClass:"")),nn("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:UE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Sl(),b(0,"div",0,1)(2,"div",2),Dl(3),E()()),2&e&&$o("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),L5=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}}return t.\u0275fac=function(e){return new(e||t)(Je(Vn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),V5=(()=>{class t{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Ee,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new gt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ei(n,"focusin").pipe(yn(e),H(o=>o.target));ei(n,"keydown").pipe(yn(e),Jn(o=>o.which===ti.Tab),lm(r)).subscribe(([o,s])=>{const[a,d]=rT(n);(s===a||s===n)&&o.shiftKey&&(d.focus(),o.preventDefault()),s===d&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ei(n,"click").pipe(yn(e),lm(r),H(o=>o[1])).subscribe(o=>o.focus())})})(0,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:Ds(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new vi,T=this._getContentRef(e,o.injector||i,r,d,o);let R=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,ee=this._attachWindowComponent(e,s,T),se=new $5(ee,T,R,o.beforeDismiss);return this._registerModalRef(se),this._registerWindowCmpt(ee),se.hidden.pipe(gi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=me=>{se.close(me)},d.dismiss=me=>{se.dismiss(me)},this._applyWindowOptions(ee.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),R&&R.instance&&(this._applyBackdropOptions(R.instance,o),R.changeDetectorRef.detectChanges()),ee.changeDetectorRef.detectChanges(),se}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(j5).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(B5).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Ds(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Ds(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof At?this._createFromTemplateRef(r,o):bm(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new As([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new As([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new As([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),d=Yn.create({providers:[{provide:vi,useValue:o}],parent:i}),T=a.create(d),R=T.location.nativeElement;return s.scrollable&&R.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new As([[R]],T.hostView,T)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Je($l),Je(Yn),Je(Vn),Je(L5),Je(lh),Je(_n))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$i=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Je(vu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bi=(()=>{class t{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Je(ba),Je(Yn),Je(V5),Je($i))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:[Bi]}),t})(),CT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),AT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})();class z5{constructor(n,e){this.open=n,this.close=e,e||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const Y5={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},MT=t=>t>0?SE(t):n=>n;let IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),PT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),kT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),RT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),FT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),tB=(()=>{class t{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Je(vu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nB=0,iB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(po("id",i.id),$o("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),nn("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:UE,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(Sl(),Pe(0,"div",0),b(1,"div",1),Dl(2),E())},encapsulation:2,changeDetection:0}),t})(),rB=(()=>{class t{constructor(e,i,r,o,s,a,d,T,R){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=d,this._changeDetector=T,this.shown=new gt,this.hidden=new gt,this._ngbTooltipWindowId="ngb-tooltip-"+nB++,this._windowRef=null,this._positioning=function aT(){let t=null;return{createPopper(n){if(!t){let i=(n.updatePopperOptions||sT)(oT(n));t=C4(n.hostElement,n.targetElement,i)}},update(){t&&t.update()},setOptions(n){if(t){let i=(n.updatePopperOptions||sT)(oT(n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(),this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new F5(iB,r,o,i,this._ngZone,R)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:r}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function nT(t,n,e,i,r,o,s,a){e&&t.runOutsideAngular((t=>c5?()=>setTimeout(()=>t(),100):t)(()=>{const T=ei(n,"keydown").pipe(yn(r),Jn(se=>se.which===ti.Escape),ui(se=>se.preventDefault())),R=ei(n,"mousedown").pipe(H(se=>{const me=se.target;return 2!==se.button&&!Bd(me,s)&&("inside"===e?Bd(me,o)&&tT(me,a):"outside"===e?!Bd(me,o):tT(me,a)||!Bd(me,o))}),yn(r)),ee=ei(n,"mouseup").pipe(lm(R),Jn(([se,me])=>me),SE(0),yn(r));CE([T.pipe(H(se=>0)),ee.pipe(H(se=>1))]).subscribe(se=>t.run(()=>i(se)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(e).subscribe(()=>{var i;this._windowRef=null,this._positioning.destroy(),null===(i=this._zoneSubscription)||void 0===i||i.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Q5(t,n,e,i,r,o,s=0,a=0){const d=function K5(t,n=Y5){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=n[o[0]]||o;return new z5(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===d.length&&d[0].isManual())return()=>{};const T=function Z5(t,n,e,i){return new Z(r=>{const o=[],s=()=>r.next(!0),a=()=>r.next(!1),d=()=>r.next(!i());return e.forEach(T=>{T.open===T.close?o.push(t.listen(n,T.open,d)):o.push(t.listen(n,T.open,s),t.listen(n,T.close,a))}),()=>{o.forEach(T=>T())}})}(t,n,d,i).pipe(function J5(t,n,e){return i=>{let r=null;const o=i.pipe(H(d=>({open:d})),Jn(d=>{const T=e();return T===d.open||r&&r.open!==T?(r&&r.open!==d.open&&(r=null),!1):(r=d,!0)}),za());return kr(o.pipe(Jn(d=>d.open),MT(t)),o.pipe(Jn(d=>!d.open),MT(n))).pipe(Jn(d=>d===r&&(r=null,d.open!==e())),H(d=>d.open))}}(s,a,i)).subscribe(R=>R?r():o());return()=>T.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){var e;this.close(!1),null===(e=this._unregisterListenersFn)||void 0===e||e.call(this)}}return t.\u0275fac=function(e){return new(e||t)(be(Zt),be(Ri),be(Yn),be(lr),be(tB),be(_n),be(Vn),be(Zi),be($l))},t.\u0275dir=Ze({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[$n]}),t})(),jT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();new kt("live announcer delay",{providedIn:"root",factory:function oB(){return 100}});let $T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li]]}),t})(),BT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({}),t})();const sB=[zE,YE,ZE,XE,eT,fT,gT,yT,CT,BT,AT,IT,PT,kT,RT,FT,jT,$T];let LT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[sB,zE,YE,ZE,XE,eT,fT,gT,yT,CT,BT,AT,IT,PT,kT,RT,FT,jT,$T]}),t})();const Pm={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};let qd=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getSitesByUserMail(e){return this.http.get(this.apiUrl+"/user/"+e,Pm)}getMissionsBySiteID(e){return console.log("id_ ",e),this.http.get(this.apiUrl+"/uploads/files/"+e,Pm)}getMission(e){return console.log("siteId ",e),this.http.get(this.apiUrl+"/uploads/files/"+e,Pm)}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wd=(()=>{class t{constructor(e){this.http=e}UploadData(e){const i={headers:new ot({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};return this.http.post("/api/uploads",e,i)}UploadDataVerif(e){const i=new ot({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`});return this.http.post("/api/verifications/uploads",e,{headers:i})}UploadDataWorker(e){const i=new ot({"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`});return this.http.post("/api/workers/uploads",e,{headers:i})}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ha={headers:new ot({"Content-Type":"application/json"})};let zd=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api"}getUsers(){return this.http.get(this.apiUrl+"/users",Ha)}addUser(e,i,r,o,s,a){return this.http.post(this.apiUrl+"/user",{last_name:i,first_name:r,mail:o,password:s,structure_id:a,admin:0,user_id:e},Ha)}delUser(e,i){return this.http.delete(this.apiUrl+"/user?user_id="+e+"&id="+i)}getStructures(){return this.http.get(this.apiUrl+"/structures",Ha)}addStructure(e,i){return this.http.post(this.apiUrl+"/structure",{user_id:e,name:i},Ha)}delStructure(e,i){return this.http.delete(this.apiUrl+"/structure?user_id="+e+"&structure_id="+i)}updateStructure(e,i,r){return this.http.put(this.apiUrl+"/structure?user_id="+e+"&structure_id="+i+"&name="+r,{})}getSiteByStructureId(e){return this.http.get(this.apiUrl+"/structure/sites?structure_id="+e,Ha)}addSite(e,i,r){return this.http.post(this.apiUrl+"/site",{user_id:e,structure_id:i,name:r},Ha)}delSite(e,i){return this.http.delete(this.apiUrl+"/site/?user_id="+e+"&site_id="+i)}updateSite(e,i,r){return this.http.put(this.apiUrl+"/site?user_id="+e+"&site_id="+i+"&name="+r,{})}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function aB(t,n){if(1&t&&(b(0,"option"),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.name)}}function lB(t,n){1&t&&Pe(0,"i",17)}function uB(t,n){1&t&&Pe(0,"i",18)}function cB(t,n){if(1&t&&(b(0,"b"),Y(1),E(),Y(2,"!")),2&t){const e=fe(3).$implicit;he(1),vt(e.name)}}function dB(t,n){if(1&t&&(b(0,"div"),Oe(1,cB,3,1,"ng-template",null,19,tt),b(3,"div",20)(4,"button",21),Pe(5,"i",22),E()()()),2&t){const e=We(2);he(4),Ce("ngbTooltip",e)}}function pB(t,n){if(1&t&&(b(0,"div",12),Oe(1,lB,1,0,"i",13),Oe(2,uB,1,0,"i",14),b(3,"span",15),Y(4),E()(),Oe(5,dB,6,1,"div",16)),2&t){const e=fe().$implicit;he(1),Ce("ngIf",0==e.verif),he(1),Ce("ngIf",1==e.verif),he(2),vt(e.name),he(1),Ce("ngIf",0==e.sous_missions.length)}}function fB(t,n){1&t&&Pe(0,"div")}function hB(t,n){1&t&&Pe(0,"i",17)}function _B(t,n){1&t&&Pe(0,"i",18)}function mB(t,n){if(1&t&&(Y(0,"Hello, "),b(1,"b"),Y(2),E()),2&t){const e=fe(6).$implicit;he(2),vt(e.name)}}function gB(t,n){if(1&t&&(b(0,"div",20)(1,"button",21),Pe(2,"i",22),E()()),2&t){fe();const e=We(2);he(1),Ce("ngbTooltip",e)}}function yB(t,n){if(1&t&&(b(0,"div"),Oe(1,mB,3,1,"ng-template",null,19,tt),Oe(3,gB,3,1,"div",27),E()),2&t){const e=fe(5).$implicit;he(3),Ce("ngIf",e.sous_missions.length>0)}}function vB(t,n){if(1&t&&(b(0,"div",12),Oe(1,hB,1,0,"i",13),Oe(2,_B,1,0,"i",14),b(3,"span",15),Y(4),E()(),Oe(5,yB,4,1,"div",16)),2&t){const e=fe().$implicit;he(1),Ce("ngIf",0==e.verif),he(1),Ce("ngIf",1==e.verif),he(2),vt(e.name),he(1),Ce("ngIf",0==e.sous_missions2.length)}}function bB(t,n){1&t&&Pe(0,"div")}function wB(t,n){1&t&&Pe(0,"i",17)}function CB(t,n){1&t&&Pe(0,"i",18)}function EB(t,n){if(1&t&&(Y(0,"Hello, "),b(1,"b"),Y(2),E(),Y(3,"!")),2&t){const e=fe(8).$implicit;he(2),vt(e.name)}}function TB(t,n){if(1&t&&(b(0,"div",12),Oe(1,wB,1,0,"i",13),Oe(2,CB,1,0,"i",14),b(3,"span",15),Y(4),E()(),Oe(5,EB,4,1,"ng-template",null,19,tt),b(7,"div",20)(8,"button",21),Pe(9,"i",22),E()()),2&t){const e=We(6),i=fe().$implicit;he(1),Ce("ngIf",0==i.verif),he(1),Ce("ngIf",1==i.verif),he(2),vt(i.name),he(4),Ce("ngbTooltip",e)}}function SB(t,n){1&t&&Pe(0,"div")}function DB(t,n){if(1&t){const e=ze();b(0,"div",32)(1,"label",33),Pe(2,"i",34),b(3,"input",35),_e("change",function(r){ye(e);const o=fe(2).$implicit,s=fe(3).$implicit,a=fe(3).$implicit;return fe().onFileSelected2(r,a.id,s.id,o.id)}),E()(),Y(4),E()}if(2&t){const e=fe(2).$implicit,i=fe(7);he(1),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function OB(t,n){if(1&t){const e=ze();b(0,"div",42)(1,"h4",43),Y(2," Suppression de fichier "),E(),b(3,"button",44),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",45)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",46),Y(9),E()()(),b(10,"p")(11,"span",47),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",48)(14,"button",49),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",50),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function NB(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,OB,18,1,"ng-template",null,37,tt),b(3,"td")(4,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",39),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(3).$implicit,d=fe(3).$implicit,T=fe(3).$implicit;return fe().open2(s,T.id,o,d.id,a.id)}),Pe(9,"i",40),E(),b(10,"button",39),_e("click",function(){const o=ye(e).index,s=fe(3).$implicit,a=fe(3).$implicit,d=fe(3).$implicit;return fe().download2(d.id,o,a.id,s.id)}),Pe(11,"i",41),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function xB(t,n){if(1&t){const e=ze();b(0,"table",36)(1,"thead")(2,"tr")(3,"th"),Y(4,"Nom"),E(),b(5,"th"),Y(6,"Date"),E(),b(7,"th"),Y(8,"Action"),E()()(),b(9,"tbody"),Oe(10,NB,12,4,"tr",6),E()(),b(11,"div",32)(12,"label",33),Pe(13,"i",34),b(14,"input",35),_e("change",function(r){ye(e);const o=fe(2).$implicit,s=fe(3).$implicit,a=fe(3).$implicit;return fe().onFileSelected2(r,a.id,s.id,o.id)}),E()(),Y(15),E()}if(2&t){const e=fe(2).$implicit,i=fe(7);he(10),Ce("ngForOf",e.fichier),he(2),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function AB(t,n){if(1&t&&(Oe(0,SB,1,0,"div",23),Oe(1,DB,5,3,"ng-template",null,30,tt),Oe(3,xB,16,4,"ng-template",null,31,tt)),2&t){const e=We(2),i=We(4);Ce("ngIf",0==fe().$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function MB(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",9),Oe(3,TB,10,4,"ng-template",10),Oe(4,AB,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;he(2),Ce("id","toggle-"+e.id)}}function IB(t,n){if(1&t&&(b(0,"div",0),Oe(1,MB,5,1,"ngb-accordion",6),E()),2&t){const e=fe(2).$implicit;he(1),Ce("ngForOf",e.sous_missions2)}}function PB(t,n){1&t&&Pe(0,"div")}function kB(t,n){if(1&t){const e=ze();b(0,"div",32)(1,"label",33),Pe(2,"i",34),b(3,"input",35),_e("change",function(r){ye(e);const o=fe(3).$implicit,s=fe(3).$implicit;return fe().onFileSelected1(r,s.id,o.id)}),E()(),Y(4),E()}if(2&t){const e=fe(3).$implicit,i=fe(4);he(1),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function RB(t,n){if(1&t){const e=ze();b(0,"div",42)(1,"h4",43),Y(2," Suppression de fichier "),E(),b(3,"button",44),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",45)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",46),Y(9),E()()(),b(10,"p")(11,"span",47),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",48)(14,"button",49),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",50),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function FB(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,RB,18,1,"ng-template",null,54,tt),b(3,"td")(4,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",39),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(4).$implicit,d=fe(3).$implicit;return fe().open1(s,d.id,o,a.id)}),Pe(9,"i",40),E(),b(10,"button",39),_e("click",function(){const o=ye(e).index,s=fe(4).$implicit,a=fe(3).$implicit;return fe().download1(a.id,o,s.id)}),Pe(11,"i",41),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function jB(t,n){if(1&t){const e=ze();b(0,"table",36)(1,"thead")(2,"tr")(3,"th"),Y(4,"Nom"),E(),b(5,"th"),Y(6,"Date"),E(),b(7,"th"),Y(8,"Action"),E()()(),b(9,"tbody"),Oe(10,FB,12,4,"tr",6),E()(),b(11,"div",32)(12,"label",53),Pe(13,"i",34),b(14,"input",35),_e("change",function(r){ye(e);const o=fe(3).$implicit,s=fe(3).$implicit;return fe().onFileSelected1(r,s.id,o.id)}),E()(),Y(15),E()}if(2&t){const e=fe(3).$implicit,i=fe(4);he(10),Ce("ngForOf",e.fichier),he(2),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function $B(t,n){if(1&t&&(Oe(0,PB,1,0,"div",23),Oe(1,kB,5,3,"ng-template",null,51,tt),Oe(3,jB,16,4,"ng-template",null,52,tt)),2&t){const e=We(2),i=We(4);Ce("ngIf",0==fe(2).$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function BB(t,n){if(1&t&&(Oe(0,bB,1,0,"div",23),Oe(1,IB,2,1,"ng-template",null,28,tt),Oe(3,$B,5,3,"ng-template",null,29,tt)),2&t){const e=We(2),i=We(4);Ce("ngIf",fe().$implicit.sous_missions2.length>0)("ngIfThen",e)("ngIfElse",i)}}function LB(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",26),Oe(3,vB,6,4,"ng-template",10),Oe(4,BB,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;he(2),Ce("id","toggle-"+e.id)}}function VB(t,n){1&t&&Oe(0,LB,5,1,"ngb-accordion",6),2&t&&Ce("ngForOf",fe(2).$implicit.sous_missions)}function UB(t,n){1&t&&Pe(0,"div")}function HB(t,n){if(1&t){const e=ze();b(0,"div",32)(1,"label",33),Pe(2,"i",34),b(3,"input",35),_e("change",function(r){ye(e);const o=fe(3).$implicit;return fe().onFileSelected(r,o.id)}),E()(),Y(4),E()}if(2&t){const e=fe(3).$implicit,i=fe();he(1),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function GB(t,n){if(1&t){const e=ze();b(0,"div",42)(1,"h4",43),Y(2," Suppression de fichier "),E(),b(3,"button",44),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",45)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",46),Y(9),E()()(),b(10,"p")(11,"span",47),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",48)(14,"button",49),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",50),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function qB(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,GB,18,1,"ng-template",null,57,tt),b(3,"td")(4,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",38),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",39),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(4).$implicit;return fe().open(s,a.id,o)}),Pe(9,"i",40),E(),b(10,"button",39),_e("click",function(){const o=ye(e).index,s=fe(4).$implicit;return fe().download(s.id,o)}),Pe(11,"i",41),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function WB(t,n){if(1&t){const e=ze();b(0,"table",36)(1,"thead")(2,"tr")(3,"th"),Y(4,"Nom"),E(),b(5,"th"),Y(6,"Date"),E(),b(7,"th"),Y(8,"Action"),E()()(),b(9,"tbody"),Oe(10,qB,12,4,"tr",6),E()(),b(11,"div",32)(12,"label",53),Pe(13,"i",34),b(14,"input",35),_e("change",function(r){ye(e);const o=fe(3).$implicit;return fe().onFileSelected(r,o.id)}),E()(),Y(15),E()}if(2&t){const e=fe(3).$implicit,i=fe();he(10),Ce("ngForOf",e.fichier),he(2),Ki("display",e.displayBtn?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function zB(t,n){if(1&t&&(Oe(0,UB,1,0,"div",23),Oe(1,HB,5,3,"ng-template",null,55,tt),Oe(3,WB,16,4,"ng-template",null,56,tt)),2&t){const e=We(2),i=We(4);Ce("ngIf",0==fe(2).$implicit.fichier.length)("ngIfThen",e)("ngIfElse",i)}}function YB(t,n){if(1&t&&(Oe(0,fB,1,0,"div",23),Oe(1,VB,1,1,"ng-template",null,24,tt),Oe(3,zB,5,3,"ng-template",null,25,tt)),2&t){const e=We(2),i=We(4);Ce("ngIf",fe().$implicit.sous_missions.length>0)("ngIfThen",e)("ngIfElse",i)}}function KB(t,n){if(1&t&&(b(0,"ngb-accordion",null,8)(2,"ngb-panel",9),Oe(3,pB,6,4,"ng-template",10),Oe(4,YB,5,3,"ng-template",11),E()()),2&t){const e=n.$implicit;he(2),Ce("id","toggle-"+e.id)}}let ZB=(()=>{class t{constructor(e,i,r,o,s,a,d,T,R){this.userService=e,this.userinfo=i,this.siteService=r,this.modalService=s,this.modal=a,this.DataService=d,this.http=T,this.adminService=R,this.closeResult="",this.Missions=[{id:"0",name:"0. Plans de pr\xe9vention des risques",sous_missions:[],fichier:Array(),verif:!1,id_bdd:1,displayBtn:!0},{id:"1",name:"1. Organisation de la radioprotection",sous_missions:[{id:"1",name:"1. Lettres de nomination des PCR",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:3,displayBtn:!0},{id:"2",name:"2. Dipl\xf4me des PCR",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:4,displayBtn:!0},{id:"3",name:"3. Plan d'organisation de la radioprotection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:5,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:2},{id:"2",name:"2. G\xe9n\xe9rateurs de rayonnements ionisants",sous_missions:[{id:"1",name:"1. SIGIS pour l'IRSN",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:7,displayBtn:!0},{id:"2",name:"2. Accus\xe9 d'autorisation ASN",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:8,displayBtn:!0},{id:"3",name:"3. Fiche ID et marquage CE",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:9,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:6},{id:"3",name:"3. V\xe9rifications de radioprotection",sous_missions:[{id:"1",name:"1. Certificats de v\xe9rification p\xe9riodique de l'\xe9talonnage des appareils de mesure",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:11,displayBtn:!0},{id:"2",name:"2. Pr\xe9visionnel des v\xe9rifications de radioprotection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:12,displayBtn:!0},{id:"3",name:"3. Equipements de protection individuelle",sous_missions2:[{id:"0",name:"0. Proc\xe9dure de v\xe9rification d'un \xe9quipement de protection ",fichier:Array(),verif:!1,id_bdd:14,displayBtn:!0},{id:"1",name:"1. Inventaire et v\xe9rification des \xe9quipements de protection",fichier:Array(),verif:!1,id_bdd:15,displayBtn:!0},{id:"2",name:"2. Fiches de non-conformit\xe9",fichier:Array(),verif:!1,id_bdd:16,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:13}],fichier:Array(),verif:!1,id_bdd:10},{id:"4",name:"4. Evaluation des risques radiologiques",sous_missions:[{id:"1",name:"1. Evaluation des expositions des travailleurs",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:18,displayBtn:!0},{id:"2",name:"2. Evaluation individuelle des expositions \xe0 priori",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:19,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:17},{id:"5",name:"5. D\xe9limitation des zones r\xe9glement\xe9es",sous_missions:[{id:"1",name:"1. Plans de zonage",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:21,displayBtn:!0},{id:"2",name:"2. Rapport de d\xe9limitation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:22,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:20},{id:"6",name:"6. Affichages r\xe9glementaire",sous_missions:[{id:"1",name:"1. Consignes d'acc\xe8s en zones",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:24,displayBtn:!0},{id:"2",name:"2 Tr\xe8fles de zone et de sources radiog\xe8nes",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:25,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:23},{id:"7",name:"7. Suivi dosim\xe9trique d'ambiance",sous_missions:[],fichier:Array(),verif:!1,id_bdd:26,displayBtn:!0},{id:"8",name:"8. Formations radioprotection des travailleurs",sous_missions:[{id:"1",name:"1. R\xe9f\xe9rences r\xe9glementaires",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:28,displayBtn:!0},{id:"2",name:"2. Programme et fascicule de la formation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:29,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentiel",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:30,displayBtn:!0},{id:"4",name:"4. Attestation de formation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:31,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:27},{id:"9",name:"9. Conformit\xe9 des locaux",sous_missions:[{id:"1",name:"1. Plans des salles",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:33,displayBtn:!0},{id:"2",name:"2. Rapports techniques \xe0 la DC 0591",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:34,displayBtn:!0},{id:"3",name:"3. Docs constructeur",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:35,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:32},{id:"10",name:"10. Veille r\xe9glementaire",sous_missions:[],fichier:Array(),verif:!1,id_bdd:36,displayBtn:!0},{id:"11",name:"11. Inspection ASN",sous_missions:[{id:"1",name:"1. Lettre de suite d'inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:38,displayBtn:!0},{id:"2",name:"2. Pr\xe9paration Inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:39,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentation lors de l'inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:40,displayBtn:!0},{id:"4",name:"4. R\xe9ponses suite Inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:41,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:37},{id:"12",name:"12. Proc\xe9dures particuli\xe8res",sous_missions:[],fichier:Array(),verif:!1,id_bdd:42,displayBtn:!0},{id:"13",name:"13. \xc9v\xe8nement de radioprotection",sous_missions:[{id:"1",name:"1. Rapport de d\xe9claration",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:44,displayBtn:!0},{id:"2",name:"2. Compte rendu de d\xe9claration",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:45,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:43},{id:"14",name:"14. Note d'information radioprotection",sous_missions:[],fichier:Array(),verif:!1,id_bdd:46,displayBtn:!0},{id:"15",name:"15. Bilans (r\xe9unions, CHSCT,...)",sous_missions:[],fichier:Array(),verif:!1,id_bdd:47,displayBtn:!0}],this.tempSite="temp",this.sitesTab=[{name:"",id:0}],this.structuresTab=[{name:"structure par defaut",id:1}],this.missionsTab=[{mission:"loading",missionId:0,files:[],filename:"",uploadDate:"",_id:0,siteId:0}],this.test=!0,this.pdfMissing="",this.fieldArray=[],this.newAttribute={},this.newfichier=[],this.date=new Date,this.pipe=new Mb("fr-FR"),o.backdrop="static",o.keyboard=!1,this.selected={name:"selectionner un site",id:"0"}}start(){1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.structureSel={name:"Loading...",id:0},this.getSites()}changeselect(e){var i;const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.structureSel=this.sitesTab.find(s=>s.name==e.target.value),this.actual=null===(i=this.sitesTab.find(s=>s.name==e.target.value))||void 0===i?void 0:i.name,this.selected={name:this.actual},this.tempSite=this.actual,console.log(this.userService.structure),this.http.get("http://localhost:8000/api/site/"+this.userService.structure,o).subscribe(s=>{const a=Object.values(s);for(let d=0;d<this.sitesTab.length;d++)this.actual==a[d].name&&(console.log("response[index].name = ",a[d].name,"this.actual= ",this.actual),this.tempSite=a[d]._id,console.log("current site id = ",this.tempSite),this.Missions=[{id:"0",name:"0. Plans de pr\xe9vention des risques",sous_missions:[],fichier:Array(),verif:!1,id_bdd:1,displayBtn:!0},{id:"1",name:"1. Organisation de la radioprotection",sous_missions:[{id:"1",name:"1. Lettres de nomination des PCR",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:3,displayBtn:!0},{id:"2",name:"2. Dipl\xf4me des PCR",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:4,displayBtn:!0},{id:"3",name:"3. Plan d'organisation de la radioprotection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:5,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:2},{id:"2",name:"2. G\xe9n\xe9rateurs de rayonnements ionisants",sous_missions:[{id:"1",name:"1. SIGIS pour l'IRSN",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:7,displayBtn:!0},{id:"2",name:"2. Accus\xe9 d'autorisation ASN",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:8,displayBtn:!0},{id:"3",name:"3. Fiche ID et marquage CE",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:9,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:6},{id:"3",name:"3. V\xe9rifications de radioprotection",sous_missions:[{id:"1",name:"1. Certificats de v\xe9rification p\xe9riodique de l'\xe9talonnage des appareils de mesure",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:11,displayBtn:!0},{id:"2",name:"2. Pr\xe9visionnel des v\xe9rifications de radioprotection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:12,displayBtn:!0},{id:"3",name:"3. Equipements de protection individuelle",sous_missions2:[{id:"0",name:"0. Proc\xe9dure de v\xe9rification d'un \xe9quipement de protection ",fichier:Array(),verif:!1,id_bdd:14,displayBtn:!0},{id:"1",name:"1. Inventaire et v\xe9rification des \xe9quipements de protection",fichier:Array(),verif:!1,id_bdd:15,displayBtn:!0},{id:"2",name:"2. Fiches de non-conformit\xe9",fichier:Array(),verif:!1,id_bdd:16,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:13}],fichier:Array(),verif:!1,id_bdd:10},{id:"4",name:"4. Evaluation des risques radiologiques",sous_missions:[{id:"1",name:"1. Evaluation des expositions des travailleurs",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:18,displayBtn:!0},{id:"2",name:"2. Evaluation individuelle des expositions \xe0 priori",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:19,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:17},{id:"5",name:"5. D\xe9limitation des zones r\xe9glement\xe9es",sous_missions:[{id:"1",name:"1. Plans de zonage",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:21,displayBtn:!0},{id:"2",name:"2. Rapport de d\xe9limitation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:22,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:20},{id:"6",name:"6. Affichages r\xe9glementaire",sous_missions:[{id:"1",name:"1. Consignes d'acc\xe8s en zones",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:24,displayBtn:!0},{id:"2",name:"2 Tr\xe8fles de zone et de sources radiog\xe8nes",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:25,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:23},{id:"7",name:"7. Suivi dosim\xe9trique d'ambiance",sous_missions:[],fichier:Array(),verif:!1,id_bdd:26,displayBtn:!0},{id:"8",name:"8. Formations radioprotection des travailleurs",sous_missions:[{id:"1",name:"1. R\xe9f\xe9rences r\xe9glementaires",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:28,displayBtn:!0},{id:"2",name:"2. Programme et fascicule de la formation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:29,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentiel",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:30,displayBtn:!0},{id:"4",name:"4. Attestation de formation",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:31,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:27},{id:"9",name:"9. Conformit\xe9 des locaux",sous_missions:[{id:"1",name:"1. Plans des salles",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:33,displayBtn:!0},{id:"2",name:"2. Rapports techniques \xe0 la DC 0591",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:34,displayBtn:!0},{id:"3",name:"3. Docs constructeur",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:35,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:32},{id:"10",name:"10. Veille r\xe9glementaire",sous_missions:[],fichier:Array(),verif:!1,id_bdd:36,displayBtn:!0},{id:"11",name:"11. Inspection ASN",sous_missions:[{id:"1",name:"1. Lettre de suite d'inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:38,displayBtn:!0},{id:"2",name:"2. Pr\xe9paration Inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:39,displayBtn:!0},{id:"3",name:"3. Pr\xe9sentation lors de l'inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:40,displayBtn:!0},{id:"4",name:"4. R\xe9ponses suite Inspection",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:41,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:37},{id:"12",name:"12. Proc\xe9dures particuli\xe8res",sous_missions:[],fichier:Array(),verif:!1,id_bdd:42,displayBtn:!0},{id:"13",name:"13. \xc9v\xe8nement de radioprotection",sous_missions:[{id:"1",name:"1. Rapport de d\xe9claration",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:44,displayBtn:!0},{id:"2",name:"2. Compte rendu de d\xe9claration",sous_missions2:[],fichier:Array(),verif:!1,id_bdd:45,displayBtn:!0}],fichier:Array(),verif:!1,id_bdd:43},{id:"14",name:"14. Note d'information radioprotection",sous_missions:[],fichier:Array(),verif:!1,id_bdd:46,displayBtn:!0},{id:"15",name:"15. Bilans (r\xe9unions, CHSCT,...)",sous_missions:[],fichier:Array(),verif:!1,id_bdd:47,displayBtn:!0}],this.getMissions())})}verifFile(){for(let e of this.Missions)if(e.sous_missions.length>0){let i=!0;for(let r of e.sous_missions){if(r.sous_missions2.length>0){let o=!0;for(let s of r.sous_missions2)s.verif=s.fichier.length>0,o=o&&s.verif;r.verif=o}else r.verif=r.fichier.length>0;i=i&&r.verif}e.verif=i}else e.verif=e.fichier.length>0}addFieldValue(e){for(let i of this.Missions)i.id==e&&(i.fichier.push(this.newAttribute),this.newAttribute={})}deleteFieldValue(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};for(let o of this.Missions)o.id==e&&(console.log(o.fichier),this.http.delete("/api/uploads/files/"+o.fichier[0]._id,r).subscribe(s=>{o.displayBtn=!0,console.log(s)}),o.fichier.splice(i,1))}deleteFieldValue1(e,i,r){const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};for(let s of this.Missions)if(s.id==e)for(let a of s.sous_missions)a.id==r&&(this.http.delete("/api/uploads/files/"+a.fichier[0]._id,o).subscribe(d=>{a.displayBtn=!0,console.log(d)}),a.fichier.splice(i,1))}deleteFieldValue2(e,i,r,o){const s={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};for(let a of this.Missions)if(a.id==e)for(let d of a.sous_missions)if(d.id==r)for(let T of d.sous_missions2)T.id==o&&(this.http.delete("/api/uploads/files/"+T.fichier[0]._id,s).subscribe(R=>{T.displayBtn=!0,console.log(R)}),T.fichier.splice(i,1))}onFileSelected(e,i){const o=e.target.files;if("application/pdf"==o[0].type){for(let a of this.Missions)if(a.id==i){this.newAttribute.name=o[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let d=a.id_bdd.toString(),T=this.tempSite;var s=new FormData;s.append("file",o[0]),s.append("missions_id",d),s.append("sites_id",T),s.append("client_id",this.userService.id),this.DataService.UploadData(s).subscribe(R=>{console.log("res= ",R),this.data=R,a.id=this.data.file.id,a.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),console.log(a.fichier),this.pdfMissing="",a.displayBtn=!1})}}else this.pdfMissing="Please select a PDF"}onFileSelected1(e,i,r){const s=e.target.files;if("application/pdf"==s[0].type){for(let d of this.Missions)if(d.id==i)for(let T of d.sous_missions)if(T.id==r){this.newAttribute.name=s[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let R=T.id_bdd.toString(),ee=this.tempSite;var a=new FormData;a.append("file",s[0]),a.append("missions_id",R),a.append("sites_id",ee),a.append("client_id",this.userService.id),console.log("UPLOADING"),this.DataService.UploadData(a).subscribe(se=>{console.log(se),this.data=se,T.id=this.data.file.id,T.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),this.pdfMissing="",T.displayBtn=!1})}}else this.pdfMissing="Please select a PDF"}onFileSelected2(e,i,r,o){const a=e.target.files;if("application/pdf"==a[0].type){for(let T of this.Missions)if(T.id==i)for(let R of T.sous_missions)if(R.id==r)for(let ee of R.sous_missions2)if(ee.id==o){this.newAttribute.name=a[0].name,this.date=new Date,this.newAttribute.date=this.date.toLocaleString(),this.newAttribute={};let se=ee.id_bdd.toString(),me=this.tempSite;var d=new FormData;d.append("file",a[0]),d.append("missions_id",se),d.append("sites_id",me),d.append("client_id",this.userService.id),this.DataService.UploadData(d).subscribe(Ae=>{console.log(Ae),this.data=Ae,ee.id=this.data.file.id,ee.fichier.push({name:this.data.file.filename,date:this.data.file.uploadDate,_id:this.data.file.id,sites_id:this.data.file.filename}),this.pdfMissing="",ee.displayBtn=!1})}}else this.pdfMissing="Please select a PDF"}open(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteFieldValue(i,r)},o=>{})}open1(e,i,r,o){this.modalService.open(e).result.then(s=>{this.closeResult=`Closed with: ${s}`,console.log(this.closeResult),this.deleteFieldValue1(i,r,o)},s=>{})}open2(e,i,r,o,s){this.modalService.open(e).result.then(a=>{this.closeResult=`Closed with: ${a}`,console.log(this.closeResult),this.deleteFieldValue2(i,r,o,s)},a=>{})}download2(e,i,r,o){for(let d of this.Missions)if(d.id==e)for(let T of d.sous_missions)if(T.id==r)for(let R of T.sous_missions2)R.id==o&&window.open("/api/uploads/files/download/"+R.fichier[i].name)}download(e,i){for(let s of this.Missions)s.id==e&&window.open("/api/uploads/files/download/"+s.fichier[i].name)}download1(e,i,r){for(let a of this.Missions)if(a.id==e)for(let d of a.sous_missions)d.id==r&&window.open("/api/uploads/files/download/"+d.fichier[i].name)}getMissions(){this.missionsTab=[],this.siteService.getMissionsBySiteID(this.userService.id).subscribe(e=>{e.forEach(r=>this.missionsTab.push(r));for(let r=0;r<this.Missions.length;r++)if(0==this.Missions[r].sous_missions.length)this.missionsTab.forEach(o=>{o.missionId==this.Missions[r].id_bdd&&o.siteId.toString()==this.tempSite?(this.Missions[r].fichier.push({name:o.filename,date:o.uploadDate,_id:o._id,siteId:o.siteId}),this.Missions[r].displayBtn=!1,console.log(this.Missions[r].fichier[0])):(console.log(this.Missions[r].fichier[0]),this.Missions[r].displayBtn=!0)});else{console.log("more ");for(let o=0;o<this.Missions[r].sous_missions.length;o++)if(0==this.Missions[r].sous_missions[o].sous_missions2.length)this.missionsTab.forEach(s=>{s.missionId==this.Missions[r].sous_missions[o].id_bdd&&s.siteId.toString()==this.tempSite?(this.Missions[r].sous_missions[o].fichier.push({name:s.filename,date:s.uploadDate,_id:s._id,siteId:s.siteId}),this.Missions[r].sous_missions[o].displayBtn=!1):this.Missions[r].sous_missions[o].displayBtn=!0});else for(let s=0;s<this.Missions[r].sous_missions[o].sous_missions2.length;s++)this.missionsTab.forEach(a=>{a.missionId==this.Missions[r].sous_missions[o].sous_missions2[s].id_bdd&&a.siteId.toString()==this.tempSite?(this.Missions[r].sous_missions[o].sous_missions2[s].fichier.push({name:a.filename,date:a.uploadDate,_id:a._id,siteId:a.siteId}),this.Missions[r].sous_missions[o].sous_missions2[s].displayBtn=!1):this.Missions[r].sous_missions[o].sous_missions2[s].displayBtn=!0})}})}parseNameFile(e){const i=e.lastIndexOf("/");return e.slice(i+1)}getStructures(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/sites",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[],this.actual=r[0].name,console.log(this.actual);for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:1})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),this.structureSel=this.structuresTab[0],console.log(this.structuresTab)})}getSites(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/user",e).subscribe(i=>{const r=Object.values(i);this.actual=r[0].name,console.log(this.actual);for(let o=0;o<r.length;o++)r[o].email==this.userService.mail&&(this.userService.structure=r[o].structure,this.http.get("/api/site/"+r[o].structure,e).subscribe(s=>{const a=Object.values(s);this.sitesTab=[{name:"Choisir un site ...",id:0}];for(let d=0;d<a.length;d++)this.sitesTab.push({name:a[d].name,id:a[d]._id})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(s=>{this.sitesTab=[],s.forEach(a=>this.sitesTab.push(a)),console.log(this.sitesTab)}))}),this.verifFile()}}return t.\u0275fac=function(e){return new(e||t)(be(Xn),be(Fa),be(qd),be($i),be(Bi),be(vi),be(Wd),be(Qn),be(zd))},t.\u0275cmp=Gt({type:t,selectors:[["app-missions-rp"]],features:[Xt([vi,Bi,$i])],decls:15,vars:3,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],["acc","ngbAccordion"],[3,"id"],["ngbPanelTitle","","class","row justify-content-between"],["ngbPanelContent",""],[1,"col-12","col-md-11"],["class","bi bi-x-circle-fill invalid",4,"ngIf"],["class","bi bi-check-circle-fill valid",4,"ngIf"],[1,"ms-md-3"],[4,"ngIf"],[1,"bi","bi-x-circle-fill","invalid"],[1,"bi","bi-check-circle-fill","valid"],["tipContent",""],[1,"col-0"],["type","button",1,"btn","btn-outline-success",3,"ngbTooltip"],[1,"bi","bi-info-circle"],[4,"ngIf","ngIfThen","ngIfElse"],["sousmissions",""],["tableau",""],[1,"bg-black",3,"id"],["class","col-0",4,"ngIf"],["sousmissions1",""],["tableau2",""],["vide1",""],["tableau2_2",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","file-upload","btn-outline-primary"],[1,"bi","bi-plus-circle"],["type","file",1,"file-upload",2,"display","none",3,"change"],[1,"table","table-striped","table-bordered"],["content2",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-download"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["vide2",""],["tableau1_2",""],[1,"btn","btn-lg","file-upload","btn-outline-primary"],["content1",""],["vide0",""],["tableau0_2",""],["content",""]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Missions RP"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Oe(8,aB,2,1,"option",6),E(),b(9,"div",7)(10,"div",2)(11,"h3"),Y(12),E()()()()()()(),b(13,"div",0),Oe(14,KB,5,1,"ngb-accordion",6),E()),2&e&&(he(8),Ce("ngForOf",i.sitesTab),he(4),vt(i.selected.name),he(2),Ce("ngForOf",i.Missions))},directives:[Ni,bs,ws,Sm,Fd,Em,ji,rB,Tm,xi,Qi,Kr],styles:[".valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}.d-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),t})(),JB=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-error-page"]],decls:2,vars:0,template:function(e,i){1&e&&(b(0,"p"),Y(1,"ERROR"),E())},styles:[""]}),t})();const Tu={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Tu;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(o=>{e=void 0,t(o)});return new D(()=>null==e?void 0:e(r))},requestAnimationFrame(...t){const{delegate:n}=Tu;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Tu;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0},i6=new class n6 extends sm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class t6 extends om{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Tu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Tu.cancelAnimationFrame(e),n._scheduled=void 0)}});let km,r6=1;const Yd={};function VT(t){return t in Yd&&(delete Yd[t],!0)}const o6={setImmediate(t){const n=r6++;return Yd[n]=!0,km||(km=Promise.resolve()),km.then(()=>VT(n)&&t()),n},clearImmediate(t){VT(t)}},{setImmediate:s6,clearImmediate:a6}=o6,Kd={setImmediate(...t){const{delegate:n}=Kd;return((null==n?void 0:n.setImmediate)||s6)(...t)},clearImmediate(t){const{delegate:n}=Kd;return((null==n?void 0:n.clearImmediate)||a6)(t)},delegate:void 0},c6=new class u6 extends sm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class l6 extends om{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Kd.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);const{actions:o}=n;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Kd.clearImmediate(e),n._scheduled=void 0)}}),d6=["content"],p6=["scroll"],f6=["padding"],Su=function(t){return{searchTerm:t}};function h6(t,n){if(1&t&&(b(0,"div",6),wc(1,7),E()),2&t){const e=fe();he(1),Ce("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",ho(2,Su,e.filterValue))}}function _6(t,n){if(1&t&&(b(0,"div",8),wc(1,7),E()),2&t){const e=fe();he(1),Ce("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",ho(2,Su,e.filterValue))}}const UT=["*"],m6=["searchInput"];function g6(t,n){if(1&t){const e=ze();b(0,"span",15),_e("click",function(){ye(e);const r=fe().$implicit;return fe(2).unselect(r)}),Y(1,"\xd7"),E(),Pe(2,"span",16)}if(2&t){const e=fe().$implicit,i=fe(2);he(2),Ce("ngItemLabel",e.label)("escape",i.escapeHTML)}}function y6(t,n){}const v6=function(t,n,e){return{item:t,clear:n,label:e}};function b6(t,n){if(1&t&&(b(0,"div",12),Oe(1,g6,3,2,"ng-template",null,13,tt),Oe(3,y6,0,0,"ng-template",14),E()),2&t){const e=n.$implicit,i=We(2),r=fe(2);nn("ng-value-disabled",e.disabled),he(3),Ce("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",xc(4,v6,e.value,r.clearItem,e.label))}}function w6(t,n){if(1&t&&(uo(0),Oe(1,b6,4,8,"div",11),co()),2&t){const e=fe();he(1),Ce("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function C6(t,n){}const E6=function(t,n){return{items:t,clear:n}};function T6(t,n){if(1&t&&Oe(0,C6,0,0,"ng-template",14),2&t){const e=fe();Ce("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",Ea(2,E6,e.selectedValues,e.clearItem))}}function S6(t,n){1&t&&Pe(0,"div",19)}function D6(t,n){}function O6(t,n){if(1&t&&(uo(0),Oe(1,S6,1,0,"ng-template",null,17,tt),Oe(3,D6,0,0,"ng-template",18),co()),2&t){const e=We(2),i=fe();he(3),Ce("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function N6(t,n){1&t&&(b(0,"span",20)(1,"span",21),Y(2,"\xd7"),E()()),2&t&&nt("title",fe().clearAllText)}function x6(t,n){if(1&t&&Pe(0,"span",27),2&t){const e=fe().$implicit,i=fe(2);Ce("ngItemLabel",e.label)("escape",i.escapeHTML)}}function A6(t,n){}const M6=function(t,n,e,i){return{item:t,item$:n,index:e,searchTerm:i}};function I6(t,n){if(1&t){const e=ze();b(0,"div",25),_e("click",function(){const o=ye(e).$implicit;return fe(2).toggleItem(o)})("mouseover",function(){const o=ye(e).$implicit;return fe(2).onItemHover(o)}),Oe(1,x6,1,2,"ng-template",null,26,tt),Oe(3,A6,0,0,"ng-template",14),E()}if(2&t){const e=n.$implicit,i=We(2),r=fe(2);nn("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),sn("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),he(3),Ce("ngTemplateOutlet",e.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",p1(17,M6,e.value,e,e.index,r.searchTerm))}}function P6(t,n){if(1&t&&(b(0,"span")(1,"span",30),Y(2),E(),Y(3),E()),2&t){const e=fe(3);he(2),vt(e.addTagText),he(1),Kt('"',e.searchTerm,'"')}}function k6(t,n){}function R6(t,n){if(1&t){const e=ze();b(0,"div",28),_e("mouseover",function(){return ye(e),fe(2).itemsList.unmarkItem()})("click",function(){return ye(e),fe(2).selectTag()}),Oe(1,P6,4,2,"ng-template",null,29,tt),Oe(3,k6,0,0,"ng-template",14),E()}if(2&t){const e=We(2),i=fe(2);nn("ng-option-marked",!i.itemsList.markedItem),he(3),Ce("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",ho(4,Su,i.searchTerm))}}function F6(t,n){if(1&t&&(b(0,"div",32),Y(1),E()),2&t){const e=fe(3);he(1),vt(e.notFoundText)}}function j6(t,n){}function $6(t,n){if(1&t&&(uo(0),Oe(1,F6,2,1,"ng-template",null,31,tt),Oe(3,j6,0,0,"ng-template",14),co()),2&t){const e=We(2),i=fe(2);he(3),Ce("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",ho(2,Su,i.searchTerm))}}function B6(t,n){if(1&t&&(b(0,"div",32),Y(1),E()),2&t){const e=fe(3);he(1),vt(e.typeToSearchText)}}function L6(t,n){}function V6(t,n){if(1&t&&(uo(0),Oe(1,B6,2,1,"ng-template",null,33,tt),Oe(3,L6,0,0,"ng-template",18),co()),2&t){const e=We(2),i=fe(2);he(3),Ce("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function U6(t,n){if(1&t&&(b(0,"div",32),Y(1),E()),2&t){const e=fe(3);he(1),vt(e.loadingText)}}function H6(t,n){}function G6(t,n){if(1&t&&(uo(0),Oe(1,U6,2,1,"ng-template",null,34,tt),Oe(3,H6,0,0,"ng-template",14),co()),2&t){const e=We(2),i=fe(2);he(3),Ce("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",ho(2,Su,i.searchTerm))}}function q6(t,n){if(1&t){const e=ze();b(0,"ng-dropdown-panel",22),_e("update",function(r){return ye(e),fe().viewPortItems=r})("scroll",function(r){return ye(e),fe().scroll.emit(r)})("scrollToEnd",function(r){return ye(e),fe().scrollToEnd.emit(r)})("outsideClick",function(){return ye(e),fe().close()}),uo(1),Oe(2,I6,4,22,"div",23),Oe(3,R6,4,6,"div",24),co(),Oe(4,$6,4,4,"ng-container",3),Oe(5,V6,4,1,"ng-container",3),Oe(6,G6,4,4,"ng-container",3),E()}if(2&t){const e=fe();nn("ng-select-multiple",e.multiple),Ce("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),he(2),Ce("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),he(1),Ce("ngIf",e.showAddTag),he(1),Ce("ngIf",e.showNoItemsFound()),he(1),Ce("ngIf",e.showTypeToSearch()),he(1),Ce("ngIf",e.loading&&0===e.itemsList.filteredItems.length)}}const HT=/[&<>"']/g,W6=RegExp(HT.source),z6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Rn(t){return null!=t}function Du(t){return"object"==typeof t&&Rn(t)}function Zd(t){return t instanceof Function}let Z6=(()=>{class t{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?function Y6(t){return t&&W6.test(t)?t.replace(HT,n=>z6[n]):t}(this.ngItemLabel):this.ngItemLabel}}return t.\u0275fac=function(e){return new(e||t)(be(Zt))},t.\u0275dir=Ze({type:t,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[$n]}),t})(),J6=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-option-tmp",""]]}),t})(),Q6=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-optgroup-tmp",""]]}),t})(),X6=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-label-tmp",""]]}),t})(),eL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-multi-label-tmp",""]]}),t})(),tL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-header-tmp",""]]}),t})(),nL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-footer-tmp",""]]}),t})(),iL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-notfound-tmp",""]]}),t})(),rL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-typetosearch-tmp",""]]}),t})(),oL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-loadingtext-tmp",""]]}),t})(),sL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-tag-tmp",""]]}),t})(),aL=(()=>{class t{constructor(e){this.template=e}}return t.\u0275fac=function(e){return new(e||t)(be(At))},t.\u0275dir=Ze({type:t,selectors:[["","ng-loadingspinner-tmp",""]]}),t})();function GT(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const lL={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Jd(t){return t.replace(/[^\u0000-\u007E]/g,e=>lL[e]||e)}class uL{constructor(n,e){this._ngSelect=n,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const e=this.selectedItems[n];if(!e.disabled)return e}return null}setItems(n){this._items=n.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(n,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){!n.selected||(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&Rn(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let e;return e=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(n){const e=this.mapItem(n,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(e=>{e.selected=n&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=Jd(n).toLocaleLowerCase(),this.filteredItems.find(e=>Jd(e.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:Jd(n).toLocaleLowerCase();const e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const r of Array.from(this._groups.keys())){const o=[];for(const s of this._groups.get(r))i&&(s.parent&&s.parent.selected||s.selected)||e(n,this._ngSelect.searchFn?s.value:s)&&o.push(s);if(o.length>0){const[s]=o.slice(-1);if(s.parent){const a=this._items.find(d=>d===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,e){if(!Du(n))return n;if(-1===e.indexOf("."))return n[e];{const i=e.split(".");let r=n;for(let o=0,s=i.length;o<s;++o){if(null==r)return null;r=r[i[o]]}return r}}mapItem(n,e){const i=Rn(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),r=Rn(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:e,label:Rn(i)?i.toString():"",value:r,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const e of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=Rn(i)?this.findItem(i):null;this._selectionModel.unselect(e,n),this._selectionModel.select(r||e,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const e=n.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(n.children)for(const e of n.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(e=>e!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==n))}_defaultSearchFn(n,e){return Jd(e.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,e){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[e])){for(const s of n){const a=(s.value[e]||[]).map((d,T)=>this.mapItem(d,T));i.set(s,a)}return i}const r=Zd(this._ngSelect.groupBy),o=s=>{const a=r?e(s.value):s.value[e];return Rn(a)?a:void 0};for(const s of n){const a=o(s),d=i.get(a);d?d.push(s):i.set(a,[s])}return i}_flatten(n){const e=Zd(this._ngSelect.groupBy),i=[];for(const r of Array.from(n.keys())){let o=i.length;if(void 0===r){const ee=n.get(void 0)||[];i.push(...ee.map(se=>(se.index=o++,se)));continue}const s=Du(r),a={label:s?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:GT()},d=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,T=this._ngSelect.groupValue||(()=>s?r.value:{[d]:r}),R=n.get(r).map(ee=>(ee.parent=a,ee.children=void 0,ee.index=o++,ee));a.children=R,a.value=T(r,R.map(ee=>ee.value)),i.push(a),i.push(...R)}return i}}var Ar=(()=>{return(t=Ar||(Ar={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown",t[t.Backspace=8]="Backspace",Ar;var t})();let qT=(()=>{class t{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,r){const o=this._dimensions,s=o.itemHeight*i,d=Math.max(0,e)/s*i;let T=Math.min(i,Math.ceil(d)+(o.itemsPerViewport+1));const ee=Math.max(0,T-o.itemsPerViewport);let se=Math.min(ee,Math.floor(d)),me=o.itemHeight*Math.ceil(se)-o.itemHeight*Math.min(se,r);return me=isNaN(me)?0:me,se=isNaN(se)?-1:se,T=isNaN(T)?-1:T,se-=r,se=Math.max(0,se),T+=r,T=Math.min(i,T),{topPadding:me,scrollHeight:s,start:se,end:T}}setDimensions(e,i){const r=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:r}}getScrollTo(e,i,r){const{panelHeight:o}=this.dimensions,s=e+i,d=r+o;return o>=s&&r===e?null:s>d?r+s-d:e<=r?e:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const WT=["top","right","bottom","left"],cL="undefined"!=typeof requestAnimationFrame?i6:c6;let zT=(()=>{class t{constructor(e,i,r,o,s){this._renderer=e,this._zone=i,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new gt,this.scroll=new gt,this.scrollToEnd=new gt,this.outsideClick=new gt,this._destroy$=new Ee,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:i}=this._panelService.dimensions,r=this.markedItem.index*e;return i>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){const i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;const r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){const s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*s,s,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${e.htmlId}`);o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,i?s.offsetTop:this._lastScrollPosition)}Rn(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),WT.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){WT.forEach(r=>{const o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});const i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{ei(this.scrollElementRef.nativeElement,"scroll").pipe(yn(this._destroy$),function XB(t,n=du){return function QB(t){return le((n,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const T=r;r=null,e.next(T)}s&&e.complete()},d=()=>{o=null,s&&e.complete()};n.subscribe(N(e,T=>{i=!0,r=T,o||Ke(t(T)).subscribe(o=N(e,a,d))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>xd(t,n))}(0,cL)).subscribe(e=>{const i=e.path||e.composedPath&&e.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:e.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{kr(ei(this._document,"touchstart",{capture:!0}),ei(this._document,"mousedown",{capture:!0})).pipe(yn(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const i=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),Rn(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=r*this.itemsLength+"px",this._panelService.setDimensions(r,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+e.getBoundingClientRect().height>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=e.left-i.left+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){const e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-e.bottom+r+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=e.top-i.top+r+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{ei(this._dropdown,"mousedown").pipe(yn(this._destroy$)).subscribe(e=>{"INPUT"!==e.target.tagName&&e.preventDefault()})})}}return t.\u0275fac=function(e){return new(e||t)(be(Ri),be(_n),be(qT),be(Zt),be(Vn,8))},t.\u0275cmp=Gt({type:t,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,i){if(1&e&&(Lo(d6,7,Zt),Lo(p6,7,Zt),Lo(f6,7,Zt)),2&e){let r;jt(r=$t())&&(i.contentElementRef=r.first),jt(r=$t())&&(i.scrollElementRef=r.first),jt(r=$t())&&(i.paddingElementRef=r.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[$n],ngContentSelectors:UT,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,i){1&e&&(Sl(),Oe(0,h6,2,4,"div",0),b(1,"div",1,2),Pe(3,"div",null,3),b(5,"div",null,4),Dl(7),E()(),Oe(8,_6,2,4,"div",5)),2&e&&(Ce("ngIf",i.headerTemplate),he(3),nn("total-padding",i.virtualScroll),he(2),nn("scrollable-content",i.virtualScroll&&i.items.length),he(3),Ce("ngIf",i.footerTemplate))},directives:[ji,hs],encapsulation:2,changeDetection:0}),t})(),dL=(()=>{class t{constructor(e){this.elementRef=e,this.stateChange$=new Ee,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!=`${e}`}}return t.\u0275fac=function(e){return new(e||t)(be(Zt))},t.\u0275cmp=Gt({type:t,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[$n],ngContentSelectors:UT,decls:1,vars:0,template:function(e,i){1&e&&(Sl(),Dl(0))},encapsulation:2,changeDetection:0}),t})(),Qd=(()=>{class t{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pL=(()=>{class t{warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YT=new kt("ng-select-selection-model");let Xd=(()=>{class t{constructor(e,i,r,o,s,a,d){this.classes=e,this.autoFocus=i,this.config=r,this._cd=a,this._console=d,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=T=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new gt,this.focusEvent=new gt,this.changeEvent=new gt,this.openEvent=new gt,this.closeEvent=new gt,this.searchEvent=new gt,this.clearEvent=new gt,this.addEvent=new gt,this.removeEvent=new gt,this.scroll=new gt,this.scrollToEnd=new gt,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=GT(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Ee,this._keyPress$=new Ee,this._onChange=T=>{},this._onTouched=()=>{},this.clearItem=T=>{const R=this.selectedItems.find(ee=>ee.value===T);this.unselect(R)},this.trackByOption=(T,R)=>this.trackByFn?this.trackByFn(R.value):R,this._mergeGlobalConfig(r),this.itemsList=new uL(this,o()),this.element=s.nativeElement}get items(){return this._items}set items(e){null===e&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(null!=e&&!Zd(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Rn(this._clearSearchOnAdd)?this._clearSearchOnAdd:Rn(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Rn(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Rn(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Ar[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case Ar.ArrowDown:this._handleArrowDown(e);break;case Ar.ArrowUp:this._handleArrowUp(e);break;case Ar.Space:this._handleSpace(e);break;case Ar.Enter:this._handleEnter(e);break;case Ar.Tab:this._handleTab(e);break;case Ar.Esc:this.close(),e.preventDefault();break;case Ar.Backspace:this._handleBackspace()}}handleMousedown(e){const i=e.target;"INPUT"!==i.tagName&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){!e||(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=Zd(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);!function K6(t){return t instanceof Promise}(e)?e&&this.select(i(e)):e.then(r=>this.select(i(r))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Rn(i)?!Du(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Rn(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const r=kr(this.ngOptions.changes,this._destroy$);kr(...this.ngOptions.map(o=>o.stateChange$)).pipe(yn(r)).subscribe(o=>{const s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(ql(this.ngOptions),yn(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),i()})}_isValidWriteValue(e){if(!Rn(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const i=r=>!(!Rn(this.compareWith)&&Du(r)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(e)?e.every(r=>i(r)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const i=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{const s=Du(r),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>i(r)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(yn(this._destroy$),ui(e=>this._pressedKeys.push(e)),function e6(t,n=du){return le((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const T=o;o=null,i.next(T)}};function d(){const T=s+t,R=n.now();if(R<T)return r=this.schedule(void 0,T-R),void i.add(r);a()}e.subscribe(N(i,T=>{o=T,s=n.now(),r||(r=n.schedule(d,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(200),Jn(()=>this._pressedKeys.length>0),H(()=>this._pressedKeys.join(""))).subscribe(e=>{const i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,i=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const r of Object.keys(i))e.setAttribute(r,i[r])}_updateNgModel(){const e=[];for(const r of this.selectedItems)if(this.bindValue){let o=null;o=r.children?r.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(r.value,this.bindValue),e.push(o)}else e.push(r.value);const i=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(Rn(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Rn(this.virtualScroll)?this.virtualScroll:!!Rn(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=Rn(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}}return t.\u0275fac=function(e){return new(e||t)(so("class"),so("autofocus"),be(Qd),be(YT),be(Zt),be(Zi),be(pL))},t.\u0275cmp=Gt({type:t,selectors:[["ng-select"]],contentQueries:function(e,i,r){if(1&e&&(en(r,J6,5,At),en(r,Q6,5,At),en(r,X6,5,At),en(r,eL,5,At),en(r,tL,5,At),en(r,nL,5,At),en(r,iL,5,At),en(r,rL,5,At),en(r,oL,5,At),en(r,sL,5,At),en(r,aL,5,At),en(r,dL,5)),2&e){let o;jt(o=$t())&&(i.optionTemplate=o.first),jt(o=$t())&&(i.optgroupTemplate=o.first),jt(o=$t())&&(i.labelTemplate=o.first),jt(o=$t())&&(i.multiLabelTemplate=o.first),jt(o=$t())&&(i.headerTemplate=o.first),jt(o=$t())&&(i.footerTemplate=o.first),jt(o=$t())&&(i.notFoundTemplate=o.first),jt(o=$t())&&(i.typeToSearchTemplate=o.first),jt(o=$t())&&(i.loadingTextTemplate=o.first),jt(o=$t())&&(i.tagTemplate=o.first),jt(o=$t())&&(i.loadingSpinnerTemplate=o.first),jt(o=$t())&&(i.ngOptions=o)}},viewQuery:function(e,i){if(1&e&&(Lo(zT,5),Lo(m6,7)),2&e){let r;jt(r=$t())&&(i.dropdownPanel=r.first),jt(r=$t())&&(i.searchInput=r.first)}},hostVars:20,hostBindings:function(e,i){1&e&&_e("keydown",function(o){return i.handleKeyDown(o)}),2&e&&nn("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Xt([{provide:Ji,useExisting:ut(()=>t),multi:!0},qT]),$n],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,i){if(1&e){const r=ze();b(0,"div",0),_e("mousedown",function(s){return i.handleMousedown(s)}),b(1,"div",1)(2,"div",2),Y(3),E(),Oe(4,w6,2,2,"ng-container",3),Oe(5,T6,1,5,null,3),b(6,"div",4)(7,"input",5,6),_e("input",function(){ye(r);const s=We(8);return i.filter(s.value)})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){ye(r);const s=We(8);return i.onCompositionEnd(s.value)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("change",function(s){return s.stopPropagation()}),E()()(),Oe(9,O6,4,1,"ng-container",3),Oe(10,N6,3,1,"span",7),b(11,"span",8),Pe(12,"span",9),E()(),Oe(13,q6,7,19,"ng-dropdown-panel",10)}2&e&&(nn("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),he(3),vt(i.placeholder),he(1),Ce("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),he(1),Ce("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),he(1),sn("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),he(1),Ce("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),sn("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),he(2),Ce("ngIf",i.loading),he(1),Ce("ngIf",i.showClear()),he(3),Ce("ngIf",i.isOpen))},directives:[zT,ji,Ni,Z6,hs,Db],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),t})();function fL(){return new hL}class hL{constructor(){this._selected=[]}get value(){return this._selected}select(n,e,i){if(n.selected=!0,(!n.children||!e&&i)&&this._selected.push(n),e)if(n.parent){const r=n.parent.children.length,o=n.parent.children.filter(s=>s.selected).length;n.parent.selected=r===o}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(r=>r.parent!==n),n]:[...this._selected,...n.children.filter(r=>!r.disabled)])}unselect(n,e){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,e)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(r=>r!==n&&!r.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(n,e){for(const i of n)i.disabled||(i.selected=e)}_removeChildren(n){this._selected=[...this._selected.filter(e=>e.parent!==n),...n.children.filter(e=>e.parent===n&&e.disabled&&e.selected)]}_removeParent(n){this._selected=this._selected.filter(e=>e!==n)}_activeChildren(n){return n.children.every(e=>!e.disabled||e.selected)}}let Rm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:[{provide:YT,useValue:fL}],imports:[[li]]}),t})();const ep={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};let KT=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/equipments/"}getMaterialsByClientId(e){return this.http.get(this.apiUrl+`${e}`,ep)}AddMaterials(e="nom",i="marque",r="modele",o="2000",s,a,d,T){return this.http.post(this.apiUrl,{name:e,brand:i,type:T.name,year:o,category:s,clientId:a,modelType:r},ep)}DeleteMaterials(e){return this.http.delete(this.apiUrl+`${e}`,ep)}UpdateMaterials(e,i,r,o){return this.http.put(this.apiUrl,{MaterialId:e,brand:i,model:r,years:o},ep)}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZT={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};let _L=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/verifications/"}getRapportsBySiteId(e){return this.http.get(this.apiUrl+`/${e}`,ZT)}AddRapport(e,i,r,o,s,a){return this.http.post(this.apiUrl+`/${a}`,{name:i,conformity:r,year:o,type:s},ZT)}DeleteRapport(e){return this.http.delete(this.apiUrl+`/${e}`,{headers:{"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`,"Content-Type":"application/json"}})}UpdateRapport(e,i,r){return this.http.put(this.apiUrl+`/${e}`,{conformity:r},{headers:{"x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`,"Content-Type":"application/json"}})}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mL(t,n){if(1&t&&(b(0,"option"),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.name)}}function gL(t,n){1&t&&Pe(0,"div",11)}function yL(t,n){if(1&t){const e=ze();b(0,"div",12)(1,"button",13),_e("click",function(){return ye(e),fe().modetableau()}),Pe(2,"i",14),E()()}}function vL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2," Suppression du Rapport "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le rapport : "),b(8,"span",52),Y(9),E()()(),b(10,"p")(11,"span",53),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function bL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2," Suppression du fichier "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",52),Y(9),E()()(),b(10,"p")(11,"span",53),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function wL(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,bL,18,1,"ng-template",null,60,tt),b(3,"td")(4,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",23),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(3).openSupprRapportInitFile(s,a,o)}),Pe(9,"i",62),E(),b(10,"button",63),_e("click",function(){const o=ye(e).index,s=fe(2).index;return fe(3).downloadRappInit(s,o)}),Pe(11,"i",64),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function CL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2,"Fichier"),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,wL,12,4,"tr",6),E()()(),b(16,"div",57)(17,"label",58),Pe(18,"i",14),b(19,"input",59),_e("change",function(r){ye(e);const o=fe().index;return fe(3).onFileSelectedRapportInit(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(),i=e.index,r=e.$implicit,o=fe(3);he(15),Ce("ngForOf",o.RapportInit[i].RapportFile),he(1),Ce("hidden",r.length>0),he(4),Kt(" ",o.pdfMissing," ")}}function EL(t,n){if(1&t){const e=ze();b(0,"button",65),_e("click",function(){ye(e);const r=fe().index,o=We(2);return fe(3).openSupprRapportInit(o,r)}),Pe(1,"i",62),E()}}function TL(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,vL,18,1,"ng-template",null,41,tt),b(3,"td")(4,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.year=r}),E()(),b(5,"td")(6,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(7,"td"),Oe(8,CL,21,3,"ng-template",43,44,tt),b(10,"button",45),_e("click",function(){const o=ye(e).index,s=We(9);return fe(3).open(s,!0,o)}),Pe(11,"i",14),E()(),b(12,"td")(13,"div",46),_e("ngModelChange",function(r){const s=ye(e).index;return fe(3).RapportInit[s].conformity=r}),b(14,"label",47)(15,"input",48),_e("click",function(){const o=ye(e).index;return fe(3).UpdateRapportInit(o,!0)}),E(),Y(16," Conforme "),E(),b(17,"label",49)(18,"input",48),_e("click",function(){const o=ye(e).index;return fe(3).UpdateRapportInit(o,!1)}),E(),Y(19," Non Conforme "),E()()(),b(20,"td")(21,"ng-select",50),_e("ngModelChange",function(r){const s=ye(e).index;return fe(3).RapportInit[s].MaterialsAssocie=r})("add",function(r){const s=ye(e).index;return fe(3).addMaterialInit(r,s)})("remove",function(r){const s=ye(e).index;return fe(3).removeMaterialInit(r,s)})("clear",function(){const o=ye(e).index;return fe(3).clearMaterialsInit(o)}),E()(),b(22,"td"),Oe(23,EL,2,0,"button",51),E()()}if(2&t){const e=n.$implicit,i=n.index,r=fe(3);he(4),nt("name",e.year),Ce("ngModel",e.year),he(2),nt("name",e.name),Ce("ngModel",e.name),he(7),_a("name","radioBasic",i,""),Ce("ngModel",r.RapportInit[i].conformity),he(2),Ce("value",!0)("checked",r.RapportInit[i].conformity),he(3),Ce("value",!1)("checked",!r.RapportInit[i].conformity),he(3),Ce("items",r.ListMateriels)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",r.RapportInit[i].MaterialsAssocie),he(2),Ce("ngIf",r.test)}}function SL(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir une date de Rapport "),E())}function DL(t,n){if(1&t&&(b(0,"div",66),Oe(1,SL,2,0,"div",67),E()),2&t){fe();const e=We(24);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function OL(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir un nom de rapport "),E())}function NL(t,n){if(1&t&&(b(0,"div",66),Oe(1,OL,2,0,"div",67),E()),2&t){fe();const e=We(27);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function xL(t,n){if(1&t){const e=ze();b(0,"button",68),_e("click",function(){return ye(e),fe(3).addFieldValueRapportInit()}),Pe(1,"i",14),E()}if(2&t){fe();const e=We(24),i=We(27),r=fe(2);Ce("disabled",e.invalid||r.Verif.annee<r.date_min||r.Verif.annee>r.date||i.invalid)}}function AL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th",30),Y(9,"Ann\xe9e"),E(),b(10,"th",31),Y(11,"Nom du Rapport"),E(),b(12,"th",32),Y(13,"Fichier Rapport"),E(),b(14,"th",33),Y(15,"Conformit\xe9"),E(),b(16,"th"),Y(17,"Equipements"),E(),b(18,"th"),Y(19,"Action"),E()()(),b(20,"tbody"),Oe(21,TL,24,16,"tr",6),E()()(),b(22,"div",34)(23,"input",35,36),_e("ngModelChange",function(r){return ye(e),fe(2).newRapportInit.year=r}),E(),Oe(25,DL,2,1,"div",37),b(26,"input",38,39),_e("ngModelChange",function(r){return ye(e),fe(2).newRapportInit.name=r}),E(),Oe(28,NL,2,1,"div",37),Oe(29,xL,2,1,"button",40),E()}if(2&t){const e=We(24),i=We(27),r=fe(2);he(2),Kt(" V\xe9rifications initiales ou renouvellement de ",r.selected.name," "),he(19),Ce("ngForOf",r.RapportInit),he(2),nt("min",r.date_min),nt("max",r.date.toString()),nt("value",r.date.toString()),Ce("ngModel",r.newRapportInit.year),he(2),Ce("ngIf",e.invalid&&(e.dirty||e.touched)),he(1),Ce("ngModel",r.newRapportInit.name),he(2),Ce("ngIf",i.invalid&&(i.dirty||i.touched)),he(1),Ce("ngIf",r.test)}}function ML(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2," Suppression du Rapport "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le rapport : "),b(8,"span",52),Y(9),E()()(),b(10,"p")(11,"span",53),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function IL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2," Suppression du fichier "),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",52),Y(9),E()()(),b(10,"p")(11,"span",53),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",54)(14,"button",55),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",56),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function PL(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,IL,18,1,"ng-template",null,71,tt),b(3,"td")(4,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",61),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",23),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(3).openSupprRapportPeriodFile(s,a,o)}),Pe(9,"i",62),E(),b(10,"button",63),_e("click",function(){const o=ye(e).index,s=fe(2).index;return fe(3).downloadRappPeriod(s,o)}),Pe(11,"i",64),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function kL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2,"Fichier"),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,PL,12,4,"tr",6),E()()(),b(16,"div",57)(17,"label",58),Pe(18,"i",14),b(19,"input",59),_e("change",function(r){ye(e);const o=fe().index;return fe(3).onFileSelectedRapportPeriod(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(),i=e.index,r=e.$implicit,o=fe(3);he(15),Ce("ngForOf",o.RapportPeriod[i].RapportFile),he(1),Ce("hidden",r.length>0),he(4),Kt(" ",o.pdfMissing," ")}}function RL(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,ML,18,1,"ng-template",null,69,tt),b(3,"td")(4,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.year=r}),E()(),b(5,"td")(6,"input",42),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(7,"td"),Oe(8,kL,21,3,"ng-template",43,70,tt),b(10,"button",45),_e("click",function(){const o=ye(e).index,s=We(9);return fe(3).open(s,!0,o)}),Pe(11,"i",14),E()(),b(12,"td")(13,"div",46),_e("ngModelChange",function(r){const s=ye(e).index;return fe(3).RapportPeriod[s].conformity=r}),b(14,"label",47)(15,"input",48),_e("click",function(){const o=ye(e).index;return fe(3).UpdateRapportPeriod(o,!0)}),E(),Y(16," Conforme "),E(),b(17,"label",49)(18,"input",48),_e("click",function(){const o=ye(e).index;return fe(3).UpdateRapportPeriod(o,!1)}),E(),Y(19," Non Conforme "),E()()(),b(20,"td")(21,"ng-select",50),_e("ngModelChange",function(r){const s=ye(e).index;return fe(3).RapportPeriod[s].MaterialsAssocie=r})("add",function(r){const s=ye(e).index;return fe(3).addMaterialPeriod(r,s)})("remove",function(r){const s=ye(e).index;return fe(3).removeMaterialPeriod(r,s)})("clear",function(){const o=ye(e).index;return fe(3).clearMaterialsPeriod(o)}),E()(),b(22,"td")(23,"button",65),_e("click",function(){const o=ye(e).index,s=We(2);return fe(3).openSupprRapportPeriod(s,o)}),Pe(24,"i",62),E()()()}if(2&t){const e=n.$implicit,i=n.index,r=fe(3);he(4),nt("name",e.year),Ce("ngModel",e.year),he(2),nt("name",e.name),Ce("ngModel",e.name),he(7),_a("name","radioBasic",i,""),Ce("ngModel",r.RapportPeriod[i].conformity),he(2),Ce("value",!0)("checked",r.RapportPeriod[i].conformity),he(3),Ce("value",!1)("checked",!r.RapportPeriod[i].conformity),he(3),Ce("items",r.ListMateriels)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",r.RapportPeriod[i].MaterialsAssocie)}}function FL(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir une date de Rapport "),E())}function jL(t,n){if(1&t&&(b(0,"div",66),Oe(1,FL,2,0,"div",67),E()),2&t){fe();const e=We(24);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function $L(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir un nom de rapport "),E())}function BL(t,n){if(1&t&&(b(0,"div",66),Oe(1,$L,2,0,"div",67),E()),2&t){fe();const e=We(27);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function LL(t,n){if(1&t){const e=ze();b(0,"div",25)(1,"h4",26),Y(2),E(),b(3,"button",27),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",28)(5,"table",29)(6,"thead")(7,"tr")(8,"th",30),Y(9,"Ann\xe9e"),E(),b(10,"th",31),Y(11,"Nom du Rapport"),E(),b(12,"th",32),Y(13,"Fichier Rapport"),E(),b(14,"th",33),Y(15,"Conformit\xe9"),E(),b(16,"th"),Y(17,"Equipements"),E(),b(18,"th"),Y(19,"Action"),E()()(),b(20,"tbody"),Oe(21,RL,25,15,"tr",6),E()()(),b(22,"div",34)(23,"input",35,36),_e("ngModelChange",function(r){return ye(e),fe(2).newRapportPeriod.year=r}),E(),Oe(25,jL,2,1,"div",37),b(26,"input",38,39),_e("ngModelChange",function(r){return ye(e),fe(2).newRapportPeriod.name=r}),E(),Oe(28,BL,2,1,"div",37),b(29,"button",68),_e("click",function(){return ye(e),fe(2).addFieldValueRapportPeriod()}),Pe(30,"i",14),E()()}if(2&t){const e=We(24),i=We(27),r=fe(2);he(2),Kt(" V\xe9rifications P\xe9riodiques ",r.selected.name," "),he(19),Ce("ngForOf",r.RapportPeriod),he(2),nt("min",r.date_min),nt("max",r.date.toString()),nt("value",r.date.toString()),Ce("ngModel",r.newRapportPeriod.year),he(2),Ce("ngIf",e.invalid&&(e.dirty||e.touched)),he(1),Ce("ngModel",r.newRapportPeriod.name),he(2),Ce("ngIf",i.invalid&&(i.dirty||i.touched)),he(1),Ce("disabled",e.invalid||r.Verif.annee<r.date_min||r.Verif.annee>r.date||i.invalid)}}function VL(t,n){1&t&&Pe(0,"i",72)}function UL(t,n){1&t&&Pe(0,"i",73)}function HL(t,n){1&t&&Pe(0,"i",72)}function GL(t,n){1&t&&Pe(0,"i",73)}function qL(t,n){if(1&t){const e=ze();b(0,"div",15),Pe(1,"div",16),E(),Oe(2,AL,30,10,"ng-template",null,17,tt),Oe(4,LL,31,10,"ng-template",null,18,tt),Pe(6,"br")(7,"br")(8,"br"),b(9,"div",19)(10,"div",20)(11,"h5"),Oe(12,VL,1,0,"i",21),Oe(13,UL,1,0,"i",22),Y(14," V\xe9rification initiale ou renouvellement de sites "),b(15,"button",23),_e("click",function(){ye(e);const r=We(3);return fe().open(r,!1,0)}),Pe(16,"i",24),E()()()(),Pe(17,"br")(18,"br")(19,"br")(20,"br"),b(21,"div",19)(22,"div",20)(23,"h5"),Oe(24,HL,1,0,"i",21),Oe(25,GL,1,0,"i",22),Y(26," V\xe9rifications P\xe9riodiques "),b(27,"button",23),_e("click",function(){ye(e);const r=We(5);return fe().open(r,!1,0)}),Pe(28,"i",24),E()()()()}if(2&t){const e=fe();he(12),Ce("ngIf",0==e.VerifConformityInit()),he(1),Ce("ngIf",0!=e.VerifConformityInit()),he(11),Ce("ngIf",0==e.VerifConformityPeriod()),he(1),Ce("ngIf",0!=e.VerifConformityPeriod())}}let WL=(()=>{class t{constructor(e,i,r,o,s,a,d,T,R,ee,se){this.userinfo=e,this.modalService=r,this.modal=o,this.http=s,this.DataService=a,this.configNG=d,this.siteService=T,this.userService=R,this.materialsService=ee,this.rapportService=se,this.closeResult="",this.ajout=!1,this.sitesTab=[{name:"Sites",id:0}],this.newfileRapportInit={},this.newfileRapportPeriodic={},this.date2=new Date,this.pdfMissing="",this.ListMateriel=[{name:"Equipements",type:"Scanner",id:0,model:"Equipements",brand:"marque",years:"2000",categorie:"A",equipement_type:"Type d'equipement"}],this.newRapportInit={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020},this.newRapportPeriod={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:1,year:2020},this.ListRapport=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:!1,year:2020}],this.ListRapportTest=[{name:"Rapport dimanche",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 1",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 2",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020},{name:"rapport 3",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020},{name:"rapport 4",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:0,years:2020},{name:"rapport 3",id:1,RapportFile:Array(),conform:0,MaterialsAssocie:[],type:1,years:2020}],this.RapportInit=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020}],this.RapportPeriod=[{name:"rapport1",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020}],this.Materiels=[{name:"Source scell\xe9es",id:1},{name:"Source non scell\xe9es",id:2},{name:"Appareil de curieth\xe9rapie (source de haute activit\xe9)",id:3},{name:"Acc\xe9l\xe9rateurs de particules",id:4},{name:"Scanner",id:5},{name:"Arceau de bloc C-arm",id:6},{name:"Arceau de bloc mini-C-arm",id:7},{name:"Acreau de bloc O-arm",id:8},{name:"Angiographe num\xe9ris\xe9",id:9},{name:"Table t\xe9l\xe9command\xe9e",id:10},{name:"Suspension plafonni\xe8re",id:11},{name:"Mammographe",id:12},{name:"Mammotome",id:13},{name:"Panoramique dentaire",id:14},{name:"Mobile de radiologie",id:15},{name:"Cabine EOS",id:16},{name:"Cone beam",id:17},{name:"R\xe9troalv\xe9olaire",id:18}],this.Categorie=[{name:"Pas de Categorie",id:0},{name:"Cat\xe9gorie A",id:1},{name:"Cat\xe9gorie B",id:2},{name:"Cat\xe9gorie C",id:3},{name:"Cat\xe9gorie D",id:4}],this.ListMateriels=[{id:"1",name:"Scanner",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"2",name:"Arceau de bloc C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"3",name:"Arceau de bloc mini-C-arm",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"4",name:"Mammographe",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1},{id:"5",name:"Panoramique dentaire",verifications_periodique:Array(),verifications_initial:Array(),conform_verif_init:!1,conform_verif_periodic:!1}],this.date=(new Date).getFullYear(),this.Verif={annee:this.date,rapport_txt:"",rapport:Array(),conformite:!1,conformite_checkbox:!1},this.test=!0,this.date_min=this.date-30,this.selected={name:"Sites",id:"1"},this.start(),this.getSites(),this.getMaterials(),this.getRapports(),this.TrieRapport()}start(){console.log("test supprimer"),1==this.userinfo.admin&&(this.test=!1)}ngOnInit(){this.TrieRapport()}changeselect(e){this.selected=this.sitesTab.find(i=>i.name==e.target.value),this.TrieRapport()}TrieRapport(){this.getRapports()}TrierRapport(){this.RapportPeriod=[],this.RapportInit=[];for(let e of this.ListRapport)!1===e.type?this.RapportInit.push(e):this.RapportPeriod.push(e);this.RapportInit=this.RapportInit.sort((e,i)=>i.year-e.year),this.RapportPeriod=this.RapportPeriod.sort((e,i)=>i.year-e.year),this.VerifConformityPeriod(),this.VerifConformityInit()}modetableau(){this.ajout=1!=this.ajout,this.TrieRapport()}open(e,i,r){if(i){const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/verifications/uploads/files/"+this.userService.id,o).subscribe(s=>{const a=Object.values(s);for(let d=0;d<a.length;d++)r<this.RapportInit.length&&a[d].verifId===this.RapportInit[r]._id?this.RapportInit[r].RapportFile[0]={name:a[d].filename,date:a[d].uploadDate}:r<this.RapportPeriod.length&&a[d].verifId===this.RapportPeriod[r]._id&&(this.RapportPeriod[r].RapportFile[0]={name:a[d].filename,date:a[d].uploadDate})})}this.modalService.open(e,{size:"xl",scrollable:!0}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{})}openSupprRapportInit(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.DeleteRapport(this.RapportInit[i]._id),this.deleteFieldRapportInit(i),this.TrieRapport()},r=>{})}openSupprRapportPeriod(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.DeleteRapport(this.RapportPeriod[i]._id),this.deleteFieldRapportPeriod(i),this.TrieRapport()},r=>{})}downloadRappPeriod(e,i){window.open("/api/verifications/uploads/files/download/"+this.RapportPeriod[e].RapportFile[0].name)}downloadRappInit(e,i){window.open("/api/verifications/uploads/files/download/"+this.RapportInit[e].RapportFile[0].name)}addFieldValueRapportInit(){this.AddRapportInit(),this.RapportInit.push(this.newRapportInit),this.newRapportInit={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020},this.RapportInit.length>=1&&(this.RapportInit=this.RapportInit.sort((e,i)=>i.year-e.year)),this.TrieRapport()}addFieldValueRapportPeriod(){this.AddRapportPeriod(),this.RapportPeriod.push(this.newRapportPeriod),this.newRapportPeriod={name:"",id:1,RapportFile:Array(),conformity:0,materials:[],type:0,year:2020},this.RapportPeriod.length>=1&&(this.RapportPeriod=this.RapportPeriod.sort((e,i)=>i.year-e.year)),this.TrieRapport()}deleteFieldRapportInit(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/uploads/files/"+this.RapportInit[e]._id,i).subscribe(r=>{console.log(r)}),this.RapportInit.splice(e,1)}deleteFieldRapportPeriod(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/uploads/files/"+this.RapportPeriod[e]._id,i).subscribe(r=>{console.log(r)}),this.RapportPeriod.splice(e,1)}onFileSelectedRapportInit(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.newfileRapportInit.name=o[0].name,this.date2=new Date,this.newfileRapportInit.date=this.date2.toLocaleString(),this.RapportInit[i].RapportFile.push(this.newfileRapportInit);let a="1";var s=new FormData;s.append("file",o[0]),s.append("file_type",a),s.append("verifIndex",this.RapportInit[i]._id),this.DataService.UploadDataVerif(s).subscribe(d=>{this.pdfMissing=""})}else this.pdfMissing="Please select a PDF"}onFileSelectedRapportPeriod(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.newfileRapportPeriodic.name=o[0].name,this.date2=new Date,this.newfileRapportPeriodic.date=this.date2.toLocaleString(),this.RapportPeriod[i].RapportFile.push(this.newfileRapportPeriodic),console.log(this.RapportPeriod[i].RapportFile),this.newfileRapportPeriodic={};let a="1";var s=new FormData;s.append("file",o[0]),s.append("file_type",a),s.append("verification","true"),s.append("verifIndex",this.RapportPeriod[i]._id),this.DataService.UploadDataVerif(s).subscribe(d=>{this.pdfMissing=""})}else this.pdfMissing="Please select a PDF"}openSupprRapportInitFile(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`;const s={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/uploads/files/"+this.RapportInit[i]._id,s).subscribe(a=>{console.log(a)}),this.RapportInit[i].RapportFile.splice(r,1)},o=>{})}openSupprRapportPeriodFile(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`;const s={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/verifications/uploads/files/"+this.RapportPeriod[i]._id,s).subscribe(a=>{console.log(a)}),this.RapportPeriod[i].RapportFile.splice(r,1)},o=>{})}getRapports(){this.rapportService.getRapportsBySiteId(this.userService.id).subscribe(e=>{this.ListRapport=[],e.forEach(i=>{i.RapportFile=[];const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("/api/verifications/materials/"+i._id,r).subscribe(o=>{i.MaterialsAssocie=o}),this.ListRapport.push(i)}),this.TrierRapport()})}addMaterialInit(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/"+this.RapportInit[i]._id,o,r).subscribe(s=>{})}addMaterialPeriod(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/"+this.RapportPeriod[i]._id,o,r).subscribe(s=>{})}removeMaterialInit(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/remove/"+this.RapportInit[i]._id,o,r).subscribe(s=>{})}removeMaterialPeriod(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={material:Object.values(e)[1]};this.http.put("/api/verifications/materials/remove/"+this.RapportPeriod[i]._id,o,r).subscribe(s=>{})}clearMaterialsInit(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/verifications/materials/clear/"+this.RapportInit[e]._id,{},i).subscribe(o=>{})}clearMaterialsPeriod(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/verifications/materials/clear/"+this.RapportPeriod[e]._id,{},i).subscribe(o=>{})}VerifConformityInit(){return 0==this.RapportInit.length?0:this.RapportInit[0].conformity}VerifConformityPeriod(){return 0==this.RapportPeriod.length?0:this.RapportPeriod[0].conformity}AddRapportInit(){this.rapportService.AddRapport(this.selected.id,this.newRapportInit.name,0,this.newRapportInit.year,0,this.userService.id).subscribe(e=>{}),this.TrieRapport()}AddRapportPeriod(){this.rapportService.AddRapport(this.selected.id,this.newRapportPeriod.name,0,this.newRapportPeriod.year,1,this.userService.id).subscribe(e=>{}),this.TrieRapport()}DeleteRapport(e){this.rapportService.DeleteRapport(e).subscribe(i=>{}),this.TrieRapport()}UpdateRapportInit(e,i){this.RapportInit[e].conformity=i,this.rapportService.UpdateRapport(this.RapportInit[e]._id,this.RapportInit[e].materials,i).subscribe(r=>{})}UpdateRapportPeriod(e,i){this.RapportPeriod[e].conformity=i,this.rapportService.UpdateRapport(this.RapportPeriod[e]._id,this.RapportPeriod[e].materials,i).subscribe(r=>{})}getSites(){this.sitesTab=[],this.siteService.getSitesByUserMail(this.userService.id).subscribe(e=>{e.forEach(i=>this.sitesTab=[...this.sitesTab,i]),this.selected=this.sitesTab[0],this.getMaterials()})}getMaterials(){this.materialsService.getMaterialsByClientId(this.userService.id).subscribe(e=>{this.ListMateriel=[],e.forEach(i=>{var r,o;i.category=null===(r=this.Categorie.find(s=>s.name==i.category))||void 0===r?void 0:r.name,i.modelType=null===(o=this.Materiels.find(s=>s.name==i.modelType))||void 0===o?void 0:o.name,this.ListMateriel.push(i),this.ListMateriels=[...this.ListMateriels,i]})})}}return t.\u0275fac=function(e){return new(e||t)(be(Fa),be($i),be(Bi),be(vi),be(Qn),be(Wd),be(Qd),be(qd),be(Xn),be(KT),be(_L))},t.\u0275cmp=Gt({type:t,selectors:[["app-verifications-rp"]],features:[Xt([vi,Bi,$i])],decls:15,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],["id","modif",1,"row","d-flex","justify-content-center"],["id","modif",4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["materiels",""],["id","modif"],["id","modif",1,"d-flex","justify-content-sm-center"],["id","modif",1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[1,"d-flex","justify-content-start"],[1,"col-4"],["contentRapportInit",""],["contentRapportPeriod",""],[1,"row"],[1,"d-flex","justify-content-center"],["class","bi bi-x-circle-fill invalid",4,"ngIf"],["class","bi bi-check-circle-fill valid",4,"ngIf"],[1,"btn","btn-lg","btn-outline-success",3,"click"],[1,"bi","bi-file-earmark-person"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-striped","table-bordered"],[1,"colonne_year"],[1,"nom_rapport"],[1,"colonneFichier"],[1,"conformite"],[1,"modal-footer","d-flex","justify-content-sm-center"],["type","number","step","1","name","newAttributeCode","required","",3,"min","max","value","ngModel","ngModelChange"],["dateverif","ngModel"],["class","alert",4,"ngIf"],["type","text","id","nomRapport","name","nomRapport","placeholder","Nom du nouveau rapport","required","",1,"form-control",3,"ngModel","ngModelChange"],["nameInit","ngModel"],["class","btn btn-default btn-outline-success","type","button",3,"disabled","click",4,"ngIf"],["contentSupprRapportInit",""],["type","button","disabled","",1,"form-control","btn","btn-lg","btn-outline-success",3,"ngModel","name","ngModelChange"],["class","modal-lg"],["contentFileRapportInit",""],["type","button",1,"btn","btn-success",3,"click"],["role","group","ngbRadioGroup","",1,"btn-group",3,"name","ngModel","ngModelChange"],["ngbButtonLabel","",1,"btn-success"],["ngbButton","","type","radio",1,"btn",3,"value","checked","click"],["ngbButtonLabel","",1,"btn-danger"],["name","multiselectAct","bindLabel","name","placeholder","Equipements","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],["class","btn btn-default btn-outline-success","type","button",3,"click",4,"ngIf"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-footer","d-flex","justify-content-sm-center",3,"hidden"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file","accept",".pdf",1,"file-upload",2,"display","none",3,"change"],["contentSupprFileRapportVerifInit",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"bi","bi-trash3-fill"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-download"],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"alert"],[4,"ngIf"],["type","button",1,"btn","btn-default","btn-outline-success",3,"disabled","click"],["contentSupprRapportPeriod",""],["contentFileRapportPeriod",""],["contentSupprFileRapportVerifPeriod",""],[1,"bi","bi-x-circle-fill","invalid"],[1,"bi","bi-check-circle-fill","valid"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"V\xe9rifications Radioprotection"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Oe(8,mL,2,1,"option",6),E()()()()(),b(9,"div",7),Oe(10,gL,1,0,"div",8),Oe(11,yL,3,0,"ng-template",null,9,tt),Oe(13,qL,29,4,"ng-template",null,10,tt),E()),2&e){const r=We(12),o=We(14);he(8),Ce("ngForOf",i.sitesTab),he(2),Ce("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[Ni,bs,ws,ji,xi,Qi,Kr,Dm,jd,KE,Xd,K_,Y_,au,Es],styles:[".valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}.modal-body[_ngcontent-%COMP%]{width:100%}.checkbox[_ngcontent-%COMP%]{size:100px}input[type=checkbox][_ngcontent-%COMP%]{transform:scale(2)}.modal-lg[_ngcontent-%COMP%]{max-width:80%!important}.conformite[_ngcontent-%COMP%], .nom_rapport[_ngcontent-%COMP%]{width:30px}.colonneFichier[_ngcontent-%COMP%], .colonne_year[_ngcontent-%COMP%]{width:10px}#modif[_ngcontent-%COMP%]{margin-right:5px}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();function zL(t,n){if(1&t&&(b(0,"option"),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.name)}}function YL(t,n){if(1&t){const e=ze();b(0,"div",29)(1,"h4",30),Y(2," Suppression de l'\xe9quipement "),E(),b(3,"button",31),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",32)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer l'\xe9quipement : "),b(8,"span",33),Y(9),E()()(),b(10,"p")(11,"span",34),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",35)(14,"button",36),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",37),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function KL(t,n){if(1&t){const e=ze();b(0,"tr")(1,"td")(2,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td")(4,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.equipement_type=r}),E()(),b(5,"td")(6,"input",23),_e("ngModelChange",function(r){return ye(e).$implicit.categorie=r}),E()(),b(7,"td")(8,"input",24),_e("ngModelChange",function(r){return ye(e).$implicit.brand=r})("change",function(){const o=ye(e).index;return fe().UpdateMaterial(o)}),E()(),b(9,"td")(10,"input",24),_e("ngModelChange",function(r){return ye(e).$implicit.model=r})("change",function(){const o=ye(e).index;return fe().UpdateMaterial(o)}),E()(),b(11,"td")(12,"input",25),_e("ngModelChange",function(r){return ye(e).$implicit.years=r})("change",function(){const o=ye(e).index;return fe().UpdateMaterial(o)}),E()(),b(13,"td"),Oe(14,YL,18,1,"ng-template",null,26,tt),b(16,"button",27),_e("click",function(){const o=ye(e).index,s=We(15);return fe().openSupprMateriels(s,o)}),Pe(17,"i",28),E()()()}if(2&t){const e=n.$implicit;he(2),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.equipement_type),Ce("ngModel",e.equipement_type),he(2),nt("name",e.categorie),Ce("ngModel",e.categorie),he(2),nt("name",e.brand),Ce("ngModel",e.brand),he(2),nt("name",e.model),Ce("ngModel",e.model),he(2),nt("name",e.years),Ce("ngModel",e.years)}}function ZL(t,n){1&t&&(b(0,"div"),Y(1," Veuillez s\xe9lectionner une machine "),E())}function JL(t,n){if(1&t&&(b(0,"div",38),Oe(1,ZL,2,0,"div",39),E()),2&t){fe();const e=We(39);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}const QL=function(){return{"min-width":"100%"}};let XL=(()=>{class t{constructor(e,i,r,o,s,a){this.modalService=i,this.modal=r,this.siteService=o,this.userService=s,this.materialsService=a,this.closeResult="",this.ListMateriels=[],this.ListMateriel=[{name:"Equipements",type:"Scanner",_id:0,model:"Equipements",brand:"marque",years:"2000",categorie:"A",equipement_type:"Type d'equipement"}],this.newAttribute={},this.selected1={name:"Site",id:"1"},this.sitesTab=[{name:"Sites",id:0}],this.selectedMateriel={name:"Source scell\xe9es",id:1},this.List=[{name:"Site",adresse:"",state:"disabled",id:"1"},{name:"Hopital Nord",adresse:"",state:"",id:"2"},{name:"Hopital Sud1",adresse:"",state:"",id:"3"},{name:"Hopital Sud2",adresse:"",state:"",id:"4"},{name:"Hopital Sud3",adresse:"",state:"",id:"5"},{name:"Hopital Sud4",adresse:"",state:"",id:"6"},{name:"Hopital Sud5",adresse:"",state:"",id:"7"},{name:"Hopital Sud6",adresse:"",state:"",id:"8"}],this.Materiels=[{name:"Source scell\xe9es",id:1},{name:"Source non scell\xe9es",id:2},{name:"Appareil de curieth\xe9rapie (source de haute activit\xe9)",id:3},{name:"Acc\xe9l\xe9rateurs de particules",id:4},{name:"Scanner",id:5},{name:"Arceau de bloc C-arm",id:6},{name:"Arceau de bloc mini-C-arm",id:7},{name:"Acreau de bloc O-arm",id:8},{name:"Angiographe num\xe9ris\xe9",id:9},{name:"Table t\xe9l\xe9command\xe9e",id:10},{name:"Suspension plafonni\xe8re",id:11},{name:"Mammographe",id:12},{name:"Mammotome",id:13},{name:"Panoramique dentaire",id:14},{name:"Mobile de radiologie",id:15},{name:"Cabine EOS",id:16},{name:"Cone beam",id:17},{name:"R\xe9troalv\xe9olaire",id:18}],this.Categorie=[{name:"Pas de Categorie",id:0},{name:"Cat\xe9gorie A",id:1},{name:"Cat\xe9gorie B",id:2},{name:"Cat\xe9gorie C",id:3},{name:"Cat\xe9gorie D",id:4}],e.backdrop="static",e.keyboard=!1,this.selected=this.Materiels[0].name,this.getSites()}ngOnInit(){this.getMaterials()}changeselect(e){this.selected1=this.sitesTab.find(i=>i.name==e.target.value),this.getMaterials()}addFieldValue(){var e,i;this.newAttribute.category=null===(e=this.Categorie.find(r=>r.name==this.newAttribute.categorie.name))||void 0===e?void 0:e.name,this.newAttribute.equipment_type_id=null===(i=this.Materiels.find(r=>r.name==this.newAttribute.equipement_type))||void 0===i?void 0:i.id,this.materialsService.AddMaterials(this.newAttribute.name,this.newAttribute.brand,this.newAttribute.model,this.newAttribute.years,this.newAttribute.category,this.userService.id,this.selected1.id,this.newAttribute.equipement_type).subscribe(r=>{this.ListMateriels.push(this.newAttribute),this.newAttribute={},this.getMaterials()})}openSupprMateriels(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.deleteFieldValue(i)},r=>{})}deleteFieldValue(e){this.materialsService.DeleteMaterials(this.ListMateriel[e]._id).subscribe(i=>{}),this.getMaterials()}Selection(e){console.log(this.newAttribute.equipement_type)}UpdateMaterial(e){this.materialsService.UpdateMaterials(this.ListMateriel[e]._id,this.ListMateriel[e].brand,this.ListMateriel[e].model,this.ListMateriel[e].years).subscribe(i=>{})}getSites(){this.sitesTab=[],this.siteService.getSitesByUserMail(this.userService.mail).subscribe(e=>{e.forEach(i=>this.sitesTab.push(i)),this.selected1=this.sitesTab[0],this.getMaterials()}),console.log(this.sitesTab)}getMaterials(){console.log(this.selected1),this.materialsService.getMaterialsByClientId(this.userService.id).subscribe(e=>{console.log("this is the data"),console.log(e),this.ListMateriel=[],e.forEach(i=>{var r,o;i.categorie=null===(r=this.Categorie.find(s=>s.name==i.category))||void 0===r?void 0:r.name,i.equipement_type=null===(o=this.Materiels.find(s=>s.name==i.type))||void 0===o?void 0:o.name,i.model=i.modelType,i.years=i.year,this.ListMateriel.push(i),console.log(i)})}),console.table(this.ListMateriel)}}return t.\u0275fac=function(e){return new(e||t)(be($i),be(Bi),be(vi),be(qd),be(Xn),be(KT))},t.\u0275cmp=Gt({type:t,selectors:[["app-materiels"]],features:[Xt([vi,Bi,$i])],decls:52,vars:19,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"row","justify-content-center"],[1,"col-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],["type","text","id","newAttributeNom","name","newAttributeNom",1,"form-control",3,"ngModel","ngModelChange"],["name","selectMachine","bindLabel","name","placeholder","Selectionner une machine","required","",3,"items","closeOnSelect","searchable","ngModel","ngStyle","ngModelChange"],["machine","ngModel"],["class","alert",4,"ngIf"],["name","categorie","bindLabel","name","placeholder","Selectionner une categorie",3,"items","closeOnSelect","searchable","ngModel","ngModelChange"],["type","text","id","newAttributeMarque","name","newAttributeMarque",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeTypeModele","name","newAttributeTypeModele",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","newAttributeAnnee","name","newAttributeAnnee",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-default","btn-outline-success",3,"disabled","click"],[1,"bi","bi-plus-circle"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange","change"],["type","number",1,"form-control",3,"ngModel","name","ngModelChange","change"],["contentSupprMateriels",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"alert"],[4,"ngIf"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Equipements"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Oe(8,zL,2,1,"option",6),E(),b(9,"div",7)(10,"div",2)(11,"h3"),Y(12),E()()()()()(),b(13,"div",8)(14,"div",9)(15,"table",10)(16,"thead",11)(17,"tr")(18,"th",12),Y(19,"Nom"),E(),b(20,"th",12),Y(21,"Choix"),E(),b(22,"th",12),Y(23,"Cat\xe9gorie"),E(),b(24,"th",12),Y(25,"Marque"),E(),b(26,"th",12),Y(27,"Type Modele"),E(),b(28,"th",12),Y(29,"Annee"),E(),b(30,"th"),Y(31,"Action"),E()()(),b(32,"tbody"),Oe(33,KL,18,12,"tr",6),b(34,"tr")(35,"td")(36,"input",13),_e("ngModelChange",function(o){return i.newAttribute.name=o}),E()(),b(37,"td")(38,"ng-select",14,15),_e("ngModelChange",function(o){return i.newAttribute.equipement_type=o}),E(),Oe(40,JL,2,1,"div",16),E(),b(41,"td")(42,"ng-select",17),_e("ngModelChange",function(o){return i.newAttribute.categorie=o}),E()(),b(43,"td")(44,"input",18),_e("ngModelChange",function(o){return i.newAttribute.brand=o}),E()(),b(45,"td")(46,"input",19),_e("ngModelChange",function(o){return i.newAttribute.model=o}),E()(),b(47,"td")(48,"input",20),_e("ngModelChange",function(o){return i.newAttribute.years=o}),E()(),b(49,"td")(50,"button",21),_e("click",function(){return i.addFieldValue()}),Pe(51,"i",22),E()()()()()()()()),2&e){const r=We(39);he(8),Ce("ngForOf",i.sitesTab),he(4),vt(i.selected1.name),he(21),Ce("ngForOf",i.ListMateriel),he(3),Ce("ngModel",i.newAttribute.name),he(2),Ce("items",i.Materiels)("closeOnSelect",!0)("searchable",!1)("ngModel",i.newAttribute.equipement_type)("ngStyle",function d1(t,n,e){const i=Ei()+t,r=He();return r[i]===It?Ur(r,i,e?n.call(e):n()):function El(t,n){return t[n]}(r,i)}(18,QL)),he(2),Ce("ngIf",r.invalid&&(r.dirty||r.touched)),he(2),Ce("items",i.Categorie)("closeOnSelect",!0)("searchable",!1)("ngModel",i.newAttribute.categorie),he(2),Ce("ngModel",i.newAttribute.brand),he(2),Ce("ngModel",i.newAttribute.model),he(2),Ce("ngModel",i.newAttribute.years),he(2),Ce("disabled",r.invalid)}},directives:[Ni,bs,ws,xi,Qi,Kr,au,Xd,Es,Ab,ji],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();const e8={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};let t8=(()=>{class t{constructor(e){this.http=e}getExposedWorkersBySiteID(e){return this.http.get("/api/workers/"+e,e8)}}return t.\u0275fac=function(e){return new(e||t)(Je(Qn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function n8(t,n){if(1&t&&(b(0,"option"),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.name)}}function i8(t,n){1&t&&Pe(0,"div")}function r8(t,n){if(1&t){const e=ze();b(0,"div",11)(1,"button",12),_e("click",function(){return ye(e),fe().modetableau()}),Pe(2,"i",13),E()()}}function o8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2," Suppression de fichier Formation RPTE "),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),Y(9),E()()(),b(10,"p")(11,"span",67),Y(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function s8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,o8,18,1,"ng-template",null,62,tt),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",31),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(3).index;return fe(2).openSupprRPTEOld(s,a,o)}),Pe(9,"i",32),E(),b(10,"button",64),_e("click",function(){const o=ye(e).index,s=fe(3).index;return fe(2).downloadRPTE(s,o)}),Pe(11,"i",65),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function a8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,s8,12,4,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=fe(2).index;return fe(2).onFileSelectedOldFormationRPTE(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(2).index,i=fe(2);he(2),ga(" Fichier Formation RPTE de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),he(13),Ce("ngForOf",i.travailleursTab[e].RPTE_formation),he(2),Ki("display",i.travailleursTab[e].displayBtnRPTE?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function l8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2," Suppression de fichier formation RPP "),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),Y(9),E()()(),b(10,"p")(11,"span",67),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function u8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,l8,18,1,"ng-template",null,70,tt),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",31),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(3).index;return fe(2).openSupprRPPOld(s,a,o)}),Pe(9,"i",32),E(),b(10,"button",64),_e("click",function(){const o=ye(e).index,s=fe(3).index;return fe(2).downloadRPP(s,o)}),Pe(11,"i",65),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function c8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,u8,12,4,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=fe(2).index;return fe(2).onFileSelectedOldFormationRPP(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(2).index,i=fe(2);he(2),ga(" Formation RPP de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),he(13),Ce("ngForOf",i.travailleursTab[e].RPP_formation),he(2),Ki("display",i.travailleursTab[e].displayBtnRPP?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function d8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2," Suppression de fichier visite m\xe9dicale "),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),Y(9),E()()(),b(10,"p")(11,"span",67),Y(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function p8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,d8,18,1,"ng-template",null,71,tt),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",31),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(3).index;return fe(2).openSupprVisiteOld(s,a,o)}),Pe(9,"i",32),E(),b(10,"button",64),_e("click",function(){const o=ye(e).index,s=fe(3).index;return fe(2).downloadVisite(s,o)}),Pe(11,"i",65),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function f8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,p8,12,4,"tr",6),E()()(),b(16,"div",59)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=fe(2).index;return fe(2).onFileSelectedOldVisite(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(2).index,i=fe(2);he(2),ga(" Visite m\xe9dicale de ",i.travailleursTab[e].name," ",i.travailleursTab[e].surname," "),he(13),Ce("ngForOf",i.travailleursTab[e].medical_visit),he(2),Ki("display",i.travailleursTab[e].displayBtnVisite?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function h8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2," Suppression de fichier d'Evaluation Individuelle "),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",66),Y(9),E()()(),b(10,"p")(11,"span",67),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function _8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,h8,18,1,"ng-template",null,72,tt),b(3,"td")(4,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",63),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",31),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(3).index;return fe(2).openSupprEvalOld(s,a,o)}),Pe(9,"i",32),E(),b(10,"button",64),_e("click",function(){const o=ye(e).index,s=fe(3).index;return fe(2).downloadEval(s,o)}),Pe(11,"i",65),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function m8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"table",58)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,_8,12,4,"tr",6),E()()(),b(16,"div",48)(17,"label",60),Pe(18,"i",13),b(19,"input",61),_e("change",function(r){ye(e);const o=fe(2).index;return fe(2).onFileSelectedOldEval(r,o)}),E()(),Y(20),E()}if(2&t){const e=fe(2).index,i=fe(2);he(2),Kt(" Fichier Evaluation Individuelle de ",i.travailleursTab[e].name," "),he(13),Ce("ngForOf",i.travailleursTab[e].evaluation),he(2),Ki("display",i.travailleursTab[e].displayBtnEval?"block":"none"),he(3),Kt(" ",i.pdfMissing," ")}}function g8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"form",null,38)(7,"div",39)(8,"label"),Y(9,"Nom"),E(),b(10,"input",40),_e("ngModelChange",function(r){return ye(e),fe().$implicit.name=r}),E()(),b(11,"div",39)(12,"label"),Y(13,"Pr\xe9nom"),E(),b(14,"input",41),_e("ngModelChange",function(r){return ye(e),fe().$implicit.surname=r}),E()(),b(15,"div",39)(16,"label"),Y(17,"Date de naissance"),E(),b(18,"input",42),_e("ngModelChange",function(r){return ye(e),fe().$implicit.date_birth=r}),E()(),b(19,"div",39)(20,"label"),Y(21,"Num\xe9ro de s\xe9curit\xe9 sociale"),E(),b(22,"input",43),_e("ngModelChange",function(r){return ye(e),fe().$implicit.social_security_number=r})("ngModelChange",function(r){return ye(e),fe(3).updateWorkerSocialSecuNum(r)}),E()(),b(23,"div",39)(24,"label"),Y(25,"Fonction"),E(),b(26,"input",44),_e("ngModelChange",function(r){return ye(e),fe().$implicit.function=r})("ngModelChange",function(r){return ye(e),fe(3).updateWorkerFunction(r)}),E()(),b(27,"div",39)(28,"label"),Y(29,"Contrat"),E(),b(30,"input",45),_e("ngModelChange",function(r){return ye(e),fe().$implicit.contract=r})("ngModelChange",function(r){return ye(e),fe(3).updateWorkerContract(r)}),E()(),b(31,"div",39)(32,"label"),Y(33,"Date d\u2019embauche"),E(),b(34,"input",46),_e("ngModelChange",function(r){return ye(e),fe().$implicit.hire_date=r})("ngModelChange",function(r){return ye(e),fe(3).updateWorkerHireDate(r)}),E()(),b(35,"div",39)(36,"label"),Y(37,"Formation RPTE"),E(),Oe(38,a8,21,6,"ng-template",null,47,tt),b(40,"div",48)(41,"button",31),_e("click",function(){ye(e);const r=We(39),o=fe().index;return fe(2).open(r,o)}),Pe(42,"i",49),E()()(),b(43,"div",39)(44,"label"),Y(45,"Formation RPP"),E(),Oe(46,c8,21,6,"ng-template",null,50,tt),b(48,"div",48)(49,"button",31),_e("click",function(){ye(e);const r=We(47),o=fe().index;return fe(2).open(r,o)}),Pe(50,"i",49),E()()(),b(51,"div",39)(52,"label"),Y(53,"Visite m\xe9dicale"),E(),Oe(54,f8,21,6,"ng-template",null,51,tt),b(56,"div",48)(57,"button",31),_e("click",function(){ye(e);const r=We(55),o=fe().index;return fe(2).open(r,o)}),Pe(58,"i",49),E()()(),b(59,"div",39)(60,"label"),Y(61,"Evaluation individuelle d\u2019exposition"),E(),Oe(62,m8,21,5,"ng-template",null,52,tt),b(64,"div",48)(65,"button",31),_e("click",function(){ye(e);const r=We(63),o=fe().index;return fe(2).open(r,o)}),Pe(66,"i",49),E()()(),b(67,"div",39)(68,"label"),Y(69,"Activit\xe9 partag\xe9e sur plusieurs \xe9tablissements"),E(),b(70,"ng-select",53),_e("ngModelChange",function(r){return ye(e),fe().$implicit.shared_activity=r}),E()(),b(71,"div",39)(72,"label"),Y(73,"Suivi dosim\xe9trique corps entier"),E(),b(74,"ng-select",54),_e("ngModelChange",function(r){ye(e);const o=fe().index;return fe(2).travailleursTab[o].whole_body_dosimetric_monitoring=r})("add",function(r){ye(e);const o=fe().index;return fe(2).updateWorkerFullSuivDosim(r,o)})("remove",function(r){ye(e);const o=fe().index;return fe(2).updateRemoveWorkerFullSuivDosim(r,o)})("clear",function(r){ye(e);const o=fe().index;return fe(2).updateClearWorkerFullSuivDosim(r,o)}),E()(),b(75,"div",39)(76,"label"),Y(77,"Suivi dosim\xe9trique compl\xe9mentaire"),E(),b(78,"ng-select",55),_e("ngModelChange",function(r){ye(e);const o=fe().index;return fe(2).travailleursTab[o].additional_dosimetric_monitoring=r})("add",function(r){ye(e);const o=fe().index;return fe(2).updateWorkerComplSuivDosim(r,o)})("remove",function(r){ye(e);const o=fe().index;return fe(2).updateRemoveWorkerComplSuivDosim(r,o)})("clear",function(r){ye(e);const o=fe().index;return fe(2).updateClearWorkerComplSuivDosim(r,o)}),E()()()(),b(79,"div",56)(80,"button",57),_e("click",function(){return ye(e).close("Ok click")}),Y(81," Sauvegarder "),E()()}if(2&t){const e=fe(),i=e.$implicit,r=e.index,o=fe(2);he(2),ga(" Fiche travailleur de ",i.name," ",i.surname," "),he(8),Ce("ngModel",i.name),he(4),Ce("ngModel",i.surname),he(4),Ce("ngModel",i.date_birth),he(4),Ce("ngModel",i.social_security_number),he(4),Ce("ngModel",i.function),he(4),Ce("ngModel",i.contract),he(4),Ce("ngModel",i.hire_date),he(36),Ce("items",o.sitesTab)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",i.shared_activity),he(4),Ce("items",o.Suividosimetrique)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",o.travailleursTab[r].whole_body_dosimetric_monitoring),he(4),Ce("items",o.Suividosimetriquecompl)("multiple",!0)("closeOnSelect",!1)("searchable",!1)("ngModel",o.travailleursTab[r].additional_dosimetric_monitoring)}}function y8(t,n){if(1&t){const e=ze();b(0,"div",34)(1,"h4",35),Y(2," Suppression de travailleur "),E(),b(3,"button",36),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",37)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le travailleur : "),b(8,"span",66),Y(9),E()()(),b(10,"p")(11,"span",67),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",56)(14,"button",68),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15," Non "),E(),b(16,"button",69),_e("click",function(){return ye(e).close("Ok click")}),Y(17," Oui "),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function v8(t,n){if(1&t){const e=ze();b(0,"tr",14),Oe(1,g8,82,24,"ng-template",null,28,tt),b(3,"td")(4,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.surname=r}),E()(),b(7,"td")(8,"input",29),_e("ngModelChange",function(r){return ye(e).$implicit.date_birth=r}),E()(),b(9,"td")(10,"div",11),Oe(11,y8,18,1,"ng-template",null,30,tt),b(13,"button",31),_e("click",function(){const o=ye(e).index,s=We(12);return fe(2).openSupprTravailleur(s,o)}),Pe(14,"i",32),E(),b(15,"button",33),_e("click",function(){const o=ye(e).index,s=We(2);return fe(2).open(s,o)}),Y(16," D\xe9tails "),E()()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.surname),Ce("ngModel",e.surname),he(2),nt("name",e.date_birth),Ce("ngModel",e.date_birth)}}function b8(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir un nom "),E())}function w8(t,n){if(1&t&&(b(0,"div",73),Oe(1,b8,2,0,"div",74),E()),2&t){fe();const e=We(17);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function C8(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir un pr\xe9nom "),E())}function E8(t,n){if(1&t&&(b(0,"div",73),Oe(1,C8,2,0,"div",74),E()),2&t){fe();const e=We(21);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function T8(t,n){1&t&&(b(0,"div"),Y(1," Veuillez saisir une date de naissance "),E())}function S8(t,n){if(1&t&&(b(0,"div",73),Oe(1,T8,2,0,"div",74),E()),2&t){fe();const e=We(25);he(1),Ce("ngIf",null==e.errors?null:e.errors.required)}}function D8(t,n){if(1&t){const e=ze();b(0,"div",14)(1,"table",15)(2,"thead",16)(3,"tr")(4,"th",17),Y(5,"Nom"),E(),b(6,"th",17),Y(7,"Pr\xe9nom"),E(),b(8,"th",17),Y(9,"Date de naissance"),E(),b(10,"th",17),Y(11,"Action"),E()()(),b(12,"tbody"),Oe(13,v8,17,6,"tr",18),b(14,"tr")(15,"td")(16,"input",19,20),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.name=r}),E(),Oe(18,w8,2,1,"div",21),E(),b(19,"td")(20,"input",22,23),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.prenom=r}),E(),Oe(22,E8,2,1,"div",21),E(),b(23,"td")(24,"input",24,25),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.date_de_naissance=r}),E(),Oe(26,S8,2,1,"div",21),E()()()()(),Pe(27,"br"),b(28,"div",26)(29,"button",27),_e("click",function(){return ye(e),fe().addFieldValue()}),Pe(30,"i",13),E()()}if(2&t){const e=We(17),i=We(21),r=We(25),o=fe();he(13),Ce("ngForOf",o.travailleursTab),he(3),Ce("ngModel",o.newAttribute.name),he(2),Ce("ngIf",e.invalid&&(e.dirty||e.touched)),he(2),Ce("ngModel",o.newAttribute.prenom),he(2),Ce("ngIf",i.invalid&&(i.dirty||i.touched)),he(2),Ce("ngModel",o.newAttribute.date_de_naissance),he(2),Ce("ngIf",r.invalid&&(r.dirty||r.touched)),he(3),Ce("disabled",r.invalid||e.invalid||i.invalid)}}let O8=(()=>{class t{constructor(e,i,r,o,s,a,d,T,R,ee){this.exposedWorkersService=e,this.userService=i,this.userinfo=r,this.siteService=o,this.config=s,this.modalService=a,this.modal=d,this.http=T,this.DataService=R,this.configNG=ee,this.Social_Secu="0",this.Function="null",this.Contract="null",this.Hire_Date="0",this.closeResult="",this.ajout=!0,this.id_compt=1,this.selectedList=[],this.siteSel={name:"Loading...",id:"1"},this.sitesTab=[{name:"Loading...",id:"1"}],this.test=!0,this.travailleursTab=[{id:1,name:"Loading...",surname:"Loading...",date_birth:"2000-00-00",social_security_number:1234567,function:"function1",contract:"contract1",hire_date:"2020-06-15",RPTE_formation:[{name:"TestRPTE",date:"dateRPTE"}],RPP_formation:[{name:"TestRPP",date:"dateRPTE"}],medical_visit:[{name:"TestVisit",date:"dateRPTE"}],evaluation:[{name:"TestEval",date:"dateRPTE"}],shared_activity:[],whole_body_dosimetric_monitoring:Array(),additional_dosimetric_monitoring:Array(),structure_id:1,displayBtnRPTE:!0,displayBtnRPP:!0,displayBtnVisite:!0,displayBtnEval:!0}],this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={name:""},this.date=new Date,this.file_Formation_RPTE={name:"TestRPTE",date:"dateRPTE"},this.file_Formation_RPP={name:"TestRPTE",date:"dateRPTE"},this.file_Visite_Med={name:"TestRPTE",date:"dateRPTE"},this.file_Evaluation={name:"TestRPTE",date:"dateRPTE"},this.Suividosimetrique=[{name:"Passif",id:1},{name:"Actif",id:2}],this.Suividosimetriquecompl=[{name:"Cristallin",id:1},{name:"Extr\xe9mit\xe9",id:2}],this.pdfMissing=""}start(){console.log("test supprimer"),1==this.userinfo.admin&&(this.test=!0)}ngOnInit(){this.getSites(),this.start()}changeselect(e){this.siteSel=this.sitesTab.find(i=>i.name==e.target.value),this.getTravailleurs()}changemultiselectAct(e,i){this.travailleursTab[i].shared_activity=[],console.log(e)}modetableau(){this.ajout=!0}addFieldValue(){this.travailleursTab.length>0&&(this.id_compt=this.travailleursTab[this.travailleursTab.length-1].id+1),this.newAttribute.id_exposed_worker=this.id_compt,this.newAttribute.formation_rpte=this.newfileRPTE,this.newAttribute.formation_rpp=this.newfileRPP,this.newAttribute.visite_medical=this.newfileVisite,this.newAttribute.eval_individuelle=this.newfileEval,this.newAttribute.activite_partagee=[],this.newAttribute.surname=this.newAttribute.prenom,this.newAttribute.date_birth=this.newAttribute.date_de_naissance;const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.post("/api/workers/"+this.userService.id,{lastName:this.newAttribute.name,firstName:this.newAttribute.prenom,birthday:this.newAttribute.date_de_naissance},e).subscribe(r=>{console.log(r)}),this.travailleursTab.push(this.newAttribute),this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={},console.log(this.travailleursTab)}deleteFieldValue(e){this.travailleursTab.splice(e,1)}onFileSelectedFormationRPP(e){const r=e.target.files;if("application/pdf"==r[0].type){this.file_Formation_RPP.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.newfileRPP.push(this.file_Formation_RPP);var o=new FormData;o.append("file",r[0]),this.DataService.UploadData(o).subscribe(s=>{this.data=s,this.pdfMissing=""})}else this.pdfMissing="Please select a PDF"}onFileSelectedFormationRPTE(e,i){const o=e.target.files;"application/pdf"==o[0].type?(console.log(o),this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),console.log(this.file_Formation_RPTE),this.newfileRPTE.push(this.file_Formation_RPTE),this.pdfMissing=""):this.pdfMissing="Please select a PDF"}onFileSelectedVisiteMed(e){const r=e.target.files;"application/pdf"==r[0].type?(this.file_Visite_Med.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.newfileVisite.push(this.file_Visite_Med),this.pdfMissing=""):this.pdfMissing="Please select a PDF"}onFileSelectedEvaluation(e){const r=e.target.files;"application/pdf"==r[0].type?(this.file_Evaluation.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.newfileEval.push(this.file_Evaluation),this.pdfMissing=""):this.pdfMissing="Please select a PDF"}onFileSelectedOldFormationRPP(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Formation_RPP.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.travailleursTab[i].RPP_formation.push(this.file_Formation_RPP),this.travailleursTab[i].id.toString();let T="RPP";var s=this.travailleursTab[i].id.toString(),a=new FormData;a.append("file",o[0]),a.append("file_type",T),a.append("workerId",s),this.DataService.UploadDataWorker(a).subscribe(R=>{this.data=R,this.pdfMissing="",this.travailleursTab[i].displayBtnRPP=!1,this.travailleursTab[i].RPP_formation.splice(0,1),console.log("CHARGED")})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldFormationRPTE(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.travailleursTab[i].RPTE_formation.push(this.file_Formation_RPTE);var s=this.travailleursTab[i].id.toString();let d="RPTE";var a=new FormData;a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),this.DataService.UploadDataWorker(a).subscribe(T=>{this.data=T,this.pdfMissing="",this.travailleursTab[i].displayBtnRPTE=!1,this.travailleursTab[i].RPTE_formation.splice(0,1),console.log("CHARGED")})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldVisite(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Visite_Med.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.travailleursTab[i].medical_visit.push(this.file_Visite_Med);var s=this.travailleursTab[i].id.toString();let d="Visite";var a=new FormData;a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),this.DataService.UploadDataWorker(a).subscribe(T=>{this.data=T,this.pdfMissing="",this.travailleursTab[i].displayBtnVisite=!1,this.travailleursTab[i].medical_visit.splice(0,1),console.log("CHARGED")})}else this.pdfMissing="Please select a PDF"}onFileSelectedOldEval(e,i){const o=e.target.files;if("application/pdf"==o[0].type){this.file_Evaluation.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.travailleursTab[i].evaluation.push(this.file_Evaluation);var s=this.travailleursTab[i].id.toString();let d="Eval";var a=new FormData;a.append("file",o[0]),a.append("file_type",d),a.append("workerId",s),this.DataService.UploadDataWorker(a).subscribe(T=>{this.data=T,this.pdfMissing="",this.travailleursTab[i].displayBtnEval=!1,this.travailleursTab[i].evaluation.splice(0,1),console.log("CHARGED")})}else this.pdfMissing="Please select a PDF"}open(e,i){this.modalService.open(e,{size:"lg"}).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult);const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log("IM UPDATING"),this.http.put("/api/workers/"+this.travailleursTab[i].id,{numSocialSecurity:this.travailleursTab[i].social_security_number,charge:this.travailleursTab[i].function,contract:this.travailleursTab[i].contract,hiringDate:this.travailleursTab[i].hire_date},o).subscribe(a=>{console.log(a)})},r=>{})}updateWorkerSocialSecuNum(e){this.Social_Secu=JSON.stringify(e)}updateWorkerFunction(e){this.Function=JSON.stringify(e)}updateWorkerContract(e){this.Contract=JSON.stringify(e)}updateWorkerHireDate(e){this.Hire_Date=JSON.stringify(e)}openSupprRPTENew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPTE.splice(i,1)},r=>{})}openSupprRPPNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPP.splice(i,1)},r=>{})}openSupprVisiteNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileVisite.splice(i,1)},r=>{})}openSupprEvalNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileEval.splice(i,1)},r=>{})}openSupprRPTEOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPTE(i,r)},o=>{})}openSupprRPPOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPP(i,r)},o=>{})}openSupprVisiteOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteOldFileVisite(i,r)},o=>{})}openSupprEvalOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileEval(i,r)},o=>{})}openSupprTravailleur(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult);const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/"+this.travailleursTab[i].id,o).subscribe(s=>{console.log(s)}),this.http.delete("/api/workers/"+this.travailleursTab[i].id,o).subscribe(s=>{console.log(s)}),this.deleteFieldValue(i)},r=>{})}deleteFileRPTE(e){this.newfileRPTE.splice(e,1)}deleteFileRPP(e){this.newfileRPP.splice(e,1)}deleteFileVisite(e){this.newfileVisite.splice(e,1)}deleteFileEval(e){this.newfileEval.splice(e,1)}deleteOldFileRPP(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/RPP/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0,console.log(o)}),this.travailleursTab[e].RPP_formation.splice(i,1)}deleteOldFileRPTE(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/RPTE/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0,console.log(o)}),this.travailleursTab[e].RPTE_formation.splice(i,1)}deleteOldFileVisite(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/Visite/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0,console.log(o)}),this.travailleursTab[e].medical_visit.splice(i,1)}deleteOldFileEval(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("/api/workers/uploads/files/Eval/"+this.travailleursTab[e].id,r).subscribe(o=>{this.travailleursTab[e].displayBtnRPTE=!0,this.travailleursTab[e].displayBtnRPP=!0,this.travailleursTab[e].displayBtnEval=!0,this.travailleursTab[e].displayBtnVisite=!0,console.log(o)}),this.travailleursTab[e].evaluation.splice(i,1)}onSubmit(){console.log(this.travailleursTab),console.log(this.selectedList)}downloadRPP(e,i){window.open("/api/workers/uploads/files/RPP/download/"+this.travailleursTab[e].id)}downloadRPTE(e,i){window.open("/api/workers/uploads/files/RPTE/download/"+this.travailleursTab[e].id)}downloadVisite(e,i){window.open("/api/workers/uploads/files/Visite/download/"+this.travailleursTab[e].id)}downloadEval(e,i){window.open("/api/workers/uploads/files/Eval/download/"+this.travailleursTab[e].id)}updateWorkerFullSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.travailleursTab[i]);const o={fullSuivDosim:Object.values(e)[0]};this.http.put("/api/workers/fullSuivDossim/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}updateWorkerComplSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={complSuivDosim:Object.values(e)[0]};this.http.put("/api/workers/complSuivDossim/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}updateRemoveWorkerFullSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={fullSuivDosim:Object.values(e)[1]};this.http.put("/api/workers/fullSuivDossim/remove/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}updateRemoveWorkerComplSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})},o={complSuivDosim:Object.values(e)[1]};this.http.put("/api/workers/complSuivDossim/remove/"+this.travailleursTab[i].id,o,r).subscribe(s=>{console.log(s)})}updateClearWorkerFullSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/workers/fullSuivDossim/clear/"+this.travailleursTab[i].id,{},r).subscribe(s=>{console.log(s)})}updateClearWorkerComplSuivDosim(e,i){const r={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("/api/workers/complSuivDossim/clear/"+this.travailleursTab[i].id,{},r).subscribe(s=>{console.log(s)})}getSites(){this.siteService.getSitesByUserMail(this.userService.mail).subscribe(e=>{this.sitesTab=[],this.siteSel=this.sitesTab[0],this.getTravailleurs()})}getTravailleurs(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.exposedWorkersService.getExposedWorkersBySiteID(this.userService.id).subscribe(i=>{this.travailleursTab=[],i.forEach(r=>{const o=new Date(r.hiringDate),s=new Date(o.getTime()-6e4*o.getTimezoneOffset()),a="/api/workers/uploads/files/";nC(this.http.get(a+"RPTE/"+r._id,e),this.http.get(a+"RPP/"+r._id,e),this.http.get(a+"Visite/"+r._id,e),this.http.get(a+"Eval/"+r._id,e),this.http.get("/api/workers/fullSuivDossim/"+r._id,e),this.http.get("/api/workers/complSuivDossim/"+r._id,e)).subscribe(([d,T,R,ee,se,me])=>{const Te={filename:JSON.parse(JSON.stringify(d)).filename,date:JSON.parse(JSON.stringify(d)).uploadDate},Ae={filename:JSON.parse(JSON.stringify(T)).filename,date:JSON.parse(JSON.stringify(T)).uploadDate},Re={filename:JSON.parse(JSON.stringify(R)).filename,date:JSON.parse(JSON.stringify(R)).uploadDate},Fe={filename:JSON.parse(JSON.stringify(ee)).filename,date:JSON.parse(JSON.stringify(ee)).uploadDate},Ie=Object.values(se),Ye=Object.values(me);let Xe;console.log(r),Xe=0!==Ie.length&&0!==Ye.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge.replaceAll('"',""),hire_date:s.toISOString().split("T")[0],contract:r.contract.replaceAll('"',""),RPP_formation:[{name:Ae.filename,date:Ae.date}],RPTE_formation:[{name:Te.filename,date:Te.date}],evaluation:[{name:Fe.filename,date:Fe.date}],medical_visit:[{name:Re.filename,date:Re.date}],whole_body_dosimetric_monitoring:Ie,shared_activity:[],structure_id:1,additional_dosimetric_monitoring:Ye,displayBtnRPTE:""===Te.filename,displayBtnRPP:""===Ae.filename,displayBtnVisite:""===Re.filename,displayBtnEval:""===Fe.filename}:0!==Ie.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge.replaceAll('"',""),hire_date:s.toISOString().split("T")[0],contract:r.contract.replaceAll('"',""),RPP_formation:[{name:Ae.filename,date:Ae.date}],RPTE_formation:[{name:Te.filename,date:Te.date}],evaluation:[{name:Fe.filename,date:Fe.date}],medical_visit:[{name:Re.filename,date:Re.date}],whole_body_dosimetric_monitoring:Ie,shared_activity:[],structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===Te.filename,displayBtnRPP:""===Ae.filename,displayBtnVisite:""===Re.filename,displayBtnEval:""===Fe.filename}:0!==Ye.length?{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge.replaceAll('"',""),hire_date:s.toISOString().split("T")[0],contract:r.contract.replaceAll('"',""),RPP_formation:[{name:Ae.filename,date:Ae.date}],RPTE_formation:[{name:Te.filename,date:Te.date}],evaluation:[{name:Fe.filename,date:Fe.date}],medical_visit:[{name:Re.filename,date:Re.date}],whole_body_dosimetric_monitoring:[],shared_activity:[],structure_id:1,additional_dosimetric_monitoring:Ye,displayBtnRPTE:""===Te.filename,displayBtnRPP:""===Ae.filename,displayBtnVisite:""===Re.filename,displayBtnEval:""===Fe.filename}:{id:r._id,name:r.lastName,surname:r.firstName,date_birth:r.birthday.slice(0,10),social_security_number:r.numSocialSecurity,function:r.charge.replaceAll('"',""),hire_date:s.toISOString().split("T")[0],contract:r.contract.replaceAll('"',""),RPP_formation:[{name:Ae.filename,date:Ae.date}],RPTE_formation:[{name:Te.filename,date:Te.date}],evaluation:[{name:Fe.filename,date:Fe.date}],medical_visit:[{name:Re.filename,date:Re.date}],whole_body_dosimetric_monitoring:[],shared_activity:[],structure_id:1,additional_dosimetric_monitoring:[],displayBtnRPTE:""===Te.filename,displayBtnRPP:""===Ae.filename,displayBtnVisite:""===Re.filename,displayBtnEval:""===Fe.filename},this.travailleursTab.push(Xe)})})})}}return t.\u0275fac=function(e){return new(e||t)(be(t8),be(Xn),be(Fa),be(qd),be($i),be(Bi),be(vi),be(Qn),be(Wd),be(Qd))},t.\u0275cmp=Gt({type:t,selectors:[["app-travailleurs-exposes"]],features:[Xt([vi,Bi,$i])],decls:15,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],["ng-app","myApp",1,"container"],[4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["tableau",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],[1,"table","table-striped","table-hover"],[1,"table-success"],[1,"colonne"],["style","\n              width: auto;\n              overflow: scroll;\n              overflow-y: auto;\n              overflow-x: auto;\n            ",4,"ngFor","ngForOf"],["type","text","id","newAttributeName","name","newAttributeName","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert",4,"ngIf"],["type","text","id","newAttributePrenom","name","newAttributePrenom","required","",1,"form-control",3,"ngModel","ngModelChange"],["prenom","ngModel"],["type","date","id","newAttributeDateNaissance","name","newAttributeDateNaissance","required","",1,"form-control",3,"ngModel","ngModelChange"],["date","ngModel"],[1,"d-flex","justify-content-sm-center","form-group"],[1,"btn","btn-outline-success",3,"disabled","click"],["contentModal",""],["type","text","disabled","","readonly","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprTravailleur",""],[1,"btn","btn-lg","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"btn","btn-success",3,"click"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],["userForm","ngForm"],[1,"form-group"],["type","text","name","name","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","prenom","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dateNaissance","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","SecuSocial",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","fonction",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","contrat",1,"form-control",3,"ngModel","ngModelChange"],["type","date","name","dateEmbauche",1,"form-control",3,"ngModel","ngModelChange"],["contentOldRPTE",""],[1,"modal-body","d-flex","justify-content-sm-center"],[1,"bi","bi-file-earmark-person"],["contentOldRPP",""],["contentOldVisite",""],["contentOldEval",""],["name","multiselectAct","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange"],["name","multiselectDosi","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],["name","Suividosimetriquecompl","bindLabel","name","placeholder","Select people","appendTo",".modal-body",3,"items","multiple","closeOnSelect","searchable","ngModel","ngModelChange","add","remove","clear"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],[1,"table","table-striped","table-bordered"],[1,"modal-footer","d-flex","justify-content-sm-center"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file",1,"file-upload",2,"display","none",3,"change"],["contentSupprRPTEOld",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-download"],[1,"text-primary"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["contentSupprRPPOld",""],["contentSupprVisiteOld",""],["contentSupprEvalOld",""],[1,"alert"],[4,"ngIf"]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Travailleurs expos\xe9s"),E()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Oe(8,n8,2,1,"option",6),E()()()()(),b(9,"div",7),Oe(10,i8,1,0,"div",8),Oe(11,r8,3,0,"ng-template",null,9,tt),Oe(13,D8,31,8,"ng-template",null,10,tt),E()),2&e){const r=We(12),o=We(14);he(8),Ce("ngForOf",i.sitesTab),he(2),Ce("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[Ni,bs,ws,ji,wo,bo,Td,xi,Qi,Kr,au,Xd,Es],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:300px}th[_ngcontent-%COMP%]{width:150px}clickable[_ngcontent-%COMP%]{cursor:pointer}.listelis[_ngcontent-%COMP%]{z-index:1}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),t})();function N8(t,n){1&t&&Pe(0,"div")}function x8(t,n){if(1&t){const e=ze();b(0,"div",10)(1,"button",11),_e("click",function(){return ye(e),fe().modetableau()}),Pe(2,"i",12),E()()}}function A8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function M8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,A8,18,1,"ng-template",null,53,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",38),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(2).openSupprRPTEOld(s,a,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function I8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,M8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=fe().index;return fe(2).onFileSelectedOldFormationRPTE(r,o)}),E()()()}if(2&t){const e=fe().index,i=fe(2);he(2),Kt("Fichier Formation RPTE de ",i.travailleurs[e].nom,""),he(13),Ce("ngForOf",i.travailleurs[e].formation_rpte)}}function P8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function k8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,P8,18,1,"ng-template",null,60,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",38),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(2).openSupprRPPOld(s,a,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function R8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,k8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=fe().index;return fe(2).onFileSelectedOldFormationRPP(r,o)}),E()()()}if(2&t){const e=fe().index,i=fe(2);he(2),Kt("Fichier Formation RPP de ",i.travailleurs[e].nom,""),he(13),Ce("ngForOf",i.travailleurs[e].formation_rpp)}}function F8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function j8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,F8,18,1,"ng-template",null,61,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",38),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(2).openSupprVisiteOld(s,a,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function $8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,j8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=fe().index;return fe(2).onFileSelectedOldVisite(r,o)}),E()()()}if(2&t){const e=fe().index,i=fe(2);he(2),Kt("Fichier Visite Medicale de ",i.travailleurs[e].nom,""),he(13),Ce("ngForOf",i.travailleurs[e].visite_medical)}}function B8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function L8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,B8,18,1,"ng-template",null,62,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",38),_e("click",function(){const o=ye(e).index,s=We(2),a=fe(2).index;return fe(2).openSupprEvalOld(s,a,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function V8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,L8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",51),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){ye(e);const o=fe().index;return fe(2).onFileSelectedOldEval(r,o)}),E()()()}if(2&t){const e=fe().index,i=fe(2);he(2),Kt("Fichier Evaluation Individuelle de ",i.travailleurs[e].nom,""),he(13),Ce("ngForOf",i.travailleurs[e].eval_individuelle)}}function U8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de travailleur"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.nom)}}function H8(t,n){if(1&t){const e=ze();b(0,"tr",34)(1,"td")(2,"input",35),_e("ngModelChange",function(r){return ye(e).$implicit.nom=r}),E()(),b(3,"td")(4,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.prenom=r}),E()(),b(5,"td")(6,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.date_de_naissance=r}),E()(),b(7,"td")(8,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.numero_secu=r}),E()(),b(9,"td")(10,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.fonction=r}),E()(),b(11,"td")(12,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.contrat=r}),E()(),b(13,"td")(14,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.date_embauche=r}),E()(),b(15,"td"),Oe(16,I8,20,2,"ng-template",null,37,tt),b(18,"div")(19,"button",38),_e("click",function(){ye(e);const r=We(17);return fe(2).open(r)}),Pe(20,"i",27),E()()(),b(21,"td"),Oe(22,R8,20,2,"ng-template",null,39,tt),b(24,"div")(25,"button",38),_e("click",function(){ye(e);const r=We(23);return fe(2).open(r)}),Pe(26,"i",27),E()()(),b(27,"td"),Oe(28,$8,20,2,"ng-template",null,40,tt),b(30,"div")(31,"button",38),_e("click",function(){ye(e);const r=We(29);return fe(2).open(r)}),Pe(32,"i",27),E()()(),b(33,"td"),Oe(34,V8,20,2,"ng-template",null,41,tt),b(36,"div")(37,"button",38),_e("click",function(){ye(e);const r=We(35);return fe(2).open(r)}),Pe(38,"i",27),E()()(),b(39,"td")(40,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.activite_partagee=r}),E()(),b(41,"td")(42,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.suivi_corps_entier=r}),E()(),b(43,"td")(44,"input",36),_e("ngModelChange",function(r){return ye(e).$implicit.suivi_complementaire=r}),E()(),b(45,"td")(46,"div",10),Oe(47,U8,18,1,"ng-template",null,42,tt),b(49,"button",38),_e("click",function(){const o=ye(e).index,s=We(48);return fe(2).openSupprTravailleur(s,o)}),Pe(50,"i",43),E()()()()}if(2&t){const e=n.$implicit;he(2),nt("name",e.nom),Ce("ngModel",e.nom),he(2),nt("name",e.prenom),Ce("ngModel",e.prenom),he(2),nt("name",e.date_de_naissance),Ce("ngModel",e.date_de_naissance),he(2),nt("name",e.numero_secu),Ce("ngModel",e.numero_secu),he(2),nt("name",e.fonction),Ce("ngModel",e.fonction),he(2),nt("name",e.contrat),Ce("ngModel",e.contrat),he(2),nt("name",e.date_embauche),Ce("ngModel",e.date_embauche),he(26),nt("name",e.activite_partagee),Ce("ngModel",e.activite_partagee),he(2),nt("name",e.suivi_corps_entier),Ce("ngModel",e.suivi_corps_entier),he(2),nt("name",e.suivi_complementaire),Ce("ngModel",e.suivi_complementaire)}}function G8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function q8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,G8,18,1,"ng-template",null,64,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",26),_e("click",function(){const o=ye(e).index,s=We(2);return fe(3).openSupprRPTENew(s,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function W8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Fichier Formation RPTE"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,q8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",63),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),fe(2).onFileSelectedFormationRPTE(r)}),E()()()}if(2&t){const e=fe(2);he(15),Ce("ngForOf",e.newfileRPTE)}}function z8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function Y8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,z8,18,1,"ng-template",null,65,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",26),_e("click",function(){const o=ye(e).index,s=We(2);return fe(3).openSupprRPPNew(s,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function K8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Fichier Formation RPP"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,Y8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",63),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),fe(2).onFileSelectedFormationRPP(r)}),E()()()}if(2&t){const e=fe(2);he(15),Ce("ngForOf",e.newfileRPP)}}function Z8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function J8(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,Z8,18,1,"ng-template",null,66,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",26),_e("click",function(){const o=ye(e).index,s=We(2);return fe(3).openSupprVisiteNew(s,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function Q8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Fichier Visite medical"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,J8,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",63),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),fe(2).onFileSelectedVisiteMed(r)}),E()()()}if(2&t){const e=fe(2);he(15),Ce("ngForOf",e.newfileVisite)}}function X8(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Suppression de fichier"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le fichier : "),b(8,"span",55),Y(9),E()()(),b(10,"p")(11,"span",56),Y(12,"La suppression sera d\xe9finitive."),E()()(),b(13,"div",57)(14,"button",58),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",59),_e("click",function(){return ye(e).close("Ok click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function eV(t,n){if(1&t){const e=ze();b(0,"tr"),Oe(1,X8,18,1,"ng-template",null,67,tt),b(3,"td")(4,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(5,"td")(6,"input",54),_e("ngModelChange",function(r){return ye(e).$implicit.date=r}),E()(),b(7,"td")(8,"button",26),_e("click",function(){const o=ye(e).index,s=We(2);return fe(3).openSupprEvalNew(s,o)}),Pe(9,"i",43),E()()()}if(2&t){const e=n.$implicit;he(4),nt("name",e.name),Ce("ngModel",e.name),he(2),nt("name",e.date),Ce("ngModel",e.date)}}function tV(t,n){if(1&t){const e=ze();b(0,"div",44)(1,"h4",45),Y(2,"Fichier Evaluation Individuelle"),E(),b(3,"button",46),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",47)(5,"table",48)(6,"thead")(7,"tr")(8,"th"),Y(9,"Nom"),E(),b(10,"th"),Y(11,"Date"),E(),b(12,"th"),Y(13,"Action"),E()()(),b(14,"tbody"),Oe(15,eV,10,4,"tr",49),E()()(),b(16,"div",50)(17,"label",63),Pe(18,"i",12),b(19,"input",52),_e("change",function(r){return ye(e),fe(2).onFileSelectedEvaluation(r)}),E()()()}if(2&t){const e=fe(2);he(15),Ce("ngForOf",e.newfileEval)}}function nV(t,n){if(1&t){const e=ze();b(0,"div",13)(1,"table",14)(2,"thead",15)(3,"tr")(4,"th",16),Y(5,"Nom"),E(),b(6,"th",16),Y(7,"Pr\xe9nom"),E(),b(8,"th",16),Y(9,"Date de naissance"),E(),b(10,"th",16),Y(11,"N\xb0 de s\xe9curit\xe9 sociale"),E(),b(12,"th",16),Y(13,"Fonction"),E(),b(14,"th",16),Y(15,"Contrat"),E(),b(16,"th",16),Y(17,"Date d\u2019embauche"),E(),b(18,"th"),Y(19,"Formation RPTE"),E(),b(20,"th"),Y(21,"Formation RPP"),E(),b(22,"th"),Y(23,"Visite m\xe9dicale"),E(),b(24,"th"),Y(25,"Evaluation individuelle d\u2019exposition"),E(),b(26,"th",16),Y(27,"Activit\xe9 partag\xe9e sur plusieurs \xe9tablissements"),E(),b(28,"th",16),Y(29,"Suivi dosim\xe9trique corps entier"),E(),b(30,"th",16),Y(31,"Suivi dosim\xe9trique compl\xe9mentaire"),E(),b(32,"th",16),Y(33,"Action"),E()()(),Oe(34,H8,51,20,"tr",17),b(35,"tr")(36,"td")(37,"input",18),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.nom=r}),E()(),b(38,"td")(39,"input",19),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.prenom=r}),E()(),b(40,"td")(41,"input",20),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.date_de_naissance=r}),E()(),b(42,"td")(43,"input",21),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.numero_secu=r}),E()(),b(44,"td")(45,"input",22),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.fonction=r}),E()(),b(46,"td")(47,"input",23),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.contrat=r}),E()(),b(48,"td")(49,"input",24),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.date_embauche=r}),E()(),b(50,"td"),Oe(51,W8,20,1,"ng-template",null,25,tt),b(53,"div")(54,"button",26),_e("click",function(){ye(e);const r=We(52);return fe().open(r)}),Pe(55,"i",27),E()()(),b(56,"td"),Oe(57,K8,20,1,"ng-template",null,28,tt),b(59,"div")(60,"button",26),_e("click",function(){ye(e);const r=We(58);return fe().open(r)}),Pe(61,"i",27),E()()(),b(62,"td"),Oe(63,Q8,20,1,"ng-template",null,29,tt),b(65,"div")(66,"button",26),_e("click",function(){ye(e);const r=We(64);return fe().open(r)}),Pe(67,"i",27),E()()(),b(68,"td"),Oe(69,tV,20,1,"ng-template",null,30,tt),b(71,"div")(72,"button",26),_e("click",function(){ye(e);const r=We(70);return fe().open(r)}),Pe(73,"i",27),E()()(),b(74,"td")(75,"input",31),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.activite_partagee=r}),E()(),b(76,"td")(77,"input",32),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.suivi_corps_entier=r}),E()(),b(78,"td")(79,"input",33),_e("ngModelChange",function(r){return ye(e),fe().newAttribute.suivi_complementaire=r}),E()()()()(),Pe(80,"br"),b(81,"div",10)(82,"button",11),_e("click",function(){return ye(e),fe().addFieldValue()}),Pe(83,"i",12),E()()}if(2&t){const e=fe();he(34),Ce("ngForOf",e.travailleurs),he(3),Ce("ngModel",e.newAttribute.nom),he(2),Ce("ngModel",e.newAttribute.prenom),he(2),Ce("ngModel",e.newAttribute.date_de_naissance),he(2),Ce("ngModel",e.newAttribute.numero_secu),he(2),Ce("ngModel",e.newAttribute.fonction),he(2),Ce("ngModel",e.newAttribute.contrat),he(2),Ce("ngModel",e.newAttribute.date_embauche),he(26),Ce("ngModel",e.newAttribute.activite_partagee),he(2),Ce("ngModel",e.newAttribute.suivi_corps_entier),he(2),Ce("ngModel",e.newAttribute.suivi_complementaire)}}let iV=(()=>{class t{constructor(e,i,r,o,s){this.modalService=i,this.modal=r,this.http=o,this.DataService=s,this.closeResult="",this.ajout=!1,this.List=[{name:"Site",adresse:"",state:"disabled"},{name:"Hopital Nord",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""},{name:"Hopital Sud",adresse:"",state:""}],this.travailleurs=[],this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={},this.date=new Date,this.file_Formation_RPTE={},this.file_Formation_RPP={},this.file_Visite_Med={},this.file_Evaluation={},e.backdrop="static",e.keyboard=!1,this.selected={name:"Site",adresse:"",state:"disabled"}}ngOnInit(){}changeselect(e){this.selected=e.target.value}modetableau(){this.ajout=!0}addFieldValue(){this.newAttribute.formation_rpte=this.newfileRPTE,this.newAttribute.formation_rpp=this.newfileRPP,this.newAttribute.visite_medical=this.newfileVisite,this.newAttribute.eval_individuelle=this.newfileEval,this.travailleurs.push(this.newAttribute),this.newfileRPTE=[],this.newfileRPP=[],this.newfileVisite=[],this.newfileEval=[],this.newAttribute={},console.log(this.travailleurs)}deleteFieldValue(e){this.travailleurs.splice(e,1)}onFileSelectedFormationRPP(e){const r=e.target.files;console.log(r),this.file_Formation_RPP.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.newfileRPP.push(this.file_Formation_RPP),this.file_Formation_RPP={};var o=new FormData;o.append("file",r[0]),this.DataService.UploadData(o).subscribe(()=>{console.log(this.data)})}onFileSelectedFormationRPTE(e){const r=e.target.files;console.log(r),this.file_Formation_RPTE.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.newfileRPTE.push(this.file_Formation_RPTE),this.file_Formation_RPTE={}}onFileSelectedVisiteMed(e){const r=e.target.files;console.log(r),this.file_Visite_Med.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.newfileVisite.push(this.file_Visite_Med),this.file_Visite_Med={}}onFileSelectedEvaluation(e){const r=e.target.files;console.log(r),this.file_Evaluation.name=r[0].name,this.date=new Date(r[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.newfileEval.push(this.file_Evaluation),this.file_Evaluation={}}onFileSelectedOldFormationRPP(e,i){const o=e.target.files;console.log(o),this.file_Formation_RPP.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPP.date=this.date.toLocaleString(),this.travailleurs[i].formation_rpp.push(this.file_Formation_RPP),this.file_Formation_RPP={}}onFileSelectedOldFormationRPTE(e,i){const o=e.target.files;console.log(o),this.file_Formation_RPTE.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Formation_RPTE.date=this.date.toLocaleString(),this.travailleurs[i].formation_rpte.push(this.file_Formation_RPTE),this.file_Formation_RPTE={}}onFileSelectedOldVisite(e,i){const o=e.target.files;console.log(o),this.file_Visite_Med.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Visite_Med.date=this.date.toLocaleString(),this.travailleurs[i].visite_medical.push(this.file_Visite_Med),this.file_Visite_Med={}}onFileSelectedOldEval(e,i){const o=e.target.files;console.log(o),this.file_Evaluation.name=o[0].name,this.date=new Date(o[0].lastModified),this.file_Evaluation.date=this.date.toLocaleString(),this.travailleurs[i].eval_individuelle.push(this.file_Evaluation),this.file_Evaluation={}}open(e){this.modalService.open(e).result.then(i=>{this.closeResult=`Closed with: ${i}`,console.log(this.closeResult)},i=>{})}openSupprRPTENew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPTE.splice(i,1)},r=>{})}openSupprRPPNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileRPP.splice(i,1)},r=>{})}openSupprVisiteNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileVisite.splice(i,1)},r=>{})}openSupprEvalNew(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.newfileEval.splice(i,1)},r=>{})}openSupprRPTEOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPTE(i,r)},o=>{})}openSupprRPPOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileRPP(i,r)},o=>{})}openSupprVisiteOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileVisite(i,r)},o=>{})}openSupprEvalOld(e,i,r){this.modalService.open(e).result.then(o=>{this.closeResult=`Closed with: ${o}`,console.log(this.closeResult),this.deleteOldFileVisite(i,r)},o=>{})}openSupprTravailleur(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,console.log(this.closeResult),this.deleteFieldValue(i)},r=>{})}deleteFileRPTE(e){this.newfileRPTE.splice(e,1)}deleteFileRPP(e){this.newfileRPP.splice(e,1)}deleteFileVisite(e){this.newfileVisite.splice(e,1)}deleteFileEval(e){this.newfileEval.splice(e,1)}deleteOldFileRPP(e,i){this.travailleurs[e].formation_rpp.splice(i,1)}deleteOldFileRPTE(e,i){this.travailleurs[e].formation_rpte.splice(i,1)}deleteOldFileVisite(e,i){this.travailleurs[e].visite_medical.splice(i,1)}deleteOldFileEval(e,i){this.travailleurs[e].eval_individuelle.splice(i,1)}}return t.\u0275fac=function(e){return new(e||t)(be($i),be(Bi),be(vi),be(Qn),be(Wd))},t.\u0275cmp=Gt({type:t,selectors:[["app-gestion-travailleurs"]],features:[Xt([vi,Bi,$i])],decls:18,vars:8,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],["name","categorie","bindLabel","name","placeholder","Selectionner une categorie",3,"items","closeOnSelect","searchable","ngModel","ngModelChange"],[1,"row","mt-3"],[4,"ngIf","ngIfThen","ngIfElse"],["vide",""],["tableau",""],[1,"d-flex","justify-content-sm-center"],[1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-plus-circle"],[1,"table-responsive",2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],[1,"table","table-striped","table-hover"],[1,"table-success"],[1,"colonne"],["style","width:auto;overflow: scroll;overflow-y:auto;overflow-x:auto;",4,"ngFor","ngForOf"],["type","text","id","newAttributeNom","name","newAttributeNom",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributePrenom","name","newAttributePrenom",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeDateNaissance","name","newAttributeDateNaissance",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeNumeroSecu","name","newAttributeNumeroSecu",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeFonction","name","newAttributeFonction",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeContrat","name","newAttributeContrat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeDateEmbauche","name","newAttributeDateEmbauche",1,"form-control",3,"ngModel","ngModelChange"],["contentNewRPTE",""],[1,"btn","btn-lg","btn-outline-primary",3,"click"],[1,"bi","bi-file-earmark-person"],["contentNewRPP",""],["contentNewVisite",""],["contentNewEval",""],["type","text","id","newAttributeActivitePartage","name","newAttributeActivitePartage",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeSuiviCorpsEntier","name","newAttributeSuiviCorpsEntier",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","newAttributeSuiviComplementaire","name","newAttributeSuiviComplementaire",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","auto","overflow","scroll","overflow-y","auto","overflow-x","auto"],["type","text","disabled","","readonly","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"],["contentOldRPTE",""],[1,"btn","btn-lg","btn-outline-success",3,"click"],["contentOldRPP",""],["contentOldVisite",""],["contentOldEval",""],["contentSupprTravailleur",""],[1,"bi","bi-trash3-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","justify-content-sm-center"],[1,"btn","btn-lg","file-upload","btn-outline-success"],["type","file",1,"file-upload",2,"display","none",3,"change"],["contentSupprRPTEOld",""],["type","text","disabled","disabled",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["contentSupprRPPOld",""],["contentSupprVisiteOld",""],["contentSupprEvalOld",""],[1,"btn","btn-lg","file-upload","btn-outline-primary"],["contentSupprRPTENew",""],["contentSupprRPPNew",""],["contentSupprVisiteNew",""],["contentSupprEvalNew",""]],template:function(e,i){if(1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Travailleurs expos\xe9s"),E()(),b(5,"div",3)(6,"div",4)(7,"ng-select",5),_e("ngModelChange",function(o){return i.selected=o}),E(),b(8,"div",6)(9,"div",2)(10,"h3"),Y(11),E()()()()()()(),b(12,"div",0),Oe(13,N8,1,0,"div",7),Oe(14,x8,3,0,"ng-template",null,8,tt),Oe(16,nV,84,11,"ng-template",null,9,tt),E()),2&e){const r=We(15),o=We(17);he(7),Ce("items",i.List)("closeOnSelect",!0)("searchable",!1)("ngModel",i.selected),he(4),vt(i.selected.name),he(2),Ce("ngIf",0==i.ajout)("ngIfThen",r)("ngIfElse",o)}},directives:[Xd,Qi,Kr,ji,Ni,xi],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:300px}th[_ngcontent-%COMP%]{width:150px}"]}),t})(),rV=(()=>{class t{constructor(e,i,r){this.userService=e,this.fb=i,this.http=r,this.infosErrorMessage="",this.pswErrorMessage="",this.infosForm=new pr({firstName:new Cn("",oi.required),lastName:new Cn("",oi.required),mail:new Cn("",oi.required)}),this.pswForm=new pr({oldPsw:new Cn("",oi.required),newPsw:new Cn("",oi.required),confPsw:new Cn("",oi.required)})}ngOnInit(){this.infosForm.controls.firstName.setValue(this.userService.firstName),this.infosForm.controls.lastName.setValue(this.userService.lastName),this.infosForm.controls.mail.setValue(this.userService.mail)}infos(){console.log("Donn\xe9es du formulaire : ",this.infosForm.value),this.infosForm.invalid?this.infosErrorMessage="Erreur : Tous les champs sont requis.":this.userService.updatePersonalData(this.userService.id,this.infosForm.value.lastName,this.infosForm.value.firstName).subscribe(e=>{this.userService.firstName=this.infosForm.value.firstName,this.userService.lastName=this.infosForm.value.lastName})}password(){if(console.log("Donn\xe9es du formulaire : ",this.pswForm.value),this.pswForm.invalid)return void(this.pswErrorMessage="Erreur : Tous les champs sont requis.");const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.post(`/api/user/personalData/${this.userService.id}`,{oldPassword:this.pswForm.value.oldPsw},e).subscribe(r=>{Object.values(r)[0]?this.pswForm.value.newPsw==this.pswForm.value.confPsw?this.userService.updatePassword(this.userService.id,this.pswForm.value.newPsw).subscribe(o=>{this.pswErrorMessage=""}):this.pswErrorMessage="Erreur: Les mots de passe ne correspondent pas":this.pswErrorMessage="Erreur: L'ancient mot de passe est faux"})}}return t.\u0275fac=function(e){return new(e||t)(be(Xn),be(Ra),be(Qn))},t.\u0275cmp=Gt({type:t,selectors:[["app-profile"]],decls:48,vars:8,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"col-md-0"],[1,"border","border-light","p-5",3,"formGroup","ngSubmit"],[1,"form-group","row","mb-3"],[1,"col"],["for",""],["type","text","placeholder","Nom","formControlName","lastName",1,"form-control",3,"value"],["type","text","placeholder","Pr\xe9nom","formControlName","firstName",1,"form-control",3,"value"],[1,"form-group","row","mb-0"],["type","email","placeholder","Email","formControlName","mail",1,"form-control",3,"value"],[1,"mt-4","text-danger","font-weight-bold"],[1,"mt-4"],[1,"col-2"],["type","submit",1,"btn","btn-primary","d-block","w-100","w-25"],[1,"bi","bi-save"],[1,"form-group","row","mb-4"],["type","password","placeholder","Ancien mot de passe","formControlName","oldPsw",1,"form-control"],[1,"form-group","row","mb-1"],["type","password","placeholder","Nouveau mot de passe","formControlName","newPsw",1,"form-control"],["type","password","placeholder","Confirmation nouveau mot de passe","formControlName","confPsw",1,"form-control"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Param\xe8tres"),E()(),b(5,"div",1)(6,"div",3)(7,"form",4),_e("ngSubmit",function(){return i.infos()}),b(8,"div",5)(9,"div",6)(10,"label",7),Y(11,"Nom"),E(),Pe(12,"input",8),E(),b(13,"div",6)(14,"label",7),Y(15,"Pr\xe9nom"),E(),Pe(16,"input",9),E()(),b(17,"div",10)(18,"div",6)(19,"label",7),Y(20,"Email"),E(),Pe(21,"input",11),E()(),b(22,"div",12),Y(23),E(),b(24,"div",13)(25,"div",14)(26,"button",15),Pe(27,"i",16),Y(28," Sauvegarder "),E()()()(),Pe(29,"br"),b(30,"form",4),_e("ngSubmit",function(){return i.password()}),b(31,"div",17)(32,"label",7),Y(33,"Mot de passe"),E(),b(34,"div",6),Pe(35,"input",18),E()(),b(36,"div",19)(37,"div",6),Pe(38,"input",20),E(),b(39,"div",6),Pe(40,"input",21),E()(),b(41,"div",12),Y(42),E(),b(43,"div",13)(44,"div",14)(45,"button",15),Pe(46,"i",16),Y(47," Sauvegarder "),E()()()()()()()()),2&e&&(he(7),Ce("formGroup",i.infosForm),he(5),nt("value",i.userService.lastName),he(4),nt("value",i.userService.firstName),he(5),nt("value",i.userService.mail),sn("disabled",!0),he(2),Kt(" ",i.infosErrorMessage," "),he(7),Ce("formGroup",i.pswForm),he(12),Kt(" ",i.pswErrorMessage," "))},directives:[wo,bo,Zr,xi,Qi,Co],styles:[""]}),t})();function oV(t,n){if(1&t){const e=ze();b(0,"li")(1,"a",21)(2,"i",16),_e("click",function(){return ye(e),fe().change()}),E(),Y(3," Admin"),E()()}}let JT=(()=>{class t{constructor(e,i,r,o){this.authService=e,this.userinfo=i,this.router=r,this.userService=o,this.test=!1}start(){console.log("debut"),1==this.userService.admin&&(this.test=!0)}ngOnInit(){throw this.start(),new Error("Method not implemented.")}change(){null!=this.userinfo.mail&&(console.log(this.userinfo.mail),this.userService.mail=this.userinfo.mail)}logout(){this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=!1,this.authService.signOut(),this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(be(Od),be(Fa),be(kn),be(Xn))},t.\u0275cmp=Gt({type:t,selectors:[["app-admin"]],decls:34,vars:2,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/admin/home",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,"mr-4"],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/admin/accounts",1,"nav-link","px-2","text-light","link-secondary",3,"click"],["routerLink","/admin/structures",1,"nav-link","px-2","text-light",3,"click"],["routerLink","/admin/sites",1,"nav-link","px-2","text-light",3,"click"],[1,"dropdown","text-end"],["href","#","id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-block","text-light","text-decoration-none","dropdown-toggle"],[1,"mail"],[1,"icon"],[1,"bi","bi-person-circle"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small"],["routerLink","/app/settings",1,"dropdown-item"],[1,"bi","bi-gear",3,"click"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-left",3,"click"],["routerLink","/admin/home",1,"dropdown-item"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),_e("click",function(){return i.change()}),Y(8,"Gestion des comptes"),E()(),b(9,"li")(10,"a",7),_e("click",function(){return i.change()}),Y(11,"Gestion des structures"),E()(),b(12,"li")(13,"a",8),_e("click",function(){return i.change()}),Y(14,"Gestion des sites"),E()()(),b(15,"div",9)(16,"a",10)(17,"span",11),Y(18),E(),b(19,"span",12),Pe(20,"i",13),E()(),b(21,"ul",14)(22,"li")(23,"a",15)(24,"i",16),_e("click",function(){return i.change()}),E(),Y(25," Param\xe8tres"),E()(),Oe(26,oV,4,0,"li",17),b(27,"li"),Pe(28,"hr",18),E(),b(29,"li")(30,"a",19),_e("click",function(){return i.logout()}),b(31,"i",20),_e("click",function(){return i.change()}),E(),Y(32," D\xe9connexion"),E()()()()()()(),Pe(33,"router-outlet")),2&e&&(he(18),vt(i.userService.mail),he(8),Ce("ngIf",i.test))},directives:[Yr,ji,Ma],styles:["body[_ngcontent-%COMP%]{background-color:#5d5b5b;color:#000}header[_ngcontent-%COMP%]{background-color:#21504b}.icon[_ngcontent-%COMP%]{font-size:larger}.mail[_ngcontent-%COMP%]{margin-right:5%}"]}),t})(),sV=(()=>{class t{constructor(e){this.userService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(be(Xn))},t.\u0275cmp=Gt({type:t,selectors:[["app-admin-home"]],decls:30,vars:1,consts:[[1,"container"],[1,"row","mb-5"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","d-flex","justify-content-center"],[1,"col-md-3"],["routerLink","/admin/accounts",1,"text-decoration-none","text-dark"],[1,"card","mb-5"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"bi","bi-person"],[1,"card-title","text-center"],["routerLink","/admin/structures",1,"text-decoration-none","text-dark"],[1,"bi","bi-building"],["routerLink","/admin/sites",1,"text-decoration-none","text-dark"],[1,"bi","bi-diagram-3"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4),E()()(),b(5,"div",3)(6,"div",4)(7,"a",5)(8,"div",6)(9,"div",7)(10,"h3"),Pe(11,"i",8),E(),b(12,"h5",9),Y(13,"Gestion des comptes"),E()()()()(),b(14,"div",4)(15,"a",10)(16,"div",6)(17,"div",7)(18,"h3"),Pe(19,"i",11),E(),b(20,"h5",9),Y(21,"Gestion des structures"),E()()()()(),b(22,"div",4)(23,"a",12)(24,"div",6)(25,"div",7)(26,"h3"),Pe(27,"i",13),E(),b(28,"h5",9),Y(29,"Gestion des sites"),E()()()()()()()),2&e&&(he(4),Kt("Bienvenue ",i.userService.firstName,""))},directives:[Yr],styles:[""]}),t})();const aV=w(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function bi(t,n){const{first:e,each:i,with:r=lV,scheduler:o=(null!=n?n:du),meta:s=null}=bE(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==e&&null==i)throw new TypeError("No timeout provided.");return le((a,d)=>{let T,R,ee=null,se=0;const me=Te=>{R=dn(d,o,()=>{try{T.unsubscribe(),Ke(r({meta:s,lastValue:ee,seen:se})).subscribe(d)}catch(Ae){d.error(Ae)}},Te)};T=a.subscribe(N(d,Te=>{null==R||R.unsubscribe(),se++,d.next(ee=Te),i>0&&me(i)},void 0,void 0,()=>{(null==R?void 0:R.closed)||null==R||R.unsubscribe(),ee=null})),!se&&me(null!=e?"number"==typeof e?e:+e-o.now():i)})}function lV(t){throw new aV(t)}function uV(t,n){if(1&t&&(b(0,"option",26),Y(1),E()),2&t){const e=n.$implicit;Ce("value",e.name),he(1),vt(e.name)}}function cV(t,n){if(1&t&&(b(0,"option",26),Y(1),E()),2&t){const e=n.$implicit;Ce("value",e.name),he(1),vt(e.name)}}function dV(t,n){if(1&t){const e=ze();b(0,"div",35)(1,"h4",36),Y(2,"Supprimer un utilisateur"),E(),b(3,"button",37),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",38)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer l'utilisateur : "),b(8,"span",39),Y(9),E()()(),b(10,"p")(11,"span",40),Y(12,"La suppression est d\xe9finitive."),E()()(),b(13,"div",41)(14,"button",42),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(15,"Non"),E(),b(16,"button",43),_e("click",function(){return ye(e).close("OK click")}),Y(17,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),Xf("",e.last_name,", ",e.first_name,", ",e.mail,"")}}function pV(t,n){if(1&t){const e=ze();b(0,"div",35)(1,"h4",36),Y(2,"generation de mot de passe"),E(),b(3,"button",37),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"form",44)(5,"div",38),Pe(6,"input",45),E()(),b(7,"div",41)(8,"button",43),_e("click",function(){ye(e);const r=fe().index;return fe().Change(r)}),Y(9,"Regenerer un mot de passe"),E()()}if(2&t){const e=fe(2);he(4),Ce("formGroup",e.changeForm)}}function fV(t,n){if(1&t){const e=ze();b(0,"tr")(1,"td")(2,"input",27),_e("ngModelChange",function(r){return ye(e).$implicit.last_name=r}),E()(),b(3,"td")(4,"input",27),_e("ngModelChange",function(r){return ye(e).$implicit.first_name=r}),E()(),b(5,"td")(6,"input",27),_e("ngModelChange",function(r){return ye(e).$implicit.mail=r}),E()(),b(7,"td")(8,"input",27),_e("ngModelChange",function(r){return ye(e).$implicit.structure=r}),E()(),b(9,"td")(10,"input",27),_e("ngModelChange",function(r){return ye(e).$implicit.site=r}),E()(),b(11,"td")(12,"button",28),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(16);return fe().getAccessUser(a,o,s.id)}),Pe(13,"i",29),E()(),b(14,"td"),Oe(15,dV,18,3,"ng-template",null,30,tt),b(17,"button",31),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(16);return fe().openSupprUser(a,o,s.id)}),Pe(18,"i",32),E()(),b(19,"td"),Oe(20,pV,10,1,"ng-template",null,33,tt),b(22,"button",31),_e("click",function(){const o=ye(e).index,s=We(21);return fe().changePassword(s,o)}),Pe(23,"i",32),Y(24,">"),Pe(25,"i",34),E()()()}if(2&t){const e=n.$implicit;he(2),nt("name",e.last_name),Ce("ngModel",e.last_name),he(2),nt("name",e.first_name),Ce("ngModel",e.first_name),he(2),nt("name",e.mail),Ce("ngModel",e.mail),he(2),nt("name",e.structure),Ce("ngModel",e.structure),he(2),nt("name",e.site),Ce("ngModel",e.site)}}c(377);let hV=(()=>{class t{constructor(e,i,r,o,s,a,d,T,R,ee,se){this.userService=e,this.userinfo=i,this.router=r,this.authService=o,this.configNG=s,this.adminService=a,this.fb=d,this.config=T,this.modalService=R,this.modal=ee,this.http=se,this.userForm=new pr({firstName:new Cn("",oi.required),lastName:new Cn("",oi.required),mail:new Cn("",oi.required),structure:new Cn("",oi.required),site:new Cn("",oi.required)}),this.changeForm=new pr({password:new Cn("",oi.required)}),this.formMessage="",this.structuresTab=[{name:"test",id:1}],this.closeResult="",this.usersTab=[{id:this.userService.id,first_name:this.userService.firstName,last_name:this.userService.lastName,mail:this.userService.mail,structure:"test",site:"site",structure_id:1,clientid:1}]}get(){}ngOnInit(){this.getUsers(),this.getStructures()}newUser(){if(this.userForm.invalid)return void(this.formMessage="Tous les champs sont requis.");this.formMessage="",this.usersTab.push({id:this.userService.id,first_name:this.userForm.value.firstName,last_name:this.userForm.value.lastName,mail:this.userForm.value.mail,structure:this.userForm.value.structure,site:this.userForm.value.mail,structure_id:this.structureSel.id,clientid:1}),this.adminService.addUser(this.userService.id,this.userForm.value.lastName,this.userForm.value.firstName,this.userForm.value.mail,this.userForm.value.password,this.structureSel.id).subscribe();const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.userForm.value.site),this.http.post("http://localhost:8000/api/user",{mail:this.userForm.value.mail,name:this.userForm.value.firstName,lastname:this.userForm.value.lastName,structure:this.userForm.value.structure,site:this.userForm.value.site},e).subscribe(i=>{this.getUsers()})}structureSelect(e){this.structureSel=this.structuresTab.find(i=>i.name==e.target.value)}openSupprUser(e,i,r){this.modalService.open(e).result.then(o=>{const s={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("http://localhost:8000/api/user/"+this.usersTab[i].mail,s).pipe(bi(3e3)).subscribe(a=>{this.deleteall(i),this.getUsers()}),this.closeResult=`Closed with: ${o}`,this.deleteFieldValue(i),console.log(this.userService.id+" "+r),this.adminService.delUser(this.userService.id,r).subscribe(a=>console.log(a)),this.getUsers()},o=>{})}deleteall(e){this.deletefiles(e),this.deleteverif(e),this.deleteworkers(e),this.deleteequipment(e)}deletefiles(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("http://localhost:8000/api/uploads/files/user/"+this.usersTab[e].clientid,i).pipe(bi(3e3)).subscribe(r=>{console.log("files deleted")})}deleteverif(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("http://localhost:8000/api/verifications/user/"+this.usersTab[e].clientid,i).pipe(bi(3e3)).subscribe(r=>{this.getStructures()})}deleteworkers(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("http://localhost:8000/api/workers/user/"+this.usersTab[e].clientid,i).pipe(bi(3e3)).subscribe(r=>{this.getStructures()})}deleteequipment(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.delete("http://localhost:8000/api/equipments/user/"+this.usersTab[e].clientid,i).pipe(bi(3e3)).subscribe(r=>{this.getStructures()})}Change(e){var i;const r=Math.random().toString(36).slice(-8);null===(i=this.changeForm.get("password"))||void 0===i||i.setValue(r);const o={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.put("http://localhost:8000/api/user/"+this.usersTab[e].clientid,{password:r},o).pipe(bi(3e3)).subscribe(s=>{})}changePassword(e,i){this.modalService.open(e).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.getUsers()},r=>{})}getAccessUser(e,i,r){console.log(this.userService.mail),this.userinfo.mail=this.userService.mail,this.userinfo.admin=this.userService.admin,console.log(this.userinfo.mail),this.userService.id=i,this.userService.firstName=this.usersTab[i].first_name,this.userService.lastName=this.usersTab[i].last_name,this.userService.mail=this.usersTab[i].mail,this.router.navigate(["/admin/acces"])}deleteFieldValue(e){console.log(this.usersTab[e].mail)}getStructures(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[];for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:r[o].id})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),console.log(this.structuresTab)})}getUsers(){this.usersTab=[];const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/user",e).subscribe(i=>{const r=Object.values(i);for(let o=0;o<r.length;o++)console.log(r[o].structure),this.usersTab.push({id:r[o]._id,first_name:r[o].firstName,last_name:r[o].lastName,mail:r[o].email,structure_id:1,clientid:r[o]._id,structure:r[o].structure,site:r[o].site})}),this.adminService.getUsers().subscribe(i=>{this.usersTab=[],i.forEach(r=>this.usersTab.push(r)),console.log(this.usersTab)}),this.get()}getStructureName(e){if(null!=this.structuresTab.find(i=>i.id==e)){const i=this.structuresTab.findIndex(r=>r.id==e);return this.structuresTab[i]}return{name:"Error",id:-1}}}return t.\u0275fac=function(e){return new(e||t)(be(Xn),be(Fa),be(kn),be(Od),be(Qd),be(zd),be(Ra),be($i),be(Bi),be(vi),be(Qn))},t.\u0275cmp=Gt({type:t,selectors:[["app-admin-accounts"]],decls:62,vars:5,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","m-4"],[1,"",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],[1,"col-2"],["for",""],["type","text","placeholder","Nom","formControlName","lastName",1,"form-control"],["type","text","placeholder","Pr\xe9nom","formControlName","firstName",1,"form-control"],["type","email","placeholder","Email","formControlName","mail",1,"form-control"],[1,"col-3"],["formControlName","structure",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","site",1,"form-select",3,"change"],[1,"col-1"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],[4,"ngFor","ngForOf"],[3,"value"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","button","id","eyebutton",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-eye"],["contentSupprUser",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],["contentRenamePassword",""],[1,"bi","bi-pencil"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"",3,"formGroup"],["type","text","name","test","formControlName","password",1,"form-control"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Gestion des comptes"),E()()(),b(5,"div",3)(6,"form",4),_e("ngSubmit",function(){return i.newUser()}),b(7,"div",5)(8,"div",6)(9,"label",7),Y(10,"Nom"),E(),Pe(11,"input",8),E(),b(12,"div",6)(13,"label",7),Y(14,"Pr\xe9nom"),E(),Pe(15,"input",9),E(),b(16,"div",6)(17,"label",7),Y(18,"Email"),E(),Pe(19,"input",10),E(),b(20,"div",11)(21,"label",7),Y(22,"Structure"),E(),b(23,"select",12),_e("change",function(o){return i.structureSelect(o)}),b(24,"option",13),Y(25,"Structure"),E(),Oe(26,uV,2,2,"option",14),E()(),b(27,"div",11)(28,"label",7),Y(29,"Site"),E(),b(30,"select",15),_e("change",function(o){return i.structureSelect(o)}),b(31,"option",13),Y(32,"Site"),E(),Oe(33,cV,2,2,"option",14),E()(),b(34,"div",16)(35,"button",17),Pe(36,"i",18),E()()()(),b(37,"div",19),Y(38),E()(),b(39,"div",20)(40,"div",21)(41,"table",22)(42,"thead",23)(43,"tr")(44,"th",24),Y(45,"Nom"),E(),b(46,"th",24),Y(47,"Pr\xe9nom"),E(),b(48,"th",24),Y(49,"Mail"),E(),b(50,"th",24),Y(51,"Structure"),E(),b(52,"th",24),Y(53,"Site"),E(),b(54,"th",24),Y(55,"Acces"),E(),b(56,"th",24),Y(57,"Action"),E(),b(58,"th",24),Y(59,"Passwordmodif"),E()()(),b(60,"tbody"),Oe(61,fV,26,10,"tr",25),E()()()()()),2&e&&(he(6),Ce("formGroup",i.userForm),he(20),Ce("ngForOf",i.structuresTab),he(7),Ce("ngForOf",i.structuresTab),he(5),Kt(" ",i.formMessage," "),he(23),Ce("ngForOf",i.usersTab))},directives:[wo,bo,Zr,xi,Qi,Co,Sd,bs,ws,Ni,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}#eyebutton[_ngcontent-%COMP%]{size:2500000px}"]}),t})();function _V(t,n){if(1&t){const e=ze();b(0,"div",24)(1,"h4",25),Y(2,"Supprimer une structure"),E(),b(3,"button",26),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",27)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer la structure : "),b(8,"span",28),Y(9),E()()(),b(10,"p")(11,"span",29),Y(12," La suppression d'une structure entraine la suppression de "),b(13,"span",30),Y(14,"tous les sites et de tous les documents associ\xe9s"),E(),Pe(15,"br")(16,"br"),Y(17," La suppression est d\xe9finitive."),E()()(),b(18,"div",31)(19,"button",32),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(20,"Non"),E(),b(21,"button",33),_e("click",function(){return ye(e).close("Ok click")}),Y(22,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function mV(t,n){if(1&t){const e=ze();b(0,"div",24)(1,"h4",25),Y(2,"Renommer la structure"),E(),b(3,"button",26),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",27)(5,"input",34),_e("ngModelChange",function(r){return ye(e),fe().$implicit.name=r}),E()(),b(6,"div",31)(7,"button",33),_e("click",function(){return ye(e).close("Ok click")}),Y(8,"Renommer"),E()()}if(2&t){const e=fe().$implicit;he(5),nt("name",e.name),Ce("ngModel",e.name)}}function gV(t,n){if(1&t){const e=ze();b(0,"tr")(1,"td")(2,"input",18),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td"),Oe(4,_V,23,1,"ng-template",null,19,tt),Oe(6,mV,9,2,"ng-template",null,20,tt),b(8,"button",21),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(5);return fe().openSupprStructure(a,o,s.id)}),Pe(9,"i",22),E(),b(10,"button",21),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(7);return fe().openRenameStructure(a,o,s.id,s.name)}),Pe(11,"i",23),E()()()}if(2&t){const e=n.$implicit;he(2),nt("name",e.name),Ce("ngModel",e.name)}}let yV=(()=>{class t{constructor(e,i,r,o,s,a,d){this.userService=e,this.adminService=i,this.fb=r,this.config=o,this.modalService=s,this.modal=a,this.http=d,this.structureForm=new pr({name:new Cn("",oi.required)}),this.formMessage="",this.UserTab=[{clientid:this.userService.id}],this.structuresTab=[{name:"initialiser avec la premiere structure",id:1}],this.closeResult=""}ngOnInit(){this.getStructures()}newStructure(){if(this.structureForm.invalid)return void(this.formMessage="Tous les champs sont requis.");this.formMessage="";const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structureForm.value.name),this.http.post("http://localhost:8000/api/structure",{entry:this.structureForm.value.name},e).pipe(bi(3e3)).subscribe(i=>{}),this.structuresTab.push({name:this.structureForm.value.name,id:100}),this.structureForm.value.name="",this.formMessage=""}openSupprStructure(e,i,r){this.modalService.open(e,{size:"lg"}).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.adminService.delStructure(this.userService.id,r).subscribe(),this.deleteFieldValue(i),this.getStructures()},o=>{})}openRenameStructure(e,i,r,o){this.modalService.open(e,{size:"lg"}).result.then(s=>{this.closeResult=`Closed with: ${s}`;const a={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structuresTab[i].name),this.http.put("http://localhost:8000/api/structure/"+o,{givenname:this.structuresTab[i].name},a).pipe(bi(3e3)).subscribe(d=>{}),this.getStructures()},s=>{this.structuresTab[i].name=o})}deleteFieldValue(e){this.getUsers(this.structuresTab[e].name);const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structureForm.value.name),this.http.delete("http://localhost:8000/api/structure/"+this.structuresTab[e].name,i).pipe(bi(3e3)).subscribe(r=>{}),this.http.delete("http://localhost:8000/api/site/structure/"+this.structuresTab[e].name,i).subscribe(r=>{}),this.http.delete("http://localhost:8000/api/user/structure/"+this.structuresTab[e].name,i).subscribe(r=>{console.log("test\xe7amarche ?")}),this.structuresTab.splice(e,1),console.log("ici")}getStructures(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[];for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:r[o].id})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),console.log(this.structuresTab)})}getUsers(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/user/structure/"+e,i).subscribe(r=>{const o=Object.values(r);this.UserTab=[];for(let s=0;s<o.length;s++)this.UserTab.push({clientid:o[s]._id});for(let s=0;s<this.UserTab.length;s++)this.deleteall(this.UserTab[s].clientid,i)})}deleteall(e,i){console.log(e),this.deletefiles(e,i),this.deleteverif(e,i),this.deleteworkers(e,i),this.deleteequipment(e,i)}deletefiles(e,i){this.http.delete("http://localhost:8000/api/uploads/files/user/"+e,i).pipe(bi(3e3)).subscribe(r=>{console.log("files deleted")})}deleteverif(e,i){this.http.delete("http://localhost:8000/api/verifications/user/"+e,i).pipe(bi(3e3)).subscribe(r=>{})}deleteworkers(e,i){this.http.delete("http://localhost:8000/api/workers/user/"+e,i).pipe(bi(3e3)).subscribe(r=>{})}deleteequipment(e,i){this.http.delete("http://localhost:8000/api/equipments/user/"+e,i).pipe(bi(3e3)).subscribe(r=>{})}}return t.\u0275fac=function(e){return new(e||t)(be(Xn),be(zd),be(Ra),be($i),be(Bi),be(vi),be(Qn))},t.\u0275cmp=Gt({type:t,selectors:[["app-admin-structures"]],decls:29,vars:3,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","m-4"],[1,"col"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],["for",""],["type","text","placeholder","Nom","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],[4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprStructure",""],["contentRenameStructure",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-pencil-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"fw-bold"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Gestion des structures"),E()()(),b(5,"div",3)(6,"div",4)(7,"form",5),_e("ngSubmit",function(){return i.newStructure()}),b(8,"div",6)(9,"div",4)(10,"label",7),Y(11,"Ajouter une structure"),E(),Pe(12,"input",8),E(),b(13,"div",4)(14,"button",9),Pe(15,"i",10),E()()()(),b(16,"div",11),Y(17),E()()(),b(18,"div",12)(19,"div",13)(20,"table",14)(21,"thead",15)(22,"tr")(23,"th",16),Y(24,"Structure"),E(),b(25,"th",16),Y(26,"Action"),E()()(),b(27,"tbody"),Oe(28,gV,12,2,"tr",17),E()()()()()),2&e&&(he(7),Ce("formGroup",i.structureForm),he(10),Kt(" ",i.formMessage," "),he(11),Ce("ngForOf",i.structuresTab))},directives:[wo,bo,Zr,xi,Qi,Co,Ni,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}"]}),t})();function vV(t,n){if(1&t&&(b(0,"option"),Y(1),E()),2&t){const e=n.$implicit;he(1),vt(e.name)}}function bV(t,n){if(1&t){const e=ze();b(0,"div",27)(1,"h4",28),Y(2,"Supprimer une structure"),E(),b(3,"button",29),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",30)(5,"p")(6,"strong"),Y(7,"Etes-vous s\xfbr de vouloir supprimer le site : "),b(8,"span",31),Y(9),E()(),Y(10," ?"),E(),b(11,"p")(12,"span",32),Y(13," La suppression d'un site entraine la suppression de "),b(14,"span",33),Y(15,"tous les documents associ\xe9s !"),E(),Pe(16,"br")(17,"br"),Y(18," La suppression est d\xe9finitive."),E()()(),b(19,"div",34)(20,"button",35),_e("click",function(){return ye(e).dismiss("cancel click")}),Y(21,"Non"),E(),b(22,"button",36),_e("click",function(){return ye(e).close("Ok click")}),Y(23,"Oui"),E()()}if(2&t){const e=fe().$implicit;he(9),vt(e.name)}}function wV(t,n){if(1&t){const e=ze();b(0,"div",27)(1,"h4",28),Y(2,"Renommer le site"),E(),b(3,"button",29),_e("click",function(){return ye(e).dismiss("Cross click")}),E()(),b(4,"div",30)(5,"input",37),_e("ngModelChange",function(r){return ye(e),fe().$implicit.name=r}),E()(),b(6,"div",34)(7,"button",36),_e("click",function(){return ye(e).close("Ok click")}),Y(8,"Renommer"),E()()}if(2&t){const e=fe().$implicit;he(5),nt("name",e.name),Ce("ngModel",e.name)}}function CV(t,n){if(1&t){const e=ze();b(0,"tr")(1,"td")(2,"input",21),_e("ngModelChange",function(r){return ye(e).$implicit.name=r}),E()(),b(3,"td"),Oe(4,bV,24,1,"ng-template",null,22,tt),Oe(6,wV,9,2,"ng-template",null,23,tt),b(8,"button",24),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(5);return fe().openSupprSite(a,o,s.id)}),Pe(9,"i",25),E(),b(10,"button",24),_e("click",function(){const r=ye(e),o=r.index,s=r.$implicit,a=We(7);return fe().openRenameSite(a,o,s.id,s.name)}),Pe(11,"i",26),E()()()}if(2&t){const e=n.$implicit;he(2),nt("name",e.name),Ce("ngModel",e.name)}}let EV=(()=>{class t{constructor(e,i,r,o,s,a,d){this.userService=e,this.adminService=i,this.fb=r,this.config=o,this.modalService=s,this.modal=a,this.http=d,this.actual="",this.structuresTab=[{name:"structure par defaut",id:1}],this.siteForm=new pr({name:new Cn("",oi.required)}),this.formMessage="",this.sitesTab=[{name:"site par defaut",id:1}],this.closeResult=""}ngOnInit(){this.structureSel={name:"Loading...",id:0},this.getStructures(),this.structuresTab.push({name:"test",id:1})}newSite(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.post("http://localhost:8000/api/site",{entry:this.siteForm.value.name,info:this.actual},e).pipe(bi(3e3)).subscribe(i=>{}),this.siteForm.invalid?this.formMessage="Tous les champs sont requis.":(this.sitesTab.push({name:this.siteForm.value.name,id:this.structureSel.id}),this.getSites(),this.siteForm.controls.name.setValue(""),console.log("testings"),console.log(this.structureSel.value.name),this.formMessage="")}openSupprSite(e,i,r){this.modalService.open(e,{size:"lg"}).result.then(o=>{this.closeResult=`Closed with: ${o}`,this.deleteFieldValue(i),this.adminService.delSite(this.userService.id,r).subscribe(),this.getSites()},o=>{})}openRenameSite(e,i,r,o){this.modalService.open(e,{size:"lg"}).result.then(s=>{this.closeResult=`Closed with: ${s}`,console.log(this.sitesTab[i].name),console.log(o);const a={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.structuresTab[i].name),this.http.put("http://localhost:8000/api/site/"+o,{givenname:this.sitesTab[i].name},a).pipe(bi(3e3)).subscribe(d=>{}),this.adminService.updateSite(this.userService.id,r,this.sitesTab[i].name).subscribe(d=>console.log(d)),this.getSites()},s=>{this.sitesTab[i].name=o})}deleteFieldValue(e){const i={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};console.log(this.sitesTab[e].name),this.http.delete("http://localhost:8000/api/site/"+this.sitesTab[e].name,i).pipe(bi(3e3)).subscribe(r=>{}),this.sitesTab.splice(e,1)}getStructures(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/structure",e).subscribe(i=>{const r=Object.values(i);this.structuresTab=[],this.actual=r[0].name,console.log(this.actual);for(let o=0;o<r.length;o++)this.structuresTab.push({name:r[o].name,id:1})}),this.adminService.getStructures().subscribe(i=>{this.structuresTab=[],i.forEach(r=>this.structuresTab.push(r)),this.structureSel=this.structuresTab[0],this.getSites(),console.log(this.structuresTab)})}getSites(){const e={headers:new ot({"Content-Type":"application/json","x-auth-token":`${localStorage.getItem("ACCESS_TOKEN")}`})};this.http.get("http://localhost:8000/api/site/"+this.actual,e).subscribe(i=>{const r=Object.values(i);this.sitesTab=[],console.log(r.length);for(let o=0;o<r.length;o++)this.sitesTab.push({name:r[o].name,id:1})}),this.adminService.getSiteByStructureId(this.structureSel.id).subscribe(i=>{this.sitesTab=[],i.forEach(r=>this.sitesTab.push(r)),console.log(this.sitesTab)})}changeselect(e){var i;this.structureSel=this.structuresTab.find(r=>r.name==e.target.value),this.actual=null===(i=this.structuresTab.find(r=>r.name==e.target.value))||void 0===i?void 0:i.name,console.log(this.actual),this.getSites()}}return t.\u0275fac=function(e){return new(e||t)(be(Xn),be(zd),be(Ra),be($i),be(Bi),be(vi),be(Qn))},t.\u0275cmp=Gt({type:t,selectors:[["app-admin-sites"]],decls:33,vars:4,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-md-8","col-xl-6","text-center","mx-auto"],[1,"row","mb-2"],[1,"col-md-0"],[1,"form-select",3,"change"],[4,"ngFor","ngForOf"],[1,"row","m-4"],[1,"col"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-end"],["for",""],["type","text","placeholder","Nom","formControlName","name",1,"form-control"],["type","submit",1,"btn","btn-primary","d-block"],[1,"bi","bi-plus-square"],[1,"m-3","text-danger","font-weight-light"],[1,"row","mb-5"],[1,"col-md","col-xl-0","text-center","mx-auto"],[1,"table","table-striped","table-bordered"],[1,"table-success"],[1,"colonne"],["type","text","disabled","",1,"form-control",3,"ngModel","name","ngModelChange"],["contentSupprSite",""],["contentRenameSite",""],["type","button",1,"btn","btn-default","btn-outline-success",3,"click"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-pencil-fill"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-primary"],[1,"text-danger"],[1,"fw-bold"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),Y(4,"Gestion des sites"),E()()(),b(5,"div",3)(6,"div",4)(7,"select",5),_e("change",function(o){return i.changeselect(o)}),Oe(8,vV,2,1,"option",6),E()()(),b(9,"div",7)(10,"div",8)(11,"form",9),_e("ngSubmit",function(){return i.newSite()}),b(12,"div",10)(13,"div",8)(14,"label",11),Y(15,"Ajouter un site"),E(),Pe(16,"input",12),E(),b(17,"div",8)(18,"button",13),Pe(19,"i",14),E()()()(),b(20,"div",15),Y(21),E()()(),b(22,"div",16)(23,"div",17)(24,"table",18)(25,"thead",19)(26,"tr")(27,"th",20),Y(28,"Site"),E(),b(29,"th",20),Y(30,"Action"),E()()(),b(31,"tbody"),Oe(32,CV,12,2,"tr",6),E()()()()()),2&e&&(he(8),Ce("ngForOf",i.structuresTab),he(3),Ce("formGroup",i.siteForm),he(10),Kt(" ",i.formMessage," "),he(11),Ce("ngForOf",i.sitesTab))},directives:[Ni,bs,ws,wo,bo,Zr,xi,Qi,Co,Kr],styles:[".form-horizontal[_ngcontent-%COMP%]{display:block;width:50%;margin:0 auto}"]}),t})(),TV=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-public"]],decls:16,vars:0,consts:[[1,"p-3","mb-3","border-bottom"],[1,"container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center","justify-content-lg-start"],["routerLink","/",1,"d-flex","align-items-center","mb-2","mb-lg-0","text-dark","text-decoration-none"],["src","/assets/izi-rp-logo-w.png","alt","Logo","height","32",1,""],[1,"nav","col-12","col-lg-auto","me-lg-auto","mb-2","justify-content-center","mb-md-0"],["routerLink","/",1,"nav-link","px-2","link-light"],["routerLink","/notre-offre",1,"nav-link","px-2","link-light"],["routerLink","/contact",1,"nav-link","px-2","link-light"]],template:function(e,i){1&e&&(b(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Pe(4,"img",4),E(),b(5,"ul",5)(6,"li")(7,"a",6),Y(8,"Connexion"),E()(),b(9,"li")(10,"a",7),Y(11,"Notre offre"),E()(),b(12,"li")(13,"a",8),Y(14,"Contact"),E()()()()()(),Pe(15,"router-outlet"))},directives:[Yr,Ma],styles:["header[_ngcontent-%COMP%]{background-color:#21504b}.valid[_ngcontent-%COMP%]{color:#55ff4f;margin-left:100}.invalid[_ngcontent-%COMP%]{color:#f32525}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.colonne[_ngcontent-%COMP%]{width:100px}"]}),t})(),QT=(()=>{class t{constructor(e,i){this.router=e,this.userService=i}canActivate(e,i){return e.routeConfig.component=this.userService.isConnected?this.userService.admin?JT:gE:TV,!0}}return t.\u0275fac=function(e){return new(e||t)(Je(kn),Je(Xn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SV=[{path:"",component:QT,canActivate:[QT],children:[{path:"",component:XF},{path:"contact",component:tj},{path:"conditions-utilisations",component:ij},{path:"mentions-legales",component:nj},{path:"notre-offre",component:aj},{path:"change-password",component:JF},{path:"forgot-password-ok",component:q3}]},{path:"app",component:gE,children:[{path:"home",component:rm},{path:"acces",component:rm},{path:"missions-rp",component:ZB},{path:"verifications-rp",component:WL},{path:"materiels",component:XL},{path:"settings",component:rV},{path:"travailleurs-exposes",component:O8},{path:"travailleurs-exposes-2",component:iV}]},{path:"admin",component:JT,canActivate:[(()=>{class t{constructor(e,i){this.router=e,this.userService=i}canActivate(e,i){return!!this.userService.isConnected||(console.log("You don't have permission to access this route"),this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(Je(kn),Je(Xn))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],children:[{path:"home",component:sV},{path:"accounts",component:hV},{path:"structures",component:yV},{path:"sites",component:EV},{path:"acces",component:rm}]},{path:"**",pathMatch:"full",component:JB}];let DV=(()=>{class t{constructor(e){this.userService=e}}return t.\u0275fac=function(e){return new(e||t)(Je(Xn))},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[Pa.forRoot(SV)],Pa]}),t})(),OV=(()=>{class t{constructor(e,i){if(this.router=e,this.userService=i,this.isConnected=!1,this.isAdmnistrator=!1,localStorage.getItem("ACCESS_TOKEN")){const o=JSON.parse(localStorage.getItem("ADMIN")),s=localStorage.getItem("EMAIL"),a=localStorage.getItem("FIRSTNAME"),d=localStorage.getItem("LASTNAME"),T=localStorage.getItem("ID");null!==o&&s&&a&&d&&T&&(this.userService.firstName=a,this.userService.lastName=d,this.userService.mail=s,this.userService.admin=o,this.userService.id=T,this.userService.isConnected=!0,this.isAdmnistrator=o,this.isConnected=!0)}else this.isConnected=!1,this.isAdmnistrator=!1,this.userService.firstName=null,this.userService.lastName=null,this.userService.mail=null,this.userService.admin=null,this.userService.id=null,this.userService.isConnected=null;this.router.navigate(this.isConnected?this.isAdmnistrator?["/admin/home"]:["/app/home"]:["/"])}title(e){throw new Error("Method not implemented.")}ngOnInit(){}onBeforeUnload(e){localStorage.removeItem("EMAIL"),localStorage.removeItem("FIRSTNAME"),localStorage.removeItem("LASTNAME"),localStorage.removeItem("ADMIN"),localStorage.removeItem("ID")}}return t.\u0275fac=function(e){return new(e||t)(be(kn),be(Xn))},t.\u0275cmp=Gt({type:t,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&_e("beforeunload",function(o){return i.onBeforeUnload(o)},!1,by)},decls:17,vars:0,consts:[[1,"mt-auto"],[1,"nav","d-flex","justify-content-around","border-bottom","pb-2","mb-4","mt-2"],[1,"nav-item"],["routerLink","/contact",1,"nav-link","px-3","text-light"],["routerLink","/conditions-utilisations",1,"nav-link","px-3","text-light"],["routerLink","/mentions-legales",1,"nav-link","px-3","text-light","ms-8"],["routerLink","/notre-offre",1,"nav-link","px-3","text-light"],[1,"text-center","text-light"]],template:function(e,i){1&e&&(Pe(0,"router-outlet"),b(1,"footer",0)(2,"ul",1)(3,"li",2)(4,"a",3),Y(5,"Contact"),E()(),b(6,"li",2)(7,"a",4),Y(8,"Conditions G\xe9n\xe9rales d'utilisation"),E()(),b(9,"li",2)(10,"a",5),Y(11,"Mentions l\xe9gales"),E()(),b(12,"li",2)(13,"a",6),Y(14,"Notre offre"),E()()(),b(15,"p",7),Y(16,"\xa9 2022 IziRp"),E()())},directives:[Ma,Yr],styles:["*[_ngcontent-%COMP%]{font-family:Helvetica;background-color:#21504b;color:#000}.nav-link[_ngcontent-%COMP%]:hover{color:#6c757d!important}"]}),t})(),NV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li,Pa,lu]]}),t})(),xV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({imports:[[li,Pa,LT,lu,Z_,mE,Rm]]}),t})(),AV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Ut({providers:[vi],imports:[[li,Pa,Z_,lu,Rm]]}),t})(),MV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t,bootstrap:[OV]}),t.\u0275inj=Ut({providers:[],imports:[[_k,DV,Pa,NV,xV,AV,mE,lu,LT,Rm]]}),t})();(function iI(){tb=!1})(),fk().bootstrapModule(MV).catch(t=>console.error(t))},377:function(module){var q;"undefined"!=typeof self&&self,q=function(){return function(ae){var q={};function c(p){if(q[p])return q[p].exports;var w=q[p]={i:p,l:!1,exports:{}};return ae[p].call(w.exports,w,w.exports,c),w.l=!0,w.exports}return c.m=ae,c.c=q,c.d=function(p,w,x){c.o(p,w)||Object.defineProperty(p,w,{enumerable:!0,get:x})},c.r=function(p){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},c.t=function(p,w){if(1&w&&(p=c(p)),8&w||4&w&&"object"==typeof p&&p&&p.__esModule)return p;var x=Object.create(null);if(c.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:p}),2&w&&"string"!=typeof p)for(var V in p)c.d(x,V,function(D){return p[D]}.bind(null,V));return x},c.n=function(p){var w=p&&p.__esModule?function(){return p.default}:function(){return p};return c.d(w,"a",w),w},c.o=function(p,w){return Object.prototype.hasOwnProperty.call(p,w)},c.p="",c(c.s=96)}([function(ae,q,c){"use strict";q.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),q.arrayParentSymbol=Symbol("mongoose#Array#_parent"),q.arrayPathSymbol=Symbol("mongoose#Array#_path"),q.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),q.documentArrayParent=Symbol("mongoose:documentArrayParent"),q.documentIsSelected=Symbol("mongoose#Document#isSelected"),q.documentIsModified=Symbol("mongoose#Document#isModified"),q.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),q.documentSchemaSymbol=Symbol("mongoose#Document#schema"),q.getSymbol=Symbol("mongoose#Document#get"),q.modelSymbol=Symbol("mongoose#Model"),q.objectIdSymbol=Symbol("mongoose#ObjectId"),q.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model"),q.schemaTypeSymbol=Symbol("mongoose#schemaType"),q.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments"),q.scopeSymbol=Symbol("mongoose#Document#scope"),q.validatorErrorSymbol=Symbol("mongoose:validatorError")},function(ae,q,c){"use strict";(function(p){function w(P,G){var W="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(!W){if(Array.isArray(P)||(W=function(j,ce){if(j){if("string"==typeof j)return x(j,void 0);var pe=Object.prototype.toString.call(j).slice(8,-1);if("Object"===pe&&j.constructor&&(pe=j.constructor.name),"Map"===pe||"Set"===pe)return Array.from(j);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return x(j,void 0)}}(P))||G&&P&&"number"==typeof P.length){W&&(P=W);var ne=0,X=function(){};return{s:X,n:function(){return ne>=P.length?{done:!0}:{done:!1,value:P[ne++]}},e:function(j){throw j},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,Q=!0,Z=!1;return{s:function(){W=W.call(P)},n:function(){var j=W.next();return Q=j.done,j},e:function(j){Z=!0,z=j},f:function(){try{Q||null==W.return||W.return()}finally{if(Z)throw z}}}}function x(P,G){(null==G||G>P.length)&&(G=P.length);for(var W=0,ne=new Array(G);W<G;W++)ne[W]=P[W];return ne}function V(P){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(P)}var D,I=c(114),S=c(50),O=c(63),v=c(64).Buffer,y=c(20),h=c(11),f=c(117),g=c(26),u=c(22),l=c(21),_=c(67),m=c(66),C=c(31),A=c(27),$=c(72),K=c(51);function B(P){if(Array.isArray(P.populate)){var G=[];P.populate.forEach(function(Z){if(/[\s]/.test(Z.path)){var j=Object.assign({},Z);j.path.split(" ").forEach(function(ce){j.path=ce,G.push(q.populate(j)[0])})}else G.push(q.populate(Z)[0])}),P.populate=q.populate(G)}else null!=P.populate&&"object"===V(P.populate)&&(P.populate=q.populate(P.populate));var W=[],ne=P.path.split(" ");null!=P.options&&(P.options=q.clone(P.options));var X,z=w(ne);try{for(z.s();!(X=z.n()).done;)W.push(new f(Object.assign({},P,{path:X.value})))}catch(Z){z.e(Z)}finally{z.f()}return W}q.specialProperties=K,q.toCollectionName=function(P,G){return"system.profile"===P||"system.indexes"===P?P:"function"==typeof G?G(P):P},q.deepEqual=function P(G,W){if(G===W)return!0;if("object"!==V(G)&&"object"!==V(W))return G===W;if(G instanceof Date&&W instanceof Date)return G.getTime()===W.getTime();if(_(G,"ObjectID")&&_(W,"ObjectID")||_(G,"Decimal128")&&_(W,"Decimal128"))return G.toString()===W.toString();if(G instanceof RegExp&&W instanceof RegExp)return G.source===W.source&&G.ignoreCase===W.ignoreCase&&G.multiline===W.multiline&&G.global===W.global;if(null==G||null==W||G.prototype!==W.prototype)return!1;if(G instanceof Map&&W instanceof Map)return P(Array.from(G.keys()),Array.from(W.keys()))&&P(Array.from(G.values()),Array.from(W.values()));if(G instanceof Number&&W instanceof Number)return G.valueOf()===W.valueOf();if(v.isBuffer(G))return q.buffer.areEqual(G,W);if(Array.isArray(G)&&Array.isArray(W)){var ne=G.length;if(ne!==W.length)return!1;for(var X=0;X<ne;++X)if(!P(G[X],W[X]))return!1;return!0}null!=G.$__?G=G._doc:C(G)&&(G=G.toObject()),null!=W.$__?W=W._doc:C(W)&&(W=W.toObject());var z=Object.keys(G),Q=Object.keys(W),Z=z.length;if(Z!==Q.length)return!1;z.sort(),Q.sort();for(var j=Z-1;j>=0;j--)if(z[j]!==Q[j])return!1;for(var ce=0,pe=z;ce<pe.length;ce++){var J=pe[ce];if(!P(G[J],W[J]))return!1}return!0},q.last=function(P){if(P.length>0)return P[P.length-1]},q.clone=g,q.promiseOrCallback=A,q.omit=function(P,G){if(null==G)return Object.assign({},P);Array.isArray(G)||(G=[G]);var W,ne=Object.assign({},P),X=w(G);try{for(X.s();!(W=X.n()).done;)delete ne[W.value]}catch(z){X.e(z)}finally{X.f()}return ne},q.options=function(P,G){var W,ne=Object.keys(P),X=ne.length;for(G=G||{};X--;)(W=ne[X])in G||(G[W]=P[W]);return G},q.random=function(){return Math.random().toString().substr(3)},q.merge=function P(G,W,ne,X){ne=ne||{};var z,Q=Object.keys(W),Z=0,j=Q.length;X=X||"";for(var ce=ne.omitNested||{};Z<j;)if(z=Q[Z++],!(ne.omit&&ne.omit[z]||ce[X]||K.has(z)))if(null==G[z])G[z]=W[z];else if(q.isObject(W[z])){if(q.isObject(G[z])||(G[z]={}),null!=W[z]){if(ne.isDiscriminatorSchemaMerge&&W[z].$isSingleNested&&G[z].$isMongooseDocumentArray||W[z].$isMongooseDocumentArray&&G[z].$isSingleNested)continue;if(W[z].instanceOfSchema){G[z].instanceOfSchema?$(G[z],W[z].clone(),ne.isDiscriminatorSchemaMerge):G[z]=W[z].clone();continue}if(W[z]instanceof h){G[z]=new h(W[z]);continue}}P(G[z],W[z],ne,X?X+"."+z:z)}else ne.overwrite&&(G[z]=W[z])},q.toObject=function P(G){var W;if(D||(D=c(12)),null==G)return G;if(G instanceof D)return G.toObject();if(Array.isArray(G)){W=[];var ne,X=w(G);try{for(X.s();!(ne=X.n()).done;)W.push(P(ne.value))}catch(ce){X.e(ce)}finally{X.f()}return W}if(q.isPOJO(G)){W={};for(var Q=0,Z=Object.keys(G);Q<Z.length;Q++){var j=Z[Q];K.has(j)||(W[j]=P(G[j]))}return W}return G},q.isObject=l,q.isPOJO=function(P){if(null==P||"object"!==V(P))return!1;var G=Object.getPrototypeOf(P);return!G||"Object"===G.constructor.name},q.isNativeObject=function(P){return Array.isArray(P)||P instanceof Date||P instanceof Boolean||P instanceof Number||P instanceof String},q.isEmptyObject=function(P){return null!=P&&"object"===V(P)&&0===Object.keys(P).length},q.hasKey=function(P,G){for(var W=0,ne=Object.keys(P);W<ne.length;W++){var X=ne[W];if(X===G||q.isPOJO(P[X])&&q.hasKey(P[X],G))return!0}return!1},q.args=O,q.tick=function(P){if("function"==typeof P)return function(){try{P.apply(this,arguments)}catch(G){u(function(){throw G})}}},q.isMongooseType=function(P){return P instanceof h||P instanceof y||P instanceof v},q.isMongooseObject=C,q.expires=function(P){var G;P&&"Object"===P.constructor.name&&"expires"in P&&(G="string"!=typeof P.expires?P.expires:Math.round(I(P.expires)/1e3),P.expireAfterSeconds=G,delete P.expires)},q.populate=function(P,G,W,ne,X,z,Q,Z){var j=null;if(1===arguments.length){if(P instanceof f)return[P];if(Array.isArray(P)){var ce=pe(P);return ce.map(function(J){return q.populate(J)[0]})}j=q.isObject(P)?Object.assign({},P):{path:P}}else j="object"===V(W)?{path:P,select:G,match:W,options:ne}:{path:P,select:G,model:W,match:ne,options:X,populate:z,justOne:Q,count:Z};if("string"!=typeof j.path)throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+V(P)+"`");return B(j);function pe(J){var Ee=[];return J.forEach(function(te){/[\s]/.test(te.path)?te.path.split(" ").forEach(function(ue){var le=Object.assign({},te);le.path=ue,Ee.push(le)}):Ee.push(te)}),Ee}},q.getValue=function(P,G,W){return S.get(P,G,"_doc",W)},q.setValue=function(P,G,W,ne,X){S.set(P,G,W,"_doc",ne,X)},q.object={},q.object.vals=function(P){for(var G=Object.keys(P),W=G.length,ne=[];W--;)ne.push(P[G[W]]);return ne},q.object.shallowCopy=q.options;var F=Object.prototype.hasOwnProperty;q.object.hasOwnProperty=function(P,G){return F.call(P,G)},q.isNullOrUndefined=function(P){return null==P},q.array={},q.array.flatten=function P(G,W,ne){return ne||(ne=[]),G.forEach(function(X){Array.isArray(X)?P(X,W,ne):W&&!W(X)||ne.push(X)}),ne};var k=Object.prototype.hasOwnProperty;q.hasUserDefinedProperty=function(P,G){if(null==P)return!1;if(Array.isArray(G)){var W,ne=w(G);try{for(ne.s();!(W=ne.n()).done;)if(q.hasUserDefinedProperty(P,W.value))return!0}catch(Q){ne.e(Q)}finally{ne.f()}return!1}if(k.call(P,G))return!0;if("object"===V(P)&&G in P){var z=P[G];return z!==Object.prototype[G]&&z!==Array.prototype[G]}return!1};var U=Math.pow(2,32)-1;q.isArrayIndex=function(P){return"number"==typeof P?P>=0&&P<=U:"string"==typeof P&&!!/^\d+$/.test(P)&&(P=+P)>=0&&P<=U},q.array.unique=function(P){var G,W=new Set,ne=new Set,X=[],z=w(P);try{for(z.s();!(G=z.n()).done;){var Q=G.value;if("number"==typeof Q||"string"==typeof Q||null==Q){if(W.has(Q))continue;X.push(Q),W.add(Q)}else if(Q instanceof h){if(ne.has(Q.toString()))continue;X.push(Q),ne.add(Q.toString())}else X.push(Q)}}catch(Z){z.e(Z)}finally{z.f()}return X},q.buffer={},q.buffer.areEqual=function(P,G){if(!v.isBuffer(P)||!v.isBuffer(G)||P.length!==G.length)return!1;for(var W=0,ne=P.length;W<ne;++W)if(P[W]!==G[W])return!1;return!0},q.getFunctionName=m,q.decorate=function(P,G){for(var W in G)K.has(W)||(P[W]=G[W])},q.mergeClone=function(P,G){C(G)&&(G=G.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var W,ne=Object.keys(G),X=ne.length,z=0;z<X;)if(W=ne[z++],!K.has(W))if(void 0===P[W])P[W]=q.clone(G[W],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var Q=G[W];if(null==Q||!Q.valueOf||Q instanceof Date||(Q=Q.valueOf()),q.isObject(Q)){var Z=Q;C(Q)&&!Q.isMongooseBuffer&&(Z=Z.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),Q.isMongooseBuffer&&(Z=v.from(Z)),q.mergeClone(P[W],Z)}else P[W]=q.clone(Q,{flattenDecimals:!1})}},q.each=function(P,G){var W,ne=w(P);try{for(ne.s();!(W=ne.n()).done;)G(W.value)}catch(X){ne.e(X)}finally{ne.f()}},q.getOption=function(P){var G,W=Array.prototype.slice.call(arguments,1),ne=w(W);try{for(ne.s();!(G=ne.n()).done;){var X=G.value;if(null!=X[P])return X[P]}}catch(z){ne.e(z)}finally{ne.f()}return null},q.noop=function(){},q.errorToPOJO=function(P){if(!(P instanceof Error))throw new Error("`error` must be `instanceof Error`.");var G,W={},ne=w(Object.getOwnPropertyNames(P));try{for(ne.s();!(G=ne.n()).done;){var X=G.value;W[X]=P[X]}}catch(z){ne.e(z)}finally{ne.f()}return W},q.nodeMajorVersion=function(){return parseInt(p.versions.node.split(".")[0],10)}}).call(this,c(10))},function(ae,q,c){"use strict";(function(p){var w=c(98),x=c(99),V=c(100);function D(){return S.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(N,M){if(D()<M)throw new RangeError("Invalid typed array length");return S.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(M)).__proto__=S.prototype:(null===N&&(N=new S(M)),N.length=M),N}function S(N,M,H){if(!(S.TYPED_ARRAY_SUPPORT||this instanceof S))return new S(N,M,H);if("number"==typeof N){if("string"==typeof M)throw new Error("If encoding is specified then the first argument must be a string");return y(this,N)}return O(this,N,M,H)}function O(N,M,H,L){if("number"==typeof M)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&M instanceof ArrayBuffer?function(oe,de,we,Me){if(we<0||de.byteLength<we)throw new RangeError("'offset' is out of bounds");if(de.byteLength<we+(Me||0))throw new RangeError("'length' is out of bounds");return de=void 0===we&&void 0===Me?new Uint8Array(de):void 0===Me?new Uint8Array(de,we):new Uint8Array(de,we,Me),S.TYPED_ARRAY_SUPPORT?(oe=de).__proto__=S.prototype:oe=h(oe,de),oe}(N,M,H,L):"string"==typeof M?function(oe,de,we){if("string"==typeof we&&""!==we||(we="utf8"),!S.isEncoding(we))throw new TypeError('"encoding" must be a valid string encoding');var Me=0|g(de,we),Ve=(oe=I(oe,Me)).write(de,we);return Ve!==Me&&(oe=oe.slice(0,Ve)),oe}(N,M,H):function(oe,de){if(S.isBuffer(de)){var we=0|f(de.length);return 0===(oe=I(oe,we)).length||de.copy(oe,0,0,we),oe}if(de){if("undefined"!=typeof ArrayBuffer&&de.buffer instanceof ArrayBuffer||"length"in de)return"number"!=typeof de.length||(Me=de.length)!=Me?I(oe,0):h(oe,de);if("Buffer"===de.type&&V(de.data))return h(oe,de.data)}var Me;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(N,M)}function v(N){if("number"!=typeof N)throw new TypeError('"size" argument must be a number');if(N<0)throw new RangeError('"size" argument must not be negative')}function y(N,M){if(v(M),N=I(N,M<0?0:0|f(M)),!S.TYPED_ARRAY_SUPPORT)for(var H=0;H<M;++H)N[H]=0;return N}function h(N,M){var H=M.length<0?0:0|f(M.length);N=I(N,H);for(var L=0;L<H;L+=1)N[L]=255&M[L];return N}function f(N){if(N>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return 0|N}function g(N,M){if(S.isBuffer(N))return N.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;"string"!=typeof N&&(N=""+N);var H=N.length;if(0===H)return 0;for(var L=!1;;)switch(M){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":case void 0:return te(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return ue(N).length;default:if(L)return te(N).length;M=(""+M).toLowerCase(),L=!0}}function u(N,M,H){var L=!1;if((void 0===M||M<0)&&(M=0),M>this.length||((void 0===H||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(M>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return W(this,M,H);case"utf8":case"utf-8":return U(this,M,H);case"ascii":return P(this,M,H);case"latin1":case"binary":return G(this,M,H);case"base64":return k(this,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,M,H);default:if(L)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),L=!0}}function l(N,M,H){var L=N[M];N[M]=N[H],N[H]=L}function _(N,M,H,L,oe){if(0===N.length)return-1;if("string"==typeof H?(L=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,isNaN(H)&&(H=oe?0:N.length-1),H<0&&(H=N.length+H),H>=N.length){if(oe)return-1;H=N.length-1}else if(H<0){if(!oe)return-1;H=0}if("string"==typeof M&&(M=S.from(M,L)),S.isBuffer(M))return 0===M.length?-1:m(N,M,H,L,oe);if("number"==typeof M)return M&=255,S.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?oe?Uint8Array.prototype.indexOf.call(N,M,H):Uint8Array.prototype.lastIndexOf.call(N,M,H):m(N,[M],H,L,oe);throw new TypeError("val must be string, number or Buffer")}function m(N,M,H,L,oe){var de,we=1,Me=N.length,Ve=M.length;if(void 0!==L&&("ucs2"===(L=String(L).toLowerCase())||"ucs-2"===L||"utf16le"===L||"utf-16le"===L)){if(N.length<2||M.length<2)return-1;we=2,Me/=2,Ve/=2,H/=2}function Qe(rt,mt){return 1===we?rt[mt]:rt.readUInt16BE(mt*we)}if(oe){var it=-1;for(de=H;de<Me;de++)if(Qe(N,de)===Qe(M,-1===it?0:de-it)){if(-1===it&&(it=de),de-it+1===Ve)return it*we}else-1!==it&&(de-=de-it),it=-1}else for(H+Ve>Me&&(H=Me-Ve),de=H;de>=0;de--){for(var xe=!0,$e=0;$e<Ve;$e++)if(Qe(N,de+$e)!==Qe(M,$e)){xe=!1;break}if(xe)return de}return-1}function C(N,M,H,L){H=Number(H)||0;var oe=N.length-H;L?(L=Number(L))>oe&&(L=oe):L=oe;var de=M.length;if(de%2!=0)throw new TypeError("Invalid hex string");L>de/2&&(L=de/2);for(var we=0;we<L;++we){var Me=parseInt(M.substr(2*we,2),16);if(isNaN(Me))return we;N[H+we]=Me}return we}function A(N,M,H,L){return le(te(M,N.length-H),N,H,L)}function $(N,M,H,L){return le(function(oe){for(var de=[],we=0;we<oe.length;++we)de.push(255&oe.charCodeAt(we));return de}(M),N,H,L)}function K(N,M,H,L){return $(N,M,H,L)}function B(N,M,H,L){return le(ue(M),N,H,L)}function F(N,M,H,L){return le(function(oe,de){for(var we,Me,Qe=[],it=0;it<oe.length&&!((de-=2)<0);++it)Me=(we=oe.charCodeAt(it))>>8,Qe.push(we%256),Qe.push(Me);return Qe}(M,N.length-H),N,H,L)}function k(N,M,H){return w.fromByteArray(0===M&&H===N.length?N:N.slice(M,H))}function U(N,M,H){H=Math.min(N.length,H);for(var L=[],oe=M;oe<H;){var de,we,Me,Ve,Qe=N[oe],it=null,xe=Qe>239?4:Qe>223?3:Qe>191?2:1;if(oe+xe<=H)switch(xe){case 1:Qe<128&&(it=Qe);break;case 2:128==(192&(de=N[oe+1]))&&(Ve=(31&Qe)<<6|63&de)>127&&(it=Ve);break;case 3:we=N[oe+2],128==(192&(de=N[oe+1]))&&128==(192&we)&&(Ve=(15&Qe)<<12|(63&de)<<6|63&we)>2047&&(Ve<55296||Ve>57343)&&(it=Ve);break;case 4:we=N[oe+2],Me=N[oe+3],128==(192&(de=N[oe+1]))&&128==(192&we)&&128==(192&Me)&&(Ve=(15&Qe)<<18|(63&de)<<12|(63&we)<<6|63&Me)>65535&&Ve<1114112&&(it=Ve)}null===it?(it=65533,xe=1):it>65535&&(L.push((it-=65536)>>>10&1023|55296),it=56320|1023&it),L.push(it),oe+=xe}return function($e){var rt=$e.length;if(rt<=4096)return String.fromCharCode.apply(String,$e);for(var mt="",Ct=0;Ct<rt;)mt+=String.fromCharCode.apply(String,$e.slice(Ct,Ct+=4096));return mt}(L)}function P(N,M,H){var L="";H=Math.min(N.length,H);for(var oe=M;oe<H;++oe)L+=String.fromCharCode(127&N[oe]);return L}function G(N,M,H){var L="";H=Math.min(N.length,H);for(var oe=M;oe<H;++oe)L+=String.fromCharCode(N[oe]);return L}function W(N,M,H){var L=N.length;(!M||M<0)&&(M=0),(!H||H<0||H>L)&&(H=L);for(var oe="",de=M;de<H;++de)oe+=Ee(N[de]);return oe}function ne(N,M,H){for(var L=N.slice(M,H),oe="",de=0;de<L.length;de+=2)oe+=String.fromCharCode(L[de]+256*L[de+1]);return oe}function X(N,M,H){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+M>H)throw new RangeError("Trying to access beyond buffer length")}function z(N,M,H,L,oe,de){if(!S.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>oe||M<de)throw new RangeError('"value" argument is out of bounds');if(H+L>N.length)throw new RangeError("Index out of range")}function Q(N,M,H,L){M<0&&(M=65535+M+1);for(var oe=0,de=Math.min(N.length-H,2);oe<de;++oe)N[H+oe]=(M&255<<8*(L?oe:1-oe))>>>8*(L?oe:1-oe)}function Z(N,M,H,L){M<0&&(M=4294967295+M+1);for(var oe=0,de=Math.min(N.length-H,4);oe<de;++oe)N[H+oe]=M>>>8*(L?oe:3-oe)&255}function j(N,M,H,L,oe,de){if(H+L>N.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function ce(N,M,H,L,oe){return oe||j(N,0,H,4),x.write(N,M,H,L,23,4),H+4}function pe(N,M,H,L,oe){return oe||j(N,0,H,8),x.write(N,M,H,L,52,8),H+8}q.Buffer=S,q.SlowBuffer=function(N){return+N!=N&&(N=0),S.alloc(+N)},q.INSPECT_MAX_BYTES=50,S.TYPED_ARRAY_SUPPORT=void 0!==p.TYPED_ARRAY_SUPPORT?p.TYPED_ARRAY_SUPPORT:function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===N.foo()&&"function"==typeof N.subarray&&0===N.subarray(1,1).byteLength}catch(M){return!1}}(),q.kMaxLength=D(),S.poolSize=8192,S._augment=function(N){return N.__proto__=S.prototype,N},S.from=function(N,M,H){return O(null,N,M,H)},S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&S[Symbol.species]===S&&Object.defineProperty(S,Symbol.species,{value:null,configurable:!0})),S.alloc=function(N,M,H){return L=null,de=M,we=H,v(oe=N),oe<=0?I(L,oe):void 0!==de?"string"==typeof we?I(L,oe).fill(de,we):I(L,oe).fill(de):I(L,oe);var L,oe,de,we},S.allocUnsafe=function(N){return y(null,N)},S.allocUnsafeSlow=function(N){return y(null,N)},S.isBuffer=function(N){return!(null==N||!N._isBuffer)},S.compare=function(N,M){if(!S.isBuffer(N)||!S.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(N===M)return 0;for(var H=N.length,L=M.length,oe=0,de=Math.min(H,L);oe<de;++oe)if(N[oe]!==M[oe]){H=N[oe],L=M[oe];break}return H<L?-1:L<H?1:0},S.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(N,M){if(!V(N))throw new TypeError('"list" argument must be an Array of Buffers');if(0===N.length)return S.alloc(0);var H;if(void 0===M)for(M=0,H=0;H<N.length;++H)M+=N[H].length;var L=S.allocUnsafe(M),oe=0;for(H=0;H<N.length;++H){var de=N[H];if(!S.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(L,oe),oe+=de.length}return L},S.byteLength=g,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<N;M+=2)l(this,M,M+1);return this},S.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<N;M+=4)l(this,M,M+3),l(this,M+1,M+2);return this},S.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<N;M+=8)l(this,M,M+7),l(this,M+1,M+6),l(this,M+2,M+5),l(this,M+3,M+4);return this},S.prototype.toString=function(){var N=0|this.length;return 0===N?"":0===arguments.length?U(this,0,N):u.apply(this,arguments)},S.prototype.equals=function(N){if(!S.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||0===S.compare(this,N)},S.prototype.inspect=function(){var N="",M=q.INSPECT_MAX_BYTES;return this.length>0&&(N=this.toString("hex",0,M).match(/.{2}/g).join(" "),this.length>M&&(N+=" ... ")),"<Buffer "+N+">"},S.prototype.compare=function(N,M,H,L,oe){if(!S.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(void 0===M&&(M=0),void 0===H&&(H=N?N.length:0),void 0===L&&(L=0),void 0===oe&&(oe=this.length),M<0||H>N.length||L<0||oe>this.length)throw new RangeError("out of range index");if(L>=oe&&M>=H)return 0;if(L>=oe)return-1;if(M>=H)return 1;if(this===N)return 0;for(var de=(oe>>>=0)-(L>>>=0),we=(H>>>=0)-(M>>>=0),Me=Math.min(de,we),Ve=this.slice(L,oe),Qe=N.slice(M,H),it=0;it<Me;++it)if(Ve[it]!==Qe[it]){de=Ve[it],we=Qe[it];break}return de<we?-1:we<de?1:0},S.prototype.includes=function(N,M,H){return-1!==this.indexOf(N,M,H)},S.prototype.indexOf=function(N,M,H){return _(this,N,M,H,!0)},S.prototype.lastIndexOf=function(N,M,H){return _(this,N,M,H,!1)},S.prototype.write=function(N,M,H,L){if(void 0===M)L="utf8",H=this.length,M=0;else if(void 0===H&&"string"==typeof M)L=M,H=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(H)?(H|=0,void 0===L&&(L="utf8")):(L=H,H=void 0)}var oe=this.length-M;if((void 0===H||H>oe)&&(H=oe),N.length>0&&(H<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");for(var de=!1;;)switch(L){case"hex":return C(this,N,M,H);case"utf8":case"utf-8":return A(this,N,M,H);case"ascii":return $(this,N,M,H);case"latin1":case"binary":return K(this,N,M,H);case"base64":return B(this,N,M,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,N,M,H);default:if(de)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),de=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},S.prototype.slice=function(N,M){var H,L=this.length;if((N=~~N)<0?(N+=L)<0&&(N=0):N>L&&(N=L),(M=void 0===M?L:~~M)<0?(M+=L)<0&&(M=0):M>L&&(M=L),M<N&&(M=N),S.TYPED_ARRAY_SUPPORT)(H=this.subarray(N,M)).__proto__=S.prototype;else{var oe=M-N;H=new S(oe,void 0);for(var de=0;de<oe;++de)H[de]=this[de+N]}return H},S.prototype.readUIntLE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N],oe=1,de=0;++de<M&&(oe*=256);)L+=this[N+de]*oe;return L},S.prototype.readUIntBE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N+--M],oe=1;M>0&&(oe*=256);)L+=this[N+--M]*oe;return L},S.prototype.readUInt8=function(N,M){return M||X(N,1,this.length),this[N]},S.prototype.readUInt16LE=function(N,M){return M||X(N,2,this.length),this[N]|this[N+1]<<8},S.prototype.readUInt16BE=function(N,M){return M||X(N,2,this.length),this[N]<<8|this[N+1]},S.prototype.readUInt32LE=function(N,M){return M||X(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},S.prototype.readUInt32BE=function(N,M){return M||X(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},S.prototype.readIntLE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=this[N],oe=1,de=0;++de<M&&(oe*=256);)L+=this[N+de]*oe;return L>=(oe*=128)&&(L-=Math.pow(2,8*M)),L},S.prototype.readIntBE=function(N,M,H){N|=0,M|=0,H||X(N,M,this.length);for(var L=M,oe=1,de=this[N+--L];L>0&&(oe*=256);)de+=this[N+--L]*oe;return de>=(oe*=128)&&(de-=Math.pow(2,8*M)),de},S.prototype.readInt8=function(N,M){return M||X(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},S.prototype.readInt16LE=function(N,M){M||X(N,2,this.length);var H=this[N]|this[N+1]<<8;return 32768&H?4294901760|H:H},S.prototype.readInt16BE=function(N,M){M||X(N,2,this.length);var H=this[N+1]|this[N]<<8;return 32768&H?4294901760|H:H},S.prototype.readInt32LE=function(N,M){return M||X(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},S.prototype.readInt32BE=function(N,M){return M||X(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},S.prototype.readFloatLE=function(N,M){return M||X(N,4,this.length),x.read(this,N,!0,23,4)},S.prototype.readFloatBE=function(N,M){return M||X(N,4,this.length),x.read(this,N,!1,23,4)},S.prototype.readDoubleLE=function(N,M){return M||X(N,8,this.length),x.read(this,N,!0,52,8)},S.prototype.readDoubleBE=function(N,M){return M||X(N,8,this.length),x.read(this,N,!1,52,8)},S.prototype.writeUIntLE=function(N,M,H,L){N=+N,M|=0,H|=0,L||z(this,N,M,H,Math.pow(2,8*H)-1,0);var oe=1,de=0;for(this[M]=255&N;++de<H&&(oe*=256);)this[M+de]=N/oe&255;return M+H},S.prototype.writeUIntBE=function(N,M,H,L){N=+N,M|=0,H|=0,L||z(this,N,M,H,Math.pow(2,8*H)-1,0);var oe=H-1,de=1;for(this[M+oe]=255&N;--oe>=0&&(de*=256);)this[M+oe]=N/de&255;return M+H},S.prototype.writeUInt8=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,1,255,0),S.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[M]=255&N,M+1},S.prototype.writeUInt16LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8):Q(this,N,M,!0),M+2},S.prototype.writeUInt16BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>8,this[M+1]=255&N):Q(this,N,M,!1),M+2},S.prototype.writeUInt32LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[M+3]=N>>>24,this[M+2]=N>>>16,this[M+1]=N>>>8,this[M]=255&N):Z(this,N,M,!0),M+4},S.prototype.writeUInt32BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N):Z(this,N,M,!1),M+4},S.prototype.writeIntLE=function(N,M,H,L){if(N=+N,M|=0,!L){var oe=Math.pow(2,8*H-1);z(this,N,M,H,oe-1,-oe)}var de=0,we=1,Me=0;for(this[M]=255&N;++de<H&&(we*=256);)N<0&&0===Me&&0!==this[M+de-1]&&(Me=1),this[M+de]=(N/we>>0)-Me&255;return M+H},S.prototype.writeIntBE=function(N,M,H,L){if(N=+N,M|=0,!L){var oe=Math.pow(2,8*H-1);z(this,N,M,H,oe-1,-oe)}var de=H-1,we=1,Me=0;for(this[M+de]=255&N;--de>=0&&(we*=256);)N<0&&0===Me&&0!==this[M+de+1]&&(Me=1),this[M+de]=(N/we>>0)-Me&255;return M+H},S.prototype.writeInt8=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,1,127,-128),S.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),N<0&&(N=255+N+1),this[M]=255&N,M+1},S.prototype.writeInt16LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8):Q(this,N,M,!0),M+2},S.prototype.writeInt16BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>8,this[M+1]=255&N):Q(this,N,M,!1),M+2},S.prototype.writeInt32LE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,2147483647,-2147483648),S.TYPED_ARRAY_SUPPORT?(this[M]=255&N,this[M+1]=N>>>8,this[M+2]=N>>>16,this[M+3]=N>>>24):Z(this,N,M,!0),M+4},S.prototype.writeInt32BE=function(N,M,H){return N=+N,M|=0,H||z(this,N,M,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),S.TYPED_ARRAY_SUPPORT?(this[M]=N>>>24,this[M+1]=N>>>16,this[M+2]=N>>>8,this[M+3]=255&N):Z(this,N,M,!1),M+4},S.prototype.writeFloatLE=function(N,M,H){return ce(this,N,M,!0,H)},S.prototype.writeFloatBE=function(N,M,H){return ce(this,N,M,!1,H)},S.prototype.writeDoubleLE=function(N,M,H){return pe(this,N,M,!0,H)},S.prototype.writeDoubleBE=function(N,M,H){return pe(this,N,M,!1,H)},S.prototype.copy=function(N,M,H,L){if(H||(H=0),L||0===L||(L=this.length),M>=N.length&&(M=N.length),M||(M=0),L>0&&L<H&&(L=H),L===H||0===N.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("sourceStart out of bounds");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),N.length-M<L-H&&(L=N.length-M+H);var oe,de=L-H;if(this===N&&H<M&&M<L)for(oe=de-1;oe>=0;--oe)N[oe+M]=this[oe+H];else if(de<1e3||!S.TYPED_ARRAY_SUPPORT)for(oe=0;oe<de;++oe)N[oe+M]=this[oe+H];else Uint8Array.prototype.set.call(N,this.subarray(H,H+de),M);return de},S.prototype.fill=function(N,M,H,L){if("string"==typeof N){if("string"==typeof M?(L=M,M=0,H=this.length):"string"==typeof H&&(L=H,H=this.length),1===N.length){var oe=N.charCodeAt(0);oe<256&&(N=oe)}if(void 0!==L&&"string"!=typeof L)throw new TypeError("encoding must be a string");if("string"==typeof L&&!S.isEncoding(L))throw new TypeError("Unknown encoding: "+L)}else"number"==typeof N&&(N&=255);if(M<0||this.length<M||this.length<H)throw new RangeError("Out of range index");if(H<=M)return this;var de;if(M>>>=0,H=void 0===H?this.length:H>>>0,N||(N=0),"number"==typeof N)for(de=M;de<H;++de)this[de]=N;else{var we=S.isBuffer(N)?N:te(new S(N,L).toString()),Me=we.length;for(de=0;de<H-M;++de)this[de+M]=we[de%Me]}return this};var J=/[^+\/0-9A-Za-z-_]/g;function Ee(N){return N<16?"0"+N.toString(16):N.toString(16)}function te(N,M){var H;M=M||1/0;for(var L=N.length,oe=null,de=[],we=0;we<L;++we){if((H=N.charCodeAt(we))>55295&&H<57344){if(!oe){if(H>56319){(M-=3)>-1&&de.push(239,191,189);continue}if(we+1===L){(M-=3)>-1&&de.push(239,191,189);continue}oe=H;continue}if(H<56320){(M-=3)>-1&&de.push(239,191,189),oe=H;continue}H=65536+(oe-55296<<10|H-56320)}else oe&&(M-=3)>-1&&de.push(239,191,189);if(oe=null,H<128){if((M-=1)<0)break;de.push(H)}else if(H<2048){if((M-=2)<0)break;de.push(H>>6|192,63&H|128)}else if(H<65536){if((M-=3)<0)break;de.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;de.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return de}function ue(N){return w.toByteArray(function(M){if((M=(H=M,H.trim?H.trim():H.replace(/^\s+|\s+$/g,"")).replace(J,"")).length<2)return"";for(var H;M.length%4!=0;)M+="=";return M}(N))}function le(N,M,H,L){for(var oe=0;oe<L&&!(oe+H>=M.length||oe>=N.length);++oe)M[oe+H]=N[oe];return oe}}).call(this,c(9))},function(ae,q,c){"use strict";function w(V,D){(null==D||D>V.length)&&(D=V.length);for(var I=0,S=new Array(D);I<D;I++)S[I]=V[I];return S}function x(V,D){return null==V?V:V instanceof Map?V.get(D):V[D]}ae.exports=function(V,D,I){var S,O=!1;if("string"==typeof D){if(-1===D.indexOf(".")){var v=x(V,D);return null==v?I:v}S=D.split(".")}else if(O=!0,1===(S=D).length){var y=x(V,S[0]);return null==y?I:y}var h,f=D,g=V,u=function p(V,D){var I="undefined"!=typeof Symbol&&V[Symbol.iterator]||V["@@iterator"];if(!I){if(Array.isArray(V)||(I=function(f,g){if(f){if("string"==typeof f)return w(f,g);var u=Object.prototype.toString.call(f).slice(8,-1);if("Object"===u&&f.constructor&&(u=f.constructor.name),"Map"===u||"Set"===u)return Array.from(f);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return w(f,g)}}(V))||D&&V&&"number"==typeof V.length){I&&(V=I);var S=0,O=function(){};return{s:O,n:function(){return S>=V.length?{done:!0}:{done:!1,value:V[S++]}},e:function(f){throw f},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,y=!0,h=!1;return{s:function(){I=I.call(V)},n:function(){var f=I.next();return y=f.done,f},e:function(f){h=!0,v=f},f:function(){try{y||null==I.return||I.return()}finally{if(h)throw v}}}}(S);try{for(u.s();!(h=u.n()).done;){var l=h.value;if(null==g)return I;if(!O&&null!=g[f])return g[f];g=x(g,l),O||(f=f.substr(l.length+1))}}catch(_){u.e(_)}finally{u.f()}return null==g?I:g}},function(ae,q,c){(function(p){function w(z){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(z)}var x=Object.getOwnPropertyDescriptors||function(z){for(var Q=Object.keys(z),Z={},j=0;j<Q.length;j++)Z[Q[j]]=Object.getOwnPropertyDescriptor(z,Q[j]);return Z},V=/%[sdj%]/g;q.format=function(z){if(!m(z)){for(var Q=[],Z=0;Z<arguments.length;Z++)Q.push(S(arguments[Z]));return Q.join(" ")}Z=1;for(var j=arguments,ce=j.length,pe=String(z).replace(V,function(Ee){if("%%"===Ee)return"%";if(Z>=ce)return Ee;switch(Ee){case"%s":return String(j[Z++]);case"%d":return Number(j[Z++]);case"%j":try{return JSON.stringify(j[Z++])}catch(te){return"[Circular]"}default:return Ee}}),J=j[Z];Z<ce;J=j[++Z])l(J)||!$(J)?pe+=" "+J:pe+=" "+S(J);return pe},q.deprecate=function(z,Q){if(void 0!==p&&!0===p.noDeprecation)return z;if(void 0===p)return function(){return q.deprecate(z,Q).apply(this,arguments)};var Z=!1;return function(){if(!Z){if(p.throwDeprecation)throw new Error(Q);p.traceDeprecation?console.trace(Q):console.error(Q),Z=!0}return z.apply(this,arguments)}};var D,I={};function S(z,Q){var Z={seen:[],stylize:v};return arguments.length>=3&&(Z.depth=arguments[2]),arguments.length>=4&&(Z.colors=arguments[3]),u(Q)?Z.showHidden=Q:Q&&q._extend(Z,Q),C(Z.showHidden)&&(Z.showHidden=!1),C(Z.depth)&&(Z.depth=2),C(Z.colors)&&(Z.colors=!1),C(Z.customInspect)&&(Z.customInspect=!0),Z.colors&&(Z.stylize=O),y(Z,z,Z.depth)}function O(z,Q){var Z=S.styles[Q];return Z?"\x1b["+S.colors[Z][0]+"m"+z+"\x1b["+S.colors[Z][1]+"m":z}function v(z,Q){return z}function y(z,Q,Z){if(z.customInspect&&Q&&F(Q.inspect)&&Q.inspect!==q.inspect&&(!Q.constructor||Q.constructor.prototype!==Q)){var j=Q.inspect(Z,z);return m(j)||(j=y(z,j,Z)),j}var ce=function(M,H){if(C(H))return M.stylize("undefined","undefined");if(m(H)){var L="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(L,"string")}return _(H)?M.stylize(""+H,"number"):u(H)?M.stylize(""+H,"boolean"):l(H)?M.stylize("null","null"):void 0}(z,Q);if(ce)return ce;var H,pe=Object.keys(Q),J=(H={},pe.forEach(function(L,oe){H[L]=!0}),H);if(z.showHidden&&(pe=Object.getOwnPropertyNames(Q)),B(Q)&&(pe.indexOf("message")>=0||pe.indexOf("description")>=0))return h(Q);if(0===pe.length){if(F(Q))return z.stylize("[Function"+(Q.name?": "+Q.name:"")+"]","special");if(A(Q))return z.stylize(RegExp.prototype.toString.call(Q),"regexp");if(K(Q))return z.stylize(Date.prototype.toString.call(Q),"date");if(B(Q))return h(Q)}var te,ue="",le=!1,N=["{","}"];return g(Q)&&(le=!0,N=["[","]"]),F(Q)&&(ue=" [Function"+(Q.name?": "+Q.name:"")+"]"),A(Q)&&(ue=" "+RegExp.prototype.toString.call(Q)),K(Q)&&(ue=" "+Date.prototype.toUTCString.call(Q)),B(Q)&&(ue=" "+h(Q)),0!==pe.length||le&&0!=Q.length?Z<0?A(Q)?z.stylize(RegExp.prototype.toString.call(Q),"regexp"):z.stylize("[Object]","special"):(z.seen.push(Q),te=le?function(M,H,L,oe,de){for(var we=[],Me=0,Ve=H.length;Me<Ve;++Me)W(H,String(Me))?we.push(f(M,H,L,oe,String(Me),!0)):we.push("");return de.forEach(function(Qe){Qe.match(/^\d+$/)||we.push(f(M,H,L,oe,Qe,!0))}),we}(z,Q,Z,J,pe):pe.map(function(M){return f(z,Q,Z,J,M,le)}),z.seen.pop(),function(M,H,L){return M.reduce(function(oe,de){return de.indexOf("\n"),oe+de.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?L[0]+(""===H?"":H+"\n ")+" "+M.join(",\n  ")+" "+L[1]:L[0]+H+" "+M.join(", ")+" "+L[1]}(te,ue,N)):N[0]+ue+N[1]}function h(z){return"["+Error.prototype.toString.call(z)+"]"}function f(z,Q,Z,j,ce,pe){var J,Ee,te;if((te=Object.getOwnPropertyDescriptor(Q,ce)||{value:Q[ce]}).get?Ee=z.stylize(te.set?"[Getter/Setter]":"[Getter]","special"):te.set&&(Ee=z.stylize("[Setter]","special")),W(j,ce)||(J="["+ce+"]"),Ee||(z.seen.indexOf(te.value)<0?(Ee=l(Z)?y(z,te.value,null):y(z,te.value,Z-1)).indexOf("\n")>-1&&(Ee=pe?Ee.split("\n").map(function(ue){return"  "+ue}).join("\n").substr(2):"\n"+Ee.split("\n").map(function(ue){return"   "+ue}).join("\n")):Ee=z.stylize("[Circular]","special")),C(J)){if(pe&&ce.match(/^\d+$/))return Ee;(J=JSON.stringify(""+ce)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(J=J.substr(1,J.length-2),J=z.stylize(J,"name")):(J=J.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),J=z.stylize(J,"string"))}return J+": "+Ee}function g(z){return Array.isArray(z)}function u(z){return"boolean"==typeof z}function l(z){return null===z}function _(z){return"number"==typeof z}function m(z){return"string"==typeof z}function C(z){return void 0===z}function A(z){return $(z)&&"[object RegExp]"===k(z)}function $(z){return"object"===w(z)&&null!==z}function K(z){return $(z)&&"[object Date]"===k(z)}function B(z){return $(z)&&("[object Error]"===k(z)||z instanceof Error)}function F(z){return"function"==typeof z}function k(z){return Object.prototype.toString.call(z)}function U(z){return z<10?"0"+z.toString(10):z.toString(10)}q.debuglog=function(z){if(C(D)&&(D=p.env.NODE_DEBUG||""),z=z.toUpperCase(),!I[z])if(new RegExp("\\b"+z+"\\b","i").test(D)){var Q=p.pid;I[z]=function(){var Z=q.format.apply(q,arguments);console.error("%s %d: %s",z,Q,Z)}}else I[z]=function(){};return I[z]},q.inspect=S,S.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},S.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},q.isArray=g,q.isBoolean=u,q.isNull=l,q.isNullOrUndefined=function(z){return null==z},q.isNumber=_,q.isString=m,q.isSymbol=function(z){return"symbol"===w(z)},q.isUndefined=C,q.isRegExp=A,q.isObject=$,q.isDate=K,q.isError=B,q.isFunction=F,q.isPrimitive=function(z){return null===z||"boolean"==typeof z||"number"==typeof z||"string"==typeof z||"symbol"===w(z)||void 0===z},q.isBuffer=c(103);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var z=new Date,Q=[U(z.getHours()),U(z.getMinutes()),U(z.getSeconds())].join(":");return[z.getDate(),P[z.getMonth()],Q].join(" ")}function W(z,Q){return Object.prototype.hasOwnProperty.call(z,Q)}q.log=function(){console.log("%s - %s",G(),q.format.apply(q,arguments))},q.inherits=c(104),q._extend=function(z,Q){if(!Q||!$(Q))return z;for(var Z=Object.keys(Q),j=Z.length;j--;)z[Z[j]]=Q[Z[j]];return z};var ne="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function X(z,Q){if(!z){var Z=new Error("Promise was rejected with a falsy value");Z.reason=z,z=Z}return Q(z)}q.promisify=function(z){if("function"!=typeof z)throw new TypeError('The "original" argument must be of type Function');if(ne&&z[ne]){var Q;if("function"!=typeof(Q=z[ne]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,ne,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var Z,j,ce=new Promise(function(Ee,te){Z=Ee,j=te}),pe=[],J=0;J<arguments.length;J++)pe.push(arguments[J]);pe.push(function(Ee,te){Ee?j(Ee):Z(te)});try{z.apply(this,pe)}catch(Ee){j(Ee)}return ce}return Object.setPrototypeOf(Q,Object.getPrototypeOf(z)),ne&&Object.defineProperty(Q,ne,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,x(z))},q.promisify.custom=ne,q.callbackify=function(z){if("function"!=typeof z)throw new TypeError('The "original" argument must be of type Function');function Q(){for(var Z=[],j=0;j<arguments.length;j++)Z.push(arguments[j]);var ce=Z.pop();if("function"!=typeof ce)throw new TypeError("The last argument must be of type Function");var pe=this,J=function(){return ce.apply(pe,arguments)};z.apply(this,Z).then(function(Ee){p.nextTick(J,null,Ee)},function(Ee){p.nextTick(X,Ee,J)})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(z)),Object.defineProperties(Q,x(z)),Q}}).call(this,c(10))},function(ae,q,c){"use strict";var p=c(14);ae.exports=p,p.messages=c(130),p.Messages=p.messages,p.DocumentNotFoundError=c(131),p.CastError=c(13),p.ValidationError=c(33),p.ValidatorError=c(73),p.VersionError=c(132),p.ParallelSaveError=c(133),p.OverwriteModelError=c(134),p.MissingSchemaError=c(135),p.DivergentArrayError=c(136),p.StrictModeError=c(34)},function(ae,q,c){"use strict";(function(p){function w(B){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(B)}var x=c(5),V=c(7),D=c(52),I=c(74),S=c(3),O=c(137),v=c(22),y=c(0).schemaTypeSymbol,h=c(4),f=c(1),g=c(0).validatorErrorSymbol,u=c(0).documentIsModified,l=c(0).populateModelSymbol,_=x.CastError,m=x.ValidatorError;function C(B,F,k){this[y]=!0,this.path=B,this.instance=k,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=[],this.splitPath(),F=F||{};for(var U=this.constructor.defaultOptions||{},P=0,G=Object.keys(U);P<G.length;P++){var W=G[P];U.hasOwnProperty(W)&&!F.hasOwnProperty(W)&&(F[W]=U[W])}null==F.select&&delete F.select,this.options=new(this.OptionsConstructor||V)(F),this._index=null,f.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,O(this));for(var X=0,z=Object.keys(this.options);X<z.length;X++){var Q=z[X];if("cast"!==Q){if(f.hasUserDefinedProperty(this.options,Q)&&"function"==typeof this[Q]){if("index"===Q&&this._index){if(!1===F.index){var Z=this._index;if("object"===w(Z)&&null!=Z){if(Z.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(Z.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var j=F[Q];if("default"===Q){this.default(j);continue}var ce=Array.isArray(j)?j:[j];this[Q].apply(this,ce)}}else this.castFunction(this.options[Q])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}C.prototype.OptionsConstructor=V,C.prototype.splitPath=function(){return null!=this._presplitPath?this._presplitPath:null!=this.path?(this._presplitPath=-1===this.path.indexOf(".")?[this.path]:this.path.split("."),this._presplitPath):void 0},C.cast=function(B){return 0===arguments.length||(!1===B&&(B=function(F){return F}),this._cast=B),this._cast},C.prototype.castFunction=function(B){return 0===arguments.length||(!1===B&&(B=this.constructor._defaultCaster||function(F){return F}),this._castFunction=B),this._castFunction},C.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},C.set=function(B,F){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[B]=F},C.get=function(B){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(B)},C.prototype.default=function(B){if(1===arguments.length){if(void 0===B)return void(this.defaultValue=void 0);if(null!=B&&B.instanceOfSchema)throw new x("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=B,this.defaultValue}return arguments.length>1&&(this.defaultValue=f.args(arguments)),this.defaultValue},C.prototype.index=function(B){return this._index=B,f.expires(this._index),this},C.prototype.unique=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return null==this._index||!0===this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.unique=B,this},C.prototype.text=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return null==this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.text=B,this},C.prototype.sparse=function(B){if(!1===this._index){if(!B)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return null==this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.sparse=B,this},C.prototype.immutable=function(B){return this.$immutable=B,O(this),this},C.prototype.transform=function(B){return this.options.transform=B,this},C.prototype.set=function(B){if("function"!=typeof B)throw new TypeError("A setter must be a function.");return this.setters.push(B),this},C.prototype.get=function(B){if("function"!=typeof B)throw new TypeError("A getter must be a function.");return this.getters.push(B),this},C.prototype.validate=function(B,F,k){var U,P,G,W;if("function"==typeof B||B&&"RegExp"===f.getFunctionName(B.constructor))return"function"==typeof F?(U={validator:B,message:F}).type=k||"user defined":F instanceof Object&&!k?((U=f.clone(F)).message||(U.message=U.msg),U.validator=B,U.type=U.type||"user defined"):(null==F&&(F=x.messages.general.default),k||(k="user defined"),U={message:F,type:k,validator:B}),U.isAsync&&A(),this.validators.push(U),this;for(P=0,G=arguments.length;P<G;P++){if(!f.isPOJO(W=arguments[P])){var ne="Invalid validator. Received ("+w(W)+") "+W+". See http://mongoosejs.com/docs/api.html#schematype_SchemaType-validate";throw new Error(ne)}this.validate(W.validator,W)}return this};var A=h.deprecate(function(){},"Mongoose: the `isAsync` option for custom validators is deprecated. Make your async validators return a promise instead: https://mongoosejs.com/docs/validation.html#async-custom-validators");function $(B){return this.castForQuery(B)}function K(B){var F=this;return Array.isArray(B)?B.map(function(k){return Array.isArray(k)&&0===k.length?k:F.castForQuery(k)}):[this.castForQuery(B)]}C.prototype.required=function(B,F){var k={};if(arguments.length>0&&null==B)return this.validators=this.validators.filter(function(G){return G.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if("object"===w(B)&&(F=(k=B).message||F,B=B.isRequired),!1===B)return this.validators=this.validators.filter(function(G){return G.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var U=this;this.isRequired=!0,this.requiredValidator=function(G){var W=S(this,"$__.cachedRequired");if(null!=W&&!this.$__isSelected(U.path)&&!this[u](U.path))return!0;if(null!=W&&U.path in W){var ne=!W[U.path]||U.checkRequired(G,this);return delete W[U.path],ne}return"function"==typeof B&&!B.apply(this)||U.checkRequired(G,this)},this.originalRequiredValue=B,"string"==typeof B&&(F=B,B=void 0);var P=F||x.messages.general.required;return this.validators.unshift(Object.assign({},k,{validator:this.requiredValidator,message:P,type:"required"})),this},C.prototype.ref=function(B){return this.options.ref=B,this},C.prototype.getDefault=function(B,F){var k="function"==typeof this.defaultValue?this.defaultValue.call(B):this.defaultValue;if(null!=k){"object"!==w(k)||this.options&&this.options.shared||(k=f.clone(k));var U=this.applySetters(k,B,F);return U&&U.$isSingleNested&&(U.$__parent=B),U}return k},C.prototype._applySetters=function(B,F,k){var U=B;if(k)return U;for(var P=this.setters,G=P.length-1;G>=0;G--)U=P[G].call(F,U,this);return U},C.prototype._castNullish=function(B){return B},C.prototype.applySetters=function(B,F,k,U,P){var G=this._applySetters(B,F,k,U,P);return null==G?this._castNullish(G):G=this.cast(G,F,k,U,P)},C.prototype.applyGetters=function(B,F){var k=B,U=this.getters,P=U.length;if(0===P)return k;for(var G=0;G<P;++G)k=U[G].call(F,k,this);return k},C.prototype.select=function(B){return this.selected=!!B,this},C.prototype.doValidate=function(B,F,k,U){var P=!1,G=this.path,W=this.validators.filter(function(Q){return null!=Q&&"object"===w(Q)}),ne=W.length;if(!ne)return F(null);var X=this;function z(Q,Z){P||(void 0===Q||Q?--ne<=0&&v(function(){F(null)}):((P=new(Z.ErrorConstructor||m)(Z))[g]=!0,v(function(){F(P)})))}W.forEach(function(Q){if(!P){var Z,j=Q.validator,ce=f.clone(Q);if(ce.path=U&&U.path?U.path:G,ce.value=B,j instanceof RegExp)z(j.test(B),ce);else if("function"==typeof j)if(void 0!==B||j===X.requiredValidator)if(ce.isAsync)te=ce,ue=z,le=!1,"boolean"==typeof(N=(pe=j).call(k,B,function(M,H){le||(le=!0,H&&(te.message=H),ue(M,te))}))?(le=!0,ue(N,te)):N&&"function"==typeof N.then&&N.then(function(M){le||(le=!0,ue(M,te))},function(M){le||(le=!0,te.reason=M,te.message=M.message,ue(!1,te))});else{try{Z=ce.propsParameter?j.call(k,B,ce):j.call(k,B)}catch(pe){Z=!1,ce.reason=pe,pe.message&&(ce.message=pe.message)}null!=Z&&"function"==typeof Z.then?Z.then(function(pe){z(pe,ce)},function(pe){ce.reason=pe,ce.message=pe.message,z(Z=!1,ce)}):z(Z,ce)}else z(!0,ce)}var pe,te,ue,le,N})},C.prototype.doValidateSync=function(B,F,k){var U=this.path;if(!this.validators.length)return null;var P=this.validators;if(void 0===B){if(!(this.validators.length>0&&"required"===this.validators[0].type))return null;P=[this.validators[0]]}var G=null;return P.forEach(function(ne){if(!G&&null!=ne&&"object"===w(ne)){var X,z=ne.validator,Q=f.clone(ne);if(Q.path=k&&k.path?k.path:U,Q.value=B,!z.isAsync)if(z instanceof RegExp)W(z.test(B),Q);else if("function"==typeof z){try{X=Q.propsParameter?z.call(F,B,Q):z.call(F,B)}catch(Z){X=!1,Q.reason=Z}null!=X&&"function"==typeof X.then||W(X,Q)}}}),G;function W(ne,X){G||void 0===ne||ne||((G=new(X.ErrorConstructor||m)(X))[g]=!0)}},C._isRef=function(B,F,k,U){var P=U&&B.options&&(B.options.ref||B.options.refPath);if(!P&&k&&null!=k.$__){var G=k.$__fullPath(B.path);P=(k.ownerDocument?k.ownerDocument():k).populated(G)||k.populated(B.path)}return!!P&&(null==F||!(p.isBuffer(F)||"Binary"===F._bsontype||!f.isObject(F))||U)},C.prototype._castRef=function(B,F,k){if(null==B)return B;if(null!=B.$__)return B.$__.wasPopulated=!0,B;if(p.isBuffer(B)||!f.isObject(B)){if(k)return B;throw new _(this.instance,B,this.path,null,this)}var U=F.$__fullPath(this.path),P=(F.ownerDocument?F.ownerDocument():F).populated(U,!0),G=B;return F.$__.populated&&F.$__.populated[U]&&F.$__.populated[U].options&&F.$__.populated[U].options.options&&F.$__.populated[U].options.options.lean||((G=new P.options[l](B)).$__.wasPopulated=!0),G},C.prototype.$conditionalHandlers={$all:function(B){var F=this;return Array.isArray(B)?B.map(function(k){return F.castForQuery(k)}):[this.castForQuery(B)]},$eq:$,$in:K,$ne:$,$nin:K,$exists:D,$type:I},C.prototype.castForQueryWrapper=function(B){if(this.$$context=B.context,"$conditional"in B){var F=this.castForQuery(B.$conditional,B.val);return this.$$context=null,F}if(B.$skipQueryCastForUpdate||B.$applySetters){var k=this._castForQuery(B.val);return this.$$context=null,k}var U=this.castForQuery(B.val);return this.$$context=null,U},C.prototype.castForQuery=function(B,F){var k;if(2===arguments.length){if(!(k=this.$conditionalHandlers[B]))throw new Error("Can't use "+B);return k.call(this,F)}return this._castForQuery(F=B)},C.prototype._castForQuery=function(B){return this.applySetters(B,this.$$context)},C.checkRequired=function(B){return arguments.length>0&&(this._checkRequired=B),this._checkRequired},C.prototype.checkRequired=function(B){return null!=B},C.prototype.clone=function(){var B=Object.assign({},this.options),F=new this.constructor(this.path,B,this.instance);return F.validators=this.validators.slice(),void 0!==this.requiredValidator&&(F.requiredValidator=this.requiredValidator),void 0!==this.defaultValue&&(F.defaultValue=this.defaultValue),void 0!==this.$immutable&&void 0===this.options.immutable&&(F.$immutable=this.$immutable,O(F)),void 0!==this._index&&(F._index=this._index),void 0!==this.selected&&(F.selected=this.selected),void 0!==this.isRequired&&(F.isRequired=this.isRequired),void 0!==this.originalRequiredValue&&(F.originalRequiredValue=this.originalRequiredValue),F.getters=this.getters.slice(),F.setters=this.setters.slice(),F},ae.exports=q=C,q.CastError=_,q.ValidatorError=m}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";function p(S){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}function w(S,O){for(var v=0;v<O.length;v++){var y=O[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,(f=function(g,u){if("object"!==p(g)||null===g)return g;var l=g[Symbol.toPrimitive];if(void 0!==l){var _=l.call(g,"string");if("object"!==p(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(y.key),"symbol"===p(f)?f:String(f)),y)}var f}var V=c(26),D=function x(S,O,v){return O&&w(S.prototype,O),v&&w(S,v),Object.defineProperty(S,"prototype",{writable:!1}),S}(function S(O){if(function(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}(this,S),null==O)return this;Object.assign(this,V(O))}),I=c(8);Object.defineProperty(D.prototype,"type",I),Object.defineProperty(D.prototype,"validate",I),Object.defineProperty(D.prototype,"cast",I),Object.defineProperty(D.prototype,"required",I),Object.defineProperty(D.prototype,"default",I),Object.defineProperty(D.prototype,"ref",I),Object.defineProperty(D.prototype,"select",I),Object.defineProperty(D.prototype,"index",I),Object.defineProperty(D.prototype,"unique",I),Object.defineProperty(D.prototype,"immutable",I),Object.defineProperty(D.prototype,"sparse",I),Object.defineProperty(D.prototype,"text",I),Object.defineProperty(D.prototype,"transform",I),ae.exports=D},function(ae,q,c){"use strict";ae.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},function(ae,q){function c(w){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(w){"object"===("undefined"==typeof window?"undefined":c(window))&&(p=window)}ae.exports=p},function(ae,q){var c,p,w=ae.exports={};function x(){throw new Error("setTimeout has not been defined")}function V(){throw new Error("clearTimeout has not been defined")}function D(u){if(c===setTimeout)return setTimeout(u,0);if((c===x||!c)&&setTimeout)return c=setTimeout,setTimeout(u,0);try{return c(u,0)}catch(l){try{return c.call(null,u,0)}catch(_){return c.call(this,u,0)}}}!function(){try{c="function"==typeof setTimeout?setTimeout:x}catch(u){c=x}try{p="function"==typeof clearTimeout?clearTimeout:V}catch(u){p=V}}();var I,S=[],O=!1,v=-1;function y(){O&&I&&(O=!1,I.length?S=I.concat(S):v=-1,S.length&&h())}function h(){if(!O){var u=D(y);O=!0;for(var l=S.length;l;){for(I=S,S=[];++v<l;)I&&I[v].run();v=-1,l=S.length}I=null,O=!1,function(_){if(p===clearTimeout)return clearTimeout(_);if((p===V||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(_);try{p(_)}catch(m){try{return p.call(null,_)}catch(C){return p.call(this,_)}}}(u)}}function f(u,l){this.fun=u,this.array=l}function g(){}w.nextTick=function(u){var l=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)l[_-1]=arguments[_];S.push(new f(u,l)),1!==S.length||O||D(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=g,w.addListener=g,w.once=g,w.off=g,w.removeListener=g,w.removeAllListeners=g,w.emit=g,w.prependListener=g,w.prependOnceListener=g,w.listeners=function(u){return[]},w.binding=function(u){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(u){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(ae,q,c){"use strict";var p=c(15).get().ObjectId,w=c(0).objectIdSymbol;Object.defineProperty(p.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),p.prototype[w]=!0,ae.exports=p},function(ae,q,c){"use strict";(function(p){function w(ie,re,ge){return Se=function(De,ke){if("object"!==D(De)||null===De)return De;var Ne=De[Symbol.toPrimitive];if(void 0!==Ne){var je=Ne.call(De,"string");if("object"!==D(je))return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(re),(re="symbol"===D(Se)?Se:String(Se))in ie?Object.defineProperty(ie,re,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ie[re]=ge,ie;var Se}function x(ie,re){var ge="undefined"!=typeof Symbol&&ie[Symbol.iterator]||ie["@@iterator"];if(!ge){if(Array.isArray(ie)||(ge=function(je,Le){if(je){if("string"==typeof je)return V(je,void 0);var Be=Object.prototype.toString.call(je).slice(8,-1);if("Object"===Be&&je.constructor&&(Be=je.constructor.name),"Map"===Be||"Set"===Be)return Array.from(je);if("Arguments"===Be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return V(je,void 0)}}(ie))||re&&ie&&"number"==typeof ie.length){ge&&(ie=ge);var ve=0,Se=function(){};return{s:Se,n:function(){return ve>=ie.length?{done:!0}:{done:!1,value:ie[ve++]}},e:function(je){throw je},f:Se}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var De,ke=!0,Ne=!1;return{s:function(){ge=ge.call(ie)},n:function(){var je=ge.next();return ke=je.done,je},e:function(je){Ne=!0,De=je},f:function(){try{ke||null==ge.return||ge.return()}finally{if(Ne)throw De}}}}function V(ie,re){(null==re||re>ie.length)&&(re=ie.length);for(var ge=0,ve=new Array(re);ge<re;ge++)ve[ge]=ie[ge];return ve}function D(ie){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(ie)}var I,S,O,v=c(19).EventEmitter,y=c(112),h=c(5),f=c(28),g=c(75),u=c(138),l=c(139),_=c(54),m=c(34),C=c(33),A=c(73),$=c(55),K=c(27),B=c(87),F=c(58).compile,k=c(58).defineKey,U=c(174).flatten,P=c(3),G=c(175),W=c(91),ne=c(176),X=c(22),z=c(59),Q=c(177),Z=c(4).inspect,j=c(17).internalToObjectOptions,ce=c(50),pe=c(178),J=c(1),Ee=c(180),te=J.clone,ue=J.deepEqual,le=J.isMongooseObject,N=Symbol("mongoose.Array#atomicsBackup"),M=c(0).arrayAtomicsSymbol,H=c(0).documentArrayParent,L=c(0).documentIsModified,oe=c(0).documentModifiedPaths,de=c(0).documentSchemaSymbol,we=c(0).getSymbol,Me=c(0).populateModelSymbol,Ve=c(0).scopeSymbol,Qe=c(35).schemaMixedSymbol,it=J.specialProperties;function xe(ie,re,ge,ve){var Se=this;"object"===D(ge)&&null!=ge&&(ge=(ve=ge).skipId),ve=Object.assign({},ve);var De=P(ve,"defaults",!0);if(ve.defaults=De,null==this.$__schema){var ke=J.isObject(re)&&!re.instanceOfSchema?new _(re):re;this.$__setSchema(ke),re=ge,ge=ve,ve=arguments[4]||{}}if(this.$__=new y,this.$__.emitter=new v,this.isNew=!("isNew"in ve)||ve.isNew,this.errors=void 0,this.$__.$options=ve||{},this.$locals={},this.$op=null,null!=ie&&"object"!==D(ie))throw new u(ie,"obj","Document");var Ne=this.$__schema;"boolean"==typeof re||"throw"===re?(this.$__.strictMode=re,re=void 0):(this.$__.strictMode=Ne.options.strict,this.$__.selected=re);var je,Le=Ne.requiredPaths(!0),Be=x(Le);try{for(Be.s();!(je=Be.n()).done;){var Ge=je.value;this.$__.activePaths.require(Ge)}}catch(_t){Be.e(_t)}finally{Be.f()}this.$__.emitter.setMaxListeners(0);var Ue=null;J.isPOJO(re)&&(Ue=Q(re));var qe=!1===Ue&&re?rt(re):{};if(null==this._doc&&(this.$__buildDoc(ie,re,ge,Ue,qe,!1),De&&mt(this,re,ge,Ue,qe,!0,{isNew:this.isNew})),ie&&(this.$__original_set?this.$__original_set(ie,void 0,!0):this.$set(ie,void 0,!0),ie instanceof xe&&(this.isNew=ie.isNew)),ve.willInit&&De?v.prototype.once.call(this,"init",function(){mt(Se,re,ge,Ue,qe,!1,ve.skipDefaults)}):De&&mt(this,re,ge,Ue,qe,!1,ve.skipDefaults),this.$__._id=this._id,!this.$__.strictMode&&ie){var et=this,dt=Object.keys(this._doc);dt.forEach(function(_t){_t in Ne.tree||k(_t,null,et)})}bn(this)}for(var $e in J.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(ie){xe.prototype[ie]=function(){return this.$__.emitter[ie].apply(this.$__.emitter,arguments)}}),xe.prototype.constructor=xe,v.prototype)xe[$e]=v.prototype[$e];function rt(ie){for(var re={},ge=0,ve=Object.keys(ie);ge<ve.length;ge++){var Se,De=[],ke=x(ve[ge].split("."));try{for(ke.s();!(Se=ke.n()).done;)De.push(Se.value),re[De.join(".")]=1}catch(je){ke.e(je)}finally{ke.f()}}return re}function mt(ie,re,ge,ve,Se,De,ke){for(var Ne=Object.keys(ie.$__schema.paths),je=Ne.length,Le=0;Le<je;++Le){var Be=void 0,Ge="",Ue=Ne[Le];if("_id"!==Ue||!ge)for(var qe=ie.$__schema.paths[Ue],et=qe.splitPath(),dt=et.length,_t=!1,Ke=ie._doc,lt=0;lt<dt&&null!=Ke;++lt){var ht=et[lt];if(Ge+=(Ge.length?".":"")+ht,!0===ve){if(Ge in re)break}else if(!1===ve&&re&&!_t)if(Ge in re)_t=!0;else if(!Se[Ge])break;if(lt===dt-1){if(void 0!==Ke[ht])break;if("function"==typeof qe.defaultValue){if(!qe.defaultValue.$runBeforeSetters&&De||qe.defaultValue.$runBeforeSetters&&!De)break}else if(!De)continue;if(ke&&ke[Ge])break;if(re&&null!==ve){if(!0===ve){if(Ue in re)continue;try{Be=qe.getDefault(ie,!1)}catch(wt){ie.invalidate(Ue,wt);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(Ue))}else if(_t){try{Be=qe.getDefault(ie,!1)}catch(wt){ie.invalidate(Ue,wt);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(Ue))}}else{try{Be=qe.getDefault(ie,!1)}catch(wt){ie.invalidate(Ue,wt);break}void 0!==Be&&(Ke[ht]=Be,ie.$__.activePaths.default(Ue))}}else Ke=Ke[ht]}}}function Ct(ie){if(null==ie)return!0;if("object"!==D(ie)||Array.isArray(ie))return!1;for(var re=0,ge=Object.keys(ie);re<ge.length;re++)if(!Ct(ie[ge[re]]))return!1;return!0}function Ot(ie){var zt,re={};zt=ie,Object.keys(zt.$__.activePaths.states.require).forEach(function(hr){var gn=zt.$__schema.path(hr);null!=gn&&"function"==typeof gn.originalRequiredValue&&(zt.$__.cachedRequired[hr]=gn.originalRequiredValue.call(zt,zt))});var ge=new Set(Object.keys(ie.$__.activePaths.states.require).filter(function(zt){return!(!ie.$__isSelected(zt)&&!ie.isModified(zt))&&(!(zt in ie.$__.cachedRequired)||ie.$__.cachedRequired[zt])}));function ve(zt){ge.add(zt)}Object.keys(ie.$__.activePaths.states.init).forEach(ve),Object.keys(ie.$__.activePaths.states.modify).forEach(ve),Object.keys(ie.$__.activePaths.states.default).forEach(ve);var Se,De=ie.$getAllSubdocs(),ke=ie.modifiedPaths(),Ne=x(De);try{for(Ne.s();!(Se=Ne.n()).done;){var je=Se.value;if(je.$basePath){var Le,Be=x(ge);try{for(Be.s();!(Le=Be.n()).done;){var Ge=Le.value;(null===Ge||Ge.startsWith(je.$basePath+"."))&&ge.delete(Ge)}}catch(zt){Be.e(zt)}finally{Be.f()}!ie.isModified(je.$basePath,ke)||ie.isDirectModified(je.$basePath)||ie.$isDefault(je.$basePath)||(ge.add(je.$basePath),re[je.$basePath]=!0)}}}catch(zt){Ne.e(zt)}finally{Ne.f()}var Ue,qe=x(ge);try{for(qe.s();!(Ue=qe.n()).done;){var et=Ue.value,dt=ie.$__schema.path(et);dt&&dt.$isMongooseArray&&(!dt.$isMongooseDocumentArray||P(dt,"schemaOptions.required"))&&_t(ie.$__getValue(et),ge,et)}}catch(zt){qe.e(zt)}finally{qe.f()}function _t(zt,hr,gn){if(null!=zt)for(var eo=zt.length,wi=0;wi<eo;++wi)Array.isArray(zt[wi])?_t(zt[wi],hr,gn+"."+wi):hr.add(gn+"."+wi)}var Ke,lt={skipArrays:!0},ht=x(ge);try{for(ht.s();!(Ke=ht.n()).done;){var wt=Ke.value;if(ie.$__schema.nested[wt]){var Pt=ie.$__getValue(wt);le(Pt)&&(Pt=Pt.toObject({transform:!1}));var pt=U(Pt,wt,lt,ie.$__schema);Object.keys(pt).forEach(ve)}}}catch(zt){ht.e(zt)}finally{ht.f()}var cn,on=x(ge);try{for(on.s();!(cn=on.n()).done;){var dn=cn.value;if(ie.$__schema.singleNestedPaths.hasOwnProperty(dn))ge.delete(dn);else{var nr=ie.$__schema.path(dn);if(nr&&nr.$isSchemaMap){var Bt=ie.$__getValue(dn);if(null!=Bt){var xn,Tn=x(Bt.keys());try{for(Tn.s();!(xn=Tn.n()).done;)ge.add(dn+"."+xn.value)}catch(zt){Tn.e(zt)}finally{Tn.f()}}}}}}catch(zt){on.e(zt)}finally{on.f()}return[ge=Array.from(ge),re]}function tn(ie,re){var ge,ve=new Set(re),Se=new Map([]),De=x(re);try{for(De.s();!(ge=De.n()).done;){var ke=ge.value;if(-1!==ke.indexOf("."))for(var Ne=ke.split("."),je=Ne[0],Le=1;Le<Ne.length;++Le)Se.set(je,ke),je=je+"."+Ne[Le]}}catch(et){De.e(et)}finally{De.f()}var Be,Ge=[],Ue=x(ie);try{for(Ue.s();!(Be=Ue.n()).done;){var qe=Be.value;ve.has(qe)?Ge.push(qe):Se.has(qe)&&Ge.push(Se.get(qe))}}catch(et){Ue.e(et)}finally{Ue.f()}return Ge}function si(ie,re){return re=new Set(re),ie.filter(function(ge){return!re.has(ge)})}function bn(ie){var re=ie.$__schema&&ie.$__schema.callQueue;if(re.length){var ge,ve=x(re);try{for(ve.s();!(ge=ve.n()).done;){var Se=ge.value;"pre"!==Se[0]&&"post"!==Se[0]&&"on"!==Se[0]&&ie[Se[0]].apply(ie,Se[1])}}catch(De){ve.e(De)}finally{ve.f()}}}function Fn(ie,re,ge,ve){var Se,De,ke,Ne=ie.$__schema,je=Object.keys(Ne.virtuals),Le=je.length,Be=Le,Ge=ie._doc,Ue=P(ve,"aliases",!0),qe=null;if(Array.isArray(ge.virtuals))qe=new Set(ge.virtuals);else if(ge.virtuals&&ge.virtuals.pathsToSkip){qe=new Set(je);for(var et=0;et<ge.virtuals.pathsToSkip.length;et++)qe.has(ge.virtuals.pathsToSkip[et])&&qe.delete(ge.virtuals.pathsToSkip[et])}if(!Ge)return re;for(ge=ge||{},Le=0;Le<Be;++Le)if(Se=je[Le],(null==qe||qe.has(Se))&&(Ue||!Ne.aliases.hasOwnProperty(Se))){if(De=Se,null!=ge.path){if(!Se.startsWith(ge.path+"."))continue;De=Se.substr(ge.path.length+1)}var dt=De.split(".");if(void 0!==(ke=te(ie.get(Se),ge))){var _t=dt.length;Ge=re;for(var Ke=0;Ke<_t-1;++Ke)Ge[dt[Ke]]=Ge[dt[Ke]]||{},Ge=Ge[dt[Ke]];Ge[dt[_t-1]]=ke}}return re}function Pi(ie,re){if(Ee(re))throw new Error("`transform` function must be synchronous, but the transform on path `"+ie+"` returned a promise.")}Object.defineProperty(xe.prototype,"$locals",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(xe.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),xe.prototype.$__buildDoc=function(ie,re,ge,ve,Se){for(var De={},ke=Object.keys(this.$__schema.paths).filter(function(lt){return!lt.includes("$*")}),Ne=ke.length,je=0;je<Ne;++je){var Le=ke[je];if("_id"!==Le||!(ge||ie&&"_id"in ie))for(var Be=this.$__schema.paths[Le].splitPath(),Ge=Be.length,Ue=Ge-1,qe="",et=De,dt=!1,_t=0;_t<Ge;++_t){var Ke=Be[_t];if(qe+=(qe.length?".":"")+Ke,!0===ve){if(qe in re)break}else if(!1===ve&&re&&!dt)if(qe in re)dt=!0;else if(!Se[qe])break;_t<Ue&&(et=et[Ke]||(et[Ke]={}))}}this._doc=De},xe.prototype.toBSON=function(){return this.toObject(j)},xe.prototype.init=function(ie,re,ge){return"function"==typeof re&&(ge=re,re=null),this.$__init(ie,re),ge&&ge(null,this),this},xe.prototype.$__init=function(ie,re){if(this.isNew=!1,this.$init=!0,re=re||{},null!=ie._id&&re.populated&&re.populated.length){var ge,ve=String(ie._id),Se=x(re.populated);try{for(Se.s();!(ge=Se.n()).done;){var De=ge.value;if(this.populated(De.path,De.isVirtual?J.getValue(De.path,ie):De._docs[ve],De),null!=De._childDocs){var ke,Ne=x(De._childDocs);try{for(Ne.s();!(ke=Ne.n()).done;){var je=ke.value;null!=je&&null!=je.$__&&(je.$__.parent=this)}}catch(Le){Ne.e(Le)}finally{Ne.f()}De._childDocs=[]}}}catch(Le){Se.e(Le)}finally{Se.f()}}return function Le(Be,Ge,Ue,qe,et){et=et||"";for(var dt,_t,Ke,lt=Object.keys(Ge),ht=lt.length,wt=0;wt<ht;)Pt(wt++);function Pt(pt){if(dt=Be.$__schema.path(_t=et+(Ke=lt[pt])),!Be.$__schema.$isRootDiscriminator||Be.$__isSelected(_t))if(!dt&&J.isPOJO(Ge[Ke]))Ue[Ke]||(Ue[Ke]={}),Le(Be,Ge[Ke],Ue[Ke],qe,_t+".");else if(dt){if(null===Ge[Ke])Ue[Ke]=dt._castNullish(null);else if(void 0!==Ge[Ke])if(dt&&!(Ge[Ke].$__||{}).wasPopulated)try{Ue[Ke]=dt.cast(Ge[Ke],Be,!0)}catch(on){Be.invalidate(on.path,new A({path:on.path,message:on.message,type:"cast",value:on.value,reason:on}))}else Ue[Ke]=Ge[Ke];Be.isModified(_t)||Be.$__.activePaths.init(_t)}else Ue[Ke]=Ge[Ke]}}(this,ie,this._doc,re),function(Le,Be){if(null!=Le._id&&null!=Be&&0!==Be.length){var Ge,Ue=String(Le._id),qe=x(Be);try{for(qe.s();!(Ge=qe.n()).done;){var et=Ge.value;if(!et.isVirtual)for(var dt=et.path.split("."),_t=0;_t<dt.length-1;++_t){var Ke=dt.slice(0,_t+1).join("."),lt=dt.slice(_t+1).join("."),ht=Le.get(Ke);if(null!=ht&&ht.isMongooseDocumentArray){for(var wt=0;wt<ht.length;++wt)ht[wt].populated(lt,null==et._docs[Ue]?[]:et._docs[Ue][wt],et);break}}}}catch(Pt){qe.e(Pt)}finally{qe.f()}}}(this,re.populated),this.emit("init",this),this.constructor.emit("init",this),this.$__._id=this._id,this},xe.prototype.update=function(){var ie=J.args(arguments);ie.unshift({_id:this._id});var re=this.constructor.update.apply(this.constructor,ie);return null!=this.$session()&&("session"in re.options||(re.options.session=this.$session())),re},xe.prototype.updateOne=function(ie,re,ge){var ve=this,Se=this.constructor.updateOne({_id:this._id},ie,re);return Se.pre(function(De){ve.constructor._middleware.execPre("updateOne",ve,[ve],De)}),Se.post(function(De){ve.constructor._middleware.execPost("updateOne",ve,[ve],{},De)}),null!=this.$session()&&("session"in Se.options||(Se.options.session=this.$session())),null!=ge?Se.exec(ge):Se},xe.prototype.replaceOne=function(){var ie=J.args(arguments);return ie.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,ie)},xe.prototype.$session=function(ie){if(0===arguments.length)return null!=this.$__.session&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(null!=ie&&ie.hasEnded)throw new h("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(this.$__.session=ie,!this.ownerDocument){var re,ge=this.$getAllSubdocs(),ve=x(ge);try{for(ve.s();!(re=ve.n()).done;){var Se=re.value;Se.$session(ie)}}catch(De){ve.e(De)}finally{ve.f()}}return ie},xe.prototype.overwrite=function(ie){for(var re=0,ge=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(ie))));re<ge.length;re++){var ve=ge[re];"_id"!==ve&&(this.$__schema.options.versionKey&&ve===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&ve===this.$__schema.options.discriminatorKey||this.$set(ve,ie[ve]))}return this},xe.prototype.set=xe.prototype.$set=function(ie,re,ge,ve){var Se=this;J.isPOJO(ge)&&(ve=ge,ge=void 0);var De,ke,Ne,je,Le=(ve=ve||{}).merge,Ge=!0===ge,Ue=this.$__schema.options.typeKey,qe=0,et="strict"in ve?ve.strict:this.$__.strictMode;if(ge&&!0!==ge&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[ie]=this.$__schema.interpretAsType(ie,ge,this.$__schema.options)),null==ie){var dt=ie;ie=re,re=dt}else{if("string"!=typeof ie){if(ie instanceof xe&&(ie=ie.$__isNested?ie.toObject():ie._doc),null==ie){var _t=ie;ie=re,re=_t}je=re?re+".":"";var Ke=(De=Object.keys(ie)).length,lt=P(ve,"_skipMinimizeTopLevel",!1);if(0===Ke&&lt)return delete ve._skipMinimizeTopLevel,re&&this.$set(re,{}),this;for(var ht=0;ht<Ke;++ht){var wt=je+(Ne=De[ht]);if(ke=this.$__schema.pathType(wt),!0!==ge||je||null==ie[Ne]||"nested"!==ke||null==this._doc[Ne]||0!==Object.keys(this._doc[Ne]).length?ve=Object.assign({},ve,{_skipMinimizeTopLevel:!1}):(delete this._doc[Ne],ve=Object.assign({},ve,{_skipMinimizeTopLevel:!0})),"object"!==D(ie[Ne])||J.isNativeObject(ie[Ne])||J.isMongooseType(ie[Ne])||null==ie[Ne]||"virtual"===ke||"real"===ke||"adhocOrUndefined"===ke||this.$__path(wt)instanceof f||this.$__schema.paths[wt]&&this.$__schema.paths[wt].options&&this.$__schema.paths[wt].options.ref)if(et){if(Ge&&void 0===ie[Ne]&&void 0!==this.get(wt))continue;if("adhocOrUndefined"===ke&&(ke=G(this,wt,{typeOnly:!0})),"real"===ke||"virtual"===ke){var Pt=ie[Ne];this.$__schema.paths[wt]&&this.$__schema.paths[wt].$isSingleNested&&ie[Ne]instanceof xe&&(Pt=Pt.toObject({virtuals:!1,transform:!1})),this.$set(je+Ne,Pt,Ge,ve)}else if("nested"===ke&&ie[Ne]instanceof xe)this.$set(je+Ne,ie[Ne].toObject({transform:!1}),Ge,ve);else if("throw"===et)throw"nested"===ke?new g(Ne,ie[Ne]):new m(Ne)}else void 0!==ie[Ne]&&this.$set(je+Ne,ie[Ne],Ge,ve);else this.$__.$setCalled.add(je+Ne),this.$set(ie[Ne],je+Ne,Ge,ve)}return this}this.$__.$setCalled.add(ie)}var pt,cn=this.$__schema.pathType(ie);if("adhocOrUndefined"===cn&&(cn=G(this,ie,{typeOnly:!0})),re=W(re),"nested"===cn&&re){if("object"===D(re)&&null!=re){var on=null!=this.$__.savedState&&this.$__.savedState.hasOwnProperty(ie);if(null!=this.$__.savedState&&!this.isNew&&!this.$__.savedState.hasOwnProperty(ie)){var dn=this.$__getValue(ie);this.$__.savedState[ie]=dn;for(var nr=0,Bt=Object.keys(dn||{});nr<Bt.length;nr++){var xn=Bt[nr];this.$__.savedState[ie+"."+xn]=dn[xn]}}if(Le)return this.$set(re,ie,Ge);this.$__setValue(ie,null),B(this,ie);var Tn=Object.keys(re);this.$__setValue(ie,{});for(var So=0,zt=Tn;So<zt.length;So++){var hr=zt[So];this.$set(ie+"."+hr,re[hr],Ge)}return on&&J.deepEqual(this.$__.savedState[ie],re)?this.unmarkModified(ie):this.markModified(ie),B(this,ie,{skipDocArrays:!0}),this}return this.invalidate(ie,new h.CastError("Object",re,ie)),this}var gn=-1===ie.indexOf(".")?[ie]:ie.split(".");if("string"==typeof this.$__schema.aliases[gn[0]]&&(gn[0]=this.$__schema.aliases[gn[0]]),"adhocOrUndefined"===cn&&et){var eo;for(qe=0;qe<gn.length;++qe){var wi=gn.slice(0,qe+1).join(".");if(qe+1<gn.length&&"virtual"===this.$__schema.pathType(wi))return ce.set(ie,re,this),this;if(null!=(pt=this.$__schema.path(wi))&&pt instanceof f){eo=!0;break}}if(null==pt&&(pt=G(this,ie)),!eo&&!pt){if("throw"===et)throw new m(ie);return this}}else{if("virtual"===cn)return(pt=this.$__schema.virtualpath(ie)).applySetters(re,this),this;pt=this.$__path(ie)}var Do,Qo=this._doc,to="";for(qe=0;qe<gn.length-1;++qe)to+=(to.length>0?".":"")+gn[qe],(Qo=Qo[gn[qe]])||(this.$set(to,{}),this.$__isSelected(to)||this.unmarkModified(to),Qo=this.$__getValue(to));if(gn.length<=1)Do=ie;else{for(qe=0;qe<gn.length;++qe){var xu=gn.slice(0,qe+1).join(".");if(null===this.get(xu,null,{getters:!1})){Do=xu;break}}Do||(Do=ie)}var Xo=null!=Se.$__.$options.priorDoc?Se.$__.$options.priorDoc.$__getValue(ie):Ge?void 0:Se.$__getValue(ie);if(!pt)return this.$__set(Do,ie,Ge,gn,pt,re,Xo),this;if((pt.$isSingleNested||pt.$isMongooseArray)&&function(ut,yt){if(ut.$__.validationError){for(var pi=0,Tt=Object.keys(ut.$__.validationError.errors);pi<Tt.length;pi++){var _r=Tt[pi];_r.startsWith(yt+".")&&delete ut.$__.validationError.errors[_r]}0===Object.keys(ut.$__.validationError.errors).length&&(ut.$__.validationError=null)}}(this,ie),pt.$isSingleNested&&null!=re&&Le){re instanceof xe&&(re=re.toObject({virtuals:!1,transform:!1}));for(var qa=0,Au=Object.keys(re);qa<Au.length;qa++){var Wa=Au[qa];this.$set(ie+"."+Wa,re[Wa],Ge,ve)}return this}var Mu=!0;try{var Iu,qn=function(){if(null==pt.options||!(re instanceof xe))return!1;var ut=re.constructor,yt=pt.options.ref;if(null!=yt&&(yt===ut.modelName||yt===ut.baseModelName))return!0;var Li=pt.options.refPath;if(null==Li)return!1;var pi=re.get(Li);return pi===ut.modelName||pi===ut.baseModelName}(),kr=!1;if(qn&&re instanceof xe&&(this.populated(ie,re._id,w({},Me,re.constructor)),re.$__.wasPopulated=!0,kr=!0),pt.options&&Array.isArray(pt.options[Ue])&&pt.options[Ue].length&&pt.options[Ue][0].ref&&function(ut,yt){if(!Array.isArray(ut)||0===ut.length)return!1;var Li,pi=x(ut);try{for(pi.s();!(Li=pi.n()).done;){var Tt=Li.value;if(!(Tt instanceof xe)||null==Tt.constructor.modelName||Tt.constructor.modelName!=yt&&Tt.constructor.baseModelName!=yt)return!1}}catch(_r){pi.e(_r)}finally{pi.f()}return!0}(re,pt.options[Ue][0].ref)){Iu=w({},Me,re[0].constructor),this.populated(ie,re.map(function(ut){return ut._id}),Iu);var za,Oo=x(re);try{for(Oo.s();!(za=Oo.n()).done;)za.value.$__.wasPopulated=!0}catch(ut){Oo.e(ut)}finally{Oo.f()}kr=!0}if(null==this.$__schema.singleNestedPaths[ie]&&(re=pt.applySetters(re,this,!1,Xo)),pt.$isMongooseDocumentArray&&Array.isArray(re)&&re.length>0&&null!=re[0]&&null!=re[0].$__&&null!=re[0].$__.populated){for(var ln=Object.keys(re[0].$__.populated),Ya=function(){var ut=ks[Qt];Se.populated(ie+"."+ut,re.map(function(yt){return yt.populated(ut)}),re[0].$__.populated[ut].options)},Qt=0,ks=ln;Qt<ks.length;Qt++)Ya();kr=!0}if(!kr&&this.$__.populated){if(Array.isArray(re)&&this.$__.populated[ie])for(var es=0;es<re.length;++es)re[es]instanceof xe&&(re[es]=re[es]._id);delete this.$__.populated[ie]}pt.$isSingleNested&&null!=re&&function(ut,yt,Li){var pi=yt.schema;if(null!=pi)for(var Tt=0,_r=Object.keys(pi.paths);Tt<_r.length;Tt++){var St=_r[Tt],jn=pi.paths[St];if(null!=jn.$immutableSetter){var sp=null==Li?void 0:Li.$__getValue(St);jn.$immutableSetter.call(ut,sp)}}}(re,pt,Xo),this.$markValid(ie)}catch(ut){ut instanceof h.StrictModeError&&ut.isImmutableError?this.invalidate(ie,ut):ut instanceof h.CastError?(this.invalidate(ut.path,ut),ut.$originalErrorPath&&this.invalidate(ie,new h.CastError(pt.instance,re,ie,ut.$originalErrorPath))):this.invalidate(ie,new h.CastError(pt.instance,re,ie,ut)),Mu=!1}return Mu&&(this.$__set(Do,ie,Ge,gn,pt,re,Xo),null!=this.$__.savedState&&(this.isNew||this.$__.savedState.hasOwnProperty(ie)?this.$__.savedState.hasOwnProperty(ie)&&J.deepEqual(re,this.$__.savedState[ie])&&this.unmarkModified(ie):this.$__.savedState[ie]=Xo)),pt.$isSingleNested&&(this.isDirectModified(ie)||null==re)&&B(this,ie),this},xe.prototype.$__shouldModify=function(ie,re,ge,ve,Se,De,ke){return!(!this.isNew&&(null!=this.$__schema.singleNestedPaths[re]||(void 0!==De||this.$__isSelected(re))&&(void 0===De&&re in this.$__.activePaths.states.default||this.populated(re)&&De instanceof xe&&ue(De._id,ke)||ue(De,ke||J.getValue(re,this))&&(ge||null==De||!(re in this.$__.activePaths.states.default)||!ue(De,Se.getDefault(this,ge))))))},xe.prototype.$__set=function(ie,re,ge,ve,Se,De,ke){O=O||c(29);var Ne=this.$__shouldModify(ie,re,ge,ve,Se,De,ke),je=this;Ne&&(this.markModified(ie),S||(S=c(85)),De&&De.isMongooseArray&&(De._registerAtomic("$set",De),De.isMongooseDocumentArray&&De.forEach(function(et){et&&et.__parentArray&&(et.__parentArray=De)}),this.$__.activePaths.forEach(function(et){et.startsWith(re+".")&&je.$__.activePaths.ignore(et)})));for(var Le=this._doc,Be=0,Ge=ve.length,Ue="";Be<Ge;Be++){var qe=Be+1===Ge;if(Ue+=Ue?"."+ve[Be]:ve[Be],it.has(ve[Be]))return;qe?Le instanceof Map?Le.set(ve[Be],De):Le[ve[Be]]=De:(J.isPOJO(Le[ve[Be]])||Le[ve[Be]]&&Le[ve[Be]]instanceof O||Le[ve[Be]]&&Le[ve[Be]].$isSingleNested||Le[ve[Be]]&&Array.isArray(Le[ve[Be]])||(Le[ve[Be]]=Le[ve[Be]]||{}),Le=Le[ve[Be]])}},xe.prototype.$__getValue=function(ie){return J.getValue(ie,this._doc)},xe.prototype.$__setValue=function(ie,re){return J.setValue(ie,re,this._doc),this},xe.prototype[we]=xe.prototype.get=function(ie,re,ge){var ve;ge=ge||{},re&&(ve=this.$__schema.interpretAsType(ie,re,this.$__schema.options));var Se=this.$__path(ie);if(null==Se&&(Se=this.$__schema.virtualpath(ie)),Se instanceof f){var De=this.$__schema.virtualpath(ie);null!=De&&(Se=De)}var ke=-1===ie.indexOf(".")?[ie]:ie.split("."),Ne=this._doc;if(Se instanceof $)return Se.applyGetters(void 0,this);"string"==typeof this.$__schema.aliases[ke[0]]&&(ke[0]=this.$__schema.aliases[ke[0]]);for(var je=0,Le=ke.length;je<Le;je++)Ne&&Ne._doc&&(Ne=Ne._doc),Ne=null==Ne?void 0:Ne instanceof Map?Ne.get(ke[je],{getters:!1}):je===Le-1?J.getValue(ke[je],Ne):Ne[ke[je]];if(ve&&(Ne=ve.cast(Ne)),null!=Se&&!1!==ge.getters)Ne=Se.applyGetters(Ne,this);else if(this.$__schema.nested[ie]&&ge.virtuals)return Fn(this,J.clone(Ne)||{},{path:ie});return Ne},xe.prototype.$__path=function(ie){var re=this.$__.adhocPaths;return(re&&re.hasOwnProperty(ie)?re[ie]:null)||this.$__schema.path(ie)},xe.prototype.markModified=function(ie,re){this.$__.activePaths.modify(ie),null==re||this.ownerDocument||(this.$__.pathsToScopes[ie]=re)},xe.prototype.unmarkModified=function(ie){this.$__.activePaths.init(ie),delete this.$__.pathsToScopes[ie]},xe.prototype.$ignore=function(ie){this.$__.activePaths.ignore(ie)},xe.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.states.modify)},xe.prototype.$isEmpty=function(ie){var re={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length>0){var ge=this.get(ie);return null==ge||"object"===D(ge)&&(J.isPOJO(ge)?Ct(ge):0===Object.keys(ge.toObject(re)).length)}return 0===Object.keys(this.toObject(re)).length},xe.prototype[oe]=xe.prototype.modifiedPaths=function(ie){ie=ie||{};var re=Object.keys(this.$__.activePaths.states.modify),ge=this;return re.reduce(function(ve,Se){var De=Se.split(".");if(ve=ve.concat(De.reduce(function(Ue,qe,et){return Ue.concat(De.slice(0,et).concat(qe).join("."))},[]).filter(function(Ue){return-1===ve.indexOf(Ue)})),!ie.includeChildren)return ve;var ke=ge.get(Se);if(null!=ke&&"object"===D(ke))if(ke._doc&&(ke=ke._doc),Array.isArray(ke)){for(var Ne=ke.length,je=0;je<Ne;++je)if(-1===ve.indexOf(Se+"."+je)&&(ve.push(Se+"."+je),null!=ke[je]&&ke[je].$__)){var Le,Be=x(ke[je].modifiedPaths());try{for(Be.s();!(Le=Be.n()).done;)ve.push(Se+"."+je+"."+Le.value)}catch(Ue){Be.e(Ue)}finally{Be.f()}}}else Object.keys(ke).filter(function(Ue){return-1===ve.indexOf(Se+"."+Ue)}).forEach(function(Ue){ve.push(Se+"."+Ue)});return ve},[])},xe.prototype[L]=xe.prototype.isModified=function(ie,re){if(ie){Array.isArray(ie)||(ie=ie.split(" "));var ge=re||this[oe](),ve=Object.keys(this.$__.activePaths.states.modify);return ie.some(function(Se){return!!~ge.indexOf(Se)})||ie.some(function(Se){return ve.some(function(De){return De===Se||Se.startsWith(De+".")})})}return this.$__.activePaths.some("modify")},xe.prototype.$isDefault=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("default");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.default.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(ve){return re.$__.activePaths.states.default.hasOwnProperty(ve)})},xe.prototype.$isDeleted=function(ie){return 0===arguments.length?!!this.$__.isDeleted:(this.$__.isDeleted=!!ie,this)},xe.prototype.isDirectModified=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("modify");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.modify.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(ve){return re.$__.activePaths.states.modify.hasOwnProperty(ve)})},xe.prototype.isInit=function(ie){var re=this;if(null==ie)return this.$__.activePaths.some("init");if("string"==typeof ie&&-1===ie.indexOf(" "))return this.$__.activePaths.states.init.hasOwnProperty(ie);var ge=ie;return Array.isArray(ge)||(ge=ge.split(" ")),ge.some(function(ve){return re.$__.activePaths.states.init.hasOwnProperty(ve)})},xe.prototype.$__isSelected=xe.prototype.isSelected=function(ie){var re=this;if(null==this.$__.selected)return!0;if("_id"===ie)return 0!==this.$__.selected._id;if(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie))return ie.some(function(Ge){return re.$__isSelected(Ge)});var ge=Object.keys(this.$__.selected),ve=null;if(1===ge.length&&"_id"===ge[0])return 0===this.$__.selected._id;for(var Se=0,De=ge;Se<De.length;Se++){var ke=De[Se];if("_id"!==ke&&z(this.$__.selected[ke])){ve=!!this.$__.selected[ke];break}}if(null===ve)return!0;if(ie in this.$__.selected)return ve;for(var Ne=ie+".",je=0,Le=ge;je<Le.length;je++){var Be=Le[je];if("_id"!==Be){if(Be.startsWith(Ne))return ve||Be!==Ne;if(Ne.startsWith(Be+"."))return ve}}return!ve},xe.prototype.isDirectSelected=function(ie){var re=this;if(null==this.$__.selected)return!0;if("_id"===ie)return 0!==this.$__.selected._id;if(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie))return ie.some(function(Ne){return re.isDirectSelected(Ne)});var ge=Object.keys(this.$__.selected),ve=null;if(1===ge.length&&"_id"===ge[0])return 0===this.$__.selected._id;for(var Se=0,De=ge;Se<De.length;Se++){var ke=De[Se];if("_id"!==ke&&z(this.$__.selected[ke])){ve=!!this.$__.selected[ke];break}}return null===ve||(this.$__.selected.hasOwnProperty(ie)?ve:!ve)},xe.prototype.validate=function(ie,re,ge){var ve,Se=this;if(this.$op="validate",null!=this.ownerDocument||(this.$__.validating?ve=new l(this,{parentStack:re&&re.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new l(this,{parentStack:re&&re.parentStack})),1===arguments.length?"object"!==D(arguments[0])||Array.isArray(arguments[0])?"function"==typeof arguments[0]&&(ge=arguments[0],re=null,ie=null):(re=arguments[0],ge=null,ie=null):"function"==typeof ie?(ge=ie,re=null,ie=null):"function"==typeof re&&(ge=re,re=ie,ie=null),re&&"string"==typeof re.pathsToSkip){var De=-1===re.pathsToSkip.indexOf(" ");re.pathsToSkip=De?[re.pathsToSkip]:re.pathsToSkip.split(" ")}return K(ge,function(ke){if(null!=ve)return ke(ve);Se.$__validate(ie,re,function(Ne){Se.$op=null,ke(Ne)})},this.constructor.events)},xe.prototype.$__validate=function(ie,re,ge){var ve=this;"function"==typeof ie?(ge=ie,re=null,ie=null):"function"==typeof re&&(ge=re,re=null);var Se,De=re&&"object"===D(re)&&"validateModifiedOnly"in re,ke=P(re,"pathsToSkip",null);Se=De?!!re.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var Ne=this,je=function(){var lt=ve.$__.validationError;if(ve.$__.validationError=void 0,Se&&null!=lt){for(var ht=0,wt=Object.keys(lt.errors);ht<wt.length;ht++){var Pt=wt[ht];ve.isModified(Pt)||delete lt.errors[Pt]}0===Object.keys(lt.errors).length&&(lt=void 0)}if(ve.$__.cachedRequired={},ve.emit("validate",Ne),ve.constructor.emit("validate",Ne),ve.$__.validating=null,lt){for(var pt in lt.errors)!ve[H]&&lt.errors[pt]instanceof h.CastError&&ve.invalidate(pt,lt.errors[pt]);return lt}},Le=Ot(this),Be=Se?Le[0].filter(function(lt){return ve.isModified(lt)}):Le[0],Ge=Le[1];if("string"==typeof ie&&(ie=ie.split(" ")),Array.isArray(ie)?Be=tn(Be,ie):ke&&(Be=si(Be,ke)),0===Be.length)return X(function(){var lt=je();if(lt)return Ne.$__schema.s.hooks.execPost("validate:error",Ne,[Ne],{error:lt},function(ht){ge(ht)});ge(null,Ne)});var Ue,qe={},et=0,dt=x(Be);try{for(dt.s();!(Ue=dt.n()).done;)_t(Ue.value)}catch(lt){dt.e(lt)}finally{dt.f()}function _t(lt){null==lt||qe[lt]||(qe[lt]=!0,et++,X(function(){var ht=Ne.$__schema.path(lt);if(!ht)return--et||Ke();if(Ne.$isValid(lt)){if(null!=ht[Qe]&&lt!==ht.path)return--et||Ke();var wt,Pt=Ne.$__getValue(lt);null==Pt&&(wt=Ne.populated(lt))&&(Pt=wt),ht.doValidate(Pt,function(on){if(on&&(!ht.$isMongooseDocumentArray||on.$isArrayValidatorError)){if(ht.$isSingleNested&&on instanceof C&&!1===ht.schema.options.storeSubdocValidationError)return--et||Ke();Ne.invalidate(lt,on,void 0,!0)}--et||Ke()},lt in Ne.$__.pathsToScopes?Ne.$__.pathsToScopes[lt]:Ne,{skipSchemaValidators:Ge[lt],path:lt,validateModifiedOnly:Se})}else--et||Ke()}))}function Ke(){var lt=je();if(lt)return Ne.$__schema.s.hooks.execPost("validate:error",Ne,[Ne],{error:lt},function(ht){ge(ht)});ge(null,Ne)}},xe.prototype.validateSync=function(ie,re){var ge=this,ve=this;1!==arguments.length||"object"!==D(arguments[0])||Array.isArray(arguments[0])||(re=arguments[0],ie=null);var Se,De=re&&"object"===D(re)&&"validateModifiedOnly"in re;Se=De?!!re.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var ke=re&&re.pathsToSkip;if("string"==typeof ie){var Ne=-1===ie.indexOf(" ");ie=Ne?[ie]:ie.split(" ")}else"string"==typeof ke&&-1!==ke.indexOf(" ")&&(ke=ke.split(" "));var je=Ot(this),Le=Se?je[0].filter(function(et){return ge.isModified(et)}):je[0],Be=je[1];Array.isArray(ie)?Le=tn(Le,ie):Array.isArray(ke)&&(Le=si(Le,ke));var Ge={};Le.forEach(function(et){if(!Ge[et]){Ge[et]=!0;var dt=ve.$__schema.path(et);if(dt&&ve.$isValid(et)){var _t=ve.$__getValue(et),Ke=dt.doValidateSync(_t,ve,{skipSchemaValidators:Be[et],path:et,validateModifiedOnly:Se});if(Ke&&(!dt.$isMongooseDocumentArray||Ke.$isArrayValidatorError)){if(dt.$isSingleNested&&Ke instanceof C&&!1===dt.schema.options.storeSubdocValidationError)return;ve.invalidate(et,Ke,void 0,!0)}}}});var Ue=ve.$__.validationError;if(ve.$__.validationError=void 0,ve.emit("validate",ve),ve.constructor.emit("validate",ve),Ue)for(var qe in Ue.errors)Ue.errors[qe]instanceof h.CastError&&ve.invalidate(qe,Ue.errors[qe]);return Ue},xe.prototype.invalidate=function(ie,re,ge,ve){if(this.$__.validationError||(this.$__.validationError=new C(this)),!this.$__.validationError.errors[ie])return re&&"string"!=typeof re||(re=new A({path:ie,message:re,type:ve||"user defined",value:ge})),this.$__.validationError===re||this.$__.validationError.addError(ie,re),this.$__.validationError},xe.prototype.$markValid=function(ie){this.$__.validationError&&this.$__.validationError.errors[ie]&&(delete this.$__.validationError.errors[ie],0===Object.keys(this.$__.validationError.errors).length&&(this.$__.validationError=null))},xe.prototype.$isValid=function(ie){var re=this;return null==this.$__.validationError||0===Object.keys(this.$__.validationError.errors).length||null!=ie&&(-1!==ie.indexOf(" ")&&(ie=ie.split(" ")),Array.isArray(ie)?ie.some(function(ge){return null==re.$__.validationError.errors[ge]}):null==this.$__.validationError.errors[ie])},xe.prototype.$__reset=function(){var ie=this;return I||(I=c(18)),this.$__.activePaths.map("init","modify",function(re){return ie.$__getValue(re)}).filter(function(re){return re&&re instanceof Array&&re.isMongooseDocumentArray&&re.length}).forEach(function(re){for(var ge=re.length;ge--;){var ve=re[ge];ve&&ve.$__reset()}ie.$__.activePaths.init(re.$path()),re[N]=re[M],re[M]={}}),this.$__.activePaths.map("init","modify",function(re){return ie.$__getValue(re)}).filter(function(re){return re&&re.$isSingleNested}).forEach(function(re){re.$__reset(),re.$__parent===ie?ie.$__.activePaths.init(re.$basePath):null!=re.$__parent&&re.$__parent.ownerDocument&&re.$__parent.$__reset()}),this.$__dirty().forEach(function(re){var ge=re.value;ge&&ge[M]&&(ge[N]=ge[M],ge[M]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.states.modify),default:Object.assign({},this.$__.activePaths.states.default)},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.errors=void 0,ie=this,this.$__schema.requiredPaths().forEach(function(re){ie.$__.activePaths.require(re)}),this},xe.prototype.$__undoReset=function(){if(null!=this.$__.backup&&null!=this.$__.backup.activePaths){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.errors=this.$__.backup.errors;var ie,re=x(this.$__dirty());try{for(re.s();!(ie=re.n()).done;){var ge=ie.value.value;ge&&ge[M]&&ge[N]&&(ge[M]=ge[N])}}catch(De){re.e(De)}finally{re.f()}var ve,Se=x(this.$getAllSubdocs());try{for(Se.s();!(ve=Se.n()).done;)ve.value.$__undoReset()}catch(De){Se.e(De)}finally{Se.f()}}},xe.prototype.$__dirty=function(){var ie=this,re=this.$__.activePaths.map("modify",function(De){return{path:De,value:ie.$__getValue(De),schema:ie.$__path(De)}});(re=re.concat(this.$__.activePaths.map("default",function(De){if("_id"!==De&&null!=ie.$__getValue(De))return{path:De,value:ie.$__getValue(De),schema:ie.$__path(De)}}))).sort(function(De,ke){return De.path<ke.path?-1:De.path>ke.path?1:0});var ge,ve,Se=[];return re.forEach(function(De){De&&(null==ge||0!==De.path.indexOf(ge)?(ge=De.path+".",Se.push(De),ve=De):null!=ve&&null!=ve.value&&null!=ve.value[M]&&ve.value.hasAtomics()&&(ve.value[M]={},ve.value[M].$set=ve.value))}),ve=ge=null,Se},xe.prototype.$__setSchema=function(ie){ie.plugin(ne,{deduplicate:!0}),F(ie.tree,this,void 0,ie.options);for(var re=0,ge=Object.keys(ie.virtuals);re<ge.length;re++)ie.virtuals[ge[re]]._applyDefaultGetters();null==ie.path("schema")&&(this.schema=ie),this.$__schema=ie,this[de]=ie},xe.prototype.$__getArrayPathsToValidate=function(){return I||(I=c(18)),this.$__.activePaths.map("init","modify",function(ie){return this.$__getValue(ie)}.bind(this)).filter(function(ie){return ie&&ie instanceof Array&&ie.isMongooseDocumentArray&&ie.length}).reduce(function(ie,re){return ie.concat(re)},[]).filter(function(ie){return ie})},xe.prototype.$getAllSubdocs=function(){function ie(Se,De,ke){var Ne=Se,je=!1;if(ke&&(Se instanceof xe&&Se[de].paths[ke]?Ne=Se._doc[ke]:Se instanceof xe&&Se[de].nested[ke]?(Ne=Se._doc[ke],je=!0):Ne=Se[ke]),Ne instanceof O)De.push(Ne);else if(Ne instanceof Map)De=Array.from(Ne.keys()).reduce(function(Ue,qe){return ie(Ne.get(qe),Ue,null)},De);else if(Ne&&Ne.$isSingleNested)(De=Object.keys(Ne._doc).reduce(function(Ue,qe){return ie(Ne._doc,Ue,qe)},De)).push(Ne);else if(Ne&&Ne.isMongooseDocumentArray)Ne.forEach(function(Ue){Ue&&Ue._doc&&(De=Object.keys(Ue._doc).reduce(function(qe,et){return ie(Ue._doc,qe,et)},De),Ue instanceof O&&De.push(Ue))});else if(je&&null!=Ne)for(var Le=0,Be=Object.keys(Ne);Le<Be.length;Le++)ie(Ne,De,Be[Le]);return De}I||(I=c(18)),O=O||c(29);for(var re=[],ge=0,ve=Object.keys(this._doc);ge<ve.length;ge++)ie(this,re,ve[ge]);return re},xe.prototype.$__handleReject=function(ie){this.listeners("error").length?this.emit("error",ie):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",ie)},xe.prototype.$toObject=function(ie,re){var ge,ve,Se={transform:!0,flattenDecimals:!0},De=re?"toJSON":"toObject",ke=P(this,"constructor.base.options."+De,{}),Ne=P(this,"$__schema.options",{});Se=J.options(Se,te(ke)),Se=J.options(Se,te(Ne[De]||{})),(ie=J.isPOJO(ie)?te(ie):{})._calledWithOptions=ie._calledWithOptions||te(ie),ge=null!=ie._calledWithOptions.minimize?ie.minimize:null!=Se.minimize?Se.minimize:Ne.minimize,ve=null!=ie._calledWithOptions.flattenMaps?ie.flattenMaps:null!=Se.flattenMaps?Se.flattenMaps:Ne.flattenMaps;var je=Object.assign(J.clone(ie),{_isNested:!0,json:re,minimize:ge,flattenMaps:ve});if(J.hasUserDefinedProperty(ie,"getters")&&(je.getters=ie.getters),J.hasUserDefinedProperty(ie,"virtuals")&&(je.virtuals=ie.virtuals),(ie.depopulate||P(ie,"_parentOptions.depopulate",!1))&&ie._isNested&&this.$__.wasPopulated)return te(this._id,je);(ie=J.options(Se,ie))._isNested=!0,ie.json=re,ie.minimize=ge,je._parentOptions=ie,je._skipSingleNestedGetters=!0;var Le=Object.assign({},je);Le._skipSingleNestedGetters=!1;var Be=ie.transform,Ge=te(this._doc,je)||{};ie.getters&&(function(dt,_t,Ke){var lt,ht,Pt=Object.keys(dt.$__schema.paths),pt=Pt.length,cn=dt._doc;if(!cn)return _t;for(;pt--;){var on=(lt=Pt[pt]).split("."),dn=on.length,nr=dn-1,Bt=_t,xn=void 0;if(cn=dt._doc,dt.$__isSelected(lt))for(var Tn=0;Tn<dn;++Tn){if(ht=cn[xn=on[Tn]],Tn===nr){var So=dt.get(lt);Bt[xn]=te(So,Ke)}else{if(null==ht){xn in cn&&(Bt[xn]=ht);break}Bt=Bt[xn]||(Bt[xn]={})}cn=ht}}}(this,Ge,Le),ie.minimize&&(Ge=function dt(_t){for(var Ke,lt,ht,wt=Object.keys(_t),Pt=wt.length;Pt--;)J.isObject(ht=_t[lt=wt[Pt]])&&!p.isBuffer(ht)&&(_t[lt]=dt(ht)),void 0!==_t[lt]?Ke=!0:delete _t[lt];return Ke?_t:void 0}(Ge)||{})),(ie.virtuals||ie.getters&&!1!==ie.virtuals)&&Fn(this,Ge,Le,ie),!1===ie.versionKey&&this.$__schema.options.versionKey&&delete Ge[this.$__schema.options.versionKey];var Ue=ie.transform;if(Ue&&function(dt,_t){var Ke=dt.$__schema,lt=Object.keys(Ke.paths||{});if(!dt._doc)return _t;for(var ht=0,wt=lt;ht<wt.length;ht++){var Pt=wt[ht],pt=Ke.paths[Pt];if("function"==typeof pt.options.transform){var cn=dt.get(Pt),on=pt.options.transform.call(dt,cn);Pi(Pt,on),J.setValue(Pt,on,_t)}else if(null!=pt.$embeddedSchemaType&&"function"==typeof pt.$embeddedSchemaType.options.transform){for(var dn=[].concat(dt.get(Pt)),nr=pt.$embeddedSchemaType.options.transform,Bt=0;Bt<dn.length;++Bt){var xn=nr.call(dt,dn[Bt]);dn[Bt]=xn,Pi(Pt,xn)}_t[Pt]=dn}}}(this,Ge),ie.useProjection&&function(dt,_t){var Ke=dt.$__schema,lt=Object.keys(Ke.paths||{});if(!dt._doc)return _t;var ht=dt.$__.selected;if(void 0===ht&&pe.applyPaths(ht={},Ke),null==ht||0===Object.keys(ht).length)return _t;for(var wt=0,Pt=lt;wt<Pt.length;wt++){var pt=Pt[wt];null==ht[pt]||ht[pt]||delete _t[pt]}}(this,Ge),!0===Ue||Ne.toObject&&Ue){var qe=ie.json?Ne.toJSON:Ne.toObject;qe&&(Ue="function"==typeof ie.transform?ie.transform:qe.transform)}else ie.transform=Be;if("function"==typeof Ue){var et=Ue(this,Ge,ie);void 0!==et&&(Ge=et)}return Ge},xe.prototype.toObject=function(ie){return this.$toObject(ie)},xe.prototype.toJSON=function(ie){return this.$toObject(ie,!0)},xe.prototype.$parent=xe.prototype.parent=function(){return this.$__.parent},xe.prototype.inspect=function(ie){var re;J.isPOJO(ie)&&((re=ie).minimize=!1);var ge=this.toObject(re);return null==ge?"MongooseDocument { "+ge+" }":ge},Z.custom&&(xe.prototype[Z.custom]=xe.prototype.inspect),xe.prototype.toString=function(){var ie=this.inspect();return"string"==typeof ie?ie:Z(ie)},xe.prototype.equals=function(ie){if(!ie)return!1;var re=this.$__getValue("_id"),ge=null!=ie.$__?ie.$__getValue("_id"):ie;return re||ge?re&&re.equals?re.equals(ge):re===ge:ue(this,ie)},xe.prototype.populate=function(){if(0===arguments.length)return this;var ie,re=this.$__.populate||(this.$__.populate={}),ge=J.args(arguments);if("function"==typeof ge[ge.length-1]&&(ie=ge.pop()),ge.length){var ve,Se=J.populate.apply(null,ge),De=x(Se);try{for(De.s();!(ve=De.n()).done;){var ke=ve.value;re[ke.path]=ke}}catch(Ge){De.e(Ge)}finally{De.f()}}if(ie){var Ne=J.object.vals(re);this.$__.populate=void 0;var je=this.constructor;if(this.$__isNested){je=this.$__[Ve].constructor;var Le=this.$__.nestedPath;Ne.forEach(function(Ge){Ge.path=Le+"."+Ge.path})}if(null!=this.$session()){var Be=this.$session();Ne.forEach(function(Ge){null!=Ge.options?"session"in Ge.options||(Ge.options.session=Be):Ge.options={session:Be}})}je.populate(this,Ne,ie)}return this},xe.prototype.$getPopulatedDocs=function(){var ie=[];null!=this.$__.populated&&(ie=ie.concat(Object.keys(this.$__.populated))),null!=this.$$populatedVirtuals&&(ie=ie.concat(Object.keys(this.$$populatedVirtuals)));var re,ge=[],ve=x(ie);try{for(ve.s();!(re=ve.n()).done;){var De=this.get(re.value);Array.isArray(De)?ge=ge.concat(De):De instanceof xe&&ge.push(De)}}catch(ke){ve.e(ke)}finally{ve.f()}return ge},xe.prototype.execPopulate=function(ie){var re=this,ge=null!=ie&&"function"!=typeof ie;return ge?this.populate.apply(this,arguments).execPopulate():K(ie,function(ve){re.populate(ve)},this.constructor.events)},xe.prototype.populated=function(ie,re,ge){if(null==re||!0===re){if(!this.$__.populated)return;var ve=ie.endsWith(".$*")?ie.replace(/\.\$\*$/,""):ie,Se=this.$__.populated[ve];return Se?!0===re?Se:Se.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[ie]={value:re,options:ge};for(var De=ie.split("."),ke=0;ke<De.length-1;++ke){var Ne=De.slice(0,ke+1).join("."),je=this.get(Ne);if(null!=je&&null!=je.$__&&this.populated(Ne)){var Le=De.slice(ke+1).join(".");je.populated(Le,re,ge);break}}return re},xe.prototype.depopulate=function(ie){var re;"string"==typeof ie&&(ie=ie.split(" "));var ge=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],ve=P(this,"$__.populated",{});if(0===arguments.length){var Se,De=x(ge);try{for(De.s();!(Se=De.n()).done;){var ke=Se.value;delete this.$$populatedVirtuals[ke],delete this._doc[ke],delete ve[ke]}}catch(et){De.e(et)}finally{De.f()}for(var Ne=Object.keys(ve),je=0,Le=Ne;je<Le.length;je++){var Be=Le[je];(re=this.populated(Be))&&(delete ve[Be],J.setValue(Be,re,this._doc))}return this}var Ge,Ue=x(ie);try{for(Ue.s();!(Ge=Ue.n()).done;){var qe=Ge.value;re=this.populated(qe),delete ve[qe],-1!==ge.indexOf(qe)?(delete this.$$populatedVirtuals[qe],delete this._doc[qe]):re&&J.setValue(qe,re,this._doc)}}catch(et){Ue.e(et)}finally{Ue.f()}return this},xe.prototype.$__fullPath=function(ie){return ie||""},xe.prototype.getChanges=function(){var ie=this.$__delta();return ie?ie[1]:{}},xe.ValidationError=C,ae.exports=xe}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";function p(_){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function w(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function V(_,m){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C})(_,m)}function I(_,m){if(m&&("object"===p(m)||"function"==typeof m))return m;if(void 0!==m)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(_)}function S(_){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)})(_)}var O=c(14),v=c(3),y=c(4),h=function(_){!function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&V(B,F)}(K,_);var m,C,$=function D(_){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,A=S(_);if(m){var $=S(this).constructor;C=Reflect.construct(A,arguments,$)}else C=A.apply(this,arguments);return I(this,C)}}(K);function K(B,F,k,U,P){var G;if(w(this,K),arguments.length>0){var W=f(F),ne=g(F),X=u(P),z=l(null,B,W,k,X,ne);(G=$.call(this,z)).init(B,F,k,U,P)}else G=$.call(this,l());return I(G)}return m=K,(C=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(B,F,k,U,P){this.stringValue=f(F),this.messageFormat=u(P),this.kind=B,this.value=F,this.path=k,this.reason=U,this.valueType=g(F)}},{key:"copy",value:function(B){this.messageFormat=B.messageFormat,this.stringValue=B.stringValue,this.kind=B.kind,this.value=B.value,this.path=B.path,this.reason=B.reason,this.message=B.message,this.valueType=B.valueType}},{key:"setModel",value:function(B){this.model=B,this.message=l(B,this.kind,this.stringValue,this.path,this.messageFormat,this.valueType)}}])&&function x(_,m){for(var C=0;C<m.length;C++){var A=m[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,(K=function(B,F){if("object"!==p(B)||null===B)return B;var k=B[Symbol.toPrimitive];if(void 0!==k){var U=k.call(B,"string");if("object"!==p(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(A.key),"symbol"===p(K)?K:String(K)),A)}var K}(m.prototype,C),Object.defineProperty(m,"prototype",{writable:!1}),K}(O);function f(_){var m=y.inspect(_);return(m=m.replace(/^'|'$/g,'"')).startsWith('"')||(m='"'+m+'"'),m}function g(_){if(null==_)return""+_;var m=p(_);return"object"!==m||"function"!=typeof _.constructor?m:_.constructor.name}function u(_){var m=v(_,"options.cast",null);if("string"==typeof m)return m}function l(_,m,C,A,$,K){if(null!=$){var B=$.replace("{KIND}",m).replace("{VALUE}",C).replace("{PATH}",A);return null!=_&&(B=B.replace("{MODEL}",_.modelName)),B}var F="Cast to "+m+" failed for value "+C+(K?" (type "+K+")":"")+' at path "'+A+'"';return null!=_&&(F+=' for model "'+_.modelName+'"'),F}Object.defineProperty(h.prototype,"name",{value:"CastError"}),ae.exports=h},function(ae,q,c){"use strict";function p(h){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function x(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function V(h,f){if(f&&("object"===p(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(h)}function D(h){var f="function"==typeof Map?new Map:void 0;return(D=function(g){if(null===g||-1===Function.toString.call(g).indexOf("[native code]"))return g;if("function"!=typeof g)throw new TypeError("Super expression must either be null or a function");if(void 0!==f){if(f.has(g))return f.get(g);f.set(g,l)}function l(){return I(g,arguments,v(this).constructor)}return l.prototype=Object.create(g.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),O(l,g)})(h)}function I(h,f,g){return(I=S()?Reflect.construct.bind():function(u,l,_){var m=[null];m.push.apply(m,l);var C=new(Function.bind.apply(u,m));return _&&O(C,_.prototype),C}).apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}function O(h,f){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,u){return g.__proto__=u,g})(h,f)}function v(h){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(h)}var y=function(h){!function(A,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create($&&$.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),$&&O(A,$)}(C,h);var f,g,u,m=(f=C,g=S(),function(){var A,$=v(f);if(g){var K=v(this).constructor;A=Reflect.construct($,arguments,K)}else A=$.apply(this,arguments);return V(this,A)});function C(){return x(this,C),m.apply(this,arguments)}return u=C,Object.defineProperty(u,"prototype",{writable:!1}),u}(D(Error));Object.defineProperty(y.prototype,"name",{value:"MongooseError"}),ae.exports=y},function(ae,q,c){"use strict";var p=null;ae.exports.get=function(){return p},ae.exports.set=function(w){p=w}},function(ae,q,c){"use strict";(function(p){function w(x,V){return new p(x,V)}ae.exports={normalizedFunctionString:function(x){return x.toString().replace(/function *\(/,"function (")},allocBuffer:"function"==typeof p.alloc?function(){return p.alloc.apply(p,arguments)}:w,toBuffer:"function"==typeof p.from?function(){return p.from.apply(p,arguments)}:w}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";q.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}},function(ae,q,c){"use strict";(function(p){function w(ne){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(ne)}function x(ne,X){var z="undefined"!=typeof Symbol&&ne[Symbol.iterator]||ne["@@iterator"];if(!z){if(Array.isArray(ne)||(z=function(J,Ee){if(J){if("string"==typeof J)return V(J,void 0);var te=Object.prototype.toString.call(J).slice(8,-1);if("Object"===te&&J.constructor&&(te=J.constructor.name),"Map"===te||"Set"===te)return Array.from(J);if("Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return V(J,void 0)}}(ne))||X&&ne&&"number"==typeof ne.length){z&&(ne=z);var Q=0,Z=function(){};return{s:Z,n:function(){return Q>=ne.length?{done:!0}:{done:!1,value:ne[Q++]}},e:function(J){throw J},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,ce=!0,pe=!1;return{s:function(){z=z.call(ne)},n:function(){var J=z.next();return ce=J.done,J},e:function(J){pe=!0,j=J},f:function(){try{ce||null==z.return||z.return()}finally{if(pe)throw j}}}}function V(ne,X){(null==X||X>ne.length)&&(X=ne.length);for(var z=0,Q=new Array(X);z<X;z++)Q[z]=ne[z];return Q}function D(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")}function S(){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(ne,X,z){var Q=O(ne,X);if(Q){var Z=Object.getOwnPropertyDescriptor(Q,X);return Z.get?Z.get.call(arguments.length<3?ne:z):Z.value}}).apply(this,arguments)}function O(ne,X){for(;!Object.prototype.hasOwnProperty.call(ne,X)&&null!==(ne=f(ne)););return ne}function v(ne,X){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,Q){return z.__proto__=Q,z})(ne,X)}function h(ne,X){if(X&&("object"===w(X)||"function"==typeof X))return X;if(void 0!==X)throw new TypeError("Derived constructors may only return object or undefined");return function(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(ne)}function f(ne){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)})(ne)}var g=c(86),u=c(12),l=c(11),_=c(89),m=c(37),C=c(17).internalToObjectOptions,A=c(4),$=c(1),K=c(0).arrayAtomicsSymbol,B=c(0).arrayParentSymbol,F=c(0).arrayPathSymbol,k=c(0).arraySchemaSymbol,U=c(0).documentArrayParent,P=Array.prototype.push,G=function(ne){!function(Q,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),Z&&v(Q,Z)}(z,ne);var Q,Z,X=function y(ne){var X=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var z,Q=f(ne);if(X){var Z=f(this).constructor;z=Reflect.construct(Q,arguments,Z)}else z=Q.apply(this,arguments);return h(this,z)}}(z);function z(){return D(this,z),X.apply(this,arguments)}return Q=z,Z=[{key:"isMongooseDocumentArray",get:function(){return!0}},{key:"toBSON",value:function(){return this.toObject(C)}},{key:"map",value:function(){var Q=S(f(z.prototype),"map",this).apply(this,arguments);return Q[k]=null,Q[F]=null,Q[B]=null,Q}},{key:"_cast",value:function(Q,Z){if(null==this[k])return Q;var j=this[k].casterConstructor;if((j.$isMongooseDocumentArray?Q&&Q.isMongooseDocumentArray:Q instanceof j)||Q&&Q.constructor&&Q.constructor.baseCasterConstructor===j)return Q[U]&&Q.__parentArray||(Q[U]=this[B],Q.__parentArray=this),Q.$setIndex(Z),Q;if(null==Q)return null;if((p.isBuffer(Q)||Q instanceof l||!$.isObject(Q))&&(Q={_id:Q}),Q&&j.discriminators&&j.schema&&j.schema.options&&j.schema.options.discriminatorKey)if("string"==typeof Q[j.schema.options.discriminatorKey]&&j.discriminators[Q[j.schema.options.discriminatorKey]])j=j.discriminators[Q[j.schema.options.discriminatorKey]];else{var ce=m(j.discriminators,Q[j.schema.options.discriminatorKey]);ce&&(j=ce)}return j.$isMongooseDocumentArray?j.cast(Q,this,void 0,void 0,Z):new j(Q,this,void 0,void 0,Z)}},{key:"id",value:function(Q){var Z,j,ce;try{Z=_(Q).toString()}catch(te){Z=null}var pe,J=x(this);try{for(J.s();!(pe=J.n()).done;){var Ee=pe.value;if(Ee&&null!=(ce=Ee.get("_id")))if(ce instanceof u){if(j||(j=String(Q)),j==ce._id)return Ee}else if(Q instanceof l||ce instanceof l){if(Z==ce)return Ee}else if(Q==ce||$.deepEqual(Q,ce))return Ee}}catch(te){J.e(te)}finally{J.f()}return null}},{key:"toObject",value:function(Q){return[].concat(this.map(function(Z){return null==Z?null:"function"!=typeof Z.toObject?Z:Z.toObject(Q)}))}},{key:"slice",value:function(){var Q=S(f(z.prototype),"slice",this).apply(this,arguments);return Q[B]=this[B],Q[F]=this[F],Q}},{key:"push",value:function(){var Q=S(f(z.prototype),"push",this).apply(this,arguments);return W(this),Q}},{key:"pull",value:function(){var Q=S(f(z.prototype),"pull",this).apply(this,arguments);return W(this),Q}},{key:"shift",value:function(){var Q=S(f(z.prototype),"shift",this).apply(this,arguments);return W(this),Q}},{key:"splice",value:function(){var Q=S(f(z.prototype),"splice",this).apply(this,arguments);return W(this),Q}},{key:"inspect",value:function(){return this.toObject()}},{key:"create",value:function(Q){var Z=this[k].casterConstructor;if(Q&&Z.discriminators&&Z.schema&&Z.schema.options&&Z.schema.options.discriminatorKey)if("string"==typeof Q[Z.schema.options.discriminatorKey]&&Z.discriminators[Q[Z.schema.options.discriminatorKey]])Z=Z.discriminators[Q[Z.schema.options.discriminatorKey]];else{var j=m(Z.discriminators,Q[Z.schema.options.discriminatorKey]);j&&(Z=j)}return new Z(Q,this)}},{key:"notify",value:function(Q){var Z=this;return function j(ce,pe){for(var J=(pe=pe||Z).length;J--;)null!=pe[J]&&("save"===Q&&(ce=Z[J]),pe[J].isMongooseArray?j(ce,pe[J]):pe[J]&&pe[J].emit(Q,ce))}}},{key:"_markModified",value:function(Q,Z){var j,ce=this[B];if(ce){if(j=this[F],arguments.length)if(null!=Z){var pe=Q.__index;j=j+"."+pe+"."+Z}else j=j+"."+Q;if(null!=j&&j.endsWith(".$"))return this;ce.markModified(j,arguments.length>0?Q:ce)}return this}}],Z&&function I(ne,X){for(var z=0;z<X.length;z++){var Q=X[z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ne,(j=function(ce,pe){if("object"!==w(ce)||null===ce)return ce;var J=ce[Symbol.toPrimitive];if(void 0!==J){var Ee=J.call(ce,"string");if("object"!==w(Ee))return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ce)}(Q.key),"symbol"===w(j)?j:String(j)),Q)}var j}(Q.prototype,Z),Object.defineProperty(Q,"prototype",{writable:!1}),z}(g);function W(ne){var X=ne[B];if(X&&null!=X.$__.populated){var z,Q=x(Object.keys(X.$__.populated).filter(function(j){return j.startsWith(ne[F]+".")}));try{var Z=function(){var j=z.value,ce=j.slice((ne[F]+".").length);if(!Array.isArray(X.$__.populated[j].value))return"continue";X.$__.populated[j].value=ne.map(function(pe){return pe.populated(ce)})};for(Q.s();!(z=Q.n()).done;)Z()}catch(j){Q.e(j)}finally{Q.f()}}}A.inspect.custom&&(G.prototype[A.inspect.custom]=G.prototype.inspect),ae.exports=function(ne,X,z){var Q=new G;if(Q[K]={},Q[k]=void 0,Array.isArray(ne)&&(ne[F]===X&&ne[B]===z&&(Q[K]=Object.assign({},ne[K])),ne.forEach(function(Z){P.call(Q,Z)})),Q[F]=X,z&&z instanceof u)for(Q[B]=z,Q[k]=z.schema.path(X);null!=Q&&null!=Q[k]&&Q[k].$isMongooseArray&&!Q[k].$isMongooseDocumentArray;)Q[k]=Q[k].casterConstructor;return Q}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";function p(m){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(m)}var w,x="object"===("undefined"==typeof Reflect?"undefined":p(Reflect))?Reflect:null,V=x&&"function"==typeof x.apply?x.apply:function(m,C,A){return Function.prototype.apply.call(m,C,A)};w=x&&"function"==typeof x.ownKeys?x.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var D=Number.isNaN||function(m){return m!=m};function I(){I.init.call(this)}ae.exports=I,ae.exports.once=function(m,C){return new Promise(function(A,$){function K(F){m.removeListener(C,B),$(F)}function B(){"function"==typeof m.removeListener&&m.removeListener("error",K),A([].slice.call(arguments))}var F;_(m,C,B,{once:!0}),"error"!==C&&("function"==typeof(F=m).on&&_(F,"error",K,{once:!0}))})},I.EventEmitter=I,I.prototype._events=void 0,I.prototype._eventsCount=0,I.prototype._maxListeners=void 0;var S=10;function O(m){if("function"!=typeof m)throw new TypeError('The "listener" argument must be of type Function. Received type '+p(m))}function v(m){return void 0===m._maxListeners?I.defaultMaxListeners:m._maxListeners}function y(m,C,A,$){var K,B,F;if(O(A),void 0===(B=m._events)?(B=m._events=Object.create(null),m._eventsCount=0):(void 0!==B.newListener&&(m.emit("newListener",C,A.listener?A.listener:A),B=m._events),F=B[C]),void 0===F)F=B[C]=A,++m._eventsCount;else if("function"==typeof F?F=B[C]=$?[A,F]:[F,A]:$?F.unshift(A):F.push(A),(K=v(m))>0&&F.length>K&&!F.warned){F.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=m,U.type=C,U.count=F.length,console&&console.warn&&console.warn(U)}return m}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(m,C,A){var $={fired:!1,wrapFn:void 0,target:m,type:C,listener:A},K=h.bind($);return K.listener=A,$.wrapFn=K,K}function g(m,C,A){var $=m._events;if(void 0===$)return[];var K=$[C];return void 0===K?[]:"function"==typeof K?A?[K.listener||K]:[K]:A?function(B){for(var F=new Array(B.length),k=0;k<F.length;++k)F[k]=B[k].listener||B[k];return F}(K):l(K,K.length)}function u(m){var C=this._events;if(void 0!==C){var A=C[m];if("function"==typeof A)return 1;if(void 0!==A)return A.length}return 0}function l(m,C){for(var A=new Array(C),$=0;$<C;++$)A[$]=m[$];return A}function _(m,C,A,$){if("function"==typeof m.on)$.once?m.once(C,A):m.on(C,A);else{if("function"!=typeof m.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+p(m));m.addEventListener(C,function K(B){$.once&&m.removeEventListener(C,K),A(B)})}}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(m){if("number"!=typeof m||m<0||D(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");S=m}}),I.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},I.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||D(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},I.prototype.getMaxListeners=function(){return v(this)},I.prototype.emit=function(m){for(var C=[],A=1;A<arguments.length;A++)C.push(arguments[A]);var $="error"===m,K=this._events;if(void 0!==K)$=$&&void 0===K.error;else if(!$)return!1;if($){var B;if(C.length>0&&(B=C[0]),B instanceof Error)throw B;var F=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw F.context=B,F}var k=K[m];if(void 0===k)return!1;if("function"==typeof k)V(k,this,C);else{var U=k.length,P=l(k,U);for(A=0;A<U;++A)V(P[A],this,C)}return!0},I.prototype.on=I.prototype.addListener=function(m,C){return y(this,m,C,!1)},I.prototype.prependListener=function(m,C){return y(this,m,C,!0)},I.prototype.once=function(m,C){return O(C),this.on(m,f(this,m,C)),this},I.prototype.prependOnceListener=function(m,C){return O(C),this.prependListener(m,f(this,m,C)),this},I.prototype.off=I.prototype.removeListener=function(m,C){var A,$,K,B,F;if(O(C),void 0===($=this._events))return this;if(void 0===(A=$[m]))return this;if(A===C||A.listener===C)0==--this._eventsCount?this._events=Object.create(null):(delete $[m],$.removeListener&&this.emit("removeListener",m,A.listener||C));else if("function"!=typeof A){for(K=-1,B=A.length-1;B>=0;B--)if(A[B]===C||A[B].listener===C){F=A[B].listener,K=B;break}if(K<0)return this;0===K?A.shift():function(k,U){for(;U+1<k.length;U++)k[U]=k[U+1];k.pop()}(A,K),1===A.length&&($[m]=A[0]),void 0!==$.removeListener&&this.emit("removeListener",m,F||C)}return this},I.prototype.removeAllListeners=function(m){var C,A,$;if(void 0===(A=this._events))return this;if(void 0===A.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==A[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete A[m]),this;if(0===arguments.length){var K,B=Object.keys(A);for($=0;$<B.length;++$)"removeListener"!==(K=B[$])&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(C=A[m]))this.removeListener(m,C);else if(void 0!==C)for($=C.length-1;$>=0;$--)this.removeListener(m,C[$]);return this},I.prototype.listeners=function(m){return g(this,m,!0)},I.prototype.rawListeners=function(m){return g(this,m,!1)},I.listenerCount=function(m,C){return"function"==typeof m.listenerCount?m.listenerCount(C):u.call(m,C)},I.prototype.listenerCount=u,I.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},function(ae,q,c){"use strict";ae.exports=c(15).get().Decimal128},function(ae,q,c){"use strict";(function(p){ae.exports=function(w){return!!p.isBuffer(w)||"[object Object]"===Object.prototype.toString.call(w)}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";(function(p){var w=p.nextTick.bind(p);ae.exports=function(x){return w(x)}}).call(this,c(10))},function(ae,q,c){"use strict";(function(p){function w(k){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(k)}var x=c(118);function V(k,U){if(k===U)return 0;for(var P=k.length,G=U.length,W=0,ne=Math.min(P,G);W<ne;++W)if(k[W]!==U[W]){P=k[W],G=U[W];break}return P<G?-1:G<P?1:0}function D(k){return p.Buffer&&"function"==typeof p.Buffer.isBuffer?p.Buffer.isBuffer(k):!(null==k||!k._isBuffer)}var I=c(4),S=Object.prototype.hasOwnProperty,O=Array.prototype.slice,v="foo"===function(){}.name;function y(k){return Object.prototype.toString.call(k)}function h(k){return!D(k)&&"function"==typeof p.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(k):!!k&&(k instanceof DataView||!!(k.buffer&&k.buffer instanceof ArrayBuffer)))}var f=ae.exports=C,g=/\s*function\s+([^\(\s]*)\s*/;function u(k){if(I.isFunction(k)){if(v)return k.name;var U=k.toString().match(g);return U&&U[1]}}function l(k,U){return"string"==typeof k?k.length<U?k:k.slice(0,U):k}function _(k){if(v||!I.isFunction(k))return I.inspect(k);var U=u(k);return"[Function"+(U?": "+U:"")+"]"}function m(k,U,P,G,W){throw new f.AssertionError({message:P,actual:k,expected:U,operator:G,stackStartFunction:W})}function C(k,U){k||m(k,!0,U,"==",f.ok)}function A(k,U,P,G){if(k===U)return!0;if(D(k)&&D(U))return 0===V(k,U);if(I.isDate(k)&&I.isDate(U))return k.getTime()===U.getTime();if(I.isRegExp(k)&&I.isRegExp(U))return k.source===U.source&&k.global===U.global&&k.multiline===U.multiline&&k.lastIndex===U.lastIndex&&k.ignoreCase===U.ignoreCase;if(null!==k&&"object"===w(k)||null!==U&&"object"===w(U)){if(h(k)&&h(U)&&y(k)===y(U)&&!(k instanceof Float32Array||k instanceof Float64Array))return 0===V(new Uint8Array(k.buffer),new Uint8Array(U.buffer));if(D(k)!==D(U))return!1;var W=(G=G||{actual:[],expected:[]}).actual.indexOf(k);return-1!==W&&W===G.expected.indexOf(U)||(G.actual.push(k),G.expected.push(U),function(ne,X,z,Q){if(null==ne||null==X)return!1;if(I.isPrimitive(ne)||I.isPrimitive(X))return ne===X;if(z&&Object.getPrototypeOf(ne)!==Object.getPrototypeOf(X))return!1;var Z=$(ne),j=$(X);if(Z&&!j||!Z&&j)return!1;if(Z)return A(ne=O.call(ne),X=O.call(X),z);var ce,pe,J=F(ne),Ee=F(X);if(J.length!==Ee.length)return!1;for(J.sort(),Ee.sort(),pe=J.length-1;pe>=0;pe--)if(J[pe]!==Ee[pe])return!1;for(pe=J.length-1;pe>=0;pe--)if(!A(ne[ce=J[pe]],X[ce],z,Q))return!1;return!0}(k,U,P,G))}return P?k===U:k==U}function $(k){return"[object Arguments]"==Object.prototype.toString.call(k)}function K(k,U){if(!k||!U)return!1;if("[object RegExp]"==Object.prototype.toString.call(U))return U.test(k);try{if(k instanceof U)return!0}catch(P){}return!Error.isPrototypeOf(U)&&!0===U.call({},k)}function B(k,U,P,G){var W;if("function"!=typeof U)throw new TypeError('"block" argument must be a function');"string"==typeof P&&(G=P,P=null),W=function(z){var Q;try{z()}catch(Z){Q=Z}return Q}(U),G=(P&&P.name?" ("+P.name+").":".")+(G?" "+G:"."),k&&!W&&m(W,P,"Missing expected exception"+G);var ne="string"==typeof G,X=!k&&W&&!P;if((!k&&I.isError(W)&&ne&&K(W,P)||X)&&m(W,P,"Got unwanted exception"+G),k&&W&&P&&!K(W,P)||!k&&W)throw W}f.AssertionError=function(k){this.name="AssertionError",this.actual=k.actual,this.expected=k.expected,this.operator=k.operator,k.message?(this.message=k.message,this.generatedMessage=!1):(this.message=l(_(this.actual),128)+" "+this.operator+" "+l(_(this.expected),128),this.generatedMessage=!0);var U=k.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,U);else{var P=new Error;if(P.stack){var G=P.stack,W=u(U),ne=G.indexOf("\n"+W);if(ne>=0){var X=G.indexOf("\n",ne+1);G=G.substring(X+1)}this.stack=G}}},I.inherits(f.AssertionError,Error),f.fail=m,f.ok=C,f.equal=function(k,U,P){k!=U&&m(k,U,P,"==",f.equal)},f.notEqual=function(k,U,P){k==U&&m(k,U,P,"!=",f.notEqual)},f.deepEqual=function(k,U,P){A(k,U,!1)||m(k,U,P,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(k,U,P){A(k,U,!0)||m(k,U,P,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(k,U,P){A(k,U,!1)&&m(k,U,P,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function k(U,P,G){A(U,P,!0)&&m(U,P,G,"notDeepStrictEqual",k)},f.strictEqual=function(k,U,P){k!==U&&m(k,U,P,"===",f.strictEqual)},f.notStrictEqual=function(k,U,P){k===U&&m(k,U,P,"!==",f.notStrictEqual)},f.throws=function(k,U,P){B(!0,k,U,P)},f.doesNotThrow=function(k,U,P){B(!1,k,U,P)},f.ifError=function(k){if(k)throw k},f.strict=x(function k(U,P){U||m(U,!0,P,"==",k)},f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var F=Object.keys||function(k){var U=[];for(var P in k)S.call(k,P)&&U.push(P);return U}}).call(this,c(9))},function(ae,q,c){"use strict";ae.exports=function(p){if(null!=p&&"function"==typeof p.constructor)return p.constructor.name}},function(ae,q){function c(p,w){if(!(this instanceof c))return new c(p,w);this._bsontype="Long",this.low_=0|p,this.high_=0|w}c.prototype.toInt=function(){return this.low_},c.prototype.toNumber=function(){return this.high_*c.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},c.prototype.toBigInt=function(){return BigInt(this.toString())},c.prototype.toJSON=function(){return this.toString()},c.prototype.toString=function(p){var w=p||10;if(w<2||36<w)throw Error("radix out of range: "+w);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(c.MIN_VALUE)){var x=c.fromNumber(w),V=this.div(x),D=V.multiply(x).subtract(this);return V.toString(w)+D.toInt().toString(w)}return"-"+this.negate().toString(w)}var I=c.fromNumber(Math.pow(w,6));D=this;for(var S="";!D.isZero();){var O=D.div(I),v=D.subtract(O.multiply(I)).toInt().toString(w);if((D=O).isZero())return v+S;for(;v.length<6;)v="0"+v;S=""+v+S}},c.prototype.getHighBits=function(){return this.high_},c.prototype.getLowBits=function(){return this.low_},c.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:c.TWO_PWR_32_DBL_+this.low_},c.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(c.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var p=0!==this.high_?this.high_:this.low_,w=31;w>0&&0==(p&1<<w);w--);return 0!==this.high_?w+33:w+1},c.prototype.isZero=function(){return 0===this.high_&&0===this.low_},c.prototype.isNegative=function(){return this.high_<0},c.prototype.isOdd=function(){return 1==(1&this.low_)},c.prototype.equals=function(p){return this.high_===p.high_&&this.low_===p.low_},c.prototype.notEquals=function(p){return this.high_!==p.high_||this.low_!==p.low_},c.prototype.lessThan=function(p){return this.compare(p)<0},c.prototype.lessThanOrEqual=function(p){return this.compare(p)<=0},c.prototype.greaterThan=function(p){return this.compare(p)>0},c.prototype.greaterThanOrEqual=function(p){return this.compare(p)>=0},c.prototype.compare=function(p){if(this.equals(p))return 0;var w=this.isNegative(),x=p.isNegative();return w&&!x?-1:!w&&x?1:this.subtract(p).isNegative()?-1:1},c.prototype.negate=function(){return this.equals(c.MIN_VALUE)?c.MIN_VALUE:this.not().add(c.ONE)},c.prototype.add=function(p){var v=0,y=0,h=0,f=0;return h+=(f+=(65535&this.low_)+(65535&p.low_))>>>16,y+=(h+=(this.low_>>>16)+(p.low_>>>16))>>>16,v+=(y+=(65535&this.high_)+(65535&p.high_))>>>16,v+=(this.high_>>>16)+(p.high_>>>16),c.fromBits((h&=65535)<<16|(f&=65535),(v&=65535)<<16|(y&=65535))},c.prototype.subtract=function(p){return this.add(p.negate())},c.prototype.multiply=function(p){if(this.isZero()||p.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE))return p.isOdd()?c.MIN_VALUE:c.ZERO;if(p.equals(c.MIN_VALUE))return this.isOdd()?c.MIN_VALUE:c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(c.TWO_PWR_24_)&&p.lessThan(c.TWO_PWR_24_))return c.fromNumber(this.toNumber()*p.toNumber());var x=65535&this.high_,V=this.low_>>>16,D=65535&this.low_,S=65535&p.high_,O=p.low_>>>16,v=65535&p.low_,y=0,h=0,f=0,g=0;return f+=(g+=D*v)>>>16,h+=(f+=V*v)>>>16,f&=65535,h+=(f+=D*O)>>>16,y+=(h+=x*v)>>>16,h&=65535,y+=(h+=V*O)>>>16,h&=65535,y+=(h+=D*S)>>>16,y+=(this.high_>>>16)*v+x*O+V*S+D*(p.high_>>>16),c.fromBits((f&=65535)<<16|(g&=65535),(y&=65535)<<16|(h&=65535))},c.prototype.div=function(p){if(p.isZero())throw Error("division by zero");if(this.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE)){if(p.equals(c.ONE)||p.equals(c.NEG_ONE))return c.MIN_VALUE;if(p.equals(c.MIN_VALUE))return c.ONE;var w=this.shiftRight(1).div(p).shiftLeft(1);if(w.equals(c.ZERO))return p.isNegative()?c.ONE:c.NEG_ONE;var x=this.subtract(p.multiply(w));return w.add(x.div(p))}if(p.equals(c.MIN_VALUE))return c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().div(p.negate()):this.negate().div(p).negate();if(p.isNegative())return this.div(p.negate()).negate();var V=c.ZERO;for(x=this;x.greaterThanOrEqual(p);){w=Math.max(1,Math.floor(x.toNumber()/p.toNumber()));for(var D=Math.ceil(Math.log(w)/Math.LN2),I=D<=48?1:Math.pow(2,D-48),S=c.fromNumber(w),O=S.multiply(p);O.isNegative()||O.greaterThan(x);)O=(S=c.fromNumber(w-=I)).multiply(p);S.isZero()&&(S=c.ONE),V=V.add(S),x=x.subtract(O)}return V},c.prototype.modulo=function(p){return this.subtract(this.div(p).multiply(p))},c.prototype.not=function(){return c.fromBits(~this.low_,~this.high_)},c.prototype.and=function(p){return c.fromBits(this.low_&p.low_,this.high_&p.high_)},c.prototype.or=function(p){return c.fromBits(this.low_|p.low_,this.high_|p.high_)},c.prototype.xor=function(p){return c.fromBits(this.low_^p.low_,this.high_^p.high_)},c.prototype.shiftLeft=function(p){if(0==(p&=63))return this;var w=this.low_;return p<32?c.fromBits(w<<p,this.high_<<p|w>>>32-p):c.fromBits(0,w<<p-32)},c.prototype.shiftRight=function(p){if(0==(p&=63))return this;var w=this.high_;return p<32?c.fromBits(this.low_>>>p|w<<32-p,w>>p):c.fromBits(w>>p-32,w>=0?0:-1)},c.prototype.shiftRightUnsigned=function(p){if(0==(p&=63))return this;var w=this.high_;return p<32?c.fromBits(this.low_>>>p|w<<32-p,w>>>p):c.fromBits(32===p?w:w>>>p-32,0)},c.fromInt=function(p){if(-128<=p&&p<128){var w=c.INT_CACHE_[p];if(w)return w}var x=new c(0|p,p<0?-1:0);return-128<=p&&p<128&&(c.INT_CACHE_[p]=x),x},c.fromNumber=function(p){return isNaN(p)||!isFinite(p)?c.ZERO:p<=-c.TWO_PWR_63_DBL_?c.MIN_VALUE:p+1>=c.TWO_PWR_63_DBL_?c.MAX_VALUE:p<0?c.fromNumber(-p).negate():new c(p%c.TWO_PWR_32_DBL_|0,p/c.TWO_PWR_32_DBL_|0)},c.fromBigInt=function(p){return c.fromString(p.toString(10),10)},c.fromBits=function(p,w){return new c(p,w)},c.fromString=function(p,w){if(0===p.length)throw Error("number format error: empty string");var x=w||10;if(x<2||36<x)throw Error("radix out of range: "+x);if("-"===p.charAt(0))return c.fromString(p.substring(1),x).negate();if(p.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+p);for(var V=c.fromNumber(Math.pow(x,8)),D=c.ZERO,I=0;I<p.length;I+=8){var S=Math.min(8,p.length-I),O=parseInt(p.substring(I,I+S),x);if(S<8){var v=c.fromNumber(Math.pow(x,S));D=D.multiply(v).add(c.fromNumber(O))}else D=(D=D.multiply(V)).add(c.fromNumber(O))}return D},c.INT_CACHE_={},c.TWO_PWR_16_DBL_=65536,c.TWO_PWR_24_DBL_=1<<24,c.TWO_PWR_31_DBL_=(c.TWO_PWR_32_DBL_=c.TWO_PWR_16_DBL_*c.TWO_PWR_16_DBL_)/2,c.TWO_PWR_48_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_16_DBL_,c.TWO_PWR_63_DBL_=(c.TWO_PWR_64_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_32_DBL_)/2,c.ZERO=c.fromInt(0),c.ONE=c.fromInt(1),c.NEG_ONE=c.fromInt(-1),c.MAX_VALUE=c.fromBits(-1,2147483647),c.MIN_VALUE=c.fromBits(0,-2147483648),c.TWO_PWR_24_=c.fromInt(1<<24),ae.exports=c,ae.exports.Long=c},function(ae,q,c){"use strict";function w(l,_){(null==_||_>l.length)&&(_=l.length);for(var m=0,C=new Array(_);m<_;m++)C[m]=l[m];return C}var x=c(65),V=c(20),D=c(11),I=c(51),S=c(31),O=c(66),v=c(67),y=c(21),h=c(0),f=c(1);function g(l,_,m){if(null==l)return l;if(Array.isArray(l))return function(C,A){var $,K=[],B=function p(l,_){var m="undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!m){if(Array.isArray(l)||(m=function(F,k){if(F){if("string"==typeof F)return w(F,k);var U=Object.prototype.toString.call(F).slice(8,-1);if("Object"===U&&F.constructor&&(U=F.constructor.name),"Map"===U||"Set"===U)return Array.from(F);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return w(F,k)}}(l))||_&&l&&"number"==typeof l.length){m&&(l=m);var C=0,A=function(){};return{s:A,n:function(){return C>=l.length?{done:!0}:{done:!1,value:l[C++]}},e:function(F){throw F},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $,K=!0,B=!1;return{s:function(){m=m.call(l)},n:function(){var F=m.next();return K=F.done,F},e:function(F){B=!0,$=F},f:function(){try{K||null==m.return||m.return()}finally{if(B)throw $}}}}(C);try{for(B.s();!($=B.n()).done;)K.push(g($.value,A,!0))}catch(k){B.e(k)}finally{B.f()}return K}(l,_);if(S(l))return _&&_._skipSingleNestedGetters&&l.$isSingleNested&&(_=Object.assign({},_,{getters:!1})),f.isPOJO(l)&&null!=l.$__&&null!=l._doc?l._doc:_&&_.json&&"function"==typeof l.toJSON?l.toJSON(_):l.toObject(_);if(l.constructor)switch(O(l.constructor)){case"Object":return u(l,_,m);case"Date":return new l.constructor(+l);case"RegExp":return x(l)}return l instanceof D?new D(l.id):v(l,"Decimal128")?_&&_.flattenDecimals?l.toJSON():V.fromString(l.toString()):!l.constructor&&y(l)?u(l,_,m):l[h.schemaTypeSymbol]?l.clone():_&&_.bson&&"function"==typeof l.toBSON?l:null!=l.valueOf?l.valueOf():u(l,_,m)}function u(l,_,m){for(var C,A=_&&_.minimize,$={},K=0,B=Object.keys(l);K<B.length;K++){var F=B[K];if(!I.has(F)){var k=g(l[F],_);A&&void 0===k||(!1===A&&void 0===k?delete $[F]:(C||(C=!0),$[F]=k))}}return A&&!m?C&&$:$}ae.exports=g},function(ae,q,c){"use strict";var p=c(68),w=c(22),x=Symbol("mongoose:emitted");ae.exports=function(V,D,I,S){return"function"==typeof V?D(function(O){if(null==O)V.apply(this,arguments);else{null!=I&&null!=I.listeners&&I.listeners("error").length>0&&!O[x]&&(O[x]=!0,I.emit("error",O));try{V(O)}catch(v){return w(function(){throw v})}}}):new(S=S||p.get())(function(O,v){D(function(y,h){return null!=y?(null!=I&&null!=I.listeners&&I.listeners("error").length>0&&!y[x]&&(y[x]=!0,I.emit("error",y)),v(y)):arguments.length>2?O(Array.prototype.slice.call(arguments,1)):void O(h)})})}},function(ae,q,c){"use strict";var p=c(6),w=c(35),x=c(21),V=c(1);function D(I,S){if(S&&S.default){var O=S.default;Array.isArray(O)&&0===O.length?S.default=Array:!S.shared&&x(O)&&0===Object.keys(O).length&&(S.default=function(){return{}})}p.call(this,I,S,"Mixed"),this[w.schemaMixedSymbol]=!0}D.schemaName="Mixed",D.defaultOptions={},(D.prototype=Object.create(p.prototype)).constructor=D,D.get=p.get,D.set=p.set,D.prototype.cast=function(I){return I instanceof Error?V.errorToPOJO(I):I},D.prototype.castForQuery=function(I,S){return 2===arguments.length?S:I},ae.exports=D},function(ae,q,c){"use strict";var p=c(62)(),w=c(19).EventEmitter,x=c(33),V=c(22),D=c(17).internalToObjectOptions,I=c(3),S=c(27),O=c(4),v=c(0).documentArrayParent,y=c(0).validatorErrorSymbol;function h(g,u,l,_,m){var C={};null!=u&&u.isMongooseDocumentArray?(this.__parentArray=u,this[v]=u.$parent()):(this.__parentArray=void 0,this[v]=void 0),this.$setIndex(m),this.$isDocumentArrayElement=!0,null!=this[v]&&(C.defaults=this[v].$__.$options.defaults),p.call(this,g,_,l,C);var A=this;this.on("isNew",function($){A.isNew=$}),A.on("save",function(){A.constructor.emit("save",A)})}for(var f in(h.prototype=Object.create(p.prototype)).constructor=h,w.prototype)h[f]=w.prototype[f];h.prototype.toBSON=function(){return this.toObject(D)},h.prototype.$setIndex=function(g){if(this.__index=g,null!=I(this,"$__.validationError",null))for(var u=0,l=Object.keys(this.$__.validationError.errors);u<l.length;u++){var _=l[u];this.invalidate(_,this.$__.validationError.errors[_])}},h.prototype.markModified=function(g){if(this.$__.activePaths.modify(g),this.__parentArray){var u=this.__parentArray.$path()+".0."+g;this.isNew&&this.ownerDocument().$__isSelected(u)?this.__parentArray._markModified():this.__parentArray._markModified(this,g)}},h.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},h.prototype.save=function(g,u){var l=this;return"function"==typeof g&&(u=g,g={}),(g=g||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),S(u,function(_){l.$__save(_)})},h.prototype.$__save=function(g){var u=this;return V(function(){return g(null,u)})},h.prototype.$__remove=function(g){if(null!=g)return g(null,this)},h.prototype.remove=function(g,u){if("function"!=typeof g||u||(u=g,g=void 0),!this.__parentArray||g&&g.noop)return this.$__remove(u),this;var l;if(!this.willRemove){if(!(l=this._doc._id))throw new Error("For your own good, Mongoose does not know how to remove an EmbeddedDocument that has no _id");this.__parentArray.pull({_id:l}),this.willRemove=!0,function(_){var m=_.ownerDocument();function C(){m.removeListener("save",C),m.removeListener("remove",C),_.emit("remove",_),_.constructor.emit("remove",_),m=_=null}m.on("save",C),m.on("remove",C)}(this)}return this.$__remove(u),this},h.prototype.update=function(){throw new Error("The #update method is not available on EmbeddedDocuments")},h.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})},O.inspect.custom&&(h.prototype[O.inspect.custom]=h.prototype.inspect),h.prototype.invalidate=function(g,u,l){if(p.prototype.invalidate.call(this,g,u,l),!this[v]||null==this.__index){if(u[y]||u instanceof x)return this.ownerDocument().$__.validationError;throw u}var _=this.__index,m=[this.__parentArray.$path(),_,g].join(".");return this[v].invalidate(m,u,l),this.ownerDocument().$__.validationError},h.prototype.$markValid=function(g){if(this[v]){var u=this.__index;if(void 0!==u){var l=[this.__parentArray.$path(),u,g].join(".");this[v].$markValid(l)}}},h.prototype.$ignore=function(g){if(p.prototype.$ignore.call(this,g),this[v]){var u=this.__index;if(void 0!==u){var l=[this.__parentArray.$path(),u,g].join(".");this[v].$ignore(l)}}},h.prototype.$isValid=function(g){return void 0===this.__index||!this[v]||!this[v].$__.validationError||!this[v].$__.validationError.errors[this.$__fullPath(g)]},h.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var g=this[v];if(!g)return this;for(;g[v]||g.$__parent;)g=g[v]||g.$__parent;return this.$__.ownerDocument=g,this.$__.ownerDocument},h.prototype.$__fullPath=function(g){if(!this.$__.fullPath){var u=this;if(!u[v])return g;for(var l=[];u[v]||u.$__parent;)l.unshift(u[v]?u.__parentArray.$path():u.$basePath),u=u[v]||u.$__parent;this.$__.fullPath=l.join("."),this.$__.ownerDocument||(this.$__.ownerDocument=u)}return g?this.$__.fullPath+"."+g:this.$__.fullPath},h.prototype.$parent=h.prototype.parent=function(){return this[v]},h.prototype.parentArray=function(){return this.__parentArray},ae.exports=h},function(ae,q,c){(function(p){if(void 0!==p)var w=c(2).Buffer;var x=c(16);function V(O,v){if(!(this instanceof V))return new V(O,v);if(!(null==O||"string"==typeof O||w.isBuffer(O)||O instanceof Uint8Array||Array.isArray(O)))throw new Error("only String, Buffer, Uint8Array or Array accepted");if(this._bsontype="Binary",O instanceof Number?(this.sub_type=O,this.position=0):(this.sub_type=null==v?D:v,this.position=0),null==O||O instanceof Number)this.buffer=void 0!==w?x.allocBuffer(V.BUFFER_SIZE):"undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(V.BUFFER_SIZE)):new Array(V.BUFFER_SIZE),this.position=0;else{if("string"==typeof O)if(void 0!==w)this.buffer=x.toBuffer(O);else{if("undefined"==typeof Uint8Array&&"[object Array]"!==Object.prototype.toString.call(O))throw new Error("only String, Buffer, Uint8Array or Array accepted");this.buffer=I(O)}else this.buffer=O;this.position=O.length}}V.prototype.put=function(O){if(null!=O.length&&"number"!=typeof O&&1!==O.length)throw new Error("only accepts single character String, Uint8Array or Array");if("number"!=typeof O&&O<0||O>255)throw new Error("only accepts number in a valid unsigned byte range 0-255");var v;if(v="string"==typeof O?O.charCodeAt(0):null!=O.length?O[0]:O,this.buffer.length>this.position)this.buffer[this.position++]=v;else if(void 0!==w&&w.isBuffer(this.buffer)){var y=x.allocBuffer(V.BUFFER_SIZE+this.buffer.length);this.buffer.copy(y,0,0,this.buffer.length),this.buffer=y,this.buffer[this.position++]=v}else{y=null,y="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(V.BUFFER_SIZE+this.buffer.length)):new Array(V.BUFFER_SIZE+this.buffer.length);for(var h=0;h<this.buffer.length;h++)y[h]=this.buffer[h];this.buffer=y,this.buffer[this.position++]=v}},V.prototype.write=function(O,v){if(this.buffer.length<(v="number"==typeof v?v:this.position)+O.length){var y=null;if(void 0!==w&&w.isBuffer(this.buffer))y=x.allocBuffer(this.buffer.length+O.length),this.buffer.copy(y,0,0,this.buffer.length);else if("[object Uint8Array]"===Object.prototype.toString.call(this.buffer)){y=new Uint8Array(new ArrayBuffer(this.buffer.length+O.length));for(var h=0;h<this.position;h++)y[h]=this.buffer[h]}this.buffer=y}if(void 0!==w&&w.isBuffer(O)&&w.isBuffer(this.buffer))O.copy(this.buffer,v,0,O.length),this.position=v+O.length>this.position?v+O.length:this.position;else if(void 0!==w&&"string"==typeof O&&w.isBuffer(this.buffer))this.buffer.write(O,v,"binary"),this.position=v+O.length>this.position?v+O.length:this.position;else if("[object Uint8Array]"===Object.prototype.toString.call(O)||"[object Array]"===Object.prototype.toString.call(O)&&"string"!=typeof O){for(h=0;h<O.length;h++)this.buffer[v++]=O[h];this.position=v>this.position?v:this.position}else if("string"==typeof O){for(h=0;h<O.length;h++)this.buffer[v++]=O.charCodeAt(h);this.position=v>this.position?v:this.position}},V.prototype.read=function(O,v){if(v=v&&v>0?v:this.position,this.buffer.slice)return this.buffer.slice(O,O+v);for(var y="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(v)):new Array(v),h=0;h<v;h++)y[h]=this.buffer[O++];return y},V.prototype.value=function(O){if((O=null!=O&&O)&&void 0!==w&&w.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==w&&w.isBuffer(this.buffer))return O?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(O){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var v="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),y=0;y<this.position;y++)v[y]=this.buffer[y];return v}return S(this.buffer,0,this.position)},V.prototype.length=function(){return this.position},V.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString("base64"):""},V.prototype.toString=function(O){return null!=this.buffer?this.buffer.slice(0,this.position).toString(O):""};var D=0,I=function(O){for(var v="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(O.length)):new Array(O.length),y=0;y<O.length;y++)v[y]=O.charCodeAt(y);return v},S=function(O,v,y){for(var h="",f=v;f<y;f++)h+=String.fromCharCode(O[f]);return h};V.BUFFER_SIZE=256,V.SUBTYPE_DEFAULT=0,V.SUBTYPE_FUNCTION=1,V.SUBTYPE_BYTE_ARRAY=2,V.SUBTYPE_UUID_OLD=3,V.SUBTYPE_UUID=4,V.SUBTYPE_MD5=5,V.SUBTYPE_USER_DEFINED=128,ae.exports=V,ae.exports.Binary=V}).call(this,c(9))},function(ae,q,c){"use strict";ae.exports=function(p){return null!=p&&(null!=p.$__||p.isMongooseArray||p.isMongooseBuffer||p.$isMongooseMap)}},function(ae,q,c){"use strict";var p=["find","findOne","update","updateMany","updateOne","replaceOne","remove","count","distinct","findAndModify","aggregate","findStream","deleteOne","deleteMany"];function w(){}for(var x=0,V=p.length;x<V;++x){var D=p[x];w.prototype[D]=I(D)}function I(S){return function(){throw new Error("collection."+S+" not implemented")}}ae.exports=w,w.methods=p},function(ae,q,c){"use strict";function p(f){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function x(f,g){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u})(f,g)}function D(f,g){if(g&&("object"===p(g)||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f)}function I(f){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(f)}var S=c(14),O=c(24),v=c(4),y=function(f){!function(C,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),A&&x(C,A)}(m,f);var g,u,_=function V(f){var g=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}();return function(){var u,l=I(f);if(g){var _=I(this).constructor;u=Reflect.construct(l,arguments,_)}else u=l.apply(this,arguments);return D(this,u)}}(m);function m(C){var A,$;return function(K,B){if(!(K instanceof B))throw new TypeError("Cannot call a class as a function")}(this,m),$="model"===O(C)?C.constructor.modelName+" validation failed":"Validation failed",(A=_.call(this,$)).errors={},A._message=$,C&&(C.errors=A.errors),A}return g=m,(u=[{key:"toString",value:function(){return this.name+": "+h(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(C,A){this.errors[C]=A,this.message=this._message+": "+h(this)}}])&&function w(f,g){for(var u=0;u<g.length;u++){var l=g[u];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,(m=function(C,A){if("object"!==p(C)||null===C)return C;var $=C[Symbol.toPrimitive];if(void 0!==$){var K=$.call(C,"string");if("object"!==p(K))return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(l.key),"symbol"===p(m)?m:String(m)),l)}var m}(g.prototype,u),Object.defineProperty(g,"prototype",{writable:!1}),m}(S);function h(f){for(var g,u=Object.keys(f.errors||{}),l=u.length,_=[],m=0;m<l;++m)f!==f.errors[g=u[m]]&&_.push(g+": "+f.errors[g].message);return _.join(", ")}v.inspect.custom&&(y.prototype[v.inspect.custom]=y.prototype.inspect),Object.defineProperty(y.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(y.prototype,"name",{value:"ValidationError"}),ae.exports=y},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){var m;return function(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g),(m=f.call(this,l=l||"Field `"+u+"` is not in schema and strict mode is set to throw.")).isImmutableError=!!_,m.path=u,m}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"StrictModeError"}),ae.exports=S},function(ae,q,c){"use strict";q.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),q.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},function(ae,q,c){"use strict";var p=c(80);function w(x){return p.cast()(x)}q.castToNumber=w,q.castArraysOfNumbers=function x(V,D){V.forEach(function(I,S){Array.isArray(I)?x(I,D):V[S]=w.call(D,I)})}},function(ae,q,c){"use strict";var p=c(82);ae.exports=function(w,x){if(null==w)return null;for(var V=0,D=Object.keys(w);V<D.length;V++){var I=w[D[V]];if(I.schema&&I.schema.discriminatorMapping&&p(I.schema.discriminatorMapping.value,x))return I}return null}},function(ae,q,c){"use strict";q.Array=c(85),q.Buffer=c(88),q.Document=q.Embedded=c(29),q.DocumentArray=c(18),q.Decimal128=c(20),q.ObjectId=c(11),q.Map=c(90),q.Subdocument=c(92)},function(ae,q,c){"use strict";var p=c(60),w=c(25),x=c(40),V=c(41),D=c(42),I=c(43),S=c(44),O=c(61),v=c(45),y=c(46),h=c(47),f=c(48),g=c(49),u=c(30),l=c(105),_=c(106),m=c(108),C=c(16),A=C.allocBuffer(17825792),$=function(){};$.prototype.serialize=function(K,B){var F="boolean"==typeof(B=B||{}).checkKeys&&B.checkKeys,k="boolean"==typeof B.serializeFunctions&&B.serializeFunctions,U="boolean"!=typeof B.ignoreUndefined||B.ignoreUndefined,P="number"==typeof B.minInternalBufferSize?B.minInternalBufferSize:17825792;A.length<P&&(A=C.allocBuffer(P));var G=_(A,K,F,0,0,k,U,[]),W=C.allocBuffer(G);return A.copy(W,0,0,W.length),W},$.prototype.serializeWithBufferAndIndex=function(K,B,F){var k="boolean"==typeof(F=F||{}).checkKeys&&F.checkKeys;return _(B,K,k,("number"==typeof F.index?F.index:0)||0,0,"boolean"==typeof F.serializeFunctions&&F.serializeFunctions,"boolean"!=typeof F.ignoreUndefined||F.ignoreUndefined)-1},$.prototype.deserialize=function(K,B){return l(K,B)},$.prototype.calculateObjectSize=function(K,B){var F="boolean"==typeof(B=B||{}).serializeFunctions&&B.serializeFunctions;return m(K,F,"boolean"!=typeof B.ignoreUndefined||B.ignoreUndefined)},$.prototype.deserializeStream=function(K,B,F,k,U,P){P=null!=P?P:{};for(var G=B,W=0;W<F;W++){var ne=K[G]|K[G+1]<<8|K[G+2]<<16|K[G+3]<<24;P.index=G,k[U+W]=this.deserialize(K,P),G+=ne}return G},$.BSON_INT32_MAX=2147483647,$.BSON_INT32_MIN=-2147483648,$.BSON_INT64_MAX=Math.pow(2,63)-1,$.BSON_INT64_MIN=-Math.pow(2,63),$.JS_INT_MAX=9007199254740992,$.JS_INT_MIN=-9007199254740992,$.BSON_DATA_NUMBER=1,$.BSON_DATA_STRING=2,$.BSON_DATA_OBJECT=3,$.BSON_DATA_ARRAY=4,$.BSON_DATA_BINARY=5,$.BSON_DATA_OID=7,$.BSON_DATA_BOOLEAN=8,$.BSON_DATA_DATE=9,$.BSON_DATA_NULL=10,$.BSON_DATA_REGEXP=11,$.BSON_DATA_CODE=13,$.BSON_DATA_SYMBOL=14,$.BSON_DATA_CODE_W_SCOPE=15,$.BSON_DATA_INT=16,$.BSON_DATA_TIMESTAMP=17,$.BSON_DATA_LONG=18,$.BSON_DATA_MIN_KEY=255,$.BSON_DATA_MAX_KEY=127,$.BSON_BINARY_SUBTYPE_DEFAULT=0,$.BSON_BINARY_SUBTYPE_FUNCTION=1,$.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,$.BSON_BINARY_SUBTYPE_UUID=3,$.BSON_BINARY_SUBTYPE_MD5=4,$.BSON_BINARY_SUBTYPE_USER_DEFINED=128,ae.exports=$,ae.exports.Code=v,ae.exports.Map=p,ae.exports.Symbol=S,ae.exports.BSON=$,ae.exports.DBRef=g,ae.exports.Binary=u,ae.exports.ObjectID=D,ae.exports.Long=w,ae.exports.Timestamp=V,ae.exports.Double=x,ae.exports.Int32=O,ae.exports.MinKey=h,ae.exports.MaxKey=f,ae.exports.BSONRegExp=I,ae.exports.Decimal128=y},function(ae,q){function c(p){if(!(this instanceof c))return new c(p);this._bsontype="Double",this.value=p}c.prototype.valueOf=function(){return this.value},c.prototype.toJSON=function(){return this.value},ae.exports=c,ae.exports.Double=c},function(ae,q){function c(p,w){if(!(this instanceof c))return new c(p,w);this._bsontype="Timestamp",this.low_=0|p,this.high_=0|w}c.prototype.toInt=function(){return this.low_},c.prototype.toNumber=function(){return this.high_*c.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},c.prototype.toJSON=function(){return this.toString()},c.prototype.toString=function(p){var w=p||10;if(w<2||36<w)throw Error("radix out of range: "+w);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(c.MIN_VALUE)){var x=c.fromNumber(w),V=this.div(x),D=V.multiply(x).subtract(this);return V.toString(w)+D.toInt().toString(w)}return"-"+this.negate().toString(w)}var I=c.fromNumber(Math.pow(w,6));D=this;for(var S="";!D.isZero();){var O=D.div(I),v=D.subtract(O.multiply(I)).toInt().toString(w);if((D=O).isZero())return v+S;for(;v.length<6;)v="0"+v;S=""+v+S}},c.prototype.getHighBits=function(){return this.high_},c.prototype.getLowBits=function(){return this.low_},c.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:c.TWO_PWR_32_DBL_+this.low_},c.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(c.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var p=0!==this.high_?this.high_:this.low_,w=31;w>0&&0==(p&1<<w);w--);return 0!==this.high_?w+33:w+1},c.prototype.isZero=function(){return 0===this.high_&&0===this.low_},c.prototype.isNegative=function(){return this.high_<0},c.prototype.isOdd=function(){return 1==(1&this.low_)},c.prototype.equals=function(p){return this.high_===p.high_&&this.low_===p.low_},c.prototype.notEquals=function(p){return this.high_!==p.high_||this.low_!==p.low_},c.prototype.lessThan=function(p){return this.compare(p)<0},c.prototype.lessThanOrEqual=function(p){return this.compare(p)<=0},c.prototype.greaterThan=function(p){return this.compare(p)>0},c.prototype.greaterThanOrEqual=function(p){return this.compare(p)>=0},c.prototype.compare=function(p){if(this.equals(p))return 0;var w=this.isNegative(),x=p.isNegative();return w&&!x?-1:!w&&x?1:this.subtract(p).isNegative()?-1:1},c.prototype.negate=function(){return this.equals(c.MIN_VALUE)?c.MIN_VALUE:this.not().add(c.ONE)},c.prototype.add=function(p){var v=0,y=0,h=0,f=0;return h+=(f+=(65535&this.low_)+(65535&p.low_))>>>16,y+=(h+=(this.low_>>>16)+(p.low_>>>16))>>>16,v+=(y+=(65535&this.high_)+(65535&p.high_))>>>16,v+=(this.high_>>>16)+(p.high_>>>16),c.fromBits((h&=65535)<<16|(f&=65535),(v&=65535)<<16|(y&=65535))},c.prototype.subtract=function(p){return this.add(p.negate())},c.prototype.multiply=function(p){if(this.isZero()||p.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE))return p.isOdd()?c.MIN_VALUE:c.ZERO;if(p.equals(c.MIN_VALUE))return this.isOdd()?c.MIN_VALUE:c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(c.TWO_PWR_24_)&&p.lessThan(c.TWO_PWR_24_))return c.fromNumber(this.toNumber()*p.toNumber());var x=65535&this.high_,V=this.low_>>>16,D=65535&this.low_,S=65535&p.high_,O=p.low_>>>16,v=65535&p.low_,y=0,h=0,f=0,g=0;return f+=(g+=D*v)>>>16,h+=(f+=V*v)>>>16,f&=65535,h+=(f+=D*O)>>>16,y+=(h+=x*v)>>>16,h&=65535,y+=(h+=V*O)>>>16,h&=65535,y+=(h+=D*S)>>>16,y+=(this.high_>>>16)*v+x*O+V*S+D*(p.high_>>>16),c.fromBits((f&=65535)<<16|(g&=65535),(y&=65535)<<16|(h&=65535))},c.prototype.div=function(p){if(p.isZero())throw Error("division by zero");if(this.isZero())return c.ZERO;if(this.equals(c.MIN_VALUE)){if(p.equals(c.ONE)||p.equals(c.NEG_ONE))return c.MIN_VALUE;if(p.equals(c.MIN_VALUE))return c.ONE;var w=this.shiftRight(1).div(p).shiftLeft(1);if(w.equals(c.ZERO))return p.isNegative()?c.ONE:c.NEG_ONE;var x=this.subtract(p.multiply(w));return w.add(x.div(p))}if(p.equals(c.MIN_VALUE))return c.ZERO;if(this.isNegative())return p.isNegative()?this.negate().div(p.negate()):this.negate().div(p).negate();if(p.isNegative())return this.div(p.negate()).negate();var V=c.ZERO;for(x=this;x.greaterThanOrEqual(p);){w=Math.max(1,Math.floor(x.toNumber()/p.toNumber()));for(var D=Math.ceil(Math.log(w)/Math.LN2),I=D<=48?1:Math.pow(2,D-48),S=c.fromNumber(w),O=S.multiply(p);O.isNegative()||O.greaterThan(x);)O=(S=c.fromNumber(w-=I)).multiply(p);S.isZero()&&(S=c.ONE),V=V.add(S),x=x.subtract(O)}return V},c.prototype.modulo=function(p){return this.subtract(this.div(p).multiply(p))},c.prototype.not=function(){return c.fromBits(~this.low_,~this.high_)},c.prototype.and=function(p){return c.fromBits(this.low_&p.low_,this.high_&p.high_)},c.prototype.or=function(p){return c.fromBits(this.low_|p.low_,this.high_|p.high_)},c.prototype.xor=function(p){return c.fromBits(this.low_^p.low_,this.high_^p.high_)},c.prototype.shiftLeft=function(p){if(0==(p&=63))return this;var w=this.low_;return p<32?c.fromBits(w<<p,this.high_<<p|w>>>32-p):c.fromBits(0,w<<p-32)},c.prototype.shiftRight=function(p){if(0==(p&=63))return this;var w=this.high_;return p<32?c.fromBits(this.low_>>>p|w<<32-p,w>>p):c.fromBits(w>>p-32,w>=0?0:-1)},c.prototype.shiftRightUnsigned=function(p){if(0==(p&=63))return this;var w=this.high_;return p<32?c.fromBits(this.low_>>>p|w<<32-p,w>>>p):c.fromBits(32===p?w:w>>>p-32,0)},c.fromInt=function(p){if(-128<=p&&p<128){var w=c.INT_CACHE_[p];if(w)return w}var x=new c(0|p,p<0?-1:0);return-128<=p&&p<128&&(c.INT_CACHE_[p]=x),x},c.fromNumber=function(p){return isNaN(p)||!isFinite(p)?c.ZERO:p<=-c.TWO_PWR_63_DBL_?c.MIN_VALUE:p+1>=c.TWO_PWR_63_DBL_?c.MAX_VALUE:p<0?c.fromNumber(-p).negate():new c(p%c.TWO_PWR_32_DBL_|0,p/c.TWO_PWR_32_DBL_|0)},c.fromBits=function(p,w){return new c(p,w)},c.fromString=function(p,w){if(0===p.length)throw Error("number format error: empty string");var x=w||10;if(x<2||36<x)throw Error("radix out of range: "+x);if("-"===p.charAt(0))return c.fromString(p.substring(1),x).negate();if(p.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+p);for(var V=c.fromNumber(Math.pow(x,8)),D=c.ZERO,I=0;I<p.length;I+=8){var S=Math.min(8,p.length-I),O=parseInt(p.substring(I,I+S),x);if(S<8){var v=c.fromNumber(Math.pow(x,S));D=D.multiply(v).add(c.fromNumber(O))}else D=(D=D.multiply(V)).add(c.fromNumber(O))}return D},c.INT_CACHE_={},c.TWO_PWR_16_DBL_=65536,c.TWO_PWR_24_DBL_=1<<24,c.TWO_PWR_31_DBL_=(c.TWO_PWR_32_DBL_=c.TWO_PWR_16_DBL_*c.TWO_PWR_16_DBL_)/2,c.TWO_PWR_48_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_16_DBL_,c.TWO_PWR_63_DBL_=(c.TWO_PWR_64_DBL_=c.TWO_PWR_32_DBL_*c.TWO_PWR_32_DBL_)/2,c.ZERO=c.fromInt(0),c.ONE=c.fromInt(1),c.NEG_ONE=c.fromInt(-1),c.MAX_VALUE=c.fromBits(-1,2147483647),c.MIN_VALUE=c.fromBits(0,-2147483648),c.TWO_PWR_24_=c.fromInt(1<<24),ae.exports=c,ae.exports.Timestamp=c},function(ae,q,c){(function(p,w){var x="inspect",V=c(16),D=parseInt(16777215*Math.random(),10),I=new RegExp("^[0-9a-fA-F]{24}$");try{if(p&&p.from){var S=!0;x=c(4).inspect.custom||"inspect"}}catch(u){S=!1}for(var O=function u(l){if(l instanceof u)return l;if(!(this instanceof u))return new u(l);if(this._bsontype="ObjectID",null==l||"number"==typeof l)return this.id=this.generate(l),void(u.cacheHexString&&(this.__id=this.toString("hex")));var _=u.isValid(l);if(!_&&null!=l)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(_&&"string"==typeof l&&24===l.length&&S)return new u(V.toBuffer(l,"hex"));if(_&&"string"==typeof l&&24===l.length)return u.createFromHexString(l);if(null==l||12!==l.length){if(null!=l&&"function"==typeof l.toHexString)return l;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=l,u.cacheHexString&&(this.__id=this.toString("hex"))},v=[],y=0;y<256;y++)v[y]=(y<=15?"0":"")+y.toString(16);O.prototype.toHexString=function(){if(O.cacheHexString&&this.__id)return this.__id;var u="";if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof f)return u=g(this.id),O.cacheHexString&&(this.__id=u),u;for(var l=0;l<this.id.length;l++)u+=v[this.id.charCodeAt(l)];return O.cacheHexString&&(this.__id=u),u},O.prototype.get_inc=function(){return O.index=(O.index+1)%16777215},O.prototype.getInc=function(){return this.get_inc()},O.prototype.generate=function(u){"number"!=typeof u&&(u=~~(Date.now()/1e3));var l=(void 0===w||1===w.pid?Math.floor(1e5*Math.random()):w.pid)%65535,_=this.get_inc(),m=V.allocBuffer(12);return m[3]=255&u,m[2]=u>>8&255,m[1]=u>>16&255,m[0]=u>>24&255,m[6]=255&D,m[5]=D>>8&255,m[4]=D>>16&255,m[8]=255&l,m[7]=l>>8&255,m[11]=255&_,m[10]=_>>8&255,m[9]=_>>16&255,m},O.prototype[x]=O.prototype.toString=function(u){return this.id&&this.id.copy?this.id.toString("string"==typeof u?u:"hex"):this.toHexString()},O.prototype.toJSON=function(){return this.toHexString()},O.prototype.equals=function(u){return u instanceof O?this.toString()===u.toString():"string"==typeof u&&O.isValid(u)&&12===u.length&&this.id instanceof f?u===this.id.toString("binary"):"string"==typeof u&&O.isValid(u)&&24===u.length?u.toLowerCase()===this.toHexString():"string"==typeof u&&O.isValid(u)&&12===u.length?u===this.id:!(null==u||!(u instanceof O||u.toHexString))&&u.toHexString()===this.toHexString()},O.prototype.getTimestamp=function(){var u=new Date;return u.setTime(1e3*Math.floor(this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24)),u},O.index=~~(16777215*Math.random()),O.createPk=function(){return new O},O.createFromTime=function(u){var l=V.toBuffer([0,0,0,0,0,0,0,0,0,0,0,0]);return l[3]=255&u,l[2]=u>>8&255,l[1]=u>>16&255,l[0]=u>>24&255,new O(l)};var h=[];for(y=0;y<10;)h[48+y]=y++;for(;y<16;)h[55+y]=h[87+y]=y++;var f=p,g=function(u){return u.toString("hex")};O.createFromHexString=function(u){if(void 0===u||null!=u&&24!==u.length)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(S)return new O(V.toBuffer(u,"hex"));for(var l=new f(12),_=0,m=0;m<24;)l[_++]=h[u.charCodeAt(m++)]<<4|h[u.charCodeAt(m++)];return new O(l)},O.isValid=function(u){return null!=u&&("number"==typeof u||("string"==typeof u?12===u.length||24===u.length&&I.test(u):u instanceof O||u instanceof f||"function"==typeof u.toHexString&&(u.id instanceof f||"string"==typeof u.id)&&(12===u.id.length||24===u.id.length&&I.test(u.id))))},Object.defineProperty(O.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(u){this.id[3]=255&u,this.id[2]=u>>8&255,this.id[1]=u>>16&255,this.id[0]=u>>24&255}}),ae.exports=O,ae.exports.ObjectID=O,ae.exports.ObjectId=O}).call(this,c(2).Buffer,c(10))},function(ae,q){function c(p,w){if(!(this instanceof c))return new c;this._bsontype="BSONRegExp",this.pattern=p||"",this.options=w||"";for(var x=0;x<this.options.length;x++)if("i"!==this.options[x]&&"m"!==this.options[x]&&"x"!==this.options[x]&&"l"!==this.options[x]&&"s"!==this.options[x]&&"u"!==this.options[x])throw new Error("the regular expression options ["+this.options[x]+"] is not supported")}ae.exports=c,ae.exports.BSONRegExp=c},function(ae,q,c){(function(p){var w=p&&c(4).inspect.custom||"inspect";function x(V){if(!(this instanceof x))return new x(V);this._bsontype="Symbol",this.value=V}x.prototype.valueOf=function(){return this.value},x.prototype.toString=function(){return this.value},x.prototype[w]=function(){return this.value},x.prototype.toJSON=function(){return this.value},ae.exports=x,ae.exports.Symbol=x}).call(this,c(2).Buffer)},function(ae,q){var c=function p(w,x){if(!(this instanceof p))return new p(w,x);this._bsontype="Code",this.code=w,this.scope=x};c.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},ae.exports=c,ae.exports.Code=c},function(ae,q,c){"use strict";var p=c(25),w=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,x=/^(\+|-)?(Infinity|inf)$/i,V=/^(\+|-)?NaN$/i,D=6176,I=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),S=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),O=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),v=/^([-+])?(\d+)?$/,y=c(16),h=function(u){return!isNaN(parseInt(u,10))},f=function(u){var l=p.fromNumber(1e9),_=p.fromNumber(0),m=0;if(!(u.parts[0]||u.parts[1]||u.parts[2]||u.parts[3]))return{quotient:u,rem:_};for(m=0;m<=3;m++)_=(_=_.shiftLeft(32)).add(new p(u.parts[m],0)),u.parts[m]=_.div(l).low_,_=_.modulo(l);return{quotient:u,rem:_}},g=function(u){this._bsontype="Decimal128",this.bytes=u};g.fromString=function(u){var l,_=!1,m=!1,C=!1,A=0,$=0,K=0,B=0,F=0,k=[0],U=0,P=0,G=0,W=0,ne=0,X=0,z=[0,0],Q=[0,0],Z=0;if((u=u.trim()).length>=7e3)throw new Error(u+" not a valid Decimal128 string");var j=u.match(w),ce=u.match(x),pe=u.match(V);if(!j&&!ce&&!pe||0===u.length)throw new Error(u+" not a valid Decimal128 string");if(j&&j[4]&&void 0===j[2])throw new Error(u+" not a valid Decimal128 string");if("+"!==u[Z]&&"-"!==u[Z]||(_="-"===u[Z++]),!h(u[Z])&&"."!==u[Z]){if("i"===u[Z]||"I"===u[Z])return new g(y.toBuffer(_?S:O));if("N"===u[Z])return new g(y.toBuffer(I))}for(;h(u[Z])||"."===u[Z];)if("."!==u[Z])U<34&&("0"!==u[Z]||C)&&(C||(F=$),C=!0,k[P++]=parseInt(u[Z],10),U+=1),C&&(K+=1),m&&(B+=1),$+=1,Z+=1;else{if(m)return new g(y.toBuffer(I));m=!0,Z+=1}if(m&&!$)throw new Error(u+" not a valid Decimal128 string");if("e"===u[Z]||"E"===u[Z]){var J=u.substr(++Z).match(v);if(!J||!J[2])return new g(y.toBuffer(I));ne=parseInt(J[0],10),Z+=J[0].length}if(u[Z])return new g(y.toBuffer(I));if(G=0,U){if(W=U-1,A=K,0!==ne&&1!==A)for(;"0"===u[F+A-1];)A-=1}else G=0,W=0,k[0]=0,K=1,U=1,A=0;for(ne<=B&&B-ne>16384?ne=-6176:ne-=B;ne>6111;){if((W+=1)-G>34){var Ee=k.join("");if(Ee.match(/^0+$/)){ne=6111;break}return new g(y.toBuffer(_?S:O))}ne-=1}for(;ne<-6176||U<K;){if(0===W){ne=-6176,A=0;break}if(U<K?K-=1:W-=1,!(ne<6111)){if((Ee=k.join("")).match(/^0+$/)){ne=6111;break}return new g(y.toBuffer(_?S:O))}ne+=1}if(W-G+1<A&&"0"!==u[A]){var te=$;m&&-6176===ne&&(F+=1,te+=1);var ue=parseInt(u[F+W+1],10),le=0;if(ue>=5&&(le=1,5===ue))for(le=k[W]%2==1,X=F+W+2;X<te;X++)if(parseInt(u[X],10)){le=1;break}if(le)for(var N=W;N>=0&&++k[N]>9;N--)if(k[N]=0,0===N){if(!(ne<6111))return new g(y.toBuffer(_?S:O));ne+=1,k[N]=1}}if(z=p.fromNumber(0),Q=p.fromNumber(0),0===A)z=p.fromNumber(0),Q=p.fromNumber(0);else if(W-G<17)for(N=G,Q=p.fromNumber(k[N++]),z=new p(0,0);N<=W;N++)Q=(Q=Q.multiply(p.fromNumber(10))).add(p.fromNumber(k[N]));else{for(N=G,z=p.fromNumber(k[N++]);N<=W-17;N++)z=(z=z.multiply(p.fromNumber(10))).add(p.fromNumber(k[N]));for(Q=p.fromNumber(k[N++]);N<=W;N++)Q=(Q=Q.multiply(p.fromNumber(10))).add(p.fromNumber(k[N]))}var M,H,L,oe,de=function(Ve,Qe){if(!Ve&&!Qe)return{high:p.fromNumber(0),low:p.fromNumber(0)};var it=Ve.shiftRightUnsigned(32),xe=new p(Ve.getLowBits(),0),$e=Qe.shiftRightUnsigned(32),rt=new p(Qe.getLowBits(),0),mt=it.multiply($e),Ct=it.multiply(rt),Ot=xe.multiply($e),tn=xe.multiply(rt);return mt=mt.add(Ct.shiftRightUnsigned(32)),Ct=new p(Ct.getLowBits(),0).add(Ot).add(tn.shiftRightUnsigned(32)),{high:mt=mt.add(Ct.shiftRightUnsigned(32)),low:tn=Ct.shiftLeft(32).add(new p(tn.getLowBits(),0))}}(z,p.fromString("100000000000000000"));de.low=de.low.add(Q),((L=(M=de.low).high_>>>0)<(oe=(H=Q).high_>>>0)||L===oe&&M.low_>>>0<H.low_>>>0)&&(de.high=de.high.add(p.fromNumber(1))),l=ne+D;var we={low:p.fromNumber(0),high:p.fromNumber(0)};de.high.shiftRightUnsigned(49).and(p.fromNumber(1)).equals(p.fromNumber)?(we.high=we.high.or(p.fromNumber(3).shiftLeft(61)),we.high=we.high.or(p.fromNumber(l).and(p.fromNumber(16383).shiftLeft(47))),we.high=we.high.or(de.high.and(p.fromNumber(0x7fffffffffff)))):(we.high=we.high.or(p.fromNumber(16383&l).shiftLeft(49)),we.high=we.high.or(de.high.and(p.fromNumber(562949953421311)))),we.low=de.low,_&&(we.high=we.high.or(p.fromString("9223372036854775808")));var Me=y.allocBuffer(16);return Z=0,Me[Z++]=255&we.low.low_,Me[Z++]=we.low.low_>>8&255,Me[Z++]=we.low.low_>>16&255,Me[Z++]=we.low.low_>>24&255,Me[Z++]=255&we.low.high_,Me[Z++]=we.low.high_>>8&255,Me[Z++]=we.low.high_>>16&255,Me[Z++]=we.low.high_>>24&255,Me[Z++]=255&we.high.low_,Me[Z++]=we.high.low_>>8&255,Me[Z++]=we.high.low_>>16&255,Me[Z++]=we.high.low_>>24&255,Me[Z++]=255&we.high.high_,Me[Z++]=we.high.high_>>8&255,Me[Z++]=we.high.high_>>16&255,Me[Z++]=we.high.high_>>24&255,new g(Me)},D=6176,g.prototype.toString=function(){for(var u,l,_,m,C,A,$=0,K=new Array(36),B=0;B<K.length;B++)K[B]=0;var F,k,U,P,G,W=0,ne=!1,X={parts:new Array(4)},z=[];W=0;var Q=this.bytes;if(m=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,_=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,l=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,u=Q[W++]|Q[W++]<<8|Q[W++]<<16|Q[W++]<<24,W=0,(new p(m,_),new p(l,u)).lessThan(p.ZERO)&&z.push("-"),(C=u>>26&31)>>3==3){if(30===C)return z.join("")+"Infinity";if(31===C)return"NaN";A=u>>15&16383,U=8+(u>>14&1)}else U=u>>14&7,A=u>>17&16383;if(F=A-D,X.parts[0]=(16383&u)+((15&U)<<14),X.parts[1]=l,X.parts[2]=_,X.parts[3]=m,0===X.parts[0]&&0===X.parts[1]&&0===X.parts[2]&&0===X.parts[3])ne=!0;else for(G=3;G>=0;G--){var Z=0,j=f(X);if(X=j.quotient,Z=j.rem.low_)for(P=8;P>=0;P--)K[9*G+P]=Z%10,Z=Math.floor(Z/10)}if(ne)$=1,K[W]=0;else for($=36,B=0;!K[W];)B++,$-=1,W+=1;if((k=$-1+F)>=34||k<=-7||F>0){for(z.push(K[W++]),($-=1)&&z.push("."),B=0;B<$;B++)z.push(K[W++]);z.push("E"),z.push(k>0?"+"+k:k)}else if(F>=0)for(B=0;B<$;B++)z.push(K[W++]);else{var ce=$+F;if(ce>0)for(B=0;B<ce;B++)z.push(K[W++]);else z.push("0");for(z.push(".");ce++<0;)z.push("0");for(B=0;B<$-Math.max(ce-1,0);B++)z.push(K[W++])}return z.join("")},g.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},ae.exports=g,ae.exports.Decimal128=g},function(ae,q){function c(){if(!(this instanceof c))return new c;this._bsontype="MinKey"}ae.exports=c,ae.exports.MinKey=c},function(ae,q){function c(){if(!(this instanceof c))return new c;this._bsontype="MaxKey"}ae.exports=c,ae.exports.MaxKey=c},function(ae,q){function c(p,w,x){if(!(this instanceof c))return new c(p,w,x);this._bsontype="DBRef",this.namespace=p,this.oid=w,this.db=x}c.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?"":this.db}},ae.exports=c,ae.exports.DBRef=c},function(ae,q,c){"use strict";ae.exports=c(115)},function(ae,q,c){"use strict";ae.exports=new Set(["__proto__","constructor","prototype"])},function(ae,q,c){"use strict";var p=c(53);ae.exports=function(w){return p(w,null!=this?this.path:null)}},function(ae,q,c){"use strict";var p=c(13);ae.exports=function(w,x){if(ae.exports.convertToTrue.has(w))return!0;if(ae.exports.convertToFalse.has(w))return!1;if(null==w)return w;throw new p("boolean",w,x)},ae.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),ae.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},function(ae,q,c){"use strict";(function(p){function w(te,ue,le){return M=function(H,L){if("object"!==x(H)||null===H)return H;var oe=H[Symbol.toPrimitive];if(void 0!==oe){var de=oe.call(H,"string");if("object"!==x(de))return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(ue),(ue="symbol"===x(M)?M:String(M))in te?Object.defineProperty(te,ue,{value:le,enumerable:!0,configurable:!0,writable:!0}):te[ue]=le,te;var M}function x(te){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(te)}function V(te,ue){var le="undefined"!=typeof Symbol&&te[Symbol.iterator]||te["@@iterator"];if(!le){if(Array.isArray(te)||(le=function(de,we){if(de){if("string"==typeof de)return D(de,void 0);var Me=Object.prototype.toString.call(de).slice(8,-1);if("Object"===Me&&de.constructor&&(Me=de.constructor.name),"Map"===Me||"Set"===Me)return Array.from(de);if("Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return D(de,void 0)}}(te))||ue&&te&&"number"==typeof te.length){le&&(te=le);var N=0,M=function(){};return{s:M,n:function(){return N>=te.length?{done:!0}:{done:!1,value:te[N++]}},e:function(de){throw de},f:M}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var H,L=!0,oe=!1;return{s:function(){le=le.call(te)},n:function(){var de=le.next();return L=de.done,de},e:function(de){oe=!0,H=de},f:function(){try{L||null==le.return||le.return()}finally{if(oe)throw H}}}}function D(te,ue){(null==ue||ue>te.length)&&(ue=te.length);for(var le=0,N=new Array(ue);le<ue;le++)N[le]=te[le];return N}var I,S=c(19).EventEmitter,O=c(140),v=c(14),y=c(6),h=c(7),f=c(141),g=c(55),u=c(76),l=c(0).arrayParentSymbol,_=c(3),m=c(24),C=c(142),A=c(72),$=c(50),K=c(15).get().ReadPreference,B=c(143),F=c(4),k=c(1),U=c(147),P=c(148).middlewareFunctions,G=c(78).middlewareFunctions,W=P.concat(G).reduce(function(te,ue){return te.add(ue)},new Set),ne=0;function X(te,ue){if(!(this instanceof X))return new X(te,ue);if(this.obj=te,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods={},this.methodOptions={},this.statics={},this.tree={},this.query={},this.childSchemas=[],this.plugins=[],this.$id=++ne,this.mapPaths=[],this.s={hooks:new O},this.options=this.defaultOptions(ue),Array.isArray(te)){var le,N=V(te);try{for(N.s();!(le=N.n()).done;)this.add(le.value)}catch(L){N.e(L)}finally{N.f()}}else te&&this.add(te);var H=te&&te._id&&k.isObject(te._id);!this.paths._id&&!this.options.noId&&this.options._id&&!H&&u(this),this.setupTimestamp(this.options.timestamps)}(X.prototype=Object.create(S.prototype)).constructor=X,X.prototype.instanceOfSchema=!0,Object.defineProperty(X.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(X.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),X.prototype.clone=function(){var te=this,ue=new(null==this.base?X:this.base.Schema)({},this._userProvidedOptions);return ue.base=this.base,ue.obj=this.obj,ue.options=k.clone(this.options),ue.callQueue=this.callQueue.map(function(le){return le}),ue.methods=k.clone(this.methods),ue.methodOptions=k.clone(this.methodOptions),ue.statics=k.clone(this.statics),ue.query=k.clone(this.query),ue.plugins=Array.prototype.slice.call(this.plugins),ue._indexes=k.clone(this._indexes),ue.s.hooks=this.s.hooks.clone(),ue.tree=k.clone(this.tree),ue.paths=k.clone(this.paths),ue.nested=k.clone(this.nested),ue.subpaths=k.clone(this.subpaths),ue.singleNestedPaths=k.clone(this.singleNestedPaths),ue.childSchemas=function(le){for(var N=[],M=0,H=Object.keys(le.paths);M<H.length;M++){var oe=le.paths[H[M]];(oe.$isMongooseDocumentArray||oe.$isSingleNested)&&N.push({schema:oe.schema,model:oe.caster})}return N}(ue),ue.virtuals=k.clone(this.virtuals),ue.$globalPluginsApplied=this.$globalPluginsApplied,ue.$isRootDiscriminator=this.$isRootDiscriminator,ue.$implicitlyCreated=this.$implicitlyCreated,ue.mapPaths=[].concat(this.mapPaths),null!=this.discriminatorMapping&&(ue.discriminatorMapping=Object.assign({},this.discriminatorMapping)),null!=this.discriminators&&(ue.discriminators=Object.assign({},this.discriminators)),ue.aliases=Object.assign({},this.aliases),ue.on("init",function(le){return te.emit("init",le)}),ue},X.prototype.pick=function(te,ue){var le=new X({},ue||this.options);if(!Array.isArray(te))throw new v('Schema#pick() only accepts an array argument, got "'+x(te)+'"');var N,M=V(te);try{for(M.s();!(N=M.n()).done;){var H=N.value;if(this.nested[H])le.add(w({},H,_(this.tree,H)));else{var L=this.path(H);if(null==L)throw new v("Path `"+H+"` is not in the schema");le.add(w({},H,L))}}}catch(oe){M.e(oe)}finally{M.f()}return le},X.prototype.defaultOptions=function(te){te&&!1===te.safe&&(te.safe={w:0}),te&&te.safe&&0===te.safe.w&&(te.versionKey=!1),this._userProvidedOptions=null==te?{}:k.clone(te);var ue=_(this,"base.options",{});if((te=k.options({strict:!("strict"in ue)||ue.strict,strictQuery:"strictQuery"in ue&&ue.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,discriminatorKey:"__t",minimize:!0,autoIndex:null,shardKey:null,read:null,validateBeforeSave:!0,noId:!1,_id:!0,noVirtualId:!1,id:!0,typeKey:"type",typePojoToMixed:!("typePojoToMixed"in ue)||ue.typePojoToMixed},k.clone(te))).read&&(te.read=K(te.read)),te.optimisticConcurrency&&!te.versionKey)throw new v("Must set `versionKey` if using `optimisticConcurrency`");return te},X.prototype.add=function(te,ue){if(te instanceof X||null!=te&&te.instanceOfSchema)return A(this,te),this;if(!1===te._id&&null==ue&&(this.options._id=!1),"__proto__."===(ue=ue||"")||"constructor."===ue||"prototype."===ue)return this;for(var le=0,N=Object.keys(te);le<N.length;le++){var M=N[le];if(!k.specialProperties.has(M)){var H=ue+M;if(null==te[M])throw new TypeError("Invalid value for schema path `"+H+'`, got value "'+te[M]+'"');if("_id"!==M||!1!==te[M])if(te[M]instanceof g||"VirtualType"===_(te[M],"constructor.name",null))this.virtual(te[M]);else{if(Array.isArray(te[M])&&1===te[M].length&&null==te[M][0])throw new TypeError("Invalid value for schema Array path `"+H+'`, got value "'+te[M][0]+'"');if(k.isPOJO(te[M])||te[M]instanceof h)if(Object.keys(te[M]).length<1)ue&&(this.nested[ue.substr(0,ue.length-1)]=!0),this.path(H,te[M]);else if(!te[M][this.options.typeKey]||"type"===this.options.typeKey&&te[M].type.type)this.nested[H]=!0,this.add(te[M],H+".");else if(!this.options.typePojoToMixed&&k.isPOJO(te[M][this.options.typeKey])){ue&&(this.nested[ue.substr(0,ue.length-1)]=!0);var L=new X(te[M][this.options.typeKey],{typePojoToMixed:!1}),oe=Object.assign({},te[M],w({},this.options.typeKey,L));this.path(ue+M,oe)}else ue&&(this.nested[ue.substr(0,ue.length-1)]=!0),this.path(ue+M,te[M]);else ue&&(this.nested[ue.substr(0,ue.length-1)]=!0),this.path(ue+M,te[M])}}}return function(de,we){var Me,Ve=V(we=we||Object.keys(de.paths));try{for(Ve.s();!(Me=Ve.n()).done;){var Qe=Me.value,it=_(de.paths[Qe],"options");if(null!=it){var xe=de.paths[Qe].path,$e=it.alias;if($e){if("string"!=typeof $e)throw new Error("Invalid value for alias option on "+xe+", got "+$e);de.aliases[$e]=xe,de.virtual($e).get(function(rt){return function(){return"function"==typeof this.get?this.get(rt):this[rt]}}(xe)).set(function(rt){return function(mt){return this.$set(rt,mt)}}(xe))}}}}catch(rt){Ve.e(rt)}finally{Ve.f()}}(this,Object.keys(te).map(function(de){return ue?ue+de:de})),this},X.prototype.reserved=X.reserved=Object.create(null);var z=X.reserved;function Q(te){return/\.\d+/.test(te)?te.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):te}function Z(te,ue){if(0===te.mapPaths.length)return null;var le,N=V(te.mapPaths);try{for(N.s();!(le=N.n()).done;){var M=le.value.path;if(new RegExp("^"+M.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(ue))return te.paths[M]}}catch(H){N.e(H)}finally{N.f()}return null}function j(te,ue){var le=ue.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(le.length<2)return te.paths.hasOwnProperty(le[0])?te.paths[le[0]]:"adhocOrUndefined";var N=te.path(le[0]),M=!1;if(!N)return"adhocOrUndefined";for(var H=le.length-1,L=1;L<le.length;++L){M=!1;var oe=le[L];if(L===H&&N&&!/\D/.test(oe)){N=N.$isMongooseDocumentArray?N.$embeddedSchemaType:N instanceof I.Array?N.caster:void 0;break}if(/\D/.test(oe)){if(!N||!N.schema){N=void 0;break}M="nested"===N.schema.pathType(oe),N=N.schema.path(oe)}else N instanceof I.Array&&L!==H&&(N=N.caster)}return te.subpaths[ue]=N,N?"real":M?"nested":"adhocOrUndefined"}z.prototype=z.emit=z.listeners=z.on=z.removeListener=z.collection=z.errors=z.get=z.init=z.isModified=z.isNew=z.populated=z.remove=z.save=z.toObject=z.validate=1,X.prototype.path=function(te,ue){var pt,cn,on,le=Q(te);if(void 0===ue){var N=(on=le,(pt=this).paths.hasOwnProperty(cn=te)?pt.paths[cn]:pt.subpaths.hasOwnProperty(on)?pt.subpaths[on]:pt.singleNestedPaths.hasOwnProperty(on)&&"object"===x(pt.singleNestedPaths[on])?pt.singleNestedPaths[on]:null);if(null!=N)return N;var M=Z(this,te);return null!=M?M:null!=(N=this.hasMixedParent(le))?N:/\.\d+\.?.*$/.test(te)?function(pt,cn){return j(pt,cn),pt.subpaths[cn]}(this,te):void 0}var H=te.split(".")[0];if(z[H])throw new Error("`"+H+"` may not be used as a schema pathname");"object"===x(ue)&&k.hasUserDefinedProperty(ue,"ref")&&U(ue.ref,te);var L,oe=te.split(/\./),de=oe.pop(),we=this.tree,Me="",Ve=V(oe);try{for(Ve.s();!(L=Ve.n()).done;){var Qe=L.value;if(k.specialProperties.has(Qe))throw new Error("Cannot set special property `"+Qe+"` on a schema");if(Me=Me+=(Me.length>0?".":"")+Qe,we[Qe]||(this.nested[Me]=!0,we[Qe]={}),"object"!==x(we[Qe]))throw new Error("Cannot set nested path `"+te+"`. Parent path `"+Me+"` already set to type "+we[Qe].name+".");we=we[Qe]}}catch(pt){Ve.e(pt)}finally{Ve.f()}we[de]=k.clone(ue),this.paths[te]=this.interpretAsType(te,ue,this.options);var xe=this.paths[te];if(xe.$isSchemaMap){var $e=te+".$*",rt={type:{}};k.hasUserDefinedProperty(ue,"of")&&(rt=k.isPOJO(ue.of)&&Object.keys(ue.of).length>0&&!k.hasUserDefinedProperty(ue.of,this.options.typeKey)?new X(ue.of):ue.of),k.hasUserDefinedProperty(ue,"ref")&&(rt={type:rt,ref:ue.ref}),this.paths[$e]=this.interpretAsType($e,rt,this.options),this.mapPaths.push(this.paths[$e]),xe.$__schemaType=this.paths[$e]}if(xe.$isSingleNested){for(var mt=0,Ct=Object.keys(xe.schema.paths);mt<Ct.length;mt++){var Ot=Ct[mt];this.singleNestedPaths[te+"."+Ot]=xe.schema.paths[Ot]}for(var tn=0,si=Object.keys(xe.schema.singleNestedPaths);tn<si.length;tn++){var bn=si[tn];this.singleNestedPaths[te+"."+bn]=xe.schema.singleNestedPaths[bn]}for(var Fn=0,Pi=Object.keys(xe.schema.subpaths);Fn<Pi.length;Fn++){var ie=Pi[Fn];this.singleNestedPaths[te+"."+ie]=xe.schema.subpaths[ie]}for(var re=0,ge=Object.keys(xe.schema.nested);re<ge.length;re++)this.singleNestedPaths[te+"."+ge[re]]="nested";Object.defineProperty(xe.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),xe.caster.base=this.base,this.childSchemas.push({schema:xe.schema,model:xe.caster})}else xe.$isMongooseDocumentArray&&(Object.defineProperty(xe.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),xe.casterConstructor.base=this.base,this.childSchemas.push({schema:xe.schema,model:xe.casterConstructor}));if(xe.$isMongooseArray&&xe.caster instanceof y){for(var Se=te,De=xe,ke=[];De.$isMongooseArray;)Se+=".$",De.$isMongooseDocumentArray?(De.$embeddedSchemaType._arrayPath=Se,De.$embeddedSchemaType._arrayParentPath=te,De=De.$embeddedSchemaType.clone()):(De.caster._arrayPath=Se,De.caster._arrayParentPath=te,De=De.caster.clone()),De.path=Se,ke.push(De);for(var Ne=0,je=ke;Ne<je.length;Ne++){var Le=je[Ne];this.subpaths[Le.path]=Le}}if(xe.$isMongooseDocumentArray){for(var Be=0,Ge=Object.keys(xe.schema.paths);Be<Ge.length;Be++){var Ue=Ge[Be],qe=xe.schema.paths[Ue];this.subpaths[te+"."+Ue]=qe,"object"===x(qe)&&null!=qe&&(qe.$isUnderneathDocArray=!0)}for(var et=0,dt=Object.keys(xe.schema.subpaths);et<dt.length;et++){var _t=dt[et],Ke=xe.schema.subpaths[_t];this.subpaths[te+"."+_t]=Ke,"object"===x(Ke)&&null!=Ke&&(Ke.$isUnderneathDocArray=!0)}for(var lt=0,ht=Object.keys(xe.schema.singleNestedPaths);lt<ht.length;lt++){var wt=ht[lt],Pt=xe.schema.singleNestedPaths[wt];this.subpaths[te+"."+wt]=Pt,"object"===x(Pt)&&null!=Pt&&(Pt.$isUnderneathDocArray=!0)}}return this},Object.defineProperty(X.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),X.prototype.interpretAsType=function(te,ue,le){if(ue instanceof y){if(ue.path===te)return ue;var N=ue.clone();return N.path=te,N}var M=null!=this.base?this.base.Schema.Types:X.Types;if(!(k.isPOJO(ue)||ue instanceof h)&&"Object"!==k.getFunctionName(ue.constructor)){var H=ue;(ue={})[le.typeKey]=H}var L,oe=!ue[le.typeKey]||"type"===le.typeKey&&ue.type.type?{}:ue[le.typeKey];if(k.isPOJO(oe)||"mixed"===oe)return new M.Mixed(te,ue);if(Array.isArray(oe)||oe===Array||"array"===oe||oe===M.Array){var de=oe===Array||"array"===oe?ue.cast||ue.of:oe[0];if(de&&de.instanceOfSchema){if(!(de instanceof X))throw new TypeError("Schema for array path `"+te+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");return new M.DocumentArray(te,de,ue)}if(de&&de[le.typeKey]&&de[le.typeKey].instanceOfSchema){if(!(de[le.typeKey]instanceof X))throw new TypeError("Schema for array path `"+te+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");return new M.DocumentArray(te,de[le.typeKey],ue,de)}if(Array.isArray(de))return new M.Array(te,this.interpretAsType(te,de,le),ue);if("string"==typeof de)de=M[de.charAt(0).toUpperCase()+de.substring(1)];else if(de&&(!de[le.typeKey]||"type"===le.typeKey&&de.type.type)&&k.isPOJO(de)){if(Object.keys(de).length){var we={minimize:le.minimize};le.typeKey&&(we.typeKey=le.typeKey),le.hasOwnProperty("strict")&&(we.strict=le.strict),le.hasOwnProperty("typePojoToMixed")&&(we.typePojoToMixed=le.typePojoToMixed),this._userProvidedOptions.hasOwnProperty("_id")?we._id=this._userProvidedOptions._id:X.Types.DocumentArray.defaultOptions&&null!=X.Types.DocumentArray.defaultOptions._id&&(we._id=X.Types.DocumentArray.defaultOptions._id);var Me=new X(de,we);return Me.$implicitlyCreated=!0,new M.DocumentArray(te,Me,ue)}return new M.Array(te,M.Mixed,ue)}if(de&&("ClockDate"===(L="string"==typeof(oe=!de[le.typeKey]||"type"===le.typeKey&&de.type.type?de:de[le.typeKey])?oe:oe.schemaName||k.getFunctionName(oe))&&(L="Date"),!M.hasOwnProperty(L)))throw new TypeError("Invalid schema configuration: "+"`".concat(L,"` is not a valid type within the array `").concat(te,"`.")+"See http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new M.Array(te,de||M.Mixed,ue,le)}if(oe&&oe.instanceOfSchema)return new M.Embedded(oe,te,ue);if((L=p.isBuffer(oe)?"Buffer":"function"==typeof oe||"object"===x(oe)?oe.schemaName||k.getFunctionName(oe):null==oe?""+oe:oe.toString())&&(L=L.charAt(0).toUpperCase()+L.substring(1)),"ObjectID"===L&&(L="ObjectId"),"ClockDate"===L&&(L="Date"),null==M[L])throw new TypeError("Invalid schema configuration: `".concat(L,"` is not ")+"a valid type at path `".concat(te,"`. See ")+"http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new M[L](te,ue)},X.prototype.eachPath=function(te){for(var ue=Object.keys(this.paths),le=ue.length,N=0;N<le;++N)te(ue[N],this.paths[ue[N]]);return this},X.prototype.requiredPaths=function(te){if(this._requiredpaths&&!te)return this._requiredpaths;for(var ue=Object.keys(this.paths),le=ue.length,N=[];le--;){var M=ue[le];this.paths[M].isRequired&&N.push(M)}return this._requiredpaths=N,this._requiredpaths},X.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},X.prototype.pathType=function(te){var ue=Q(te);if(this.paths.hasOwnProperty(te))return"real";if(this.virtuals.hasOwnProperty(te))return"virtual";if(this.nested.hasOwnProperty(te))return"nested";if(this.subpaths.hasOwnProperty(ue)||this.subpaths.hasOwnProperty(te))return"real";var le=this.singleNestedPaths.hasOwnProperty(ue)||this.singleNestedPaths.hasOwnProperty(te);return le?"nested"===le?"nested":"real":null!=Z(this,te)?"real":/\.\d+\.|\.\d+$/.test(te)?j(this,te):"adhocOrUndefined"},X.prototype.hasMixedParent=function(te){var ue=te.split(/\./g);te="";for(var le=0;le<ue.length;++le)if(this.paths.hasOwnProperty(te=le>0?te+"."+ue[le]:ue[le])&&this.paths[te]instanceof I.Mixed)return this.paths[te];return null},X.prototype.setupTimestamp=function(te){return B(this,te)},X.prototype.queue=function(te,ue){return this.callQueue.push([te,ue]),this},X.prototype.pre=function(te){if(te instanceof RegExp){var ue,le=Array.prototype.slice.call(arguments,1),N=V(W);try{for(N.s();!(ue=N.n()).done;){var M=ue.value;te.test(M)&&this.pre.apply(this,[M].concat(le))}}catch(we){N.e(we)}finally{N.f()}return this}if(Array.isArray(te)){var H,L=Array.prototype.slice.call(arguments,1),oe=V(te);try{for(oe.s();!(H=oe.n()).done;){var de=H.value;this.pre.apply(this,[de].concat(L))}}catch(we){oe.e(we)}finally{oe.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},X.prototype.post=function(te){if(te instanceof RegExp){var ue,le=Array.prototype.slice.call(arguments,1),N=V(W);try{for(N.s();!(ue=N.n()).done;){var M=ue.value;te.test(M)&&this.post.apply(this,[M].concat(le))}}catch(we){N.e(we)}finally{N.f()}return this}if(Array.isArray(te)){var H,L=Array.prototype.slice.call(arguments,1),oe=V(te);try{for(oe.s();!(H=oe.n()).done;){var de=H.value;this.post.apply(this,[de].concat(L))}}catch(we){oe.e(we)}finally{oe.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},X.prototype.plugin=function(te,ue){if("function"!=typeof te)throw new Error('First param to `schema.plugin()` must be a function, got "'+x(te)+'"');if(ue&&ue.deduplicate){var le,N=V(this.plugins);try{for(N.s();!(le=N.n()).done;)if(le.value.fn===te)return this}catch(M){N.e(M)}finally{N.f()}}return this.plugins.push({fn:te,opts:ue}),te(this,ue),this},X.prototype.method=function(te,ue,le){if("string"!=typeof te)for(var N in te)this.methods[N]=te[N],this.methodOptions[N]=k.clone(le);else this.methods[te]=ue,this.methodOptions[te]=k.clone(le);return this},X.prototype.static=function(te,ue){if("string"!=typeof te)for(var le in te)this.statics[le]=te[le];else this.statics[te]=ue;return this},X.prototype.index=function(te,ue){return te||(te={}),ue||(ue={}),ue.expires&&k.expires(ue),this._indexes.push([te,ue]),this},X.prototype.set=function(te,ue,le){if(1===arguments.length)return this.options[te];switch(te){case"read":this.options[te]=K(ue,le),this._userProvidedOptions[te]=this.options[te];break;case"safe":ce(this.options,ue),this._userProvidedOptions[te]=this.options[te];break;case"timestamps":this.setupTimestamp(ue),this.options[te]=ue,this._userProvidedOptions[te]=this.options[te];break;case"_id":this.options[te]=ue,this._userProvidedOptions[te]=this.options[te],ue&&!this.paths._id?u(this):!ue&&null!=this.paths._id&&this.paths._id.auto&&this.remove("_id");break;default:this.options[te]=ue,this._userProvidedOptions[te]=this.options[te]}return this};var ce=F.deprecate(function(te,ue){te.safe=!1===ue?{w:0}:ue},"Mongoose: The `safe` option for schemas is deprecated. Use the `writeConcern` option instead: http://bit.ly/mongoose-write-concern");X.prototype.get=function(te){return this.options[te]};var pe="2d 2dsphere hashed text".split(" ");function J(te,ue){var le,N=ue.split("."),M=N.pop(),H=te.tree,L=V(N);try{for(L.s();!(le=L.n()).done;)H=H[le.value]}catch(oe){L.e(oe)}finally{L.f()}delete H[M]}function Ee(te){return te.startsWith("$[")&&te.endsWith("]")}Object.defineProperty(X,"indexTypes",{get:function(){return pe},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),X.prototype.indexes=function(){return C(this)},X.prototype.virtual=function(te,ue){var le=this;if(te instanceof g||"VirtualType"===m(te))return this.virtual(te.path,te.options);if(ue=new f(ue),k.hasUserDefinedProperty(ue,["ref","refPath"])){if(null==ue.localField)throw new Error("Reference virtuals require `localField` option");if(null==ue.foreignField)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function(we){if($.has(te,we)){var Me=$.get(te,we);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),this.$$populatedVirtuals[te]=ue.justOne||ue.count?Array.isArray(Me)?Me[0]:Me:Array.isArray(Me)?Me:null==Me?[]:[Me],$.unset(te,we)}});var N=this.virtual(te);return N.options=ue,N.set(function(we){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),ue.justOne||ue.count?(this.$$populatedVirtuals[te]=Array.isArray(we)?we[0]:we,"object"!==x(this.$$populatedVirtuals[te])&&(this.$$populatedVirtuals[te]=ue.count?we:null)):(this.$$populatedVirtuals[te]=Array.isArray(we)?we:null==we?[]:[we],this.$$populatedVirtuals[te]=this.$$populatedVirtuals[te].filter(function(Me){return Me&&"object"===x(Me)}))}),"function"==typeof ue.get&&N.get(ue.get),N}var M=this.virtuals,H=te.split(".");if("real"===this.pathType(te))throw new Error('Virtual path "'+te+'" conflicts with a real path in the schema');M[te]=H.reduce(function(we,Me,Ve){return we[Me]||(we[Me]=Ve===H.length-1?new g(ue,te):{}),we[Me]},this.tree);for(var L=H[0],oe=function(){if(null!=le.paths[L]&&le.paths[L].$isMongooseDocumentArray){var we=H.slice(de+1).join(".");return le.paths[L].schema.virtual(we).get(function(Me,Ve,Qe){return Qe.__parentArray[l].get(L+"."+Qe.__index+"."+we)}),"break"}L+="."+H[de+1]},de=0;de<H.length-1&&"break"!==oe();++de);return M[te]},X.prototype.virtualpath=function(te){return this.virtuals.hasOwnProperty(te)?this.virtuals[te]:null},X.prototype.remove=function(te){return"string"==typeof te&&(te=[te]),Array.isArray(te)&&te.forEach(function(ue){if(null!=this.path(ue)||this.nested[ue]){if(this.nested[ue]){var le,N=V(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(N.s();!(le=N.n()).done;){var M=le.value;M.startsWith(ue+".")&&(delete this.paths[M],delete this.nested[M],J(this,M))}}catch(H){N.e(H)}finally{N.f()}return delete this.nested[ue],void J(this,ue)}delete this.paths[ue],J(this,ue)}},this),this},X.prototype.loadClass=function(te,ue){return te===Object.prototype||te===Function.prototype||te.prototype.hasOwnProperty("$isMongooseModelPrototype")||(this.loadClass(Object.getPrototypeOf(te),ue),ue||Object.getOwnPropertyNames(te).forEach(function(le){if(!le.match(/^(length|name|prototype|constructor|__proto__)$/)){var N=Object.getOwnPropertyDescriptor(te,le);N.hasOwnProperty("value")&&this.static(le,N.value)}},this),Object.getOwnPropertyNames(te.prototype).forEach(function(le){if(!le.match(/^(constructor)$/)){var N=Object.getOwnPropertyDescriptor(te.prototype,le);ue||"function"==typeof N.value&&this.method(le,N.value),"function"==typeof N.get&&(this.virtuals[le]&&(this.virtuals[le].getters=[]),this.virtual(le).get(N.get)),"function"==typeof N.set&&(this.virtuals[le]&&(this.virtuals[le].setters=[]),this.virtual(le).set(N.set))}},this)),this},X.prototype._getSchema=function(te){var ue=this.path(te),le=[];if(ue)return ue.$fullPath=te,ue;for(var N=te.split("."),M=0;M<N.length;++M)("$"===N[M]||Ee(N[M]))&&(N[M]="0");return function H(L,oe){for(var de,we,Me=L.length+1;Me--;)if(we=L.slice(0,Me).join("."),de=oe.path(we)){if(le.push(we),de.caster){if(de.caster instanceof I.Mixed)return de.caster.$fullPath=le.join("."),de.caster;if(Me!==L.length&&de.schema){var Ve=void 0;return"$"===L[Me]||Ee(L[Me])?Me+1===L.length?de:((Ve=H(L.slice(Me+1),de.schema))&&(Ve.$isUnderneathDocArray=Ve.$isUnderneathDocArray||!de.schema.$isSingleNested),Ve):((Ve=H(L.slice(Me),de.schema))&&(Ve.$isUnderneathDocArray=Ve.$isUnderneathDocArray||!de.schema.$isSingleNested),Ve)}}else if(de.$isSchemaMap)return Me+1>=L.length?de:H(L.slice(Me+1),de.$__schemaType.schema);return de.$fullPath=le.join("."),de}}(N,this)},X.prototype._getPathType=function(te){return this.path(te)?"real":function ue(le,N){for(var M,H,L=le.length+1;L--;){if(H=le.slice(0,L).join("."),M=N.path(H))return M.caster?M.caster instanceof I.Mixed?{schema:M,pathType:"mixed"}:L!==le.length&&M.schema?"$"===le[L]||Ee(le[L])?L===le.length-1?{schema:M,pathType:"nested"}:ue(le.slice(L+1),M.schema):ue(le.slice(L),M.schema):{schema:M,pathType:M.$isSingleNested?"nested":"array"}:{schema:M,pathType:"real"};if(L===le.length&&N.nested[H])return{schema:N,pathType:"nested"}}return{schema:M||N,pathType:"undefined"}}(te.split("."),this)},ae.exports=q=X,X.Types=I=c(56),q.ObjectId=I.ObjectId}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";var p=c(1);function w(x,V){this.path=V,this.getters=[],this.setters=[],this.options=Object.assign({},x)}w.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var x="$"+this.path;this.getters.push(function(){return this[x]}),this.setters.push(function(V){this[x]=V})}},w.prototype.clone=function(){var x=new w(this.options,this.path);return x.getters=[].concat(this.getters),x.setters=[].concat(this.setters),x},w.prototype.get=function(x){return this.getters.push(x),this},w.prototype.set=function(x){return this.setters.push(x),this},w.prototype.applyGetters=function(x,V){p.hasUserDefinedProperty(this.options,["ref","refPath"])&&V.$$populatedVirtuals&&V.$$populatedVirtuals.hasOwnProperty(this.path)&&(x=V.$$populatedVirtuals[this.path]);for(var D=x,I=this.getters.length-1;I>=0;I--)D=this.getters[I].call(V,D,this,V);return D},w.prototype.applySetters=function(x,V){for(var D=x,I=this.setters.length-1;I>=0;I--)D=this.setters[I].call(V,D,this,V);return D},ae.exports=w},function(ae,q,c){"use strict";q.String=c(149),q.Number=c(80),q.Boolean=c(153),q.DocumentArray=c(154),q.Embedded=c(161),q.Array=c(57),q.Buffer=c(163),q.Date=c(165),q.ObjectId=c(168),q.Mixed=c(28),q.Decimal128=q.Decimal=c(170),q.Map=c(172),q.Oid=q.ObjectId,q.Object=q.Mixed,q.Bool=q.Boolean,q.ObjectID=q.ObjectId},function(ae,q,c){"use strict";function w(P,G){(null==G||G>P.length)&&(G=P.length);for(var W=0,ne=new Array(G);W<G;W++)ne[W]=P[W];return ne}var x,V,D=c(52),I=c(74),S=c(14),O=c(155),v=c(6),y=v.CastError,h=c(28),f=c(156),g=c(157),u=c(3),l=c(83),_=c(4),m=c(1),C=c(36).castToNumber,A=c(84),$=c(37),K=Symbol("mongoose#isNestedArray"),B=Object.freeze({});function F(P,G,W,ne){V||(V=c(38).Embedded);var X,z,Q="type";if(ne&&ne.typeKey&&(Q=ne.typeKey),this.schemaOptions=ne,G){var Z={};m.isPOJO(G)&&(G[Q]?(delete(Z=m.clone(G))[Q],G=G[Q]):G=h),null!=W&&null!=W.ref&&null==Z.ref&&(Z.ref=W.ref),G===Object&&(G=h);var j="string"==typeof G?G:m.getFunctionName(G),ce=c(56),pe=ce.hasOwnProperty(j)?ce[j]:G;this.casterConstructor=pe,this.casterConstructor instanceof F&&(this.casterConstructor[K]=!0),"function"!=typeof pe||pe.$isArraySubdocument||pe.$isSchemaMap?(this.caster=pe,this.caster instanceof V||(this.caster.path=P)):this.caster=new pe(this.caster instanceof V?null:P,Z),this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,v.call(this,P,W,"Array"),null!=this.defaultValue&&(z="function"==typeof(X=this.defaultValue)),!("defaultValue"in this)||void 0!==this.defaultValue){var Ee=function(){var te=[];return z?te=X.call(this):null!=X&&(te=te.concat(X)),te};Ee.$runBeforeSetters=!z,this.default(Ee)}}F.schemaName="Array",F.options={castNonArrays:!0},F.defaultOptions={},F.set=v.set,(F.prototype=Object.create(v.prototype)).constructor=F,F.prototype.OptionsConstructor=O,F._checkRequired=v.prototype.checkRequired,F.checkRequired=v.checkRequired,F.prototype.checkRequired=function(P,G){return v._isRef(this,P,G,!0)?!!P:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():F.checkRequired())(P)},F.prototype.enum=function(){for(var P=this;;){var G=u(P,"caster.instance");if("Array"!==G){if("String"!==G&&"Number"!==G)throw new Error("`enum` can only be set on an array of strings or numbers , not "+G);break}P=P.caster}var W=arguments;return!Array.isArray(arguments)&&m.isObject(arguments)&&(W=m.object.vals(W)),P.caster.enum.apply(P.caster,W),this},F.prototype.applyGetters=function(P,G){if(null!=G&&null!=G.$__&&G.populated(this.path))return P;var W=v.prototype.applyGetters.call(this,P,G);if(Array.isArray(W))for(var ne=W.length,X=0;X<ne;++X)W[X]=this.caster.applyGetters(W[X],G);return W},F.prototype._applySetters=function(P,G,W,ne){if(this.casterConstructor.$isMongooseArray&&F.options.castNonArrays&&!this[K]){for(var X=0,z=this;null!=z&&z.$isMongooseArray&&!z.$isMongooseDocumentArray;)++X,z=z.casterConstructor;if(null!=P&&P.length>0){var Q=f(P);if(Q.min===Q.max&&Q.max<X&&Q.containsNonArrayItem)for(var Z=Q.max;Z<X;++Z)P=[P]}}return v.prototype._applySetters.call(this,P,G,W,ne)},F.prototype.cast=function(P,G,W,ne,X){var z,Q;if(x||(x=c(38).Array),Array.isArray(P)){var Z=P.length;if(!Z&&G){var j=G.schema.indexedPaths(),ce=this.path;for(z=0,Q=j.length;z<Q;++z){var pe=j[z][0][ce];if("2dsphere"===pe||"2d"===pe)return}var J=this.path.endsWith(".coordinates")?this.path.substr(0,this.path.lastIndexOf(".")):null;if(null!=J)for(z=0,Q=j.length;z<Q;++z)if("2dsphere"===j[z][0][J])return}if(P=x(P,(X=X||B).path||this._arrayPath||this.path,G,this),W&&null!=G&&null!=G.$__&&G.populated(this.path))return P;var Ee=this.caster,te=Ee.$isMongooseArray,ue="Number"===Ee.instance;if(Ee&&this.casterConstructor!==h)try{for(z=0;z<Z;z++){if(ue&&void 0===P[z])throw new S("Mongoose number arrays disallow storing undefined");var le={};te&&(null!=X.arrayPath||null!=Ee._arrayParentPath)&&(le.arrayPathIndex=z),P[z]=Ee.applySetters(P[z],G,W,void 0,le)}}catch(N){throw new y("["+N.kind+"]",_.inspect(P),this.path+"."+z,N,this)}return P}if(W||F.options.castNonArrays)return G&&W&&G.markModified(this.path),this.cast([P],G,W);throw new y("Array",_.inspect(P),this.path,null,this)},F.prototype._castForPopulate=function(P,G){if(x||(x=c(38).Array),Array.isArray(P)){var W,ne=P.length,X=this.caster;if(X&&this.casterConstructor!==h)try{for(W=0;W<ne;W++){var z={};X.$isMongooseArray&&null!=X._arrayParentPath&&(z.arrayPathIndex=W),P[W]=X.cast(P[W],G,!1,void 0,z)}}catch(Q){throw new y("["+Q.kind+"]",_.inspect(P),this.path+"."+W,Q,this)}return P}throw new y("Array",_.inspect(P),this.path,null,this)},F.prototype.discriminator=function(P,G){for(var W=this;W.$isMongooseArray&&!W.$isMongooseDocumentArray;)if(null==(W=W.casterConstructor)||"function"==typeof W)throw new S("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return W.discriminator(P,G)},F.prototype.clone=function(){var P=Object.assign({},this.options),G=new this.constructor(this.path,this.caster,P,this.schemaOptions);return G.validators=this.validators.slice(),void 0!==this.requiredValidator&&(G.requiredValidator=this.requiredValidator),G},F.prototype.castForQuery=function(P,G){var W,ne,X=this;if(2===arguments.length){if(!(W=this.$conditionalHandlers[P]))throw new Error("Can't use "+P+" with Array.");ne=W.call(this,G)}else{var z=this.casterConstructor;if((ne=P)&&z.discriminators&&z.schema&&z.schema.options&&z.schema.options.discriminatorKey)if("string"==typeof ne[z.schema.options.discriminatorKey]&&z.discriminators[ne[z.schema.options.discriminatorKey]])z=z.discriminators[ne[z.schema.options.discriminatorKey]];else{var Q=$(z.discriminators,ne[z.schema.options.discriminatorKey]);Q&&(z=Q)}var Z=this.casterConstructor.prototype,j=Z&&(Z.castForQuery||Z.cast);!j&&z.castForQuery&&(j=z.castForQuery);var ce=this.caster;Array.isArray(ne)?(this.setters.reverse().forEach(function(pe){ne=pe.call(X,ne,X)}),ne=ne.map(function(pe){return m.isObject(pe)&&pe.$elemMatch?pe:j?pe=j.call(ce,pe):null!=pe?pe=new z(pe):pe})):j?ne=j.call(ce,ne):null!=ne&&(ne=new z(ne))}return ne};var k=F.prototype.$conditionalHandlers={};function U(P){return function(G){if(!Array.isArray(G))throw new TypeError("conditional "+P+" requires an array");var W,ne=[],X=function p(P,G){var W="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(!W){if(Array.isArray(P)||(W=function(j,ce){if(j){if("string"==typeof j)return w(j,void 0);var pe=Object.prototype.toString.call(j).slice(8,-1);if("Object"===pe&&j.constructor&&(pe=j.constructor.name),"Map"===pe||"Set"===pe)return Array.from(j);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return w(j,void 0)}}(P))||G&&P&&"number"==typeof P.length){W&&(P=W);var ne=0,X=function(){};return{s:X,n:function(){return ne>=P.length?{done:!0}:{done:!1,value:P[ne++]}},e:function(j){throw j},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,Q=!0,Z=!1;return{s:function(){W=W.call(P)},n:function(){var j=W.next();return Q=j.done,j},e:function(j){Z=!0,z=j},f:function(){try{Q||null==W.return||W.return()}finally{if(Z)throw z}}}}(G);try{for(X.s();!(W=X.n()).done;)ne.push(g(this.casterConstructor.schema,W.value))}catch(Q){X.e(Q)}finally{X.f()}return ne}}k.$all=function(P){return Array.isArray(P)||(P=[P]),P=P.map(function(G){if(m.isObject(G)){var W={};return W[this.path]=G,g(this.casterConstructor.schema,W)[this.path]}return G},this),this.castForQuery(P)},k.$options=String,k.$elemMatch=function(P){for(var G=Object.keys(P),W=G.length,ne=0;ne<W;++ne){var X=G[ne],z=P[X];l(X)&&null!=z&&(P[X]=this.castForQuery(X,z))}var Q=u(this,"casterConstructor.schema.options.discriminatorKey"),Z=u(this,"casterConstructor.schema.discriminators",{});return g(null!=Q&&null!=P[Q]&&null!=Z[P[Q]]?Z[P[Q]]:this.casterConstructor.schema,P)},k.$geoIntersects=A.cast$geoIntersects,k.$or=U("$or"),k.$and=U("$and"),k.$nor=U("$nor"),k.$near=k.$nearSphere=A.cast$near,k.$within=k.$geoWithin=A.cast$within,k.$size=k.$minDistance=k.$maxDistance=C,k.$exists=D,k.$type=I,k.$eq=k.$gt=k.$gte=k.$lt=k.$lte=k.$ne=k.$regex=F.prototype.castForQuery,k.$nin=v.prototype.$conditionalHandlers.$nin,k.$in=v.prototype.$conditionalHandlers.$in,ae.exports=F},function(ae,q,c){"use strict";var p,w=c(0).documentSchemaSymbol,x=c(3),V=c(17).internalToObjectOptions,D=c(1),I=c(0).getSymbol,S=c(0).scopeSymbol;function O(y,h,f,g){p=p||c(12);for(var u,l,_=Object.keys(y),m=_.length,C=0;C<m;++C)u=y[l=_[C]],v(l,D.isPOJO(u)&&Object.keys(u).length&&(!u[g.typeKey]||"type"===g.typeKey&&u.type.type)?u:null,h,f,0,g)}function v(y,h,f,g,u,l){p=p||c(12);var _=(g?g+".":"")+y;g=g||"",Object.defineProperty(f,y,h?{enumerable:!0,configurable:!0,get:function(){var m,C,A=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[_]){var $=Object.create(p.prototype,(m=this,C={},Object.getOwnPropertyNames(m).forEach(function(B){-1===["isNew","$__","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(B)||(C[B]=Object.getOwnPropertyDescriptor(m,B),C[B].enumerable=!1)}),C));g||($.$__[S]=this),$.$__.nestedPath=_,Object.defineProperty($,"schema",{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,w,{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty($,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return D.clone(A.get(_,null,{virtuals:x(this,"schema.options.toObject.virtuals",null)}))}}),Object.defineProperty($,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return A.get(_,null,{virtuals:x(this,"schema.options.toObject.virtuals",null)})}}),Object.defineProperty($,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return A.get(_,null,{virtuals:x(A,"schema.options.toJSON.virtuals",null)})}}),Object.defineProperty($,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0});var K=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1});Object.defineProperty($,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return 0===Object.keys(this.get(_,null,K)||{}).length}}),Object.defineProperty($,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),O(h,$,_,l),this.$__.getters[_]=$}return this.$__.getters[_]},set:function(m){null!=m&&m.$__isNested?m=m.$__get():m instanceof p&&!m.$__isNested&&(m=m.toObject(V)),(this.$__[S]||this).$set(_,m)}}:{enumerable:!0,configurable:!0,get:function(){return this[I].call(this.$__[S]||this,_)},set:function(m){this.$set.call(this.$__[S]||this,_,m)}})}q.compile=O,q.defineKey=v},function(ae,q,c){"use strict";function p(w){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}ae.exports=function(w){return null==w||"object"!==p(w)||!("$meta"in w)&&!("$slice"in w)}},function(ae,q,c){"use strict";(function(p){if(void 0!==p.Map)ae.exports=p.Map,ae.exports.Map=p.Map;else{var w=function(x){this._keys=[],this._values={};for(var V=0;V<x.length;V++)if(null!=x[V]){var D=x[V],I=D[0],S=D[1];this._keys.push(I),this._values[I]={v:S,i:this._keys.length-1}}};w.prototype.clear=function(){this._keys=[],this._values={}},w.prototype.delete=function(x){var V=this._values[x];return null!=V&&(delete this._values[x],this._keys.splice(V.i,1),!0)},w.prototype.entries=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?[D,x._values[D].v]:void 0,done:void 0===D}}}},w.prototype.forEach=function(x,V){V=V||this;for(var D=0;D<this._keys.length;D++){var I=this._keys[D];x.call(V,this._values[I].v,I,V)}},w.prototype.get=function(x){return this._values[x]?this._values[x].v:void 0},w.prototype.has=function(x){return null!=this._values[x]},w.prototype.keys=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?D:void 0,done:void 0===D}}}},w.prototype.set=function(x,V){return this._values[x]?(this._values[x].v=V,this):(this._keys.push(x),this._values[x]={v:V,i:this._keys.length-1},this)},w.prototype.values=function(){var x=this,V=0;return{next:function(){var D=x._keys[V++];return{value:void 0!==D?x._values[D].v:void 0,done:void 0===D}}}},Object.defineProperty(w.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),ae.exports=w,ae.exports.Map=w}}).call(this,c(9))},function(ae,q){var c=function p(w){if(!(this instanceof p))return new p(w);this._bsontype="Int32",this.value=w};c.prototype.valueOf=function(){return this.value},c.prototype.toJSON=function(){return this.value},ae.exports=c,ae.exports.Int32=c},function(ae,q,c){"use strict";var p=c(12),w=c(181),x=!1;ae.exports=function(){return x?w:p},ae.exports.setBrowser=function(V){x=V}},function(ae,q){ae.exports=function(c,p,w){var x=[],V=c.length;if(0===V)return x;var D=p<0?Math.max(0,p+V):p||0;for(void 0!==w&&(V=w<0?w+V:w);V-- >D;)x[V-D]=c[V];return x}},function(ae,q,c){var p=c(2),w=p.Buffer;function x(D,I){for(var S in D)I[S]=D[S]}function V(D,I,S){return w(D,I,S)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?ae.exports=p:(x(p,q),q.Buffer=V),V.prototype=Object.create(w.prototype),x(w,V),V.from=function(D,I,S){if("number"==typeof D)throw new TypeError("Argument must not be a number");return w(D,I,S)},V.alloc=function(D,I,S){if("number"!=typeof D)throw new TypeError("Argument must be a number");var O=w(D);return void 0!==I?"string"==typeof S?O.fill(I,S):O.fill(I):O.fill(0),O},V.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return w(D)},V.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return p.SlowBuffer(D)}},function(ae,q){function c(w){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}var p=Object.prototype.toString;ae.exports=function(w){if("object"!=c(x=w)||"[object RegExp]"!=p.call(x))throw new TypeError("Not a RegExp");var x,V=[];w.global&&V.push("g"),w.multiline&&V.push("m"),w.ignoreCase&&V.push("i"),w.dotAll&&V.push("s"),w.unicode&&V.push("u"),w.sticky&&V.push("y");var D=new RegExp(w.source,V.join(""));return"number"==typeof w.lastIndex&&(D.lastIndex=w.lastIndex),D}},function(ae,q,c){"use strict";ae.exports=function(p){return p.name?p.name:(p.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]}},function(ae,q,c){"use strict";var p=c(3);ae.exports=function(w,x){return p(w,"_bsontype",void 0)===x}},function(ae,q,c){"use strict";(function(p){var w=c(23),x=c(119),V={_promise:null,get:function(){return V._promise},set:function(D){w.ok("function"==typeof D,"mongoose.Promise must be a function, got ".concat(D)),V._promise=D,x.Promise=D}};V.set(p.Promise),ae.exports=V}).call(this,c(9))},function(ae,q,c){"use strict";(function(p,w){function x(h){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}var V=c(121).Buffer,D=c(65),I=["__proto__","constructor","prototype"],S=q.clone=function h(f,g){if(null==f)return f;if(Array.isArray(f))return q.cloneArray(f,g);if(f.constructor){if(/ObjectI[dD]$/.test(f.constructor.name))return"function"==typeof f.clone?f.clone():new f.constructor(f.id);if("ReadPreference"===f.constructor.name)return new f.constructor(f.mode,h(f.tags,g));if("Binary"==f._bsontype&&f.buffer&&f.value)return"function"==typeof f.clone?f.clone():new f.constructor(f.value(!0),f.sub_type);if("Date"===f.constructor.name||"Function"===f.constructor.name)return new f.constructor(+f);if("RegExp"===f.constructor.name)return D(f);if("Buffer"===f.constructor.name)return q.cloneBuffer(f)}return v(f)?q.cloneObject(f,g):f.valueOf?f.valueOf():void 0};q.cloneObject=function(h,f){for(var g,u,l=f&&f.minimize,_={},m=0,C=Object.keys(h);m<C.length;m++){var A=C[m];-1===I.indexOf(A)&&(u=S(h[A],f),l&&void 0===u||(g||(g=!0),_[A]=u))}return l?g&&_:_},q.cloneArray=function(h,f){for(var g=[],u=0,l=h.length;u<l;u++)g.push(S(h[u],f));return g},q.tick=function(h){if("function"==typeof h)return function(){var f=arguments;y(function(){h.apply(this,f)})}},q.merge=function h(f,g){for(var u,l=Object.keys(g),_=l.length;_--;)-1===I.indexOf(u=l[_])&&(void 0===f[u]?f[u]=g[u]:q.isObject(g[u])?h(f[u],g[u]):f[u]=g[u])},q.mergeClone=function h(f,g){for(var u,l=Object.keys(g),_=l.length;_--;)-1===I.indexOf(u=l[_])&&(void 0===f[u]?f[u]=S(g[u]):q.isObject(g[u])?h(f[u],g[u]):f[u]=S(g[u]))},q.readPref=function(h){switch(h){case"p":h="primary";break;case"pp":h="primaryPreferred";break;case"s":h="secondary";break;case"sp":h="secondaryPreferred";break;case"n":h="nearest"}return h},q.readConcern=function(h){if("string"==typeof h){switch(h){case"l":h="local";break;case"a":h="available";break;case"m":h="majority";break;case"lz":h="linearizable";break;case"s":h="snapshot"}h={level:h}}return h};var O=Object.prototype.toString;q.toString=function(h){return O.call(h)};var v=q.isObject=function(h){return"[object Object]"==q.toString(h)};q.isArray=function(h){return Array.isArray(h)||"object"==x(h)&&"[object Array]"==q.toString(h)},q.keys=Object.keys,q.create="function"==typeof Object.create?Object.create:function(h){if(arguments.length>1)throw new Error("Adding properties is not supported");function f(){}return f.prototype=h,new f},q.inherits=function(h,f){h.prototype=q.create(f.prototype),h.prototype.constructor=h};var y=q.soon="function"==typeof p?p:w.nextTick;q.cloneBuffer=function(h){var f=V.alloc(h.length);return h.copy(f,0,0,h.length),f},q.isArgumentsObject=function(h){return"[object Arguments]"===Object.prototype.toString.call(h)}}).call(this,c(70).setImmediate,c(10))},function(ae,q,c){(function(p){var w=void 0!==p&&p||"undefined"!=typeof self&&self||window,x=Function.prototype.apply;function V(D,I){this._id=D,this._clearFn=I}q.setTimeout=function(){return new V(x.call(setTimeout,w,arguments),clearTimeout)},q.setInterval=function(){return new V(x.call(setInterval,w,arguments),clearInterval)},q.clearTimeout=q.clearInterval=function(D){D&&D.close()},V.prototype.unref=V.prototype.ref=function(){},V.prototype.close=function(){this._clearFn.call(w,this._id)},q.enroll=function(D,I){clearTimeout(D._idleTimeoutId),D._idleTimeout=I},q.unenroll=function(D){clearTimeout(D._idleTimeoutId),D._idleTimeout=-1},q._unrefActive=q.active=function(D){clearTimeout(D._idleTimeoutId);var I=D._idleTimeout;I>=0&&(D._idleTimeoutId=setTimeout(function(){D._onTimeout&&D._onTimeout()},I))},c(120),q.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==p&&p.setImmediate||this&&this.setImmediate,q.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==p&&p.clearImmediate||this&&this.clearImmediate}).call(this,c(9))},function(ae,q,c){"use strict";(function(p,w,x,V){function D(I){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}q.isNode=void 0!==p&&"object"==D(w)&&"object"==(void 0===x?"undefined":D(x))&&"function"==typeof V&&p.argv,q.isMongo=!q.isNode&&"function"==typeof printjson&&"function"==typeof ObjectId&&"function"==typeof rs&&"function"==typeof sh,q.isBrowser=!q.isNode&&!q.isMongo&&"undefined"!=typeof window,q.type=q.isNode?"node":q.isMongo?"mongo":q.isBrowser?"browser":"unknown"}).call(this,c(10),c(126)(ae),c(9),c(2).Buffer)},function(ae,q,c){"use strict";ae.exports=function(p,w,x){for(var V={},D=0,I=Object.keys(w.tree);D<I.length;D++){var S=I[D];x&&(p.paths[S]||p.nested[S]||p.singleNestedPaths[S])||(V[S]=w.tree[S])}for(var O in p.add(V),p.callQueue=p.callQueue.concat(w.callQueue),p.method(w.methods),p.static(w.statics),w.query)p.query[O]=w.query[O];for(var v in w.virtuals)p.virtuals[v]=w.virtuals[v].clone();p._indexes=p._indexes.concat(w._indexes||[]),p.s.hooks.merge(w.s.hooks,!1)}},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function D(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function I(y){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var S=c(5),O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&x(_,m)}(l,y);var h,f,u=function V(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=I(y);if(h){var u=I(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return D(this,f)}}(l);function l(_){var m;!function($,K){if(!($ instanceof K))throw new TypeError("Cannot call a class as a function")}(this,l);var C=_.message;C||(C=S.messages.general.default);var A=v(C,_);return m=u.call(this,A),_=Object.assign({},_,{message:A}),m.properties=_,m.kind=_.type,m.path=_.path,m.value=_.value,m.reason=_.reason,m}return h=l,(f=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&function w(y,h){for(var f=0;f<h.length;f++){var g=h[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,(l=function(_,m){if("object"!==p(_)||null===_)return _;var C=_[Symbol.toPrimitive];if(void 0!==C){var A=C.call(_,"string");if("object"!==p(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(g.key),"symbol"===p(l)?l:String(l)),g)}var l}(h.prototype,f),Object.defineProperty(h,"prototype",{writable:!1}),l}(S);function v(y,h){if("function"==typeof y)return y(h);for(var f=0,g=Object.keys(h);f<g.length;f++){var u=g[f];"message"!==u&&(y=y.replace("{"+u.toUpperCase()+"}",h[u]))}return y}Object.defineProperty(O.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(O.prototype,"properties",{enumerable:!1,writable:!0,value:null}),O.prototype.formatMessage=v,ae.exports=O},function(ae,q,c){"use strict";ae.exports=function(p){if(Array.isArray(p)){if(!p.every(function(w){return"number"==typeof w||"string"==typeof w}))throw new Error("$type array values must be strings or numbers");return p}if("number"!=typeof p&&"string"!=typeof p)throw new Error("$type parameter must be number, string, or array of numbers and strings");return p}},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l){var _;!function(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g);var m=Array.isArray(l)?"array":"primitive value";return(_=f.call(this,"Tried to set nested object field `"+u+"` to ".concat(m," `")+l+"` and strict mode is set to throw.")).path=u,_}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ObjectExpectedError"}),ae.exports=S},function(ae,q,c){"use strict";ae.exports=function(p){var w={_id:{auto:!0}};w._id[p.options.typeKey]="ObjectId",p.add(w)}},function(ae,q,c){"use strict";ae.exports=function(p,w){return null==p?null:"boolean"==typeof p?w:"boolean"==typeof p[w]?p[w]?w:null:w in p?p[w]:w}},function(ae,q,c){"use strict";var p=c(35),w=c(27);function x(V,D,I){var S={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},O=(I=I||{}).decorateDoc?V:V.prototype;V.$appliedHooks=!0;for(var v=0,y=Object.keys(D.paths);v<y.length;v++){var f=D.paths[y[v]],g=null;if(f.$isSingleNested)g=f.caster;else{if(!f.$isMongooseDocumentArray)continue;g=f.Constructor}if(!g.$appliedHooks&&(x(g,f.schema,I),null!=g.discriminators))for(var u=0,l=Object.keys(g.discriminators);u<l.length;u++){var _=l[u];x(g.discriminators[_],g.discriminators[_].schema,I)}}var m=D.s.hooks.filter(function(W){return"updateOne"===W.name||"deleteOne"===W.name?!!W.document:"remove"===W.name||"init"===W.name?null==W.document||!!W.document:null==W.query&&null==W.document||!1!==W.document}).filter(function(W){return!D.methods[W.name]||!W.fn[p.builtInMiddleware]});V._middleware=m,O.$__originalValidate=O.$__originalValidate||O.$__validate;for(var C=0,A=["save","validate","remove","deleteOne"];C<A.length;C++){var $=A[C],K="validate"===$?"$__originalValidate":"$__".concat($),B=m.createWrapper($,O[K],null,S);O["$__".concat($)]=B}O.$__init=m.createWrapperSync("init",O.$__init,null,S);for(var F=Object.keys(D.methods),k=Object.assign({},S,{checkForPromise:!0}),U=function(){var W=G[P];if(!m.hasHooks(W))return"continue";var ne=O[W];O[W]=function(){var X=this,z=Array.prototype.slice.call(arguments),Q=z.slice(-1).pop(),Z="function"==typeof Q?z.slice(0,z.length-1):z;return w(Q,function(j){return X["$__".concat(W)].apply(X,Z.concat([j]))},V.events)},O["$__".concat(W)]=m.createWrapper(W,ne,null,k)},P=0,G=F;P<G.length;P++)U()}ae.exports=x,x.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"]},function(ae,q,c){"use strict";var p=c(13);ae.exports=function(w,x){if(null==w)return w;if(w._id&&"string"==typeof w._id)return w._id;if(w.toString&&w.toString!==Object.prototype.toString&&!Array.isArray(w))return w.toString();throw new p("string",w,x)}},function(ae,q,c){"use strict";var p=c(5),w=c(151),x=c(6),V=c(152),D=c(81),I=c(1),S=x.CastError;function O(y,h){x.call(this,y,h,"Number")}function v(y){return this.cast(y)}O.get=x.get,O.set=x.set,O._cast=V,O.cast=function(y){return 0===arguments.length||(!1===y&&(y=this._defaultCaster),this._cast=y),this._cast},O._defaultCaster=function(y){if("number"!=typeof y)throw new Error;return y},O.schemaName="Number",O.defaultOptions={},(O.prototype=Object.create(x.prototype)).constructor=O,O.prototype.OptionsConstructor=w,O._checkRequired=function(y){return"number"==typeof y||y instanceof Number},O.checkRequired=x.checkRequired,O.prototype.checkRequired=function(y,h){return x._isRef(this,y,h,!0)?!!y:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():O.checkRequired())(y)},O.prototype.min=function(y,h){if(this.minValidator&&(this.validators=this.validators.filter(function(g){return g.validator!==this.minValidator},this)),null!=y){var f=h||p.messages.Number.min;f=f.replace(/{MIN}/,y),this.validators.push({validator:this.minValidator=function(g){return null==g||g>=y},message:f,type:"min",min:y})}return this},O.prototype.max=function(y,h){if(this.maxValidator&&(this.validators=this.validators.filter(function(g){return g.validator!==this.maxValidator},this)),null!=y){var f=h||p.messages.Number.max;f=f.replace(/{MAX}/,y),this.validators.push({validator:this.maxValidator=function(g){return null==g||g<=y},message:f,type:"max",max:y})}return this},O.prototype.enum=function(y,h){return this.enumValidator&&(this.validators=this.validators.filter(function(f){return f.validator!==this.enumValidator},this)),Array.isArray(y)||(y=I.isObject(y)?I.object.vals(y):Array.prototype.slice.call(arguments),h=p.messages.Number.enum),h=null==h?p.messages.Number.enum:h,this.enumValidator=function(f){return null==f||-1!==y.indexOf(f)},this.validators.push({validator:this.enumValidator,message:h,type:"enum",enumValues:y}),this},O.prototype.cast=function(y,h,f){if(x._isRef(this,y,h,f))return"number"==typeof y?y:this._castRef(y,h,f);var g,u=y&&void 0!==y._id?y._id:y;g="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():O.cast();try{return g(u)}catch(l){throw new S("Number",u,this.path,l,this)}},O.prototype.$conditionalHandlers=I.options(x.prototype.$conditionalHandlers,{$bitsAllClear:D,$bitsAnyClear:D,$bitsAllSet:D,$bitsAnySet:D,$gt:v,$gte:v,$lt:v,$lte:v,$mod:function(y){var h=this;return Array.isArray(y)?y.map(function(f){return h.cast(f)}):[this.cast(y)]}}),O.prototype.castForQuery=function(y,h){var f;if(2===arguments.length){if(!(f=this.$conditionalHandlers[y]))throw new S("number",h,this.path,null,this);return f.call(this,h)}return this._castForQuery(y)},ae.exports=O},function(ae,q,c){"use strict";(function(p){var w=c(13);function x(V,D){var I=Number(D);if(isNaN(I))throw new w("number",D,V);return I}ae.exports=function(V){var D=this;return Array.isArray(V)?V.map(function(I){return x(D.path,I)}):p.isBuffer(V)?V:x(D.path,V)}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";var p=c(11);ae.exports=function(w,x){return"string"==typeof w&&"string"==typeof x||"number"==typeof w&&"number"==typeof x?w===x:w instanceof p&&x instanceof p&&w.toString()===x.toString()}},function(ae,q,c){"use strict";var p=new Set(["$ref","$id","$db"]);ae.exports=function(w){return w.startsWith("$")&&!p.has(w)}},function(ae,q,c){"use strict";var p=c(36).castArraysOfNumbers,w=c(36).castToNumber;function x(D,I){switch(D.$geometry.type){case"Polygon":case"LineString":case"Point":p(D.$geometry.coordinates,I)}return V(I,D),D}function V(D,I){I.$maxDistance&&(I.$maxDistance=w.call(D,I.$maxDistance)),I.$minDistance&&(I.$minDistance=w.call(D,I.$minDistance))}q.cast$geoIntersects=function(D){if(D.$geometry)return x(D,this),D},q.cast$near=function(D){var I=c(57);if(Array.isArray(D))return p(D,this),D;if(V(this,D),D&&D.$geometry)return x(D,this);if(!Array.isArray(D))throw new TypeError("$near must be either an array or an object with a $geometry property");return I.prototype.castForQuery.call(this,D)},q.cast$within=function(D){var I=this;if(V(this,D),D.$box||D.$polygon)D[D.$box?"$box":"$polygon"].forEach(function(v){if(!Array.isArray(v))throw new TypeError("Invalid $within $box argument. Expected an array, received "+v);v.forEach(function(y,h){v[h]=w.call(I,y)})});else if(D.$center||D.$centerSphere){var O=D.$center?"$center":"$centerSphere";D[O].forEach(function(v,y){Array.isArray(v)?v.forEach(function(h,f){v[f]=w.call(I,h)}):D[O][y]=w.call(I,v)})}else D.$geometry&&x(D,this);return D}},function(ae,q,c){"use strict";var p=c(86),w=c(0).arrayAtomicsSymbol,x=c(0).arrayParentSymbol,V=c(0).arrayPathSymbol,D=c(0).arraySchemaSymbol,I=Array.prototype.push;ae.exports=function(S,O,v,y){var h;if(Array.isArray(S)){var f=S.length;if(0===f)h=new p;else if(1===f)(h=new p(1))[0]=S[0];else if(f<1e4)h=new p,I.apply(h,S);else{h=new p;for(var g=0;g<f;++g)I.call(h,S[g])}null!=S[w]&&(h[w]=S[w])}else h=new p;return h[V]=O,null!=v&&null!=v.$__&&(h[x]=v,h[D]=y||v.schema.path(O)),h}},function(ae,q,c){"use strict";(function(p){function w(ce){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ce)}function V(ce,pe){(null==pe||pe>ce.length)&&(pe=ce.length);for(var J=0,Ee=new Array(pe);J<pe;J++)Ee[J]=ce[J];return Ee}function D(ce,pe){if(!(ce instanceof pe))throw new TypeError("Cannot call a class as a function")}function S(ce){var pe=function(J,Ee){if("object"!==w(J)||null===J)return J;var te=J[Symbol.toPrimitive];if(void 0!==te){var ue=te.call(J,"string");if("object"!==w(ue))return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}(ce);return"symbol"===w(pe)?pe:String(pe)}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(ce,pe,J){var Ee=v(ce,pe);if(Ee){var te=Object.getOwnPropertyDescriptor(Ee,pe);return te.get?te.get.call(arguments.length<3?ce:J):te.value}}).apply(this,arguments)}function v(ce,pe){for(;!Object.prototype.hasOwnProperty.call(ce,pe)&&null!==(ce=l(ce)););return ce}function y(ce,pe){if(pe&&("object"===w(pe)||"function"==typeof pe))return pe;if(void 0!==pe)throw new TypeError("Derived constructors may only return object or undefined");return function(J){if(void 0===J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}(ce)}function h(ce){var pe="function"==typeof Map?new Map:void 0;return(h=function(J){if(null===J||-1===Function.toString.call(J).indexOf("[native code]"))return J;if("function"!=typeof J)throw new TypeError("Super expression must either be null or a function");if(void 0!==pe){if(pe.has(J))return pe.get(J);pe.set(J,te)}function te(){return f(J,arguments,l(this).constructor)}return te.prototype=Object.create(J.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),u(te,J)})(ce)}function f(ce,pe,J){return(f=g()?Reflect.construct.bind():function(Ee,te,ue){var le=[null];le.push.apply(le,te);var N=new(Function.bind.apply(Ee,le));return ue&&u(N,ue.prototype),N}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ce){return!1}}function u(ce,pe){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,Ee){return J.__proto__=Ee,J})(ce,pe)}function l(ce){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(ce)}var _=c(12),m=c(29),C=c(14),A=c(11),$=c(87),K=c(3),B=c(17).internalToObjectOptions,F=c(1),k=c(4),U=c(0).arrayAtomicsSymbol,P=c(0).arrayParentSymbol,G=c(0).arrayPathSymbol,W=c(0).arraySchemaSymbol,ne=c(0).populateModelSymbol,X=Symbol("mongoose#Array#sliced"),z=Array.prototype.push,Q=Symbol("mongoose#MongooseCoreArray#validators"),Z=function(ce){!function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&u(M,H)}(N,ce);var pe,J,Ee,te,le=(pe=N,J=g(),function(){var M,H=l(pe);if(J){var L=l(this).constructor;M=Reflect.construct(H,arguments,L)}else M=H.apply(this,arguments);return y(this,M)});function N(){return D(this,N),le.apply(this,arguments)}return Ee=N,(te=[{key:"isMongooseArray",get:function(){return!0}},{key:"validators",get:function(){return this[Q]},set:function(M){this[Q]=M}},{key:"$__getAtomics",value:function(){var M=[],H=Object.keys(this[U]||{}),L=H.length,oe=Object.assign({},B,{_isNested:!0});if(0===L)return M[0]=["$set",this.toObject(oe)],M;for(;L--;){var de=H[L],we=this[U][de];F.isMongooseObject(we)?we=we.toObject(oe):Array.isArray(we)?we=this.toObject.call(we,oe):null!=we&&Array.isArray(we.$each)?we.$each=this.toObject.call(we.$each,oe):null!=we&&"function"==typeof we.valueOf&&(we=we.valueOf()),"$addToSet"===de&&(we={$each:we}),M.push([de,we])}return M}},{key:"$atomics",value:function(){return this[U]||{}}},{key:"$parent",value:function(){return this[P]}},{key:"$path",value:function(){return this[G]}},{key:"$shift",value:function(){if(this._registerAtomic("$pop",-1),this._markModified(),!this._shifted)return this._shifted=!0,[].shift.call(this)}},{key:"$pop",value:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)}},{key:"$schema",value:function(){return this[W]}},{key:"_cast",value:function(M){var H,L=!1;return this[P]&&(L=this[P].populated(this[G],!0)),L&&null!=M?(H=L.options[ne],(p.isBuffer(M)||M instanceof A||!F.isObject(M))&&(M={_id:M}),M.$__schema&&M.$__schema.discriminatorMapping&&void 0!==M.$__schema.discriminatorMapping.key||(M=new H(M)),this[W].caster.applySetters(M,this[P],!0)):this[W].caster.applySetters(M,this[P],!1)}},{key:"_mapCast",value:function(M,H){return this._cast(M,this.length+H)}},{key:"_markModified",value:function(M){var H,L=this[P];if(L){if(H=this[G],arguments.length&&(H=H+"."+M),null!=H&&H.endsWith(".$"))return this;L.markModified(H,arguments.length>0?M:L)}return this}},{key:"_registerAtomic",value:function(M,H){if(!this[X]){if("$set"===M)return this[U]={$set:H},$(this[P],this[G]),this._markModified(),this;this[U]||(this[U]={});var L,oe=this[U];if("$pop"===M&&!("$pop"in oe)){var de=this;this[P].once("save",function(){de._popped=de._shifted=null})}if(this[U].$set||Object.keys(oe).length&&!(M in oe))return this[U]={$set:this},this;if("$pullAll"===M||"$addToSet"===M)oe[M]||(oe[M]=[]),oe[M]=oe[M].concat(H);else if("$pullDocs"===M){var we=oe.$pull||(oe.$pull={});H[0]instanceof m?(L=we.$or||(we.$or=[]),Array.prototype.push.apply(L,H.map(function(Me){return Me.toObject({transform:!1,virtuals:!1})}))):(L=we._id||(we._id={$in:[]})).$in=L.$in.concat(H)}else"$push"===M?(oe.$push=oe.$push||{$each:[]},null!=H&&F.hasUserDefinedProperty(H,"$each")?oe.$push=H:oe.$push.$each=oe.$push.$each.concat(H)):oe[M]=H;return this}}},{key:"addToSet",value:function(){j(this,arguments);var M=[].map.call(arguments,this._mapCast,this);M=this[W].applySetters(M,this[P]);var H=[],L="";return M[0]instanceof m?L="doc":M[0]instanceof Date&&(L="date"),M.forEach(function(oe){var de,we=+oe;switch(L){case"doc":de=this.some(function(Me){return Me.equals(oe)});break;case"date":de=this.some(function(Me){return+Me===we});break;default:de=~this.indexOf(oe)}de||([].push.call(this,oe),this._registerAtomic("$addToSet",oe),this._markModified(),[].push.call(H,oe))},this),H}},{key:"hasAtomics",value:function(){return F.isPOJO(this[U])?Object.keys(this[U]).length:0}},{key:"includes",value:function(M,H){return-1!==this.indexOf(M,H)}},{key:"indexOf",value:function(M,H){M instanceof A&&(M=M.toString());for(var L=this.length,oe=H=null==H?0:H;oe<L;++oe)if(M==this[oe])return oe;return-1}},{key:"inspect",value:function(){return JSON.stringify(this)}},{key:"nonAtomicPush",value:function(){var M=[].map.call(arguments,this._mapCast,this),H=[].push.apply(this,M);return this._registerAtomic("$set",this),this._markModified(),H}},{key:"pop",value:function(){var M=[].pop.call(this);return this._registerAtomic("$set",this),this._markModified(),M}},{key:"pull",value:function(){for(var M,H=[].map.call(arguments,this._cast,this),L=this[P].get(this[G]),oe=L.length;oe--;)if((M=L[oe])instanceof _){var de=H.some(function(we){return M.equals(we)});de&&[].splice.call(L,oe,1)}else~L.indexOf.call(H,M)&&[].splice.call(L,oe,1);return H[0]instanceof m?this._registerAtomic("$pullDocs",H.map(function(we){return we.$__getValue("_id")||we})):this._registerAtomic("$pullAll",H),this._markModified(),$(this[P],this[G])>0&&this._registerAtomic("$set",this),this}},{key:"push",value:function(){var M=arguments,H=M,L=null!=M[0]&&F.hasUserDefinedProperty(M[0],"$each");if(L&&(H=M[0],M=M[0].$each),null==this[W])return z.apply(this,M);j(this,M);var oe,de=this[P];M=[].map.call(M,this._mapCast,this),M=this[W].applySetters(M,de,void 0,void 0,{skipDocumentArrayCast:!0});var we=this[U];if(L){if(H.$each=M,K(we,"$push.$each.length",0)>0&&we.$push.$position!=we.$position)throw new C("Cannot call `Array#push()` multiple times with different `$position`");null!=H.$position?([].splice.apply(this,[H.$position,0].concat(M)),oe=this.length):oe=[].push.apply(this,M)}else{if(K(we,"$push.$each.length",0)>0&&null!=we.$push.$position)throw new C("Cannot call `Array#push()` multiple times with different `$position`");H=M,oe=[].push.apply(this,M)}return this._registerAtomic("$push",H),this._markModified(),oe}},{key:"remove",value:function(){return this.pull.apply(this,arguments)}},{key:"set",value:function(M,H){var L=this._cast(H,M);return this[M]=L,this._markModified(M),this}},{key:"shift",value:function(){var M=[].shift.call(this);return this._registerAtomic("$set",this),this._markModified(),M}},{key:"sort",value:function(){var M=[].sort.apply(this,arguments);return this._registerAtomic("$set",this),M}},{key:"splice",value:function(){var M;if(j(this,Array.prototype.slice.call(arguments,2)),arguments.length){var H;if(null==this[W])H=arguments;else{H=[];for(var L=0;L<arguments.length;++L)H[L]=L<2?arguments[L]:this._cast(arguments[L],arguments[0]+(L-2))}M=[].splice.apply(this,H),this._registerAtomic("$set",this)}return M}},{key:"slice",value:function(){var M=O(l(N.prototype),"slice",this).apply(this,arguments);return M[P]=this[P],M[W]=this[W],M[U]=this[U],M[G]=this[G],M[X]=!0,M}},{key:"filter",value:function(){var M=O(l(N.prototype),"filter",this).apply(this,arguments);return M[P]=this[P],M[W]=this[W],M[U]=this[U],M[G]=this[G],M}},{key:"toBSON",value:function(){return this.toObject(B)}},{key:"toObject",value:function(M){return M&&M.depopulate?((M=F.clone(M))._isNested=!0,[].concat(this).map(function(H){return H instanceof _?H.toObject(M):H})):[].concat(this)}},{key:"unshift",value:function(){var M;return j(this,arguments),null==this[W]?M=arguments:(M=[].map.call(arguments,this._cast,this),M=this[W].applySetters(M,this[P])),[].unshift.apply(this,M),this._registerAtomic("$set",this),this._markModified(),this.length}}])&&function I(ce,pe){for(var J=0;J<pe.length;J++){var Ee=pe[J];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ce,S(Ee.key),Ee)}}(Ee.prototype,te),Object.defineProperty(Ee,"prototype",{writable:!1}),N}(h(Array));function j(ce,pe){var J,Ee,te,ue=null==ce?null:K(ce[W],"caster.options.ref",null);0===ce.length&&pe.length>0&&function(le,N){if(!N)return!1;var M,H=function x(ce,pe){var J="undefined"!=typeof Symbol&&ce[Symbol.iterator]||ce["@@iterator"];if(!J){if(Array.isArray(ce)||(J=function(M,H){if(M){if("string"==typeof M)return V(M,H);var L=Object.prototype.toString.call(M).slice(8,-1);if("Object"===L&&M.constructor&&(L=M.constructor.name),"Map"===L||"Set"===L)return Array.from(M);if("Arguments"===L||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return V(M,H)}}(ce))||pe&&ce&&"number"==typeof ce.length){J&&(ce=J);var Ee=0,te=function(){};return{s:te,n:function(){return Ee>=ce.length?{done:!0}:{done:!1,value:ce[Ee++]}},e:function(M){throw M},f:te}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,le=!0,N=!1;return{s:function(){J=J.call(ce)},n:function(){var M=J.next();return le=M.done,M},e:function(M){N=!0,ue=M},f:function(){try{le||null==J.return||J.return()}finally{if(N)throw ue}}}}(le);try{for(H.s();!(M=H.n()).done;){var L=M.value;if(null==L)return!1;var oe=L.constructor;if(!(L instanceof _)||oe.modelName!==N&&oe.baseModelName!==N)return!1}}catch(de){H.e(de)}finally{H.f()}return!0}(pe,ue)&&ce[P].populated(ce[G],[],(J={},te=pe[0].constructor,(Ee=S(Ee=ne))in J?Object.defineProperty(J,Ee,{value:te,enumerable:!0,configurable:!0,writable:!0}):J[Ee]=te,J))}k.inspect.custom&&(Z.prototype[k.inspect.custom]=Z.prototype.inspect),ae.exports=Z}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";ae.exports=function(p,w,x){var V=(x=x||{}).skipDocArrays,D=0;if(!p)return D;for(var I=0,S=Object.keys(p.$__.activePaths.states.modify);I<S.length;I++){var O=S[I];if(V){var v=p.$__schema.path(O);if(v&&v.$isMongooseDocumentArray)continue}O.startsWith(w+".")&&(delete p.$__.activePaths.states.modify[O],++D)}return D}},function(ae,q,c){"use strict";var p=c(15).get().Binary,w=c(1),x=c(64).Buffer;function V(S,O,v){var y,h,f,g,u,l=arguments.length;return y=0===l||null==arguments[0]?0:S,Array.isArray(O)?(f=O[0],g=O[1]):h=O,u="number"==typeof y||y instanceof Number?x.alloc(y):x.from(y,h,v),w.decorate(u,V.mixin),u.isMongooseBuffer=!0,u[V.pathSymbol]=f,u[I]=g,u._subtype=0,u}var D=Symbol.for("mongoose#Buffer#_path"),I=Symbol.for("mongoose#Buffer#_parent");V.pathSymbol=D,V.mixin={_subtype:void 0,_markModified:function(){var S=this[I];return S&&S.markModified(this[V.pathSymbol]),this},write:function(){var S=x.prototype.write.apply(this,arguments);return S>0&&this._markModified(),S},copy:function(S){var O=x.prototype.copy.apply(this,arguments);return S&&S.isMongooseBuffer&&S._markModified(),O}},"writeUInt8 writeUInt16 writeUInt32 writeInt8 writeInt16 writeInt32 writeFloat writeDouble fill utf8Write binaryWrite asciiWrite set writeUInt16LE writeUInt16BE writeUInt32LE writeUInt32BE writeInt16LE writeInt16BE writeInt32LE writeInt32BE writeFloatLE writeFloatBE writeDoubleLE writeDoubleBE".split(" ").forEach(function(S){x.prototype[S]&&(V.mixin[S]=function(){var O=x.prototype[S].apply(this,arguments);return this._markModified(),O})}),V.mixin.toObject=function(S){var O="number"==typeof S?S:this._subtype||0;return new p(x.from(this),O)},V.mixin.toBSON=function(){return new p(this,this._subtype||0)},V.mixin.equals=function(S){if(!x.isBuffer(S)||this.length!==S.length)return!1;for(var O=0;O<this.length;++O)if(this[O]!==S[O])return!1;return!0},V.mixin.subtype=function(S){if("number"!=typeof S)throw new TypeError("Invalid subtype. Expected a number");this._subtype!==S&&this._markModified(),this._subtype=S},V.Binary=p,ae.exports=V},function(ae,q,c){"use strict";var p=c(15).get().ObjectId,w=c(23);ae.exports=function(x){if(null==x||x instanceof p)return x;if(x._id){if(x._id instanceof p)return x._id;if(x._id.toString instanceof Function)return new p(x._id.toString())}if(x.toString instanceof Function)return new p(x.toString());w.ok(!1)}},function(ae,q,c){"use strict";function p(U){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(U)}function w(U,P){var G="undefined"!=typeof Symbol&&U[Symbol.iterator]||U["@@iterator"];if(!G){if(Array.isArray(U)||(G=function(Z,j){if(Z){if("string"==typeof Z)return x(Z,j);var ce=Object.prototype.toString.call(Z).slice(8,-1);if("Object"===ce&&Z.constructor&&(ce=Z.constructor.name),"Map"===ce||"Set"===ce)return Array.from(Z);if("Arguments"===ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return x(Z,j)}}(U))||P&&U&&"number"==typeof U.length){G&&(U=G);var W=0,ne=function(){};return{s:ne,n:function(){return W>=U.length?{done:!0}:{done:!1,value:U[W++]}},e:function(Z){throw Z},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var X,z=!0,Q=!1;return{s:function(){G=G.call(U)},n:function(){var Z=G.next();return z=Z.done,Z},e:function(Z){Q=!0,X=Z},f:function(){try{z||null==G.return||G.return()}finally{if(Q)throw X}}}}function x(U,P){(null==P||P>U.length)&&(P=U.length);for(var G=0,W=new Array(P);G<P;G++)W[G]=U[G];return W}function D(){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(U,P,G){var W=I(U,P);if(W){var ne=Object.getOwnPropertyDescriptor(W,P);return ne.get?ne.get.call(arguments.length<3?U:G):ne.value}}).apply(this,arguments)}function I(U,P){for(;!Object.prototype.hasOwnProperty.call(U,P)&&null!==(U=f(U)););return U}function S(U,P){if(P&&("object"===p(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(U)}function O(U){var P="function"==typeof Map?new Map:void 0;return(O=function(G){if(null===G||-1===Function.toString.call(G).indexOf("[native code]"))return G;if("function"!=typeof G)throw new TypeError("Super expression must either be null or a function");if(void 0!==P){if(P.has(G))return P.get(G);P.set(G,ne)}function ne(){return v(G,arguments,f(this).constructor)}return ne.prototype=Object.create(G.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),h(ne,G)})(U)}function v(U,P,G){return(v=y()?Reflect.construct.bind():function(W,ne,X){var z=[null];z.push.apply(z,ne);var Q=new(Function.bind.apply(W,z));return X&&h(Q,X.prototype),Q}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(U){return!1}}function h(U,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,W){return G.__proto__=W,G})(U,P)}function f(U){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)})(U)}var g=c(28),u=c(11),l=c(26),_=c(1).deepEqual,m=c(3),C=c(24),A=c(91),$=c(4),K=c(51),B=c(0).populateModelSymbol,F=function(U){!function(Z,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(j&&j.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),j&&h(Z,j)}(Q,U);var P,G,W,ne,z=(P=Q,G=y(),function(){var Z,j=f(P);if(G){var ce=f(this).constructor;Z=Reflect.construct(j,arguments,ce)}else Z=j.apply(this,arguments);return S(this,Z)});function Q(Z,j,ce,pe){var J;return function(Ee,te){if(!(Ee instanceof te))throw new TypeError("Cannot call a class as a function")}(this,Q),"Object"===C(Z)&&(Z=Object.keys(Z).reduce(function(Ee,te){return Ee.concat([[te,Z[te]]])},[])),(J=z.call(this,Z)).$__parent=null!=ce&&null!=ce.$__?ce:null,J.$__path=j,J.$__schemaType=null==pe?new g(j):pe,J.$__runDeferred(),J}return W=Q,(ne=[{key:"$init",value:function(Z,j){k(Z),D(f(Q.prototype),"set",this).call(this,Z,j),null!=j&&j.$isSingleNested&&(j.$basePath=this.$__path+"."+Z)}},{key:"$__set",value:function(Z,j){D(f(Q.prototype),"set",this).call(this,Z,j)}},{key:"get",value:function(Z,j){return Z instanceof u&&(Z=Z.toString()),!1===(j=j||{}).getters?D(f(Q.prototype),"get",this).call(this,Z):this.$__schemaType.applyGetters(D(f(Q.prototype),"get",this).call(this,Z),this.$__parent)}},{key:"set",value:function(Z,j){if(Z instanceof u&&(Z=Z.toString()),k(Z),j=A(j),null==this.$__schemaType)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:Z,value:j});var ce=this.$__path+"."+Z,pe=null!=this.$__parent&&this.$__parent.$__?this.$__parent.populated(ce)||this.$__parent.populated(this.$__path):null,J=this.get(Z);if(null!=pe)null==j.$__&&(j=new pe.options[B](j)),j.$__.wasPopulated=!0;else try{j=this.$__schemaType.applySetters(j,this.$__parent,!1,this.get(Z),{path:ce})}catch(te){if(null!=this.$__parent&&null!=this.$__parent.$__)return void this.$__parent.invalidate(ce,te);throw te}D(f(Q.prototype),"set",this).call(this,Z,j),null!=j&&j.$isSingleNested&&(j.$basePath=this.$__path+"."+Z);var Ee=this.$__parent;null==Ee||null==Ee.$__||_(j,J)||Ee.markModified(this.$__path+"."+Z)}},{key:"clear",value:function(){D(f(Q.prototype),"clear",this).call(this);var Z=this.$__parent;null!=Z&&Z.markModified(this.$__path)}},{key:"delete",value:function(Z){Z instanceof u&&(Z=Z.toString()),this.set(Z,void 0),D(f(Q.prototype),"delete",this).call(this,Z)}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(Z){if(m(Z,"flattenMaps")){var j,ce={},pe=w(this.keys());try{for(pe.s();!(j=pe.n()).done;){var J=j.value;ce[J]=l(this.get(J))}}catch(Ee){pe.e(Ee)}finally{pe.f()}return ce}return new Map(this)}},{key:"toJSON",value:function(){var Z,j={},ce=w(this.keys());try{for(ce.s();!(Z=ce.n()).done;){var pe=Z.value;j[pe]=this.get(pe)}}catch(J){ce.e(J)}finally{ce.f()}return j}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var Z,j=w(this.$__deferred);try{for(j.s();!(Z=j.n()).done;){var ce=Z.value;this.set(ce.key,ce.value)}}catch(pe){j.e(pe)}finally{j.f()}this.$__deferred=null}}}])&&function V(U,P){for(var G=0;G<P.length;G++){var W=P[G];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(U,(X=function(z,Q){if("object"!==p(z)||null===z)return z;var Z=z[Symbol.toPrimitive];if(void 0!==Z){var j=Z.call(z,"string");if("object"!==p(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(W.key),"symbol"===p(X)?X:String(X)),W)}var X}(W.prototype,ne),Object.defineProperty(W,"prototype",{writable:!1}),Q}(O(Map));function k(U){var P=p(U);if("string"!==P)throw new TypeError("Mongoose maps only support string keys, got ".concat(P));if(U.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(U,'"'));if(U.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(U,'"'));if(K.has(U))throw new Error('Mongoose maps do not support reserved key name "'.concat(U,'"'))}$.inspect.custom&&Object.defineProperty(F.prototype,$.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:F.prototype.inspect}),Object.defineProperty(F.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(F.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(F.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),ae.exports=F},function(ae,q,c){"use strict";var p=c(1);ae.exports=function(w){return p.isPOJO(w)&&null!=w.$__&&null!=w._doc?w._doc:w}},function(ae,q,c){"use strict";function w(v,y){(null==y||y>v.length)&&(y=v.length);for(var h=0,f=new Array(y);h<y;h++)f[h]=v[h];return f}var x=c(12),V=c(22),D=c(17).internalToObjectOptions,I=c(27),S=c(0).documentArrayParent;function O(v,y,h,f,g){var u=this;this.$isSingleNested=!0,null!=g&&null!=g.path&&(this.$basePath=g.path);var l=null!=g&&g.priorDoc,_=null;if(l&&(this._doc=Object.assign({},g.priorDoc._doc),delete this._doc[this.$__schema.options.discriminatorKey],_=Object.keys(g.priorDoc._doc||{}).filter(function(B){return B!==u.$__schema.options.discriminatorKey})),null!=h&&(g=Object.assign({},g,{isNew:h.isNew,defaults:h.$__.$options.defaults})),x.call(this,v,y,f,g),l){var m,C=function p(v,y){var h="undefined"!=typeof Symbol&&v[Symbol.iterator]||v["@@iterator"];if(!h){if(Array.isArray(v)||(h=function(m,C){if(m){if("string"==typeof m)return w(m,C);var A=Object.prototype.toString.call(m).slice(8,-1);if("Object"===A&&m.constructor&&(A=m.constructor.name),"Map"===A||"Set"===A)return Array.from(m);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return w(m,C)}}(v))||y&&v&&"number"==typeof v.length){h&&(v=h);var f=0,g=function(){};return{s:g,n:function(){return f>=v.length?{done:!0}:{done:!1,value:v[f++]}},e:function(m){throw m},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,_=!1;return{s:function(){h=h.call(v)},n:function(){var m=h.next();return l=m.done,m},e:function(m){_=!0,u=m},f:function(){try{l||null==h.return||h.return()}finally{if(_)throw u}}}}(_);try{for(C.s();!(m=C.n()).done;){var A=m.value;if(!this.$__.activePaths.states.modify[A]&&!this.$__.activePaths.states.default[A]&&!this.$__.$setCalled.has(A)){var $=this.$__schema.path(A),K=null==$?void 0:$.getDefault(this);void 0===K?delete this._doc[A]:(this._doc[A]=K,this.$__.activePaths.default(A))}}}catch(B){C.e(B)}finally{C.f()}delete g.priorDoc,delete this.$__.$options.priorDoc}}ae.exports=O,(O.prototype=Object.create(x.prototype)).toBSON=function(){return this.toObject(D)},O.prototype.save=function(v,y){var h=this;return"function"==typeof v&&(y=v,v={}),(v=v||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),I(y,function(f){h.$__save(f)})},O.prototype.$__save=function(v){var y=this;return V(function(){return v(null,y)})},O.prototype.$isValid=function(v){return this.$__parent&&this.$basePath?this.$__parent.$isValid([this.$basePath,v].join(".")):x.prototype.$isValid.call(this,v)},O.prototype.markModified=function(v){if(x.prototype.markModified.call(this,v),this.$__parent&&this.$basePath){if(this.$__parent.isDirectModified(this.$basePath))return;this.$__parent.markModified([this.$basePath,v].join("."),this)}},O.prototype.isModified=function(v,y){var h=this;return this.$__parent&&this.$basePath?Array.isArray(v)||"string"==typeof v?(v=(v=Array.isArray(v)?v:v.split(" ")).map(function(f){return[h.$basePath,f].join(".")}),this.$__parent.isModified(v,y)):this.$__parent.isModified(this.$basePath):x.prototype.isModified.call(this,v,y)},O.prototype.$markValid=function(v){x.prototype.$markValid.call(this,v),this.$__parent&&this.$basePath&&this.$__parent.$markValid([this.$basePath,v].join("."))},O.prototype.invalidate=function(v,y,h){if(y!==this.ownerDocument().$__.validationError&&x.prototype.invalidate.call(this,v,y,h),this.$__parent&&this.$basePath)this.$__parent.invalidate([this.$basePath,v].join("."),y,h);else if("cast"===y.kind||"CastError"===y.name)throw y;return this.ownerDocument().$__.validationError},O.prototype.$ignore=function(v){x.prototype.$ignore.call(this,v),this.$__parent&&this.$basePath&&this.$__parent.$ignore([this.$basePath,v].join("."))},O.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var v=this.$__parent;if(!v)return this;for(;v.$__parent||v[S];)v=v.$__parent||v[S];return this.$__.ownerDocument=v,this.$__.ownerDocument},O.prototype.$parent=O.prototype.parent=function(){return this.$__parent},O.prototype.$__remove=function(v){return v(null,this)},O.prototype.remove=function(v,y){"function"==typeof v&&(y=v,v=null),function(h){var f=h.ownerDocument();function g(){f.removeListener("save",g),f.removeListener("remove",g),h.emit("remove",h),h.constructor.emit("remove",h),f=h=null}f.on("save",g),f.on("remove",g)}(this),v&&v.noop||this.$__parent.set(this.$basePath,null),"function"==typeof y&&y(null)},O.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')}},function(ae,q,c){"use strict";function p(O,v){var y="undefined"!=typeof Symbol&&O[Symbol.iterator]||O["@@iterator"];if(!y){if(Array.isArray(O)||(y=function(_,m){if(_){if("string"==typeof _)return w(_,m);var C=Object.prototype.toString.call(_).slice(8,-1);if("Object"===C&&_.constructor&&(C=_.constructor.name),"Map"===C||"Set"===C)return Array.from(_);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return w(_,m)}}(O))||v&&O&&"number"==typeof O.length){y&&(O=y);var h=0,f=function(){};return{s:f,n:function(){return h>=O.length?{done:!0}:{done:!1,value:O[h++]}},e:function(_){throw _},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,u=!0,l=!1;return{s:function(){y=y.call(O)},n:function(){var _=y.next();return u=_.done,_},e:function(_){l=!0,g=_},f:function(){try{u||null==y.return||y.return()}finally{if(l)throw g}}}}function w(O,v){(null==v||v>O.length)&&(v=O.length);for(var y=0,h=new Array(v);y<v;y++)h[y]=O[y];return h}var x=c(28),V=c(58).defineKey,D=c(3),I=c(1),S={toJSON:!0,toObject:!0,_id:!0,id:!0};ae.exports=function(O,v,y,h,f){if(!y||!y.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(O.schema.discriminatorMapping&&!O.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+v+'" can only be a discriminator of the root model');if(f){var g=D(O.base,"options.applyPluginsToDiscriminators",!1);O.base._applyPlugins(y,{skipTopLevel:!g})}var u=O.schema.options.discriminatorKey,l=O.schema.path(u);if(null!=l)I.hasUserDefinedProperty(l.options,"select")||(l.options.select=!0),l.options.$skipDiscriminatorCheck=!0;else{var _={};_[u]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},_[u][O.schema.options.typeKey]=String,O.schema.add(_),V(u,null,O.prototype,null,[u],O.schema.options)}if(y.path(u)&&!0!==y.path(u).options.$skipDiscriminatorCheck)throw new Error('Discriminator "'+v+'" cannot have field with name "'+u+'"');var m=v;if(("string"==typeof h&&h.length||null!=h)&&(m=h),function(C,A){C._baseSchema=A,A.paths._id&&A.paths._id.options&&!A.paths._id.options.auto&&C.remove("_id");for(var $=[],K=0,B=Object.keys(A.paths);K<B.length;K++){var F=B[K];if(C.nested[F])$.push(F);else if(-1!==F.indexOf(".")){var k,U="",P=p(F.split(".").slice(0,-1));try{for(P.s();!(k=P.n()).done;)(C.paths[U+=(U.length?".":"")+k.value]instanceof x||C.singleNestedPaths[U]instanceof x)&&$.push(F)}catch(ue){P.e(ue)}finally{P.f()}}}I.merge(C,A,{isDiscriminatorSchemaMerge:!0,omit:{discriminators:!0,base:!0},omitNested:$.reduce(function(ue,le){return ue["tree."+le]=!0,ue},{})});for(var W=0,ne=$;W<ne.length;W++)delete C.paths[ne[W]];C.childSchemas.forEach(function(ue){ue.model.prototype.$__setSchema(ue.schema)});var z={};z[u]={default:m,select:!0,set:function(ue){if(ue===m||Array.isArray(m)&&I.deepEqual(ue,m))return m;throw new Error("Can't set discriminator key \""+u+'"')},$skipDiscriminatorCheck:!0},z[u][C.options.typeKey]=l?l.options[C.options.typeKey]:String,C.add(z),C.discriminatorMapping={key:u,value:m,isRoot:!1},A.options.collection&&(C.options.collection=A.options.collection);var Q=C.options.toJSON,Z=C.options.toObject,j=C.options._id,ce=C.options.id,pe=Object.keys(C.options);C.options.discriminatorKey=A.options.discriminatorKey;for(var J=0,Ee=pe;J<Ee.length;J++){var te=Ee[J];if(!S[te]){if("pluralization"===te&&1==C.options[te]&&null==A.options[te])continue;if(!I.deepEqual(C.options[te],A.options[te]))throw new Error("Can't customize discriminator option "+te+" (can only modify "+Object.keys(S).join(", ")+")")}}C.options=I.clone(A.options),Q&&(C.options.toJSON=Q),Z&&(C.options.toObject=Z),void 0!==j&&(C.options._id=j),C.options.id=ce,C.s.hooks=O.schema.s.hooks.merge(C.s.hooks),C.plugins=Array.prototype.slice.call(A.plugins),C.callQueue=A.callQueue.concat(C.callQueue),delete C._requiredpaths}(y,O.schema),O.discriminators||(O.discriminators={}),O.schema.discriminatorMapping||(O.schema.discriminatorMapping={key:u,value:null,isRoot:!0}),O.schema.discriminators||(O.schema.discriminators={}),O.schema.discriminators[v]=y,O.discriminators[v])throw new Error('Discriminator with name "'+v+'" already exists');return y}},function(ae,q,c){"use strict";var p=c(76);ae.exports=function(w,x){return null==x||null==x._id||(w=w.clone(),x._id?w.paths._id||(p(w),w.options._id=!0):(w.remove("_id"),w.options._id=!1)),w}},function(ae,q,c){"use strict";var p=c(37);ae.exports=function(w,x){var V=w.schema.options.discriminatorKey;if(null!=x&&w.discriminators&&null!=x[V])if(w.discriminators[x[V]])w=w.discriminators[x[V]];else{var D=p(w.discriminators,x[V]);D&&(w=D)}return w}},function(ae,q,c){"use strict";ae.exports=c(97)},function(ae,q,c){"use strict";(function(p){function w(y){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===w(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}c(15).set(c(101));var O=c(62),v=c(68);O.setBrowser(!0),Object.defineProperty(q,"Promise",{get:function(){return v.get()},set:function(y){v.set(y)}}),q.PromiseProvider=v,q.Error=c(5),q.Schema=c(54),q.Types=c(38),q.VirtualType=c(55),q.SchemaType=c(6),q.utils=c(1),q.Document=O(),q.model=function(y,h){var f=function(g){!function(A,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create($&&$.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),$&&V(A,$)}(C,g);var u,m=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(C);function C(A,$){return function(K,B){if(!(K instanceof B))throw new TypeError("Cannot call a class as a function")}(this,C),m.call(this,A,h,$)}return u=C,Object.defineProperty(u,"prototype",{writable:!1}),u}(q.Document);return f.modelName=y,f},"undefined"!=typeof window&&(window.mongoose=ae.exports,window.Buffer=p)}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";q.byteLength=function(v){var y=S(v),f=y[1];return 3*(y[0]+f)/4-f},q.toByteArray=function(v){var y,h,$,f=S(v),g=f[0],u=f[1],l=new x(3*(g+($=u))/4-$),_=0,m=u>0?g-4:g;for(h=0;h<m;h+=4)y=w[v.charCodeAt(h)]<<18|w[v.charCodeAt(h+1)]<<12|w[v.charCodeAt(h+2)]<<6|w[v.charCodeAt(h+3)],l[_++]=y>>16&255,l[_++]=y>>8&255,l[_++]=255&y;return 2===u&&(y=w[v.charCodeAt(h)]<<2|w[v.charCodeAt(h+1)]>>4,l[_++]=255&y),1===u&&(y=w[v.charCodeAt(h)]<<10|w[v.charCodeAt(h+1)]<<4|w[v.charCodeAt(h+2)]>>2,l[_++]=y>>8&255,l[_++]=255&y),l},q.fromByteArray=function(v){for(var y,h=v.length,f=h%3,g=[],u=0,l=h-f;u<l;u+=16383)g.push(O(v,u,u+16383>l?l:u+16383));return 1===f?g.push(p[(y=v[h-1])>>2]+p[y<<4&63]+"=="):2===f&&g.push(p[(y=(v[h-2]<<8)+v[h-1])>>10]+p[y>>4&63]+p[y<<2&63]+"="),g.join("")};for(var p=[],w=[],x="undefined"!=typeof Uint8Array?Uint8Array:Array,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=0,I=V.length;D<I;++D)p[D]=V[D],w[V.charCodeAt(D)]=D;function S(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=v.indexOf("=");return-1===h&&(h=y),[h,h===y?0:4-h%4]}function O(v,y,h){for(var g,u=[],l=y;l<h;l+=3)u.push(p[(g=(v[l]<<16&16711680)+(v[l+1]<<8&65280)+(255&v[l+2]))>>18&63]+p[g>>12&63]+p[g>>6&63]+p[63&g]);return u.join("")}w["-".charCodeAt(0)]=62,w["_".charCodeAt(0)]=63},function(ae,q){q.read=function(c,p,w,x,V){var D,I,S=8*V-x-1,O=(1<<S)-1,v=O>>1,y=-7,h=w?V-1:0,f=w?-1:1,g=c[p+h];for(h+=f,D=g&(1<<-y)-1,g>>=-y,y+=S;y>0;D=256*D+c[p+h],h+=f,y-=8);for(I=D&(1<<-y)-1,D>>=-y,y+=x;y>0;I=256*I+c[p+h],h+=f,y-=8);if(0===D)D=1-v;else{if(D===O)return I?NaN:1/0*(g?-1:1);I+=Math.pow(2,x),D-=v}return(g?-1:1)*I*Math.pow(2,D-x)},q.write=function(c,p,w,x,V,D){var I,S,O,v=8*D-V-1,y=(1<<v)-1,h=y>>1,f=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,g=x?0:D-1,u=x?1:-1,l=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(S=isNaN(p)?1:0,I=y):(I=Math.floor(Math.log(p)/Math.LN2),p*(O=Math.pow(2,-I))<1&&(I--,O*=2),(p+=I+h>=1?f/O:f*Math.pow(2,1-h))*O>=2&&(I++,O/=2),I+h>=y?(S=0,I=y):I+h>=1?(S=(p*O-1)*Math.pow(2,V),I+=h):(S=p*Math.pow(2,h-1)*Math.pow(2,V),I=0));V>=8;c[w+g]=255&S,g+=u,S/=256,V-=8);for(I=I<<V|S,v+=V;v>0;c[w+g]=255&I,g+=u,I/=256,v-=8);c[w+g-u]|=128*l}},function(ae,q){var c={}.toString;ae.exports=Array.isArray||function(p){return"[object Array]"==c.call(p)}},function(ae,q,c){"use strict";q.Binary=c(102),q.Collection=function(){throw new Error("Cannot create a collection from browser library")},q.getConnection=function(){return function(){throw new Error("Cannot create a connection from browser library")}},q.Decimal128=c(109),q.ObjectId=c(110),q.ReadPreference=c(111)},function(ae,q,c){"use strict";var p=c(39).Binary;ae.exports=p},function(ae,q){function c(p){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(p)}ae.exports=function(p){return p&&"object"===c(p)&&"function"==typeof p.copy&&"function"==typeof p.fill&&"function"==typeof p.readUInt8}},function(ae,q){ae.exports="function"==typeof Object.create?function(c,p){c.super_=p,c.prototype=Object.create(p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,p){c.super_=p;var w=function(){};w.prototype=p.prototype,c.prototype=new w,c.prototype.constructor=c}},function(module,exports,__nested_webpack_require_423678__){"use strict";var Long=__nested_webpack_require_423678__(25).Long,Double=__nested_webpack_require_423678__(40).Double,Timestamp=__nested_webpack_require_423678__(41).Timestamp,ObjectID=__nested_webpack_require_423678__(42).ObjectID,_Symbol=__nested_webpack_require_423678__(44).Symbol,Code=__nested_webpack_require_423678__(45).Code,MinKey=__nested_webpack_require_423678__(47).MinKey,MaxKey=__nested_webpack_require_423678__(48).MaxKey,Decimal128=__nested_webpack_require_423678__(46),Int32=__nested_webpack_require_423678__(61),DBRef=__nested_webpack_require_423678__(49).DBRef,BSONRegExp=__nested_webpack_require_423678__(43).BSONRegExp,Binary=__nested_webpack_require_423678__(30).Binary,utils=__nested_webpack_require_423678__(16),deserialize=function(ae,q,c){var p=(q=null==q?{}:q)&&q.index?q.index:0,w=ae[p]|ae[p+1]<<8|ae[p+2]<<16|ae[p+3]<<24;if(w<5||ae.length<w||w+p>ae.length)throw new Error("corrupt bson message");if(0!==ae[p+w-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(ae,p,q,c)},deserializeObject=function ae(q,c,p,w){var x=null!=p.evalFunctions&&p.evalFunctions,V=null!=p.cacheFunctions&&p.cacheFunctions,D=null!=p.cacheFunctionsCrc32&&p.cacheFunctionsCrc32;if(!D)var I=null;var S=null==p.fieldsAsRaw?null:p.fieldsAsRaw,O=null!=p.raw&&p.raw,v="boolean"==typeof p.bsonRegExp&&p.bsonRegExp,y=null!=p.promoteBuffers&&p.promoteBuffers,h=null==p.promoteLongs||p.promoteLongs,f=null==p.promoteValues||p.promoteValues,g=c;if(q.length<5)throw new Error("corrupt bson message < 5 bytes long");var u=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if(u<5||u>q.length)throw new Error("corrupt bson message");for(var l=w?[]:{},_=0;;){var m=q[c++];if(0===m)break;for(var C=c;0!==q[C]&&C<q.length;)C++;if(C>=q.length)throw new Error("Bad BSON Document: illegal CString");var A=w?_++:q.toString("utf8",c,C);if(c=C+1,m===BSON.BSON_DATA_STRING){var $=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if($<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");l[A]=q.toString("utf8",c,c+$-1),c+=$}else if(m===BSON.BSON_DATA_OID){var K=utils.allocBuffer(12);q.copy(K,0,c,c+12),l[A]=new ObjectID(K),c+=12}else if(m===BSON.BSON_DATA_INT&&!1===f)l[A]=new Int32(q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24);else if(m===BSON.BSON_DATA_INT)l[A]=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;else if(m===BSON.BSON_DATA_NUMBER&&!1===f)l[A]=new Double(q.readDoubleLE(c)),c+=8;else if(m===BSON.BSON_DATA_NUMBER)l[A]=q.readDoubleLE(c),c+=8;else if(m===BSON.BSON_DATA_DATE){var B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;l[A]=new Date(new Long(B,F).toNumber())}else if(m===BSON.BSON_DATA_BOOLEAN){if(0!==q[c]&&1!==q[c])throw new Error("illegal boolean type value");l[A]=1===q[c++]}else if(m===BSON.BSON_DATA_OBJECT){var k=c,U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24;if(U<=0||U>q.length-c)throw new Error("bad embedded document length in bson");l[A]=O?q.slice(c,c+U):ae(q,k,p,!1),c+=U}else if(m===BSON.BSON_DATA_ARRAY){k=c;var P=p,G=c+(U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24);if(S&&S[A]){for(var W in P={},p)P[W]=p[W];P.raw=!0}if(l[A]=ae(q,k,P,!0),0!==q[(c+=U)-1])throw new Error("invalid array terminator byte");if(c!==G)throw new Error("corrupted array bson")}else if(m===BSON.BSON_DATA_UNDEFINED)l[A]=void 0;else if(m===BSON.BSON_DATA_NULL)l[A]=null;else if(m===BSON.BSON_DATA_LONG){B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;var ne=new Long(B,F);l[A]=h&&!0===f&&ne.lessThanOrEqual(JS_INT_MAX_LONG)&&ne.greaterThanOrEqual(JS_INT_MIN_LONG)?ne.toNumber():ne}else if(m===BSON.BSON_DATA_DECIMAL128){var X=utils.allocBuffer(16);q.copy(X,0,c,c+16),c+=16;var z=new Decimal128(X);l[A]=z.toObject?z.toObject():z}else if(m===BSON.BSON_DATA_BINARY){var Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,Z=Q,j=q[c++];if(Q<0)throw new Error("Negative binary type element size found");if(Q>q.length)throw new Error("Binary type size larger than document size");if(null!=q.slice){if(j===Binary.SUBTYPE_BYTE_ARRAY){if((Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(Q>Z-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(Q<Z-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}l[A]=y&&f?q.slice(c,c+Q):new Binary(q.slice(c,c+Q),j)}else{var ce="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(Q)):new Array(Q);if(j===Binary.SUBTYPE_BYTE_ARRAY){if((Q=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(Q>Z-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(Q<Z-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(C=0;C<Q;C++)ce[C]=q[c+C];l[A]=y&&f?ce:new Binary(ce,j)}c+=Q}else if(m===BSON.BSON_DATA_REGEXP&&!1===v){for(C=c;0!==q[C]&&C<q.length;)C++;if(C>=q.length)throw new Error("Bad BSON Document: illegal CString");var pe=q.toString("utf8",c,C);for(C=c=C+1;0!==q[C]&&C<q.length;)C++;if(C>=q.length)throw new Error("Bad BSON Document: illegal CString");var J=q.toString("utf8",c,C);c=C+1;var Ee=new Array(J.length);for(C=0;C<J.length;C++)switch(J[C]){case"m":Ee[C]="m";break;case"s":Ee[C]="g";break;case"i":Ee[C]="i"}l[A]=new RegExp(pe,Ee.join(""))}else if(m===BSON.BSON_DATA_REGEXP&&!0===v){for(C=c;0!==q[C]&&C<q.length;)C++;if(C>=q.length)throw new Error("Bad BSON Document: illegal CString");for(pe=q.toString("utf8",c,C),C=c=C+1;0!==q[C]&&C<q.length;)C++;if(C>=q.length)throw new Error("Bad BSON Document: illegal CString");J=q.toString("utf8",c,C),c=C+1,l[A]=new BSONRegExp(pe,J)}else if(m===BSON.BSON_DATA_SYMBOL){if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");l[A]=new _Symbol(q.toString("utf8",c,c+$-1)),c+=$}else if(m===BSON.BSON_DATA_TIMESTAMP)B=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,F=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24,l[A]=new Timestamp(B,F);else if(m===BSON.BSON_DATA_MIN_KEY)l[A]=new MinKey;else if(m===BSON.BSON_DATA_MAX_KEY)l[A]=new MaxKey;else if(m===BSON.BSON_DATA_CODE){if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");var te=q.toString("utf8",c,c+$-1);if(x)if(V){var ue=D?I(te):te;l[A]=isolateEvalWithHash(functionCache,ue,te,l)}else l[A]=isolateEval(te);else l[A]=new Code(te);c+=$}else if(m===BSON.BSON_DATA_CODE_W_SCOPE){var le=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24;if(le<13)throw new Error("code_w_scope total size shorter minimum expected length");if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");te=q.toString("utf8",c,c+$-1),k=c+=$,U=q[c]|q[c+1]<<8|q[c+2]<<16|q[c+3]<<24;var N=ae(q,k,p,!1);if(c+=U,le<8+U+$)throw new Error("code_w_scope total size is to short, truncating scope");if(le>8+U+$)throw new Error("code_w_scope total size is to long, clips outer document");x?(V?(ue=D?I(te):te,l[A]=isolateEvalWithHash(functionCache,ue,te,l)):l[A]=isolateEval(te),l[A].scope=N):l[A]=new Code(te,N)}else{if(m!==BSON.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+m.toString(16)+' for fieldname "'+A+'", are you using the latest BSON parser');if(($=q[c++]|q[c++]<<8|q[c++]<<16|q[c++]<<24)<=0||$>q.length-c||0!==q[c+$-1])throw new Error("bad string length in bson");var M=q.toString("utf8",c,c+$-1);c+=$;var H=utils.allocBuffer(12);q.copy(H,0,c,c+12),K=new ObjectID(H),c+=12;var L=M.split("."),oe=L.shift(),de=L.join(".");l[A]=new DBRef(de,K,oe)}}if(u!==c-g)throw w?new Error("corrupt array bson"):new Error("corrupt object bson");return null!=l.$id&&(l=new DBRef(l.$ref,l.$id,l.$db)),l},isolateEvalWithHash=function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function isolateEval(functionString){var value=null;return eval("value = "+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize},function(ae,q,c){"use strict";(function(p){function w(j){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(j)}var x=c(107).writeIEEE754,V=c(25).Long,D=c(60),I=c(30).Binary,S=c(16).normalizedFunctionString,O=/\x00/,v=["$db","$ref","$id","$clusterTime"],y=function(j){return"object"===w(j)&&"[object Date]"===Object.prototype.toString.call(j)},h=function(j){return"[object RegExp]"===Object.prototype.toString.call(j)},f=function(j,ce,pe,J,Ee){j[J++]=Z.BSON_DATA_STRING;var te=j.write(ce,J,Ee?"ascii":"utf8");j[(J=J+te+1)-1]=0;var ue=j.write(pe,J+4,"utf8");return j[J+3]=ue+1>>24&255,j[J+2]=ue+1>>16&255,j[J+1]=ue+1>>8&255,j[J]=ue+1&255,J=J+4+ue,j[J++]=0,J},g=function(j,ce,pe,J,Ee){if(Math.floor(pe)===pe&&pe>=Z.JS_INT_MIN&&pe<=Z.JS_INT_MAX)if(pe>=Z.BSON_INT32_MIN&&pe<=Z.BSON_INT32_MAX){j[J++]=Z.BSON_DATA_INT;var te=j.write(ce,J,Ee?"ascii":"utf8");J+=te,j[J++]=0,j[J++]=255&pe,j[J++]=pe>>8&255,j[J++]=pe>>16&255,j[J++]=pe>>24&255}else if(pe>=Z.JS_INT_MIN&&pe<=Z.JS_INT_MAX)j[J++]=Z.BSON_DATA_NUMBER,J+=te=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,pe,J,"little",52,8),J+=8;else{j[J++]=Z.BSON_DATA_LONG,J+=te=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var ue=V.fromNumber(pe),le=ue.getLowBits(),N=ue.getHighBits();j[J++]=255&le,j[J++]=le>>8&255,j[J++]=le>>16&255,j[J++]=le>>24&255,j[J++]=255&N,j[J++]=N>>8&255,j[J++]=N>>16&255,j[J++]=N>>24&255}else j[J++]=Z.BSON_DATA_NUMBER,J+=te=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,pe,J,"little",52,8),J+=8;return J},u=function(j,ce,pe,J,Ee){return j[J++]=Z.BSON_DATA_NULL,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,J},l=function(j,ce,pe,J,Ee){return j[J++]=Z.BSON_DATA_BOOLEAN,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,j[J++]=pe?1:0,J},_=function(j,ce,pe,J,Ee){j[J++]=Z.BSON_DATA_DATE,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var te=V.fromNumber(pe.getTime()),ue=te.getLowBits(),le=te.getHighBits();return j[J++]=255&ue,j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255,j[J++]=255&le,j[J++]=le>>8&255,j[J++]=le>>16&255,j[J++]=le>>24&255,J},m=function(j,ce,pe,J,Ee){if(j[J++]=Z.BSON_DATA_REGEXP,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,pe.source&&null!=pe.source.match(O))throw Error("value "+pe.source+" must not contain null bytes");return J+=j.write(pe.source,J,"utf8"),j[J++]=0,pe.global&&(j[J++]=115),pe.ignoreCase&&(j[J++]=105),pe.multiline&&(j[J++]=109),j[J++]=0,J},C=function(j,ce,pe,J,Ee){if(j[J++]=Z.BSON_DATA_REGEXP,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,null!=pe.pattern.match(O))throw Error("pattern "+pe.pattern+" must not contain null bytes");return J+=j.write(pe.pattern,J,"utf8"),j[J++]=0,J+=j.write(pe.options.split("").sort().join(""),J,"utf8"),j[J++]=0,J},A=function(j,ce,pe,J,Ee){return j[J++]=null===pe?Z.BSON_DATA_NULL:"MinKey"===pe._bsontype?Z.BSON_DATA_MIN_KEY:Z.BSON_DATA_MAX_KEY,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,J},$=function(j,ce,pe,J,Ee){if(j[J++]=Z.BSON_DATA_OID,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,"string"==typeof pe.id)j.write(pe.id,J,"binary");else{if(!pe.id||!pe.id.copy)throw new Error("object ["+JSON.stringify(pe)+"] is not a valid ObjectId");pe.id.copy(j,J,0,12)}return J+12},K=function(j,ce,pe,J,Ee){j[J++]=Z.BSON_DATA_BINARY,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var te=pe.length;return j[J++]=255&te,j[J++]=te>>8&255,j[J++]=te>>16&255,j[J++]=te>>24&255,j[J++]=Z.BSON_BINARY_SUBTYPE_DEFAULT,pe.copy(j,J,0,te),J+te},B=function(j,ce,pe,J,Ee,te,ue,le,N,M){for(var H=0;H<M.length;H++)if(M[H]===pe)throw new Error("cyclic dependency detected");M.push(pe),j[J++]=Array.isArray(pe)?Z.BSON_DATA_ARRAY:Z.BSON_DATA_OBJECT,J+=j.write(ce,J,N?"ascii":"utf8"),j[J++]=0;var L=Q(j,pe,Ee,J,te+1,ue,le,M);return M.pop(),L},F=function(j,ce,pe,J,Ee){return j[J++]=Z.BSON_DATA_DECIMAL128,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,pe.bytes.copy(j,J,0,16),J+16},k=function(j,ce,pe,J,Ee){j[J++]="Long"===pe._bsontype?Z.BSON_DATA_LONG:Z.BSON_DATA_TIMESTAMP,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var te=pe.getLowBits(),ue=pe.getHighBits();return j[J++]=255&te,j[J++]=te>>8&255,j[J++]=te>>16&255,j[J++]=te>>24&255,j[J++]=255&ue,j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255,J},U=function(j,ce,pe,J,Ee){return j[J++]=Z.BSON_DATA_INT,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,j[J++]=255&pe,j[J++]=pe>>8&255,j[J++]=pe>>16&255,j[J++]=pe>>24&255,J},P=function(j,ce,pe,J,Ee){return j[J++]=Z.BSON_DATA_NUMBER,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0,x(j,pe,J,"little",52,8),J+8},G=function(j,ce,pe,J,Ee,te,ue){j[J++]=Z.BSON_DATA_CODE,J+=j.write(ce,J,ue?"ascii":"utf8"),j[J++]=0;var le=S(pe),N=j.write(le,J+4,"utf8")+1;return j[J]=255&N,j[J+1]=N>>8&255,j[J+2]=N>>16&255,j[J+3]=N>>24&255,J=J+4+N-1,j[J++]=0,J},W=function(j,ce,pe,J,Ee,te,ue,le,N){if(pe.scope&&"object"===w(pe.scope)){j[J++]=Z.BSON_DATA_CODE_W_SCOPE;var M=j.write(ce,J,N?"ascii":"utf8");J+=M,j[J++]=0;var H=J,L="string"==typeof pe.code?pe.code:pe.code.toString(),oe=j.write(L,(J+=4)+4,"utf8")+1;j[J]=255&oe,j[J+1]=oe>>8&255,j[J+2]=oe>>16&255,j[J+3]=oe>>24&255,j[J+4+oe-1]=0;var de=Q(j,pe.scope,Ee,J=J+oe+4,te+1,ue,le);J=de-1;var we=de-H;j[H++]=255&we,j[H++]=we>>8&255,j[H++]=we>>16&255,j[H++]=we>>24&255,j[J++]=0}else{j[J++]=Z.BSON_DATA_CODE,J+=M=j.write(ce,J,N?"ascii":"utf8"),j[J++]=0,L=pe.code.toString();var Me=j.write(L,J+4,"utf8")+1;j[J]=255&Me,j[J+1]=Me>>8&255,j[J+2]=Me>>16&255,j[J+3]=Me>>24&255,J=J+4+Me-1,j[J++]=0}return J},ne=function(j,ce,pe,J,Ee){j[J++]=Z.BSON_DATA_BINARY,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var te=pe.value(!0),ue=pe.position;return pe.sub_type===I.SUBTYPE_BYTE_ARRAY&&(ue+=4),j[J++]=255&ue,j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255,j[J++]=pe.sub_type,pe.sub_type===I.SUBTYPE_BYTE_ARRAY&&(j[J++]=255&(ue-=4),j[J++]=ue>>8&255,j[J++]=ue>>16&255,j[J++]=ue>>24&255),te.copy(j,J,0,pe.position),J+pe.position},X=function(j,ce,pe,J,Ee){j[J++]=Z.BSON_DATA_SYMBOL,J+=j.write(ce,J,Ee?"ascii":"utf8"),j[J++]=0;var te=j.write(pe.value,J+4,"utf8")+1;return j[J]=255&te,j[J+1]=te>>8&255,j[J+2]=te>>16&255,j[J+3]=te>>24&255,J=J+4+te-1,j[J++]=0,J},z=function(j,ce,pe,J,Ee,te,ue){j[J++]=Z.BSON_DATA_OBJECT,J+=j.write(ce,J,ue?"ascii":"utf8"),j[J++]=0;var le,N=J,M=(le=Q(j,null!=pe.db?{$ref:pe.namespace,$id:pe.oid,$db:pe.db}:{$ref:pe.namespace,$id:pe.oid},!1,J,Ee+1,te))-N;return j[N++]=255&M,j[N++]=M>>8&255,j[N++]=M>>16&255,j[N++]=M>>24&255,le},Q=function(j,ce,pe,J,Ee,te,ue,le){J=J||0,(le=le||[]).push(ce);var N=J+4;if(Array.isArray(ce))for(var M=0;M<ce.length;M++){var H=""+M,L=ce[M];if(L&&L.toBSON){if("function"!=typeof L.toBSON)throw new Error("toBSON is not a function");L=L.toBSON()}var oe=w(L);if("string"===oe)N=f(j,H,L,N,!0);else if("number"===oe)N=g(j,H,L,N,!0);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N,!0);else if(L instanceof Date||y(L))N=_(j,H,L,N,!0);else if(void 0===L)N=u(j,H,0,N,!0);else if(null===L)N=u(j,H,0,N,!0);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N,!0);else if(p.isBuffer(L))N=K(j,H,L,N,!0);else if(L instanceof RegExp||h(L))N=m(j,H,L,N,!0);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,pe,Ee,te,ue,!0,le);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N,!0);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=k(j,H,L,N,!0);else if("Double"===L._bsontype)N=P(j,H,L,N,!0);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Code"===L._bsontype)N=W(j,H,L,N,pe,Ee,te,ue,!0);else if("Binary"===L._bsontype)N=ne(j,H,L,N,!0);else if("Symbol"===L._bsontype)N=X(j,H,L,N,!0);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te,!0);else if("BSONRegExp"===L._bsontype)N=C(j,H,L,N,!0);else if("Int32"===L._bsontype)N=U(j,H,L,N,!0);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N,!0);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}else if(ce instanceof D)for(var de=ce.entries(),we=!1;!we;){var Me=de.next();if(!(we=Me.done)){if(H=Me.value[0],oe=w(L=Me.value[1]),"string"==typeof H&&-1===v.indexOf(H)){if(null!=H.match(O))throw Error("key "+H+" must not contain null bytes");if(pe){if("$"===H[0])throw Error("key "+H+" must not start with '$'");if(~H.indexOf("."))throw Error("key "+H+" must not contain '.'")}}if("string"===oe)N=f(j,H,L,N);else if("number"===oe)N=g(j,H,L,N);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N);else if(L instanceof Date||y(L))N=_(j,H,L,N);else if(null===L||void 0===L&&!1===ue)N=u(j,H,0,N);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N);else if(p.isBuffer(L))N=K(j,H,L,N);else if(L instanceof RegExp||h(L))N=m(j,H,L,N);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,pe,Ee,te,ue,!1,le);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=k(j,H,L,N);else if("Double"===L._bsontype)N=P(j,H,L,N);else if("Code"===L._bsontype)N=W(j,H,L,N,pe,Ee,te,ue);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Binary"===L._bsontype)N=ne(j,H,L,N);else if("Symbol"===L._bsontype)N=X(j,H,L,N);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te);else if("BSONRegExp"===L._bsontype)N=C(j,H,L,N);else if("Int32"===L._bsontype)N=U(j,H,L,N);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}}else{if(ce.toBSON){if("function"!=typeof ce.toBSON)throw new Error("toBSON is not a function");if(null!=(ce=ce.toBSON())&&"object"!==w(ce))throw new Error("toBSON function did not return an object")}for(H in ce){if((L=ce[H])&&L.toBSON){if("function"!=typeof L.toBSON)throw new Error("toBSON is not a function");L=L.toBSON()}if(oe=w(L),"string"==typeof H&&-1===v.indexOf(H)){if(null!=H.match(O))throw Error("key "+H+" must not contain null bytes");if(pe){if("$"===H[0])throw Error("key "+H+" must not start with '$'");if(~H.indexOf("."))throw Error("key "+H+" must not contain '.'")}}if("string"===oe)N=f(j,H,L,N);else if("number"===oe)N=g(j,H,L,N);else{if("bigint"===oe)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===oe)N=l(j,H,L,N);else if(L instanceof Date||y(L))N=_(j,H,L,N);else if(void 0===L)!1===ue&&(N=u(j,H,0,N));else if(null===L)N=u(j,H,0,N);else if("ObjectID"===L._bsontype||"ObjectId"===L._bsontype)N=$(j,H,L,N);else if(p.isBuffer(L))N=K(j,H,L,N);else if(L instanceof RegExp||h(L))N=m(j,H,L,N);else if("object"===oe&&null==L._bsontype)N=B(j,H,L,N,pe,Ee,te,ue,!1,le);else if("object"===oe&&"Decimal128"===L._bsontype)N=F(j,H,L,N);else if("Long"===L._bsontype||"Timestamp"===L._bsontype)N=k(j,H,L,N);else if("Double"===L._bsontype)N=P(j,H,L,N);else if("Code"===L._bsontype)N=W(j,H,L,N,pe,Ee,te,ue);else if("function"==typeof L&&te)N=G(j,H,L,N,0,0,te);else if("Binary"===L._bsontype)N=ne(j,H,L,N);else if("Symbol"===L._bsontype)N=X(j,H,L,N);else if("DBRef"===L._bsontype)N=z(j,H,L,N,Ee,te);else if("BSONRegExp"===L._bsontype)N=C(j,H,L,N);else if("Int32"===L._bsontype)N=U(j,H,L,N);else if("MinKey"===L._bsontype||"MaxKey"===L._bsontype)N=A(j,H,L,N);else if(void 0!==L._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+L._bsontype)}}}le.pop(),j[N++]=0;var Ve=N-J;return j[J++]=255&Ve,j[J++]=Ve>>8&255,j[J++]=Ve>>16&255,j[J++]=Ve>>24&255,N},Z={BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128,BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648};Z.BSON_INT64_MAX=Math.pow(2,63)-1,Z.BSON_INT64_MIN=-Math.pow(2,63),Z.JS_INT_MAX=9007199254740992,Z.JS_INT_MIN=-9007199254740992,ae.exports=Q}).call(this,c(2).Buffer)},function(ae,q){q.readIEEE754=function(c,p,w,x,V){var D,I,S="big"===w,O=8*V-x-1,v=(1<<O)-1,y=v>>1,h=-7,f=S?0:V-1,g=S?1:-1,u=c[p+f];for(f+=g,D=u&(1<<-h)-1,u>>=-h,h+=O;h>0;D=256*D+c[p+f],f+=g,h-=8);for(I=D&(1<<-h)-1,D>>=-h,h+=x;h>0;I=256*I+c[p+f],f+=g,h-=8);if(0===D)D=1-y;else{if(D===v)return I?NaN:1/0*(u?-1:1);I+=Math.pow(2,x),D-=y}return(u?-1:1)*I*Math.pow(2,D-x)},q.writeIEEE754=function(c,p,w,x,V,D){var I,S,O,v="big"===x,y=8*D-V-1,h=(1<<y)-1,f=h>>1,g=23===V?Math.pow(2,-24)-Math.pow(2,-77):0,u=v?D-1:0,l=v?-1:1,_=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(S=isNaN(p)?1:0,I=h):(I=Math.floor(Math.log(p)/Math.LN2),p*(O=Math.pow(2,-I))<1&&(I--,O*=2),(p+=I+f>=1?g/O:g*Math.pow(2,1-f))*O>=2&&(I++,O/=2),I+f>=h?(S=0,I=h):I+f>=1?(S=(p*O-1)*Math.pow(2,V),I+=f):(S=p*Math.pow(2,f-1)*Math.pow(2,V),I=0));V>=8;c[w+u]=255&S,u+=l,S/=256,V-=8);for(I=I<<V|S,y+=V;y>0;c[w+u]=255&I,u+=l,I/=256,y-=8);c[w+u-l]|=128*_}},function(ae,q,c){"use strict";(function(p){function w(A){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(A)}var x=c(25).Long,V=c(40).Double,D=c(41).Timestamp,I=c(42).ObjectID,S=c(44).Symbol,O=c(43).BSONRegExp,v=c(45).Code,y=c(46),h=c(47).MinKey,f=c(48).MaxKey,g=c(49).DBRef,u=c(30).Binary,l=c(16).normalizedFunctionString,_=function(A,$,K){var B=5;if(Array.isArray(A))for(var F=0;F<A.length;F++)B+=m(F.toString(),A[F],$,!0,K);else for(var k in A.toBSON&&(A=A.toBSON()),A)B+=m(k,A[k],$,!1,K);return B};function m(A,$,K,B,F){switch($&&$.toBSON&&($=$.toBSON()),w($)){case"string":return 1+p.byteLength(A,"utf8")+1+4+p.byteLength($,"utf8")+1;case"number":return Math.floor($)===$&&$>=C.JS_INT_MIN&&$<=C.JS_INT_MAX&&$>=C.BSON_INT32_MIN&&$<=C.BSON_INT32_MAX?(null!=A?p.byteLength(A,"utf8")+1:0)+5:(null!=A?p.byteLength(A,"utf8")+1:0)+9;case"undefined":return B||!F?(null!=A?p.byteLength(A,"utf8")+1:0)+1:0;case"boolean":return(null!=A?p.byteLength(A,"utf8")+1:0)+2;case"object":if(null==$||$ instanceof h||$ instanceof f||"MinKey"===$._bsontype||"MaxKey"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+1;if($ instanceof I||"ObjectID"===$._bsontype||"ObjectId"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+13;if($ instanceof Date||"object"===w(U=$)&&"[object Date]"===Object.prototype.toString.call(U))return(null!=A?p.byteLength(A,"utf8")+1:0)+9;if(void 0!==p&&p.isBuffer($))return(null!=A?p.byteLength(A,"utf8")+1:0)+6+$.length;if($ instanceof x||$ instanceof V||$ instanceof D||"Long"===$._bsontype||"Double"===$._bsontype||"Timestamp"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+9;if($ instanceof y||"Decimal128"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+17;if($ instanceof v||"Code"===$._bsontype)return null!=$.scope&&Object.keys($.scope).length>0?(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+4+p.byteLength($.code.toString(),"utf8")+1+_($.scope,K,F):(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+p.byteLength($.code.toString(),"utf8")+1;if($ instanceof u||"Binary"===$._bsontype)return $.sub_type===u.SUBTYPE_BYTE_ARRAY?(null!=A?p.byteLength(A,"utf8")+1:0)+($.position+1+4+1+4):(null!=A?p.byteLength(A,"utf8")+1:0)+($.position+1+4+1);if($ instanceof S||"Symbol"===$._bsontype)return(null!=A?p.byteLength(A,"utf8")+1:0)+p.byteLength($.value,"utf8")+4+1+1;if($ instanceof g||"DBRef"===$._bsontype){var k={$ref:$.namespace,$id:$.oid};return null!=$.db&&(k.$db=$.db),(null!=A?p.byteLength(A,"utf8")+1:0)+1+_(k,K,F)}return $ instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call($)?(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.source,"utf8")+1+($.global?1:0)+($.ignoreCase?1:0)+($.multiline?1:0)+1:$ instanceof O||"BSONRegExp"===$._bsontype?(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.pattern,"utf8")+1+p.byteLength($.options,"utf8")+1:(null!=A?p.byteLength(A,"utf8")+1:0)+_($,K,F)+1;case"function":if($ instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call($)||"[object RegExp]"===String.call($))return(null!=A?p.byteLength(A,"utf8")+1:0)+1+p.byteLength($.source,"utf8")+1+($.global?1:0)+($.ignoreCase?1:0)+($.multiline?1:0)+1;if(K&&null!=$.scope&&Object.keys($.scope).length>0)return(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+4+p.byteLength(l($),"utf8")+1+_($.scope,K,F);if(K)return(null!=A?p.byteLength(A,"utf8")+1:0)+1+4+p.byteLength(l($),"utf8")+1}var U;return 0}var C={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992};ae.exports=_}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";ae.exports=c(39).Decimal128},function(ae,q,c){"use strict";var p=c(39).ObjectID;Object.defineProperty(p.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),ae.exports=p},function(ae,q,c){"use strict";ae.exports=function(){}},function(ae,q,c){"use strict";var p=c(113).ctor("require","modify","init","default","ignore");ae.exports=function(){this.strictMode=void 0,this.selected=void 0,this.shardval=void 0,this.saveError=void 0,this.validationError=void 0,this.adhocPaths=void 0,this.removing=void 0,this.inserting=void 0,this.saving=void 0,this.version=void 0,this.getters={},this._id=void 0,this.populate=void 0,this.populated=void 0,this.wasPopulated=!1,this.scope=void 0,this.activePaths=new p,this.pathsToScopes={},this.cachedRequired={},this.session=null,this.$setCalled=new Set,this.ownerDocument=void 0,this.fullPath=void 0}},function(ae,q,c){"use strict";var p=c(1),w=ae.exports=function(){};w.ctor=function(){var x=p.args(arguments),V=function(){w.apply(this,arguments),this.paths={},this.states={},this.stateNames=x;for(var I=x.length;I--;)this.states[x[I]]={}};return V.prototype=new w,x.forEach(function(D){V.prototype[D]=function(I){this._changeState(I,D)}}),V},w.prototype._changeState=function(x,V){var D=this.states[this.paths[x]];D&&delete D[x],this.paths[x]=V,this.states[V][x]=!0},w.prototype.clear=function(x){for(var V,D=Object.keys(this.states[x]),I=D.length;I--;)delete this.states[x][V=D[I]],delete this.paths[V]},w.prototype.some=function(){var x=this,V=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(V,function(D){return Object.keys(x.states[D]).length})},w.prototype._iter=function(x){return function(){var V=arguments.length,D=p.args(arguments,0,V-1),I=arguments[V-1];D.length||(D=this.stateNames);var S=this,O=D.reduce(function(v,y){return v.concat(Object.keys(S.states[y]))},[]);return O[x](function(v,y,h){return I(v,y,h)})}},w.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},w.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}},function(ae,q){function c(I){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}var p=1e3,w=6e4,x=60*w,V=24*x;function D(I,S,O,v){var y=S>=1.5*O;return Math.round(I/O)+" "+v+(y?"s":"")}ae.exports=function(I,S){S=S||{};var v,y,O=c(I);if("string"===O&&I.length>0)return function(v){if(!((v=String(v)).length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(y){var h=parseFloat(y[1]);switch((y[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*V;case"hours":case"hour":case"hrs":case"hr":case"h":return h*x;case"minutes":case"minute":case"mins":case"min":case"m":return h*w;case"seconds":case"second":case"secs":case"sec":case"s":return h*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(I);if("number"===O&&isFinite(I))return S.long?(v=I,(y=Math.abs(v))>=V?D(v,y,V,"day"):y>=x?D(v,y,x,"hour"):y>=w?D(v,y,w,"minute"):y>=p?D(v,y,p,"second"):v+" ms"):function(v){var y=Math.abs(v);return y>=V?Math.round(v/V)+"d":y>=x?Math.round(v/x)+"h":y>=w?Math.round(v/w)+"m":y>=p?Math.round(v/p)+"s":v+"ms"}(I);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(I))}},function(ae,q,c){function p(D){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var w=c(116),x=["__proto__","constructor","prototype"];function V(D){return D}q.get=function(D,I,S,O){var v;"function"==typeof S&&(S.length<2?(O=S,S=void 0):(v=S,S=void 0)),O||(O=V);var y="string"==typeof D?w(D):D;if(!Array.isArray(y))throw new TypeError("Invalid `path`. Must be either string or array");for(var h,f=I,g=0;g<y.length;++g){if(h=y[g],"string"!=typeof y[g]&&"number"!=typeof y[g])throw new TypeError("Each segment of path to `get()` must be a string or number, got "+p(y[g]));if(Array.isArray(f)&&!/^\d+$/.test(h)){var u=y.slice(g);return[].concat(f).map(function(_){return _?q.get(u,_,S||v,O):O(void 0)})}if(v)f=v(f,h);else{var l=S&&f[S]?f[S]:f;f=l instanceof Map?l.get(h):l[h]}if(!f)return O(f)}return O(f)},q.has=function(D,I){var S="string"==typeof D?w(D):D;if(!Array.isArray(S))throw new TypeError("Invalid `path`. Must be either string or array");for(var O=S.length,v=I,y=0;y<O;++y){if("string"!=typeof S[y]&&"number"!=typeof S[y])throw new TypeError("Each segment of path to `has()` must be a string or number, got "+p(S[y]));if(null==v||"object"!==p(v)||!(S[y]in v))return!1;v=v[S[y]]}return!0},q.unset=function(D,I){var S="string"==typeof D?w(D):D;if(!Array.isArray(S))throw new TypeError("Invalid `path`. Must be either string or array");for(var O=S.length,v=I,y=0;y<O;++y){if(null==v||"object"!==p(v)||!(S[y]in v))return!1;if("string"!=typeof S[y]&&"number"!=typeof S[y])throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+p(S[y]));if(-1!==x.indexOf(S[y]))return!1;if(y===O-1)return delete v[S[y]],!0;v=v instanceof Map?v.get(S[y]):v[S[y]]}return!0},q.set=function(D,I,S,O,v,y){var h;"function"==typeof O&&(O.length<2?(v=O,O=void 0):(h=O,O=void 0)),v||(v=V);var f="string"==typeof D?w(D):D;if(!Array.isArray(f))throw new TypeError("Invalid `path`. Must be either string or array");if(null!=S){for(var g=0;g<f.length;++g){if("string"!=typeof f[g]&&"number"!=typeof f[g])throw new TypeError("Each segment of path to `set()` must be a string or number, got "+p(f[g]));if(-1!==x.indexOf(f[g]))return}for(var u,l=y||/\$/.test(D)&&!1!==y,_=S,m=(g=0,f.length-1);g<m;++g)if("$"!=(u=f[g])){if(Array.isArray(_)&&!/^\d+$/.test(u)){var C=f.slice(g);if(!l&&Array.isArray(I))for(var A=0;A<_.length&&A<I.length;++A)q.set(C,I[A],_[A],O||h,v,l);else for(A=0;A<_.length;++A)q.set(C,I,_[A],O||h,v,l);return}if(h)_=h(_,u);else{var $=O&&_[O]?_[O]:_;_=$ instanceof Map?$.get(u):$[u]}if(!_)return}else if(g==m-1)break;if(u=f[m],O&&_[O]&&(_=_[O]),Array.isArray(_)&&!/^\d+$/.test(u))if(!l&&Array.isArray(I))!function B(F,k,U,P,G,W){for(var ne,X=0;X<F.length&&X<k.length;++X)ne=F[X],Array.isArray(ne)&&Array.isArray(k[X])?B(ne,k[X],U,P,G,W):ne&&(P?P(ne,U,W(k[X])):(ne[G]&&(ne=ne[G]),ne[U]=W(k[X])))}(_,I,u,h,O,v);else for(A=0;A<_.length;++A){var K=_[A];K&&(h?h(K,u,v(I)):(K[O]&&(K=K[O]),K[u]=v(I)))}else h?h(_,u,v(I)):_ instanceof Map?_.set(u,v(I)):_[u]=v(I)}}},function(ae,q,c){"use strict";ae.exports=function(p){for(var w=[],x="",V="DEFAULT",D=0;D<p.length;++D)"IN_SQUARE_BRACKETS"!==V||/\d/.test(p[D])||"]"===p[D]||(V="DEFAULT",x=w[w.length-1]+"["+x,w.splice(w.length-1,1)),"["===p[D]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&(w.push(x),x=""),V="IN_SQUARE_BRACKETS"):"]"===p[D]?"IN_SQUARE_BRACKETS"===V?(V="IMMEDIATELY_AFTER_SQUARE_BRACKETS",w.push(x),x=""):(V="DEFAULT",x+=p[D]):"."===p[D]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&(w.push(x),x=""),V="DEFAULT"):x+=p[D];return"IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==V&&w.push(x),w}},function(ae,q,c){"use strict";function p(I){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}function w(I,S){for(var O=0;O<S.length;O++){var v=S[O];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,(h=function(f,g){if("object"!==p(f)||null===f)return f;var u=f[Symbol.toPrimitive];if(void 0!==u){var l=u.call(f,"string");if("object"!==p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(v.key),"symbol"===p(h)?h:String(h)),v)}var h}var V=c(26),D=function x(I,S,O){return S&&w(I.prototype,S),O&&w(I,O),Object.defineProperty(I,"prototype",{writable:!1}),I}(function I(S){if(function(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")}(this,I),this._docs={},this._childDocs=[],null!=S&&(S=V(S),Object.assign(this,S),"object"===p(S.subPopulate)&&(this.populate=S.subPopulate),null!=S.perDocumentLimit&&null!=S.limit))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+S.path+"`.")});ae.exports=D},function(ae,q,c){"use strict";var p=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function V(D){if(null==D)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(D)}ae.exports=function(){try{if(!Object.assign)return!1;var D=new String("abc");if(D[5]="de","5"===Object.getOwnPropertyNames(D)[0])return!1;for(var I={},S=0;S<10;S++)I["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(I).map(function(v){return I[v]}).join(""))return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(v){O[v]=v}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},O)).join("")}catch(v){return!1}}()?Object.assign:function(D,I){for(var S,O,v=V(D),y=1;y<arguments.length;y++){for(var h in S=Object(arguments[y]))w.call(S,h)&&(v[h]=S[h]);if(p){O=p(S);for(var f=0;f<O.length;f++)x.call(S,O[f])&&(v[O[f]]=S[O[f]])}}return v}},function(ae,q,c){"use strict";function p(u){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}var w=c(63),x=c(23),V=c(4),D=c(69),I=c(122)("mquery");function S(u,l){if(!(this instanceof S))return new S(u,l);var _=this.constructor.prototype;this.op=_.op||void 0,this.options=Object.assign({},_.options),this._conditions=_._conditions?D.clone(_._conditions):{},this._fields=_._fields?D.clone(_._fields):void 0,this._update=_._update?D.clone(_._update):void 0,this._path=_._path||void 0,this._distinct=_._distinct||void 0,this._collection=_._collection||void 0,this._traceFunction=_._traceFunction||void 0,l&&this.setOptions(l),u&&(u.find&&u.remove&&u.update?this.collection(u):this.find(u))}var O="$geoWithin";Object.defineProperty(S,"use$geoWithin",{get:function(){return"$geoWithin"==O},set:function(u){O=!0===u?"$geoWithin":"$within"}}),S.prototype.toConstructor=function(){function u(_,m){if(!(this instanceof u))return new u(_,m);S.call(this,_,m)}D.inherits(u,S);var l=u.prototype;return l.options={},l.setOptions(this.options),l.op=this.op,l._conditions=D.clone(this._conditions),l._fields=D.clone(this._fields),l._update=D.clone(this._update),l._path=this._path,l._distinct=this._distinct,l._collection=this._collection,l._traceFunction=this._traceFunction,u},S.prototype.setOptions=function(u){if(!u||!D.isObject(u))return this;for(var l,_=D.keys(u),m=0;m<_.length;++m)if("function"==typeof this[l=_[m]]){var C=D.isArray(u[l])?u[l]:[u[l]];this[l].apply(this,C)}else this.options[l]=u[l];return this},S.prototype.collection=function(u){return this._collection=new S.Collection(u),this},S.prototype.collation=function(u){return this.options.collation=u,this},S.prototype.$where=function(u){return this._conditions.$where=u,this},S.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");var u=p(arguments[0]);if("string"==u)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"==u&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")},S.prototype.equals=function(u){return this._ensurePath("equals"),this._conditions[this._path]=u,this},S.prototype.eq=function(u){return this._ensurePath("eq"),this._conditions[this._path]=u,this},S.prototype.or=function(u){var l=this._conditions.$or||(this._conditions.$or=[]);return D.isArray(u)||(u=[u]),l.push.apply(l,u),this},S.prototype.nor=function(u){var l=this._conditions.$nor||(this._conditions.$nor=[]);return D.isArray(u)||(u=[u]),l.push.apply(l,u),this},S.prototype.and=function(u){var l=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(u)||(u=[u]),l.push.apply(l,u),this},"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(u){S.prototype[u]=function(){var l,_;1===arguments.length?(this._ensurePath(u),_=arguments[0],l=this._path):(_=arguments[1],l=arguments[0]);var m=null===this._conditions[l]||"object"===p(this._conditions[l])?this._conditions[l]:this._conditions[l]={};return m["$"+u]=_,this}}),S.prototype.mod=function(){var u,l;1===arguments.length?(this._ensurePath("mod"),u=arguments[0],l=this._path):2!==arguments.length||D.isArray(arguments[1])?3===arguments.length?(u=w(arguments,1),l=arguments[0]):(u=arguments[1],l=arguments[0]):(this._ensurePath("mod"),u=w(arguments),l=this._path);var _=this._conditions[l]||(this._conditions[l]={});return _.$mod=u,this},S.prototype.exists=function(){var u,l;0===arguments.length?(this._ensurePath("exists"),u=this._path,l=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),u=this._path,l=arguments[0]):(u=arguments[0],l=!0):2===arguments.length&&(u=arguments[0],l=arguments[1]);var _=this._conditions[u]||(this._conditions[u]={});return _.$exists=l,this},S.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError("Invalid argument");var u,l,_;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),l=this._path,u=arguments[0];else if(D.isObject(arguments[0]))this._ensurePath("elemMatch"),l=this._path,_=arguments[0];else if("function"==typeof arguments[1])l=arguments[0],u=arguments[1];else{if(!arguments[1]||!D.isObject(arguments[1]))throw new TypeError("Invalid argument");l=arguments[0],_=arguments[1]}u&&(u(_=new S),_=_._conditions);var m=this._conditions[l]||(this._conditions[l]={});return m.$elemMatch=_,this},S.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=O,0===arguments.length)return this;if(2===arguments.length)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);var u=arguments[0];if(!u)throw new TypeError("Invalid argument");if(u.center)return this.circle(u);if(u.box)return this.box.apply(this,u.box);if(u.polygon)return this.polygon.apply(this,u.polygon);if(u.type&&u.coordinates)return this.geometry(u);throw new TypeError("Invalid argument")},S.prototype.box=function(){var u,l;if(3===arguments.length)u=arguments[0],l=[arguments[1],arguments[2]];else{if(2!==arguments.length)throw new TypeError("Invalid argument");this._ensurePath("box"),u=this._path,l=[arguments[0],arguments[1]]}var _=this._conditions[u]||(this._conditions[u]={});return _[this._geoComparison||O]={$box:l},this},S.prototype.polygon=function(){var u,l;"string"==typeof arguments[0]?(l=arguments[0],u=w(arguments,1)):(this._ensurePath("polygon"),l=this._path,u=w(arguments));var _=this._conditions[l]||(this._conditions[l]={});return _[this._geoComparison||O]={$polygon:u},this},S.prototype.circle=function(){var u,l;if(1===arguments.length)this._ensurePath("circle"),u=this._path,l=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");u=arguments[0],l=arguments[1]}if(!("radius"in l)||!l.center)throw new Error("center and radius are required");var _=this._conditions[u]||(this._conditions[u]={}),m=l.spherical?"$centerSphere":"$center",C=this._geoComparison||O;return _[C]={},_[C][m]=[l.center,l.radius],"unique"in l&&(_[C].$uniqueDocs=!!l.unique),this},S.prototype.near=function(){var u,l;if(this._geoComparison="$near",0===arguments.length)return this;if(1===arguments.length)this._ensurePath("near"),u=this._path,l=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");u=arguments[0],l=arguments[1]}if(!l.center)throw new Error("center is required");var _=this._conditions[u]||(this._conditions[u]={}),m=l.spherical?"$nearSphere":"$near";if(Array.isArray(l.center)){_[m]=l.center;var C="maxDistance"in l?l.maxDistance:null;null!=C&&(_.$maxDistance=C),null!=l.minDistance&&(_.$minDistance=l.minDistance)}else{if("Point"!=l.center.type||!Array.isArray(l.center.coordinates))throw new Error(V.format("Invalid GeoJSON specified for %s",m));_[m]={$geometry:l.center},"maxDistance"in l&&(_[m].$maxDistance=l.maxDistance),"minDistance"in l&&(_[m].$minDistance=l.minDistance)}return this},S.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",0===arguments.length)return this;var u=arguments[0];if(null!=u&&u.type&&u.coordinates)return this.geometry(u);throw new TypeError("Invalid argument")},S.prototype.geometry=function(){if("$within"!=this._geoComparison&&"$geoWithin"!=this._geoComparison&&"$near"!=this._geoComparison&&"$geoIntersects"!=this._geoComparison)throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");var u,l;if(1!==arguments.length)throw new TypeError("Invalid argument");if(this._ensurePath("geometry"),l=this._path,!(u=arguments[0]).type||!Array.isArray(u.coordinates))throw new TypeError("Invalid argument");var _=this._conditions[l]||(this._conditions[l]={});return _[this._geoComparison]={$geometry:u},this},S.prototype.select=function(){var u=arguments[0];if(!u)return this;if(1!==arguments.length)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");var l,_,m=this._fields||(this._fields={}),C=p(u);if(("string"==C||D.isArgumentsObject(u))&&"number"==typeof u.length||Array.isArray(u)){for("string"==C&&(u=u.split(/\s+/)),l=0,_=u.length;l<_;++l){var A=u[l];if(A){var $="-"==A[0]?0:1;0===$&&(A=A.substring(1)),m[A]=$}}return this}if(D.isObject(u)){var K=D.keys(u);for(l=0;l<K.length;++l)m[K[l]]=u[K[l]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")},S.prototype.slice=function(){if(0===arguments.length)return this;var u,l;if(this._validate("slice"),1===arguments.length){var _=arguments[0];if("object"===p(_)&&!Array.isArray(_)){for(var m=Object.keys(_),C=m.length,A=0;A<C;++A)this.slice(m[A],_[m[A]]);return this}this._ensurePath("slice"),u=this._path,l=arguments[0]}else 2===arguments.length?"number"==typeof arguments[0]?(this._ensurePath("slice"),u=this._path,l=w(arguments)):(u=arguments[0],l=arguments[1]):3===arguments.length&&(u=arguments[0],l=w(arguments,1));var $=this._fields||(this._fields={});return $[u]={$slice:l},this},S.prototype.sort=function(u){if(!u)return this;var l,_,m;this._validate("sort");var C=p(u);if(Array.isArray(u)){for(_=u.length,l=0;l<u.length;++l){if(!Array.isArray(u[l]))throw new Error("Invalid sort() argument, must be array of arrays");h(this.options,u[l][0],u[l][1])}return this}if(1===arguments.length&&"string"==C){for(_=(u=u.split(/\s+/)).length,l=0;l<_;++l)if(m=u[l]){var A="-"==m[0]?-1:1;-1===A&&(m=m.substring(1)),y(this.options,m,A)}return this}if(D.isObject(u)){var $=D.keys(u);for(l=0;l<$.length;++l)y(this.options,m=$[l],u[m]);return this}if("undefined"!=typeof Map&&u instanceof Map)return f(this.options,u),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var v={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function y(u,l,_){if(Array.isArray(u.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var m;if(_&&_.$meta)(m=u.sort||(u.sort={}))[l]={$meta:_.$meta};else{m=u.sort||(u.sort={});var C=String(_||1).toLowerCase();if(!(C=v[C]))throw new TypeError("Invalid sort value: { "+l+": "+_+" }");m[l]=C}}function h(u,l,_){if(u.sort=u.sort||[],!Array.isArray(u.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var m=String(_||1).toLowerCase();if(!(m=v[m]))throw new TypeError("Invalid sort value: [ "+l+", "+_+" ]");u.sort.push([l,m])}function f(u,l){if(u.sort=u.sort||new Map,!(u.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");l.forEach(function(_,m){var C=String(_||1).toLowerCase();if(!(C=v[C]))throw new TypeError("Invalid sort value: < "+m+": "+_+" >");u.sort.set(m,C)})}function g(u,l,_,m,C,A,$){return u.op=l,S.canMerge(_)&&u.merge(_),m&&u._mergeUpdate(m),D.isObject(C)&&u.setOptions(C),A||$?!u._update||!u.options.overwrite&&0===D.keys(u._update).length?($&&D.soon($.bind(null,null,0)),u):(C=u._optionsForExec(),$||(C.safe=!1),_=u._conditions,m=u._updateForExec(),I("update",u._collection.collectionName,_,m,C),$=u._wrapCallback(l,$,{conditions:_,doc:m,options:C}),u._collection[l](_,m,C,D.tick($)),u):u}["limit","skip","maxScan","batchSize","comment"].forEach(function(u){S.prototype[u]=function(l){return this._validate(u),this.options[u]=l,this}}),S.prototype.maxTime=S.prototype.maxTimeMS=function(u){return this._validate("maxTime"),this.options.maxTimeMS=u,this},S.prototype.snapshot=function(){return this._validate("snapshot"),this.options.snapshot=!arguments.length||!!arguments[0],this},S.prototype.hint=function(){if(0===arguments.length)return this;this._validate("hint");var u=arguments[0];if(D.isObject(u)){var l=this.options.hint||(this.options.hint={});for(var _ in u)l[_]=u[_];return this}if("string"==typeof u)return this.options.hint=u,this;throw new TypeError("Invalid hint. "+u)},S.prototype.j=function(u){return this.options.j=u,this},S.prototype.slaveOk=function(u){return this.options.slaveOk=!arguments.length||!!u,this},S.prototype.read=S.prototype.setReadPreference=function(u){return arguments.length>1&&!S.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),S.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=D.readPref(u),this},S.prototype.readConcern=S.prototype.r=function(u){return this.options.readConcern=D.readConcern(u),this},S.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=!arguments.length||!!arguments[0],this},S.prototype.writeConcern=S.prototype.w=function(u){return"object"===p(u)?(void 0!==u.j&&(this.options.j=u.j),void 0!==u.w&&(this.options.w=u.w),void 0!==u.wtimeout&&(this.options.wtimeout=u.wtimeout)):this.options.w="m"===u?"majority":u,this},S.prototype.wtimeout=S.prototype.wTimeout=function(u){return this.options.wtimeout=u,this},S.prototype.merge=function(u){if(!u)return this;if(!S.canMerge(u))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return u instanceof S?(u._conditions&&D.merge(this._conditions,u._conditions),u._fields&&(this._fields||(this._fields={}),D.merge(this._fields,u._fields)),u.options&&(this.options||(this.options={}),D.merge(this.options,u.options)),u._update&&(this._update||(this._update={}),D.mergeClone(this._update,u._update)),u._distinct&&(this._distinct=u._distinct),this):(D.merge(this._conditions,u),this)},S.prototype.find=function(u,l){if(this.op="find","function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec(),I("find",this._collection.collectionName,_,m),l=this._wrapCallback("find",l,{conditions:_,options:m}),this._collection.find(_,m,D.tick(l)),this},S.prototype.cursor=function(u){if(this.op){if("find"!==this.op)throw new TypeError(".cursor only support .find method")}else this.find(u);var l=this._conditions,_=this._optionsForExec();return this.$useProjection?_.projection=this._fieldsForExec():_.fields=this._fieldsForExec(),I("findCursor",this._collection.collectionName,l,_),this._collection.findCursor(l,_)},S.prototype.findOne=function(u,l){if(this.op="findOne","function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec(),I("findOne",this._collection.collectionName,_,m),l=this._wrapCallback("findOne",l,{conditions:_,options:m}),this._collection.findOne(_,m,D.tick(l)),this},S.prototype.count=function(u,l){if(this.op="count",this._validate(),"function"==typeof u?(l=u,u=void 0):S.canMerge(u)&&this.merge(u),!l)return this;var _=this._conditions,m=this._optionsForExec();return I("count",this._collection.collectionName,_,m),l=this._wrapCallback("count",l,{conditions:_,options:m}),this._collection.count(_,m,D.tick(l)),this},S.prototype.distinct=function(u,l,_){if(this.op="distinct",this._validate(),!_){switch(p(l)){case"function":_=l,"string"==typeof u&&(l=u,u=void 0);break;case"undefined":case"string":break;default:throw new TypeError("Invalid `field` argument. Must be string or function")}switch(p(u)){case"function":_=u,u=l=void 0;break;case"string":l=u,u=void 0}}if("string"==typeof l&&(this._distinct=l),S.canMerge(u)&&this.merge(u),!_)return this;if(!this._distinct)throw new Error("No value for `distinct` has been declared");var m=this._conditions,C=this._optionsForExec();return I("distinct",this._collection.collectionName,m,C),_=this._wrapCallback("distinct",_,{conditions:m,options:C}),this._collection.distinct(this._distinct,m,C,D.tick(_)),this},S.prototype.update=function(u,l,_,m){var C;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":C=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"update",u,l,_,C,m)},S.prototype.updateMany=function(u,l,_,m){var C;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":C=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"updateMany",u,l,_,C,m)},S.prototype.updateOne=function(u,l,_,m){var C;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":C=u,u=void 0;break;default:l=u,u=_=void 0}}return g(this,"updateOne",u,l,_,C,m)},S.prototype.replaceOne=function(u,l,_,m){var C;switch(arguments.length){case 3:"function"==typeof _&&(m=_,_=void 0);break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0);break;case 1:switch(p(u)){case"function":m=u,u=_=l=void 0;break;case"boolean":C=u,u=void 0;break;default:l=u,u=_=void 0}}return this.setOptions({overwrite:!0}),g(this,"replaceOne",u,l,_,C,m)},S.prototype.remove=function(u,l){var _;if(this.op="remove","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1);var C=this._conditions;return I("remove",this._collection.collectionName,C,m),l=this._wrapCallback("remove",l,{conditions:C,options:m}),this._collection.remove(C,m,D.tick(l)),this},S.prototype.deleteOne=function(u,l){var _;if(this.op="deleteOne","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1),delete m.justOne;var C=this._conditions;return I("deleteOne",this._collection.collectionName,C,m),l=this._wrapCallback("deleteOne",l,{conditions:C,options:m}),this._collection.deleteOne(C,m,D.tick(l)),this},S.prototype.deleteMany=function(u,l){var _;if(this.op="deleteMany","function"==typeof u?(l=u,u=void 0):S.canMerge(u)?this.merge(u):!0===u&&(_=u,u=void 0),!_&&!l)return this;var m=this._optionsForExec();l||(m.safe=!1),delete m.justOne;var C=this._conditions;return I("deleteOne",this._collection.collectionName,C,m),l=this._wrapCallback("deleteOne",l,{conditions:C,options:m}),this._collection.deleteMany(C,m,D.tick(l)),this},S.prototype.findOneAndUpdate=function(u,l,_,m){switch(this.op="findOneAndUpdate",this._validate(),arguments.length){case 3:"function"==typeof _&&(m=_,_={});break;case 2:"function"==typeof l&&(m=l,l=u,u=void 0),_=void 0;break;case 1:"function"==typeof u?(m=u,u=_=l=void 0):(l=u,u=_=void 0)}return S.canMerge(u)&&this.merge(u),l&&this._mergeUpdate(l),_&&this.setOptions(_),m?this._findAndModify("update",m):this},S.prototype.findOneAndRemove=S.prototype.findOneAndDelete=function(u,l,_){return this.op="findOneAndRemove",this._validate(),"function"==typeof l?(_=l,l=void 0):"function"==typeof u&&(_=u,u=void 0),S.canMerge(u)&&this.merge(u),l&&this.setOptions(l),_?this._findAndModify("remove",_):this},S.prototype._findAndModify=function(u,l){x.equal("function",p(l));var _,m=this._optionsForExec();if("remove"==u)m.remove=!0;else if("new"in m||(m.new=!0),"upsert"in m||(m.upsert=!1),!(_=this._updateForExec())){if(!m.upsert)return this.findOne(l);_={$set:{}}}null!=this._fieldsForExec()&&(this.$useProjection?m.projection=this._fieldsForExec():m.fields=this._fieldsForExec());var C=this._conditions;return I("findAndModify",this._collection.collectionName,C,_,m),l=this._wrapCallback("findAndModify",l,{conditions:C,doc:_,options:m}),this._collection.findAndModify(C,_,m,D.tick(l)),this},S.prototype._wrapCallback=function(u,l,_){var m=this._traceFunction||S.traceFunction;if(m){_.collectionName=this._collection.collectionName;var C=m&&m.call(null,u,_,this),A=(new Date).getTime();return function($,K){if(C){var B=(new Date).getTime()-A;C.call(null,$,K,B)}l&&l.apply(null,arguments)}}return l},S.prototype.setTraceFunction=function(u){return this._traceFunction=u,this},S.prototype.exec=function(u,l){switch(p(u)){case"function":l=u,u=null;break;case"string":this.op=u}x.ok(this.op,"Missing query type: (find, update, etc)"),"update"!=this.op&&"remove"!=this.op||l||(l=!0);var _=this;if("function"!=typeof l)return new S.Promise(function(m,C){_[_.op](function(A,$){A?C(A):m($),m=C=null})});this[this.op](l)},S.prototype.thunk=function(){var u=this;return function(l){u.exec(l)}},S.prototype.then=function(u,l){var _=this;return new S.Promise(function(m,C){_.exec(function(A,$){A?C(A):m($),m=C=null})}).then(u,l)},S.prototype.stream=function(u){if("find"!=this.op)throw new Error("stream() is only available for find");var l=this._conditions,_=this._optionsForExec();return this.$useProjection?_.projection=this._fieldsForExec():_.fields=this._fieldsForExec(),I("stream",this._collection.collectionName,l,_,u),this._collection.findStream(l,_,u)},S.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)},S.prototype.selectedInclusively=function(){if(!this._fields)return!1;var u=Object.keys(this._fields);if(0===u.length)return!1;for(var l=0;l<u.length;++l){var _=u[l];if(0===this._fields[_]||this._fields[_]&&"object"===p(this._fields[_])&&this._fields[_].$meta)return!1}return!0},S.prototype.selectedExclusively=function(){if(!this._fields)return!1;var u=Object.keys(this._fields);if(0===u.length)return!1;for(var l=0;l<u.length;++l)if(0===this._fields[u[l]])return!0;return!1},S.prototype._mergeUpdate=function(u){this._update||(this._update={}),u instanceof S?u._update&&D.mergeClone(this._update,u._update):D.mergeClone(this._update,u)},S.prototype._optionsForExec=function(){return D.clone(this.options)},S.prototype._fieldsForExec=function(){return D.clone(this._fields)},S.prototype._updateForExec=function(){for(var u=D.clone(this._update),l=D.keys(u),_=l.length,m={};_--;){var C=l[_];this.options.overwrite?m[C]=u[C]:"$"!==C[0]?(m.$set||(m.$set=u.$set?u.$set:{}),m.$set[C]=u[C],l.splice(_,1),~l.indexOf("$set")||l.push("$set")):"$set"===C&&m.$set||(m[C]=u[C])}return this._compiledUpdate=m,m},S.prototype._ensurePath=function(u){if(!this._path)throw new Error(u+"() must be used after where() when called with these arguments")},S.permissions=c(125),S._isPermitted=function(u,l){var _=S.permissions[l];return!_||!0!==_[u]},S.prototype._validate=function(u){var l,_;if(void 0===u){if("function"!=typeof(_=S.permissions[this.op]))return!0;l=_(this)}else S._isPermitted(u,this.op)||(l=u);if(l)throw new Error(l+" cannot be used with "+this.op)},S.canMerge=function(u){return u instanceof S||D.isObject(u)},S.setGlobalTraceFunction=function(u){S.traceFunction=u},S.utils=D,S.env=c(71),S.Collection=c(127),S.BaseCollection=c(32),S.Promise=c(129),ae.exports=S},function(ae,q,c){(function(p,w){!function(x,V){"use strict";if(!x.setImmediate){var D,I,S,O,v,y=1,h={},f=!1,g=x.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(x);u=u&&u.setTimeout?u:x,"[object process]"==={}.toString.call(x.process)?D=function(m){w.nextTick(function(){_(m)})}:function(){if(x.postMessage&&!x.importScripts){var m=!0,C=x.onmessage;return x.onmessage=function(){m=!1},x.postMessage("","*"),x.onmessage=C,m}}()?(O="setImmediate$"+Math.random()+"$",v=function(m){m.source===x&&"string"==typeof m.data&&0===m.data.indexOf(O)&&_(+m.data.slice(O.length))},x.addEventListener?x.addEventListener("message",v,!1):x.attachEvent("onmessage",v),D=function(m){x.postMessage(O+m,"*")}):x.MessageChannel?((S=new MessageChannel).port1.onmessage=function(m){_(m.data)},D=function(m){S.port2.postMessage(m)}):g&&"onreadystatechange"in g.createElement("script")?(I=g.documentElement,D=function(m){var C=g.createElement("script");C.onreadystatechange=function(){_(m),C.onreadystatechange=null,I.removeChild(C),C=null},I.appendChild(C)}):D=function(m){setTimeout(_,0,m)},u.setImmediate=function(m){"function"!=typeof m&&(m=new Function(""+m));for(var C=new Array(arguments.length-1),A=0;A<C.length;A++)C[A]=arguments[A+1];var $={callback:m,args:C};return h[y]=$,D(y),y++},u.clearImmediate=l}function l(m){delete h[m]}function _(m){if(f)setTimeout(_,0,m);else{var C=h[m];if(C){f=!0;try{!function(A){var $=A.callback,K=A.args;switch(K.length){case 0:$();break;case 1:$(K[0]);break;case 2:$(K[0],K[1]);break;case 3:$(K[0],K[1],K[2]);break;default:$.apply(void 0,K)}}(C)}finally{l(m),f=!1}}}}}("undefined"==typeof self?void 0===p?this:p:self)}).call(this,c(9),c(10))},function(ae,q,c){var p=c(2),w=p.Buffer;function x(D,I){for(var S in D)I[S]=D[S]}function V(D,I,S){return w(D,I,S)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?ae.exports=p:(x(p,q),q.Buffer=V),x(w,V),V.from=function(D,I,S){if("number"==typeof D)throw new TypeError("Argument must not be a number");return w(D,I,S)},V.alloc=function(D,I,S){if("number"!=typeof D)throw new TypeError("Argument must be a number");var O=w(D);return void 0!==I?"string"==typeof S?O.fill(I,S):O.fill(I):O.fill(0),O},V.allocUnsafe=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return w(D)},V.allocUnsafeSlow=function(D){if("number"!=typeof D)throw new TypeError("Argument must be a number");return p.SlowBuffer(D)}},function(ae,q,c){(function(p){function w(V){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(V)}function x(){var V;try{V=q.storage.debug}catch(D){}return!V&&void 0!==p&&"env"in p&&(V=p.env.DEBUG),V}(q=ae.exports=c(123)).log=function(){return"object"===("undefined"==typeof console?"undefined":w(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},q.formatArgs=function(V){var D=this.useColors;if(V[0]=(D?"%c":"")+this.namespace+(D?" %c":" ")+V[0]+(D?"%c ":" ")+"+"+q.humanize(this.diff),D){var I="color: "+this.color;V.splice(1,0,I,"color: inherit");var S=0,O=0;V[0].replace(/%[a-zA-Z%]/g,function(v){"%%"!==v&&(S++,"%c"===v&&(O=S))}),V.splice(O,0,I)}},q.save=function(V){try{null==V?q.storage.removeItem("debug"):q.storage.debug=V}catch(D){}},q.load=x,q.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},q.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(V){}}(),q.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],q.formatters.j=function(V){try{return JSON.stringify(V)}catch(D){return"[UnexpectedJSONParseError]: "+D.message}},q.enable(x())}).call(this,c(10))},function(ae,q,c){function p(x){var V;function D(){if(D.enabled){var I=D,S=+new Date,O=S-(V||S);I.diff=O,I.prev=V,I.curr=S,V=S;for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];v[0]=q.coerce(v[0]),"string"!=typeof v[0]&&v.unshift("%O");var h=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(g,u){if("%%"===g)return g;h++;var l=q.formatters[u];return"function"==typeof l&&(g=l.call(I,v[h]),v.splice(h,1),h--),g}),q.formatArgs.call(I,v);var f=D.log||q.log||console.log.bind(console);f.apply(I,v)}}return D.namespace=x,D.enabled=q.enabled(x),D.useColors=q.useColors(),D.color=function(I){var S,O=0;for(S in I)O=(O<<5)-O+I.charCodeAt(S),O|=0;return q.colors[Math.abs(O)%q.colors.length]}(x),D.destroy=w,"function"==typeof q.init&&q.init(D),q.instances.push(D),D}function w(){var x=q.instances.indexOf(this);return-1!==x&&(q.instances.splice(x,1),!0)}(q=ae.exports=p.debug=p.default=p).coerce=function(x){return x instanceof Error?x.stack||x.message:x},q.disable=function(){q.enable("")},q.enable=function(x){var V;q.save(x),q.names=[],q.skips=[];var D=("string"==typeof x?x:"").split(/[\s,]+/),I=D.length;for(V=0;V<I;V++)D[V]&&("-"===(x=D[V].replace(/\*/g,".*?"))[0]?q.skips.push(new RegExp("^"+x.substr(1)+"$")):q.names.push(new RegExp("^"+x+"$")));for(V=0;V<q.instances.length;V++){var S=q.instances[V];S.enabled=q.enabled(S.namespace)}},q.enabled=function(x){if("*"===x[x.length-1])return!0;var V,D;for(V=0,D=q.skips.length;V<D;V++)if(q.skips[V].test(x))return!1;for(V=0,D=q.names.length;V<D;V++)if(q.names[V].test(x))return!0;return!1},q.humanize=c(124),q.instances=[],q.names=[],q.skips=[],q.formatters={}},function(ae,q){function c(I){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}var p=1e3,w=6e4,x=60*w,V=24*x;function D(I,S,O){if(!(I<S))return I<1.5*S?Math.floor(I/S)+" "+O:Math.ceil(I/S)+" "+O+"s"}ae.exports=function(I,S){S=S||{};var O,y,v=c(I);if("string"===v&&I.length>0)return function(y){if(!((y=String(y)).length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(y);if(h){var f=parseFloat(h[1]);switch((h[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"days":case"day":case"d":return f*V;case"hours":case"hour":case"hrs":case"hr":case"h":return f*x;case"minutes":case"minute":case"mins":case"min":case"m":return f*w;case"seconds":case"second":case"secs":case"sec":case"s":return f*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(I);if("number"===v&&!1===isNaN(I))return S.long?D(O=I,V,"day")||D(O,x,"hour")||D(O,w,"minute")||D(O,p,"second")||O+" ms":(y=I)>=V?Math.round(y/V)+"d":y>=x?Math.round(y/x)+"h":y>=w?Math.round(y/w)+"m":y>=p?Math.round(y/p)+"s":y+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(I))}},function(ae,q,c){"use strict";var p=q;p.distinct=function(w){return w._fields&&Object.keys(w._fields).length>0?"field selection and slice":(Object.keys(p.distinct).every(function(V){return!w.options[V]||(x=V,!1)}),x);var x},p.distinct.select=p.distinct.slice=p.distinct.sort=p.distinct.limit=p.distinct.skip=p.distinct.batchSize=p.distinct.comment=p.distinct.maxScan=p.distinct.snapshot=p.distinct.hint=p.distinct.tailable=!0,p.findOneAndUpdate=p.findOneAndRemove=function(w){var x;return Object.keys(p.findOneAndUpdate).every(function(V){return!w.options[V]||(x=V,!1)}),x},p.findOneAndUpdate.limit=p.findOneAndUpdate.skip=p.findOneAndUpdate.batchSize=p.findOneAndUpdate.maxScan=p.findOneAndUpdate.snapshot=p.findOneAndUpdate.hint=p.findOneAndUpdate.tailable=p.findOneAndUpdate.comment=!0,p.count=function(w){return w._fields&&Object.keys(w._fields).length>0?"field selection and slice":(Object.keys(p.count).every(function(V){return!w.options[V]||(x=V,!1)}),x);var x},p.count.slice=p.count.batchSize=p.count.comment=p.count.maxScan=p.count.snapshot=p.count.tailable=!0},function(ae,q){ae.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(ae,q,c){"use strict";var p=c(71);if("unknown"==p.type)throw new Error("Unknown environment");ae.exports=c(p.isNode?128:32)},function(ae,q,c){"use strict";var p=c(32);function w(x){this.collection=x,this.collectionName=x.collectionName}c(69).inherits(w,p),w.prototype.find=function(x,V,D){this.collection.find(x,V,function(I,S){if(I)return D(I);try{S.toArray(D)}catch(O){D(O)}})},w.prototype.findOne=function(x,V,D){this.collection.findOne(x,V,D)},w.prototype.count=function(x,V,D){this.collection.count(x,V,D)},w.prototype.distinct=function(x,V,D,I){this.collection.distinct(x,V,D,I)},w.prototype.update=function(x,V,D,I){this.collection.update(x,V,D,I)},w.prototype.updateMany=function(x,V,D,I){this.collection.updateMany(x,V,D,I)},w.prototype.updateOne=function(x,V,D,I){this.collection.updateOne(x,V,D,I)},w.prototype.replaceOne=function(x,V,D,I){this.collection.replaceOne(x,V,D,I)},w.prototype.deleteOne=function(x,V,D){this.collection.deleteOne(x,V,D)},w.prototype.deleteMany=function(x,V,D){this.collection.deleteMany(x,V,D)},w.prototype.remove=function(x,V,D){this.collection.remove(x,V,D)},w.prototype.findAndModify=function(x,V,D,I){var S=Array.isArray(D.sort)?D.sort:[];this.collection.findAndModify(x,S,V,D,I)},w.prototype.findStream=function(x,V,D){return this.collection.find(x,V).stream(D)},w.prototype.findCursor=function(x,V){return this.collection.find(x,V)},ae.exports=w},function(ae,q,c){(function(p,w,x){var V,I,S;function O(v){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(v)}S=function(){return function f(g,u,l){function _(A,$){if(!u[A]){if(!g[A]){var K="function"==typeof _dereq_&&_dereq_;if(!$&&K)return K(A,!0);if(m)return m(A,!0);var B=new Error("Cannot find module '"+A+"'");throw B.code="MODULE_NOT_FOUND",B}var F=u[A]={exports:{}};g[A][0].call(F.exports,function(k){return _(g[A][1][k]||k)},F,F.exports,f,g,u,l)}return u[A].exports}for(var m="function"==typeof _dereq_&&_dereq_,C=0;C<l.length;C++)_(l[C]);return _}({1:[function(f,g,u){"use strict";g.exports=function(l){var _=l._SomePromiseArray;function m(C){var A=new _(C),$=A.promise();return A.setHowMany(1),A.setUnwrap(),A.init(),$}l.any=function(C){return m(C)},l.prototype.any=function(){return m(this)}}},{}],2:[function(f,g,u){"use strict";var l;try{throw new Error}catch(F){l=F}var _=f("./schedule"),m=f("./queue"),C=f("./util");function A(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new m(16),this._normalQueue=new m(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var F=this;this.drainQueues=function(){F._drainQueues()},this._schedule=_}function $(F,k,U){this._lateQueue.push(F,k,U),this._queueTick()}function K(F,k,U){this._normalQueue.push(F,k,U),this._queueTick()}function B(F){this._normalQueue._pushOne(F),this._queueTick()}A.prototype.setScheduler=function(F){var k=this._schedule;return this._schedule=F,this._customScheduler=!0,k},A.prototype.hasCustomScheduler=function(){return this._customScheduler},A.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},A.prototype.disableTrampolineIfNecessary=function(){C.hasDevTools&&(this._trampolineEnabled=!1)},A.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},A.prototype.fatalError=function(F,k){k?(p.stderr.write("Fatal "+(F instanceof Error?F.stack:F)+"\n"),p.exit(2)):this.throwLater(F)},A.prototype.throwLater=function(F,k){if(1===arguments.length&&(k=F,F=function(){throw k}),"undefined"!=typeof setTimeout)setTimeout(function(){F(k)},0);else try{this._schedule(function(){F(k)})}catch(U){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},C.hasDevTools?(A.prototype.invokeLater=function(F,k,U){this._trampolineEnabled?$.call(this,F,k,U):this._schedule(function(){setTimeout(function(){F.call(k,U)},100)})},A.prototype.invoke=function(F,k,U){this._trampolineEnabled?K.call(this,F,k,U):this._schedule(function(){F.call(k,U)})},A.prototype.settlePromises=function(F){this._trampolineEnabled?B.call(this,F):this._schedule(function(){F._settlePromises()})}):(A.prototype.invokeLater=$,A.prototype.invoke=K,A.prototype.settlePromises=B),A.prototype._drainQueue=function(F){for(;F.length()>0;){var k=F.shift();if("function"==typeof k){var U=F.shift(),P=F.shift();k.call(U,P)}else k._settlePromises()}},A.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},A.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},A.prototype._reset=function(){this._isTickUsed=!1},g.exports=A,g.exports.firstLineError=l},{"./queue":26,"./schedule":29,"./util":36}],3:[function(f,g,u){"use strict";g.exports=function(l,_,m,C){var A=!1,$=function(k,U){this._reject(U)},K=function(k,U){U.promiseRejectionQueued=!0,U.bindingPromise._then($,$,null,this,k)},B=function(k,U){0==(50397184&this._bitField)&&this._resolveCallback(U.target)},F=function(k,U){U.promiseRejectionQueued||this._reject(k)};l.prototype.bind=function(k){A||(A=!0,l.prototype._propagateFrom=C.propagateFromFunction(),l.prototype._boundValue=C.boundValueFunction());var U=m(k),P=new l(_);P._propagateFrom(this,1);var G=this._target();if(P._setBoundTo(U),U instanceof l){var W={promiseRejectionQueued:!1,promise:P,target:G,bindingPromise:U};G._then(_,K,void 0,P,W),U._then(B,F,void 0,P,W),P._setOnCancel(U)}else P._resolveCallback(G);return P},l.prototype._setBoundTo=function(k){void 0!==k?(this._bitField=2097152|this._bitField,this._boundTo=k):this._bitField=-2097153&this._bitField},l.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},l.bind=function(k,U){return l.resolve(U).bind(k)}}},{}],4:[function(f,g,u){"use strict";var l;"undefined"!=typeof Promise&&(l=Promise);var _=f("./promise")();_.noConflict=function(){try{Promise===_&&(Promise=l)}catch(m){}return _},g.exports=_},{"./promise":22}],5:[function(f,g,u){"use strict";var l=Object.create;if(l){var _=l(null),m=l(null);_[" size"]=m[" size"]=0}g.exports=function(C){var A=f("./util"),$=A.canEvaluate;function K(k){return function(U,P){var G;if(null!=U&&(G=U[P]),"function"!=typeof G){var W="Object "+A.classString(U)+" has no method '"+A.toString(P)+"'";throw new C.TypeError(W)}return G}(k,this.pop()).apply(k,this)}function B(k){return k[this]}function F(k){var U=+this;return U<0&&(U=Math.max(0,U+k.length)),k[U]}C.prototype.call=function(k){var U=[].slice.call(arguments,1);return U.push(k),this._then(K,void 0,void 0,U,void 0)},C.prototype.get=function(k){var U;if("number"==typeof k)U=F;else if($){var P=(void 0)(k);U=null!==P?P:B}else U=B;return this._then(U,void 0,void 0,k,void 0)}}},{"./util":36}],6:[function(f,g,u){"use strict";g.exports=function(l,_,m,C){var A=f("./util"),$=A.tryCatch,K=A.errorObj,B=l._async;l.prototype.break=l.prototype.cancel=function(){if(!C.cancellation())return this._warn("cancellation is disabled");for(var F=this,k=F;F._isCancellable();){if(!F._cancelBy(k)){k._isFollowing()?k._followee().cancel():k._cancelBranched();break}var U=F._cancellationParent;if(null==U||!U._isCancellable()){F._isFollowing()?F._followee().cancel():F._cancelBranched();break}F._isFollowing()&&F._followee().cancel(),F._setWillBeCancelled(),k=F,F=U}},l.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},l.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},l.prototype._cancelBy=function(F){return F===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},l.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},l.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),B.invoke(this._cancelPromises,this,void 0))},l.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},l.prototype._unsetOnCancel=function(){this._onCancelField=void 0},l.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},l.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},l.prototype._doInvokeOnCancel=function(F,k){if(A.isArray(F))for(var U=0;U<F.length;++U)this._doInvokeOnCancel(F[U],k);else if(void 0!==F)if("function"==typeof F){if(!k){var P=$(F).call(this._boundValue());P===K&&(this._attachExtraTrace(P.e),B.throwLater(P.e))}}else F._resultCancelled(this)},l.prototype._invokeOnCancel=function(){var F=this._onCancel();this._unsetOnCancel(),B.invoke(this._doInvokeOnCancel,this,F)},l.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},l.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(f,g,u){"use strict";g.exports=function(l){var _=f("./util"),m=f("./es5").keys,C=_.tryCatch,A=_.errorObj;return function($,K,B){return function(F){var k=B._boundValue();e:for(var U=0;U<$.length;++U){var P=$[U];if(P===Error||null!=P&&P.prototype instanceof Error){if(F instanceof P)return C(K).call(k,F)}else if("function"==typeof P){var G=C(P).call(k,F);if(G===A)return G;if(G)return C(K).call(k,F)}else if(_.isObject(F)){for(var W=m(P),ne=0;ne<W.length;++ne){var X=W[ne];if(P[X]!=F[X])continue e}return C(K).call(k,F)}}return l}}}},{"./es5":13,"./util":36}],8:[function(f,g,u){"use strict";g.exports=function(l){var _=!1,m=[];function C(){this._trace=new C.CapturedTrace(A())}function A(){var $=m.length-1;if($>=0)return m[$]}return l.prototype._promiseCreated=function(){},l.prototype._pushContext=function(){},l.prototype._popContext=function(){return null},l._peekContext=l.prototype._peekContext=function(){},C.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,m.push(this._trace))},C.prototype._popContext=function(){if(void 0!==this._trace){var $=m.pop(),K=$._promiseCreated;return $._promiseCreated=null,K}return null},C.CapturedTrace=null,C.create=function(){if(_)return new C},C.deactivateLongStackTraces=function(){},C.activateLongStackTraces=function(){var $=l.prototype._pushContext,K=l.prototype._popContext,B=l._peekContext,F=l.prototype._peekContext,k=l.prototype._promiseCreated;C.deactivateLongStackTraces=function(){l.prototype._pushContext=$,l.prototype._popContext=K,l._peekContext=B,l.prototype._peekContext=F,l.prototype._promiseCreated=k,_=!1},_=!0,l.prototype._pushContext=C.prototype._pushContext,l.prototype._popContext=C.prototype._popContext,l._peekContext=l.prototype._peekContext=A,l.prototype._promiseCreated=function(){var U=this._peekContext();U&&null==U._promiseCreated&&(U._promiseCreated=this)}},C}},{}],9:[function(f,g,u){"use strict";g.exports=function(l,_){var m,C,A,$=l._getDomain,K=l._async,B=f("./errors").Warning,F=f("./util"),k=F.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,P=/\((?:timers\.js):\d+:\d+\)/,G=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,W=null,ne=null,X=!1,z=0!=F.env("BLUEBIRD_DEBUG"),Q=!(0==F.env("BLUEBIRD_WARNINGS")||!z&&!F.env("BLUEBIRD_WARNINGS")),Z=!(0==F.env("BLUEBIRD_LONG_STACK_TRACES")||!z&&!F.env("BLUEBIRD_LONG_STACK_TRACES")),j=0!=F.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!F.env("BLUEBIRD_W_FORGOTTEN_RETURN"));l.prototype.suppressUnhandledRejections=function(){var re=this._target();re._bitField=-1048577&re._bitField|524288},l.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var re=this;setTimeout(function(){re._notifyUnhandledRejection()},1)}},l.prototype._notifyUnhandledRejectionIsHandled=function(){mt("rejectionHandled",m,void 0,this)},l.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},l.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},l.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var re=this._settledValue();this._setUnhandledRejectionIsNotified(),mt("unhandledRejection",C,re,this)}},l.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},l.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},l.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},l.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},l.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},l.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},l.prototype._warn=function(re,ge,ve){return it(re,ge,ve||this)},l.onPossiblyUnhandledRejection=function(re){var ge=$();C="function"==typeof re?null===ge?re:F.domainBind(ge,re):void 0},l.onUnhandledRejectionHandled=function(re){var ge=$();m="function"==typeof re?null===ge?re:F.domainBind(ge,re):void 0};var ce=function(){};l.longStackTraces=function(){if(K.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ie.longStackTraces&&Ot()){var re=l.prototype._captureStackTrace,ge=l.prototype._attachExtraTrace;ie.longStackTraces=!0,ce=function(){if(K.haveItemsQueued()&&!ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");l.prototype._captureStackTrace=re,l.prototype._attachExtraTrace=ge,_.deactivateLongStackTraces(),K.enableTrampoline(),ie.longStackTraces=!1},l.prototype._captureStackTrace=Ve,l.prototype._attachExtraTrace=Qe,_.activateLongStackTraces(),K.disableTrampolineIfNecessary()}},l.hasLongStackTraces=function(){return ie.longStackTraces&&Ot()};var pe=function(){try{if("function"==typeof CustomEvent){var re=new CustomEvent("CustomEvent");return F.global.dispatchEvent(re),function(ge,ve){var Se=new CustomEvent(ge.toLowerCase(),{detail:ve,cancelable:!0});return!F.global.dispatchEvent(Se)}}return"function"==typeof Event?(re=new Event("CustomEvent"),F.global.dispatchEvent(re),function(ge,ve){var Se=new Event(ge.toLowerCase(),{cancelable:!0});return Se.detail=ve,!F.global.dispatchEvent(Se)}):((re=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),F.global.dispatchEvent(re),function(ge,ve){var Se=document.createEvent("CustomEvent");return Se.initCustomEvent(ge.toLowerCase(),!1,!0,ve),!F.global.dispatchEvent(Se)})}catch(ge){}return function(){return!1}}(),J=F.isNode?function(){return p.emit.apply(p,arguments)}:F.global?function(re){var ge="on"+re.toLowerCase(),ve=F.global[ge];return!!ve&&(ve.apply(F.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function Ee(re,ge){return{promise:ge}}var te={promiseCreated:Ee,promiseFulfilled:Ee,promiseRejected:Ee,promiseResolved:Ee,promiseCancelled:Ee,promiseChained:function(re,ge,ve){return{promise:ge,child:ve}},warning:function(re,ge){return{warning:ge}},unhandledRejection:function(re,ge,ve){return{reason:ge,promise:ve}},rejectionHandled:Ee},ue=function(re){var ge=!1;try{ge=J.apply(null,arguments)}catch(Se){K.throwLater(Se),ge=!0}var ve=!1;try{ve=pe(re,te[re].apply(null,arguments))}catch(Se){K.throwLater(Se),ve=!0}return ve||ge};function le(){return!1}function N(re,ge,ve){var Se=this;try{re(ge,ve,function(De){if("function"!=typeof De)throw new TypeError("onCancel must be a function, got: "+F.toString(De));Se._attachCancellationCallback(De)})}catch(De){return De}}function M(re){if(!this._isCancellable())return this;var ge=this._onCancel();void 0!==ge?F.isArray(ge)?ge.push(re):this._setOnCancel([ge,re]):this._setOnCancel(re)}function H(){return this._onCancelField}function L(re){this._onCancelField=re}function oe(){this._cancellationParent=void 0,this._onCancelField=void 0}function de(re,ge){if(0!=(1&ge)){this._cancellationParent=re;var ve=re._branchesRemainingToCancel;void 0===ve&&(ve=0),re._branchesRemainingToCancel=ve+1}0!=(2&ge)&&re._isBound()&&this._setBoundTo(re._boundTo)}l.config=function(re){if("longStackTraces"in(re=Object(re))&&(re.longStackTraces?l.longStackTraces():!re.longStackTraces&&l.hasLongStackTraces()&&ce()),"warnings"in re){var ge=re.warnings;ie.warnings=!!ge,j=ie.warnings,F.isObject(ge)&&"wForgottenReturn"in ge&&(j=!!ge.wForgottenReturn)}if("cancellation"in re&&re.cancellation&&!ie.cancellation){if(K.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");l.prototype._clearCancellationData=oe,l.prototype._propagateFrom=de,l.prototype._onCancel=H,l.prototype._setOnCancel=L,l.prototype._attachCancellationCallback=M,l.prototype._execute=N,we=de,ie.cancellation=!0}return"monitoring"in re&&(re.monitoring&&!ie.monitoring?(ie.monitoring=!0,l.prototype._fireEvent=ue):!re.monitoring&&ie.monitoring&&(ie.monitoring=!1,l.prototype._fireEvent=le)),l},l.prototype._fireEvent=le,l.prototype._execute=function(re,ge,ve){try{re(ge,ve)}catch(Se){return Se}},l.prototype._onCancel=function(){},l.prototype._setOnCancel=function(re){},l.prototype._attachCancellationCallback=function(re){},l.prototype._captureStackTrace=function(){},l.prototype._attachExtraTrace=function(){},l.prototype._clearCancellationData=function(){},l.prototype._propagateFrom=function(re,ge){};var we=function(re,ge){0!=(2&ge)&&re._isBound()&&this._setBoundTo(re._boundTo)};function Me(){var re=this._boundTo;return void 0!==re&&re instanceof l?re.isFulfilled()?re.value():void 0:re}function Ve(){this._trace=new Fn(this._peekContext())}function Qe(re,ge){if(k(re)){var ve=this._trace;if(void 0!==ve&&ge&&(ve=ve._parent),void 0!==ve)ve.attachExtraTrace(re);else if(!re.__stackCleaned__){var Se=$e(re);F.notEnumerableProp(re,"stack",Se.message+"\n"+Se.stack.join("\n")),F.notEnumerableProp(re,"__stackCleaned__",!0)}}}function it(re,ge,ve){if(ie.warnings){var Se,De=new B(re);if(ge)ve._attachExtraTrace(De);else if(ie.longStackTraces&&(Se=l._peekContext()))Se.attachExtraTrace(De);else{var ke=$e(De);De.stack=ke.message+"\n"+ke.stack.join("\n")}ue("warning",De)||rt(De,"",!0)}}function xe(re){for(var ge=[],ve=0;ve<re.length;++ve){var Se=re[ve],De="    (No stack trace)"===Se||W.test(Se),ke=De&&tn(Se);De&&!ke&&(X&&" "!==Se.charAt(0)&&(Se="    "+Se),ge.push(Se))}return ge}function $e(re){var ge=re.stack,ve=re.toString();return ge="string"==typeof ge&&ge.length>0?function(Se){for(var De=Se.stack.replace(/\s+$/g,"").split("\n"),ke=0;ke<De.length;++ke){var Ne=De[ke];if("    (No stack trace)"===Ne||W.test(Ne))break}return ke>0&&"SyntaxError"!=Se.name&&(De=De.slice(ke)),De}(re):["    (No stack trace)"],{message:ve,stack:"SyntaxError"==re.name?ge:xe(ge)}}function rt(re,ge,ve){var Se;"undefined"!=typeof console&&(Se=F.isObject(re)?ge+ne(re.stack,re):ge+String(re),"function"==typeof A?A(Se,ve):"function"!=typeof console.log&&"object"!==O(console.log)||console.log(Se))}function mt(re,ge,ve,Se){var De=!1;try{"function"==typeof ge&&(De=!0,"rejectionHandled"===re?ge(Se):ge(ve,Se))}catch(ke){K.throwLater(ke)}"unhandledRejection"===re?ue(re,ve,Se)||De||rt(ve,"Unhandled rejection "):ue(re,Se)}function Ct(re){var ge,ve;if("function"==typeof re)ge="[function "+(re.name||"anonymous")+"]";else{if(ge=re&&"function"==typeof re.toString?re.toString():F.toString(re),/\[object [a-zA-Z0-9$_]+\]/.test(ge))try{ge=JSON.stringify(re)}catch(ve){}0===ge.length&&(ge="(empty array)")}return"(<"+((ve=ge).length<41?ve:ve.substr(0,38)+"...")+">, no stack trace)"}function Ot(){return"function"==typeof Pi}var tn=function(){return!1},si=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function bn(re){var ge=re.match(si);if(ge)return{fileName:ge[1],line:parseInt(ge[2],10)}}function Fn(re){this._parent=re,this._promisesCreated=0;var ge=this._length=1+(void 0===re?0:re._length);Pi(this,Fn),ge>32&&this.uncycle()}F.inherits(Fn,Error),_.CapturedTrace=Fn,Fn.prototype.uncycle=function(){var re=this._length;if(!(re<2)){for(var ge=[],ve={},Se=0,De=this;void 0!==De;++Se)ge.push(De),De=De._parent;for(Se=(re=this._length=Se)-1;Se>=0;--Se){var ke=ge[Se].stack;void 0===ve[ke]&&(ve[ke]=Se)}for(Se=0;Se<re;++Se){var Ne=ve[ge[Se].stack];if(void 0!==Ne&&Ne!==Se){Ne>0&&(ge[Ne-1]._parent=void 0,ge[Ne-1]._length=1),ge[Se]._parent=void 0,ge[Se]._length=1;var je=Se>0?ge[Se-1]:this;Ne<re-1?(je._parent=ge[Ne+1],je._parent.uncycle(),je._length=je._parent._length+1):(je._parent=void 0,je._length=1);for(var Le=je._length+1,Be=Se-2;Be>=0;--Be)ge[Be]._length=Le,Le++;return}}}},Fn.prototype.attachExtraTrace=function(re){if(!re.__stackCleaned__){this.uncycle();for(var ge=$e(re),ve=ge.message,Se=[ge.stack],De=this;void 0!==De;)Se.push(xe(De.stack.split("\n"))),De=De._parent;(function(ke){for(var Ne=ke[0],je=1;je<ke.length;++je){for(var Le=ke[je],Be=Ne.length-1,Ge=Ne[Be],Ue=-1,qe=Le.length-1;qe>=0;--qe)if(Le[qe]===Ge){Ue=qe;break}for(qe=Ue;qe>=0&&Ne[Be]===Le[qe];--qe)Ne.pop(),Be--;Ne=Le}})(Se),function(ke){for(var Ne=0;Ne<ke.length;++Ne)(0===ke[Ne].length||Ne+1<ke.length&&ke[Ne][0]===ke[Ne+1][0])&&(ke.splice(Ne,1),Ne--)}(Se),F.notEnumerableProp(re,"stack",function(ke,Ne){for(var je=0;je<Ne.length-1;++je)Ne[je].push("From previous event:"),Ne[je]=Ne[je].join("\n");return je<Ne.length&&(Ne[je]=Ne[je].join("\n")),ke+"\n"+Ne.join("\n")}(ve,Se)),F.notEnumerableProp(re,"__stackCleaned__",!0)}};var Pi=function(){var re=/^\s*at\s*/,ge=function(ke,Ne){return"string"==typeof ke?ke:void 0!==Ne.name&&void 0!==Ne.message?Ne.toString():Ct(Ne)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,W=re,ne=ge;var ve=Error.captureStackTrace;return tn=function(ke){return U.test(ke)},function(ke,Ne){Error.stackTraceLimit+=6,ve(ke,Ne),Error.stackTraceLimit-=6}}var Se,De=new Error;if("string"==typeof De.stack&&De.stack.split("\n")[0].indexOf("stackDetection@")>=0)return W=/@/,ne=ge,X=!0,function(ke){ke.stack=(new Error).stack};try{throw new Error}catch(ke){Se="stack"in ke}return!("stack"in De)&&Se&&"number"==typeof Error.stackTraceLimit?(W=re,ne=ge,function(ke){Error.stackTraceLimit+=6;try{throw new Error}catch(Ne){ke.stack=Ne.stack}Error.stackTraceLimit-=6}):(ne=function(ke,Ne){return"string"==typeof ke?ke:"object"!==O(Ne)&&"function"!=typeof Ne||void 0===Ne.name||void 0===Ne.message?Ct(Ne):Ne.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(A=function(re){console.warn(re)},F.isNode&&p.stderr.isTTY?A=function(re,ge){console.warn((ge?"\x1b[33m":"\x1b[31m")+re+"\x1b[0m\n")}:F.isNode||"string"!=typeof(new Error).stack||(A=function(re,ge){console.warn("%c"+re,ge?"color: darkorange":"color: red")}));var ie={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1};return Z&&l.longStackTraces(),{longStackTraces:function(){return ie.longStackTraces},warnings:function(){return ie.warnings},cancellation:function(){return ie.cancellation},monitoring:function(){return ie.monitoring},propagateFromFunction:function(){return we},boundValueFunction:function(){return Me},checkForgottenReturns:function(re,ge,ve,Se,De){if(void 0===re&&null!==ge&&j){if(void 0!==De&&De._returnedNonUndefined()||0==(65535&Se._bitField))return;ve&&(ve+=" ");var ke="",Ne="";if(ge._trace){for(var je=ge._trace.stack.split("\n"),Le=xe(je),Be=Le.length-1;Be>=0;--Be){var Ge=Le[Be];if(!P.test(Ge)){var Ue=Ge.match(G);Ue&&(ke="at "+Ue[1]+":"+Ue[2]+":"+Ue[3]+" ");break}}if(Le.length>0){var qe=Le[0];for(Be=0;Be<je.length;++Be)if(je[Be]===qe){Be>0&&(Ne="\n"+je[Be-1]);break}}}Se._warn("a promise was created in a "+ve+"handler "+ke+"but was not returned from it, see http://goo.gl/rRqMUw"+Ne,!0,ge)}},setBounds:function(re,ge){if(Ot()){for(var ve,Se,De=re.stack.split("\n"),ke=ge.stack.split("\n"),Ne=-1,je=-1,Le=0;Le<De.length;++Le)if(Be=bn(De[Le])){ve=Be.fileName,Ne=Be.line;break}for(Le=0;Le<ke.length;++Le){var Be;if(Be=bn(ke[Le])){Se=Be.fileName,je=Be.line;break}}Ne<0||je<0||!ve||!Se||ve!==Se||Ne>=je||(tn=function(Ge){if(U.test(Ge))return!0;var Ue=bn(Ge);return!!(Ue&&Ue.fileName===ve&&Ne<=Ue.line&&Ue.line<=je)})}},warn:it,deprecated:function(re,ge){var ve=re+" is deprecated and will be removed in a future version.";return ge&&(ve+=" Use "+ge+" instead."),it(ve)},CapturedTrace:Fn,fireDomEvent:pe,fireGlobalEvent:J}}},{"./errors":12,"./util":36}],10:[function(f,g,u){"use strict";g.exports=function(l){function _(){return this.value}function m(){throw this.reason}l.prototype.return=l.prototype.thenReturn=function(C){return C instanceof l&&C.suppressUnhandledRejections(),this._then(_,void 0,void 0,{value:C},void 0)},l.prototype.throw=l.prototype.thenThrow=function(C){return this._then(m,void 0,void 0,{reason:C},void 0)},l.prototype.catchThrow=function(C){if(arguments.length<=1)return this._then(void 0,m,void 0,{reason:C},void 0);var A=arguments[1],$=function(){throw A};return this.caught(C,$)},l.prototype.catchReturn=function(C){if(arguments.length<=1)return C instanceof l&&C.suppressUnhandledRejections(),this._then(void 0,_,void 0,{value:C},void 0);var A=arguments[1];A instanceof l&&A.suppressUnhandledRejections();var $=function(){return A};return this.caught(C,$)}}},{}],11:[function(f,g,u){"use strict";g.exports=function(l,_){var m=l.reduce,C=l.all;function A(){return C(this)}l.prototype.each=function($){return m(this,$,_,0)._then(A,void 0,void 0,this,void 0)},l.prototype.mapSeries=function($){return m(this,$,_,_)},l.each=function($,K){return m($,K,_,0)._then(A,void 0,void 0,$,void 0)},l.mapSeries=function($,K){return m($,K,_,_)}}},{}],12:[function(f,g,u){"use strict";var l,_,m=f("./es5"),C=m.freeze,A=f("./util"),$=A.inherits,K=A.notEnumerableProp;function B(Q,Z){function j(ce){if(!(this instanceof j))return new j(ce);K(this,"message","string"==typeof ce?ce:Z),K(this,"name",Q),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return $(j,Error),j}var F=B("Warning","warning"),k=B("CancellationError","cancellation error"),U=B("TimeoutError","timeout error"),P=B("AggregateError","aggregate error");try{l=TypeError,_=RangeError}catch(Q){l=B("TypeError","type error"),_=B("RangeError","range error")}for(var G="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),W=0;W<G.length;++W)"function"==typeof Array.prototype[G[W]]&&(P.prototype[G[W]]=Array.prototype[G[W]]);m.defineProperty(P.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),P.prototype.isOperational=!0;var ne=0;function X(Q){if(!(this instanceof X))return new X(Q);K(this,"name","OperationalError"),K(this,"message",Q),this.cause=Q,this.isOperational=!0,Q instanceof Error?(K(this,"message",Q.message),K(this,"stack",Q.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}P.prototype.toString=function(){var Q=Array(4*ne+1).join(" "),Z="\n"+Q+"AggregateError of:\n";ne++,Q=Array(4*ne+1).join(" ");for(var j=0;j<this.length;++j){for(var ce=this[j]===this?"[Circular AggregateError]":this[j]+"",pe=ce.split("\n"),J=0;J<pe.length;++J)pe[J]=Q+pe[J];Z+=(ce=pe.join("\n"))+"\n"}return ne--,Z},$(X,Error);var z=Error.__BluebirdErrorTypes__;z||(z=C({CancellationError:k,TimeoutError:U,OperationalError:X,RejectionError:X,AggregateError:P}),m.defineProperty(Error,"__BluebirdErrorTypes__",{value:z,writable:!1,enumerable:!1,configurable:!1})),g.exports={Error,TypeError:l,RangeError:_,CancellationError:z.CancellationError,OperationalError:z.OperationalError,TimeoutError:z.TimeoutError,AggregateError:z.AggregateError,Warning:F}},{"./es5":13,"./util":36}],13:[function(f,g,u){var l=function(){"use strict";return void 0===this}();if(l)g.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:l,propertyIsWritable:function($,K){var B=Object.getOwnPropertyDescriptor($,K);return!(B&&!B.writable&&!B.set)}};else{var _={}.hasOwnProperty,m={}.toString,C={}.constructor.prototype,A=function($){var K=[];for(var B in $)_.call($,B)&&K.push(B);return K};g.exports={isArray:function($){try{return"[object Array]"===m.call($)}catch(K){return!1}},keys:A,names:A,defineProperty:function($,K,B){return $[K]=B.value,$},getDescriptor:function($,K){return{value:$[K]}},freeze:function($){return $},getPrototypeOf:function($){try{return Object($).constructor.prototype}catch(K){return C}},isES5:l,propertyIsWritable:function(){return!0}}}},{}],14:[function(f,g,u){"use strict";g.exports=function(l,_){var m=l.map;l.prototype.filter=function(C,A){return m(this,C,A,_)},l.filter=function(C,A,$){return m(C,A,$,_)}}},{}],15:[function(f,g,u){"use strict";g.exports=function(l,_,m){var C=f("./util"),A=l.CancellationError,$=C.errorObj,K=f("./catch_filter")(m);function B(W,ne,X){this.promise=W,this.type=ne,this.handler=X,this.called=!1,this.cancelPromise=null}function F(W){this.finallyHandler=W}function k(W,ne){return null!=W.cancelPromise&&(arguments.length>1?W.cancelPromise._reject(ne):W.cancelPromise._cancel(),W.cancelPromise=null,!0)}function U(){return G.call(this,this.promise._target()._settledValue())}function P(W){if(!k(this,W))return $.e=W,$}function G(W){var ne=this.promise,X=this.handler;if(!this.called){this.called=!0;var z=this.isFinallyHandler()?X.call(ne._boundValue()):X.call(ne._boundValue(),W);if(z===m)return z;if(void 0!==z){ne._setReturnedNonUndefined();var Q=_(z,ne);if(Q instanceof l){if(null!=this.cancelPromise){if(Q._isCancelled()){var Z=new A("late cancellation observer");return ne._attachExtraTrace(Z),$.e=Z,$}Q.isPending()&&Q._attachCancellationCallback(new F(this))}return Q._then(U,P,void 0,this,void 0)}}}return ne.isRejected()?(k(this),$.e=W,$):(k(this),W)}return B.prototype.isFinallyHandler=function(){return 0===this.type},F.prototype._resultCancelled=function(){k(this.finallyHandler)},l.prototype._passThrough=function(W,ne,X,z){return"function"!=typeof W?this.then():this._then(X,z,void 0,new B(this,ne,W),void 0)},l.prototype.lastly=l.prototype.finally=function(W){return this._passThrough(W,0,G,G)},l.prototype.tap=function(W){return this._passThrough(W,1,G)},l.prototype.tapCatch=function(W){var ne=arguments.length;if(1===ne)return this._passThrough(W,1,void 0,G);var X,z=new Array(ne-1),Q=0;for(X=0;X<ne-1;++X){var Z=arguments[X];if(!C.isObject(Z))return l.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+C.classString(Z)));z[Q++]=Z}z.length=Q;var j=arguments[X];return this._passThrough(K(z,j,this),1,void 0,G)},B}},{"./catch_filter":7,"./util":36}],16:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A,$){var K=f("./errors").TypeError,B=f("./util"),F=B.errorObj,k=B.tryCatch,U=[];function P(G,W,ne,X){if($.cancellation()){var z=new l(m),Q=this._finallyPromise=new l(m);this._promise=z.lastly(function(){return Q}),z._captureStackTrace(),z._setOnCancel(this)}else(this._promise=new l(m))._captureStackTrace();this._stack=X,this._generatorFunction=G,this._receiver=W,this._generator=void 0,this._yieldHandlers="function"==typeof ne?[ne].concat(U):U,this._yieldedPromise=null,this._cancellationPhase=!1}B.inherits(P,A),P.prototype._isResolved=function(){return null===this._promise},P.prototype._cleanup=function(){this._promise=this._generator=null,$.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},P.prototype._promiseCancelled=function(){if(!this._isResolved()){var G;if(void 0!==this._generator.return)this._promise._pushContext(),G=k(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var W=new l.CancellationError("generator .return() sentinel");l.coroutine.returnSentinel=W,this._promise._attachExtraTrace(W),this._promise._pushContext(),G=k(this._generator.throw).call(this._generator,W),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(G)}},P.prototype._promiseFulfilled=function(G){this._yieldedPromise=null,this._promise._pushContext();var W=k(this._generator.next).call(this._generator,G);this._promise._popContext(),this._continue(W)},P.prototype._promiseRejected=function(G){this._yieldedPromise=null,this._promise._attachExtraTrace(G),this._promise._pushContext();var W=k(this._generator.throw).call(this._generator,G);this._promise._popContext(),this._continue(W)},P.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof l){var G=this._yieldedPromise;this._yieldedPromise=null,G.cancel()}},P.prototype.promise=function(){return this._promise},P.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},P.prototype._continue=function(G){var W=this._promise;if(G===F)return this._cleanup(),this._cancellationPhase?W.cancel():W._rejectCallback(G.e,!1);var ne=G.value;if(!0===G.done)return this._cleanup(),this._cancellationPhase?W.cancel():W._resolveCallback(ne);var X=C(ne,this._promise);if(X instanceof l||null!==(X=function(Q,Z,j){for(var ce=0;ce<Z.length;++ce){j._pushContext();var pe=k(Z[ce])(Q);if(j._popContext(),pe===F){j._pushContext();var J=l.reject(F.e);return j._popContext(),J}var Ee=C(pe,j);if(Ee instanceof l)return Ee}return null}(X,this._yieldHandlers,this._promise))){var z=(X=X._target())._bitField;0==(50397184&z)?(this._yieldedPromise=X,X._proxy(this,null)):0!=(33554432&z)?l._async.invoke(this._promiseFulfilled,this,X._value()):0!=(16777216&z)?l._async.invoke(this._promiseRejected,this,X._reason()):this._promiseCancelled()}else this._promiseRejected(new K("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(ne))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},l.coroutine=function(G,W){if("function"!=typeof G)throw new K("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var ne=Object(W).yieldHandler,X=P,z=(new Error).stack;return function(){var Q=G.apply(this,arguments),Z=new X(void 0,void 0,ne,z),j=Z.promise();return Z._generator=Q,Z._promiseFulfilled(void 0),j}},l.coroutine.addYieldHandler=function(G){if("function"!=typeof G)throw new K("expecting a function but got "+B.classString(G));U.push(G)},l.spawn=function(G){if($.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof G)return _("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var W=new P(G,this),ne=W.promise();return W._run(l.spawn),ne}}},{"./errors":12,"./util":36}],17:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A,$){f("./util"),l.join=function(){var B,F=arguments.length-1;F>0&&"function"==typeof arguments[F]&&(B=arguments[F]);var k=[].slice.call(arguments);B&&k.pop();var U=new _(k).promise();return void 0!==B?U.spread(B):U}}},{"./util":36}],18:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A,$){var K=l._getDomain,B=f("./util"),F=B.tryCatch,k=B.errorObj,U=l._async;function P(W,ne,X,z){this.constructor$(W),this._promise._captureStackTrace();var Q=K();this._callback=null===Q?ne:B.domainBind(Q,ne),this._preservedValues=z===A?new Array(this.length()):null,this._limit=X,this._inFlight=0,this._queue=[],U.invoke(this._asyncInit,this,void 0)}function G(W,ne,X,z){if("function"!=typeof ne)return m("expecting a function but got "+B.classString(ne));var Q=0;if(void 0!==X){if("object"!==O(X)||null===X)return l.reject(new TypeError("options argument must be an object but it is "+B.classString(X)));if("number"!=typeof X.concurrency)return l.reject(new TypeError("'concurrency' must be a number but it is "+B.classString(X.concurrency)));Q=X.concurrency}return new P(W,ne,Q="number"==typeof Q&&isFinite(Q)&&Q>=1?Q:0,z).promise()}B.inherits(P,_),P.prototype._asyncInit=function(){this._init$(void 0,-2)},P.prototype._init=function(){},P.prototype._promiseFulfilled=function(W,ne){var X=this._values,z=this.length(),Q=this._preservedValues,Z=this._limit;if(ne<0){if(X[ne=-1*ne-1]=W,Z>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(Z>=1&&this._inFlight>=Z)return X[ne]=W,this._queue.push(ne),!1;null!==Q&&(Q[ne]=W);var j=this._promise,ce=this._callback,pe=j._boundValue();j._pushContext();var J=F(ce).call(pe,W,ne,z),Ee=j._popContext();if($.checkForgottenReturns(J,Ee,null!==Q?"Promise.filter":"Promise.map",j),J===k)return this._reject(J.e),!0;var te=C(J,this._promise);if(te instanceof l){var ue=(te=te._target())._bitField;if(0==(50397184&ue))return Z>=1&&this._inFlight++,X[ne]=te,te._proxy(this,-1*(ne+1)),!1;if(0==(33554432&ue))return 0!=(16777216&ue)?(this._reject(te._reason()),!0):(this._cancel(),!0);J=te._value()}X[ne]=J}return++this._totalResolved>=z&&(null!==Q?this._filter(X,Q):this._resolve(X),!0)},P.prototype._drainQueue=function(){for(var W=this._queue,ne=this._limit,X=this._values;W.length>0&&this._inFlight<ne;){if(this._isResolved())return;var z=W.pop();this._promiseFulfilled(X[z],z)}},P.prototype._filter=function(W,ne){for(var X=ne.length,z=new Array(X),Q=0,Z=0;Z<X;++Z)W[Z]&&(z[Q++]=ne[Z]);z.length=Q,this._resolve(z)},P.prototype.preservedValues=function(){return this._preservedValues},l.prototype.map=function(W,ne){return G(this,W,ne,null)},l.map=function(W,ne,X,z){return G(W,ne,X,z)}}},{"./util":36}],19:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A){var $=f("./util"),K=$.tryCatch;l.method=function(B){if("function"!=typeof B)throw new l.TypeError("expecting a function but got "+$.classString(B));return function(){var F=new l(_);F._captureStackTrace(),F._pushContext();var k=K(B).apply(this,arguments),U=F._popContext();return A.checkForgottenReturns(k,U,"Promise.method",F),F._resolveFromSyncValue(k),F}},l.attempt=l.try=function(B){if("function"!=typeof B)return C("expecting a function but got "+$.classString(B));var F,k=new l(_);if(k._captureStackTrace(),k._pushContext(),arguments.length>1){A.deprecated("calling Promise.try with more than 1 argument");var U=arguments[1],P=arguments[2];F=$.isArray(U)?K(B).apply(P,U):K(B).call(P,U)}else F=K(B)();var G=k._popContext();return A.checkForgottenReturns(F,G,"Promise.try",k),k._resolveFromSyncValue(F),k},l.prototype._resolveFromSyncValue=function(B){B===$.errorObj?this._rejectCallback(B.e,!1):this._resolveCallback(B,!0)}}},{"./util":36}],20:[function(f,g,u){"use strict";var l=f("./util"),_=l.maybeWrapAsError,m=f("./errors").OperationalError,C=f("./es5"),A=/^(?:name|message|stack|cause)$/;function $(K){var B,P;if((P=K)instanceof Error&&C.getPrototypeOf(P)===Error.prototype){(B=new m(K)).name=K.name,B.message=K.message,B.stack=K.stack;for(var F=C.keys(K),k=0;k<F.length;++k){var U=F[k];A.test(U)||(B[U]=K[U])}return B}return l.markAsOriginatingFromRejection(K),K}g.exports=function(K,B){return function(F,k){if(null!==K){if(F){var U=$(_(F));K._attachExtraTrace(U),K._reject(U)}else if(B){var P=[].slice.call(arguments,1);K._fulfill(P)}else K._fulfill(k);K=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(f,g,u){"use strict";g.exports=function(l){var _=f("./util"),m=l._async,C=_.tryCatch,A=_.errorObj;function $(F,k){if(!_.isArray(F))return K.call(this,F,k);var U=C(k).apply(this._boundValue(),[null].concat(F));U===A&&m.throwLater(U.e)}function K(F,k){var U=this._boundValue(),P=void 0===F?C(k).call(U,null):C(k).call(U,null,F);P===A&&m.throwLater(P.e)}function B(F,k){if(!F){var U=new Error(F+"");U.cause=F,F=U}var P=C(k).call(this._boundValue(),F);P===A&&m.throwLater(P.e)}l.prototype.asCallback=l.prototype.nodeify=function(F,k){if("function"==typeof F){var U=K;void 0!==k&&Object(k).spread&&(U=$),this._then(U,B,void 0,this,F)}return this}}},{"./util":36}],22:[function(f,g,u){"use strict";g.exports=function(){var l=function(){return new P("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},_=function(){return new le.PromiseInspection(this._target())},m=function(L){return le.reject(new P(L))};function C(){}var A,$={},K=f("./util");K.notEnumerableProp(le,"_getDomain",A=K.isNode?function(){var L=p.domain;return void 0===L&&(L=null),L}:function(){return null});var B=f("./es5"),F=f("./async"),k=new F;B.defineProperty(le,"_async",{value:k});var U=f("./errors"),P=le.TypeError=U.TypeError;le.RangeError=U.RangeError;var G=le.CancellationError=U.CancellationError;le.TimeoutError=U.TimeoutError,le.OperationalError=U.OperationalError,le.RejectionError=U.OperationalError,le.AggregateError=U.AggregateError;var W=function(){},ne={},X={},z=f("./thenables")(le,W),Q=f("./promise_array")(le,W,z,m,C),Z=f("./context")(le),j=Z.create,ce=f("./debuggability")(le,Z),pe=f("./finally")(le,z,X),J=f("./catch_filter")(X),Ee=f("./nodeback"),te=K.errorObj,ue=K.tryCatch;function le(L){L!==W&&function(oe,de){if(null==oe||oe.constructor!==le)throw new P("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof de)throw new P("expecting a function but got "+K.classString(de))}(this,L),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(L),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function N(L){this.promise._resolveCallback(L)}function M(L){this.promise._rejectCallback(L,!1)}function H(L){var oe=new le(W);oe._fulfillmentHandler0=L,oe._rejectionHandler0=L,oe._promise0=L,oe._receiver0=L}return le.prototype.toString=function(){return"[object Promise]"},le.prototype.caught=le.prototype.catch=function(L){var oe=arguments.length;if(oe>1){var de,we=new Array(oe-1),Me=0;for(de=0;de<oe-1;++de){var Ve=arguments[de];if(!K.isObject(Ve))return m("Catch statement predicate: expecting an object but got "+K.classString(Ve));we[Me++]=Ve}return we.length=Me,this.then(void 0,J(we,L=arguments[de],this))}return this.then(void 0,L)},le.prototype.reflect=function(){return this._then(_,_,void 0,this,void 0)},le.prototype.then=function(L,oe){if(ce.warnings()&&arguments.length>0&&"function"!=typeof L&&"function"!=typeof oe){var de=".then() only accepts functions but was passed: "+K.classString(L);arguments.length>1&&(de+=", "+K.classString(oe)),this._warn(de)}return this._then(L,oe,void 0,void 0,void 0)},le.prototype.done=function(L,oe){this._then(L,oe,void 0,void 0,void 0)._setIsFinal()},le.prototype.spread=function(L){return"function"!=typeof L?m("expecting a function but got "+K.classString(L)):this.all()._then(L,void 0,void 0,ne,void 0)},le.prototype.toJSON=function(){var L={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(L.fulfillmentValue=this.value(),L.isFulfilled=!0):this.isRejected()&&(L.rejectionReason=this.reason(),L.isRejected=!0),L},le.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Q(this).promise()},le.prototype.error=function(L){return this.caught(K.originatesFromRejection,L)},le.getNewLibraryCopy=g.exports,le.is=function(L){return L instanceof le},le.fromNode=le.fromCallback=function(L){var oe=new le(W);oe._captureStackTrace();var de=arguments.length>1&&!!Object(arguments[1]).multiArgs,we=ue(L)(Ee(oe,de));return we===te&&oe._rejectCallback(we.e,!0),oe._isFateSealed()||oe._setAsyncGuaranteed(),oe},le.all=function(L){return new Q(L).promise()},le.cast=function(L){var oe=z(L);return oe instanceof le||((oe=new le(W))._captureStackTrace(),oe._setFulfilled(),oe._rejectionHandler0=L),oe},le.resolve=le.fulfilled=le.cast,le.reject=le.rejected=function(L){var oe=new le(W);return oe._captureStackTrace(),oe._rejectCallback(L,!0),oe},le.setScheduler=function(L){if("function"!=typeof L)throw new P("expecting a function but got "+K.classString(L));return k.setScheduler(L)},le.prototype._then=function(L,oe,de,we,Me){var Ve=void 0!==Me,Qe=Ve?Me:new le(W),it=this._target(),xe=it._bitField;Ve||(Qe._propagateFrom(this,3),Qe._captureStackTrace(),void 0===we&&0!=(2097152&this._bitField)&&(we=0!=(50397184&xe)?this._boundValue():it===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Qe));var $e=A();if(0!=(50397184&xe)){var rt,mt,Ct=it._settlePromiseCtx;0!=(33554432&xe)?(mt=it._rejectionHandler0,rt=L):0!=(16777216&xe)?(mt=it._fulfillmentHandler0,rt=oe,it._unsetRejectionIsUnhandled()):(Ct=it._settlePromiseLateCancellationObserver,mt=new G("late cancellation observer"),it._attachExtraTrace(mt),rt=oe),k.invoke(Ct,it,{handler:null===$e?rt:"function"==typeof rt&&K.domainBind($e,rt),promise:Qe,receiver:we,value:mt})}else it._addCallbacks(L,oe,Qe,we,$e);return Qe},le.prototype._length=function(){return 65535&this._bitField},le.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},le.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},le.prototype._setLength=function(L){this._bitField=-65536&this._bitField|65535&L},le.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},le.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},le.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},le.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},le.prototype._isFinal=function(){return(4194304&this._bitField)>0},le.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},le.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},le.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},le.prototype._setAsyncGuaranteed=function(){k.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},le.prototype._receiverAt=function(L){var oe=0===L?this._receiver0:this[4*L-4+3];if(oe!==$)return void 0===oe&&this._isBound()?this._boundValue():oe},le.prototype._promiseAt=function(L){return this[4*L-4+2]},le.prototype._fulfillmentHandlerAt=function(L){return this[4*L-4+0]},le.prototype._rejectionHandlerAt=function(L){return this[4*L-4+1]},le.prototype._boundValue=function(){},le.prototype._migrateCallback0=function(L){var oe=L._fulfillmentHandler0,de=L._rejectionHandler0,we=L._promise0,Me=L._receiverAt(0);void 0===Me&&(Me=$),this._addCallbacks(oe,de,we,Me,null)},le.prototype._migrateCallbackAt=function(L,oe){var de=L._fulfillmentHandlerAt(oe),we=L._rejectionHandlerAt(oe),Me=L._promiseAt(oe),Ve=L._receiverAt(oe);void 0===Ve&&(Ve=$),this._addCallbacks(de,we,Me,Ve,null)},le.prototype._addCallbacks=function(L,oe,de,we,Me){var Ve=this._length();if(Ve>=65531&&(Ve=0,this._setLength(0)),0===Ve)this._promise0=de,this._receiver0=we,"function"==typeof L&&(this._fulfillmentHandler0=null===Me?L:K.domainBind(Me,L)),"function"==typeof oe&&(this._rejectionHandler0=null===Me?oe:K.domainBind(Me,oe));else{var Qe=4*Ve-4;this[Qe+2]=de,this[Qe+3]=we,"function"==typeof L&&(this[Qe+0]=null===Me?L:K.domainBind(Me,L)),"function"==typeof oe&&(this[Qe+1]=null===Me?oe:K.domainBind(Me,oe))}return this._setLength(Ve+1),Ve},le.prototype._proxy=function(L,oe){this._addCallbacks(void 0,void 0,oe,L,null)},le.prototype._resolveCallback=function(L,oe){if(0==(117506048&this._bitField)){if(L===this)return this._rejectCallback(l(),!1);var de=z(L,this);if(!(de instanceof le))return this._fulfill(L);oe&&this._propagateFrom(de,2);var we=de._target();if(we!==this){var Me=we._bitField;if(0==(50397184&Me)){var Ve=this._length();Ve>0&&we._migrateCallback0(this);for(var Qe=1;Qe<Ve;++Qe)we._migrateCallbackAt(this,Qe);this._setFollowing(),this._setLength(0),this._setFollowee(we)}else if(0!=(33554432&Me))this._fulfill(we._value());else if(0!=(16777216&Me))this._reject(we._reason());else{var it=new G("late cancellation observer");we._attachExtraTrace(it),this._reject(it)}}else this._reject(l())}},le.prototype._rejectCallback=function(L,oe,de){var we=K.ensureErrorObject(L),Me=we===L;if(!Me&&!de&&ce.warnings()){var Ve="a promise was rejected with a non-error: "+K.classString(L);this._warn(Ve,!0)}this._attachExtraTrace(we,!!oe&&Me),this._reject(L)},le.prototype._resolveFromExecutor=function(L){if(L!==W){var oe=this;this._captureStackTrace(),this._pushContext();var de=!0,we=this._execute(L,function(Me){oe._resolveCallback(Me)},function(Me){oe._rejectCallback(Me,de)});de=!1,this._popContext(),void 0!==we&&oe._rejectCallback(we,!0)}},le.prototype._settlePromiseFromHandler=function(L,oe,de,we){var Me=we._bitField;if(0==(65536&Me)){var Ve;we._pushContext(),oe===ne?de&&"number"==typeof de.length?Ve=ue(L).apply(this._boundValue(),de):(Ve=te).e=new P("cannot .spread() a non-array: "+K.classString(de)):Ve=ue(L).call(oe,de);var Qe=we._popContext();0==(65536&(Me=we._bitField))&&(Ve===X?we._reject(de):Ve===te?we._rejectCallback(Ve.e,!1):(ce.checkForgottenReturns(Ve,Qe,"",we,this),we._resolveCallback(Ve)))}},le.prototype._target=function(){for(var L=this;L._isFollowing();)L=L._followee();return L},le.prototype._followee=function(){return this._rejectionHandler0},le.prototype._setFollowee=function(L){this._rejectionHandler0=L},le.prototype._settlePromise=function(L,oe,de,we){var Me=L instanceof le,Ve=this._bitField,Qe=0!=(134217728&Ve);0!=(65536&Ve)?(Me&&L._invokeInternalOnCancel(),de instanceof pe&&de.isFinallyHandler()?(de.cancelPromise=L,ue(oe).call(de,we)===te&&L._reject(te.e)):oe===_?L._fulfill(_.call(de)):de instanceof C?de._promiseCancelled(L):Me||L instanceof Q?L._cancel():de.cancel()):"function"==typeof oe?Me?(Qe&&L._setAsyncGuaranteed(),this._settlePromiseFromHandler(oe,de,we,L)):oe.call(de,we,L):de instanceof C?de._isResolved()||(0!=(33554432&Ve)?de._promiseFulfilled(we,L):de._promiseRejected(we,L)):Me&&(Qe&&L._setAsyncGuaranteed(),0!=(33554432&Ve)?L._fulfill(we):L._reject(we))},le.prototype._settlePromiseLateCancellationObserver=function(L){var oe=L.handler,de=L.promise,we=L.receiver,Me=L.value;"function"==typeof oe?de instanceof le?this._settlePromiseFromHandler(oe,we,Me,de):oe.call(we,Me,de):de instanceof le&&de._reject(Me)},le.prototype._settlePromiseCtx=function(L){this._settlePromise(L.promise,L.handler,L.receiver,L.value)},le.prototype._settlePromise0=function(L,oe,de){var we=this._promise0,Me=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(we,L,Me,oe)},le.prototype._clearCallbackDataAtIndex=function(L){var oe=4*L-4;this[oe+2]=this[oe+3]=this[oe+0]=this[oe+1]=void 0},le.prototype._fulfill=function(L){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(L===this){var de=l();return this._attachExtraTrace(de),this._reject(de)}this._setFulfilled(),this._rejectionHandler0=L,(65535&oe)>0&&(0!=(134217728&oe)?this._settlePromises():k.settlePromises(this))}},le.prototype._reject=function(L){var oe=this._bitField;if(!((117506048&oe)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=L,this._isFinal())return k.fatalError(L,K.isNode);(65535&oe)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled()}},le.prototype._fulfillPromises=function(L,oe){for(var de=1;de<L;de++){var we=this._fulfillmentHandlerAt(de),Me=this._promiseAt(de),Ve=this._receiverAt(de);this._clearCallbackDataAtIndex(de),this._settlePromise(Me,we,Ve,oe)}},le.prototype._rejectPromises=function(L,oe){for(var de=1;de<L;de++){var we=this._rejectionHandlerAt(de),Me=this._promiseAt(de),Ve=this._receiverAt(de);this._clearCallbackDataAtIndex(de),this._settlePromise(Me,we,Ve,oe)}},le.prototype._settlePromises=function(){var L=this._bitField,oe=65535&L;if(oe>0){if(0!=(16842752&L)){var de=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,de,L),this._rejectPromises(oe,de)}else{var we=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,we,L),this._fulfillPromises(oe,we)}this._setLength(0)}this._clearCancellationData()},le.prototype._settledValue=function(){var L=this._bitField;return 0!=(33554432&L)?this._rejectionHandler0:0!=(16777216&L)?this._fulfillmentHandler0:void 0},le.defer=le.pending=function(){return ce.deprecated("Promise.defer","new Promise"),{promise:new le(W),resolve:N,reject:M}},K.notEnumerableProp(le,"_makeSelfResolutionError",l),f("./method")(le,W,z,m,ce),f("./bind")(le,W,z,ce),f("./cancel")(le,Q,m,ce),f("./direct_resolve")(le),f("./synchronous_inspection")(le),f("./join")(le,Q,z,W,k,A),le.Promise=le,le.version="3.5.1",f("./map.js")(le,Q,m,z,W,ce),f("./call_get.js")(le),f("./using.js")(le,m,z,j,W,ce),f("./timers.js")(le,W,ce),f("./generators.js")(le,m,W,z,C,ce),f("./nodeify.js")(le),f("./promisify.js")(le,W),f("./props.js")(le,Q,z,m),f("./race.js")(le,W,z,m),f("./reduce.js")(le,Q,m,z,W,ce),f("./settle.js")(le,Q,ce),f("./some.js")(le,Q,m),f("./filter.js")(le,W),f("./each.js")(le,W),f("./any.js")(le),K.toFastProperties(le),K.toFastProperties(le.prototype),H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new le(W)),ce.setBounds(F.firstLineError,K.lastLineError),le}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A){var $=f("./util");function K(B){var F=this._promise=new l(_);B instanceof l&&F._propagateFrom(B,3),F._setOnCancel(this),this._values=B,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return $.inherits(K,A),K.prototype.length=function(){return this._length},K.prototype.promise=function(){return this._promise},K.prototype._init=function B(F,k){var U=m(this._values,this._promise);if(U instanceof l){var P=(U=U._target())._bitField;if(this._values=U,0==(50397184&P))return this._promise._setAsyncGuaranteed(),U._then(B,this._reject,void 0,this,k);if(0==(33554432&P))return 0!=(16777216&P)?this._reject(U._reason()):this._cancel();U=U._value()}if(null!==(U=$.asArray(U)))0!==U.length?this._iterate(U):-5===k?this._resolveEmptyArray():this._resolve(function(W){switch(W){case-2:return[];case-3:return{};case-6:return new Map}}(k));else{var G=C("expecting an array or an iterable object but got "+$.classString(U)).reason();this._promise._rejectCallback(G,!1)}},K.prototype._iterate=function(B){var F=this.getActualLength(B.length);this._length=F,this._values=this.shouldCopyValues()?new Array(F):this._values;for(var k=this._promise,U=!1,P=null,G=0;G<F;++G){var W=m(B[G],k);P=W instanceof l?(W=W._target())._bitField:null,U?null!==P&&W.suppressUnhandledRejections():null!==P?0==(50397184&P)?(W._proxy(this,G),this._values[G]=W):U=0!=(33554432&P)?this._promiseFulfilled(W._value(),G):0!=(16777216&P)?this._promiseRejected(W._reason(),G):this._promiseCancelled(G):U=this._promiseFulfilled(W,G)}U||k._setAsyncGuaranteed()},K.prototype._isResolved=function(){return null===this._values},K.prototype._resolve=function(B){this._values=null,this._promise._fulfill(B)},K.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},K.prototype._reject=function(B){this._values=null,this._promise._rejectCallback(B,!1)},K.prototype._promiseFulfilled=function(B,F){return this._values[F]=B,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},K.prototype._promiseCancelled=function(){return this._cancel(),!0},K.prototype._promiseRejected=function(B){return this._totalResolved++,this._reject(B),!0},K.prototype._resultCancelled=function(){if(!this._isResolved()){var B=this._values;if(this._cancel(),B instanceof l)B.cancel();else for(var F=0;F<B.length;++F)B[F]instanceof l&&B[F].cancel()}},K.prototype.shouldCopyValues=function(){return!0},K.prototype.getActualLength=function(B){return B},K}},{"./util":36}],24:[function(f,g,u){"use strict";g.exports=function(l,_){var m={},C=f("./util"),A=f("./nodeback"),$=C.withAppended,K=C.maybeWrapAsError,B=C.canEvaluate,F=f("./errors").TypeError,k={__isPromisified__:!0},U=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),P=function(Z){return C.isIdentifier(Z)&&"_"!==Z.charAt(0)&&"constructor"!==Z};function G(Z){return!U.test(Z)}function W(Z){try{return!0===Z.__isPromisified__}catch(j){return!1}}function ne(Z,j,ce){var pe=C.getDataPropertyOrDefault(Z,j+ce,k);return!!pe&&W(pe)}var z=B?void 0:function(Z,j,ce,pe,J,Ee){var te=function(){return this}(),ue=Z;function le(){var N=j;j===m&&(N=this);var M=new l(_);M._captureStackTrace();var H="string"==typeof ue&&this!==te?this[ue]:Z,L=A(M,Ee);try{H.apply(N,$(arguments,L))}catch(oe){M._rejectCallback(K(oe),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return"string"==typeof ue&&(Z=pe),C.notEnumerableProp(le,"__isPromisified__",!0),le};function Q(Z,j,ce,pe,J){for(var Ee=new RegExp(j.replace(/([$])/,"\\$")+"$"),te=function X(Z,j,ce,pe){for(var J=C.inheritedDataKeys(Z),Ee=[],te=0;te<J.length;++te){var ue=J[te],le=Z[ue],N=pe===P||P(ue);"function"!=typeof le||W(le)||ne(Z,ue,j)||!pe(ue,le,Z,N)||Ee.push(ue,le)}return function(M,H,L){for(var oe=0;oe<M.length;oe+=2){var de=M[oe];if(L.test(de))for(var we=de.replace(L,""),Me=0;Me<M.length;Me+=2)if(M[Me]===we)throw new F("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",H))}}(Ee,j,ce),Ee}(Z,j,Ee,ce),ue=0,le=te.length;ue<le;ue+=2){var N=te[ue],M=te[ue+1],H=N+j;if(pe===z)Z[H]=z(N,m,N,M,j,J);else{var L=pe(M,function(){return z(N,m,N,M,j,J)});C.notEnumerableProp(L,"__isPromisified__",!0),Z[H]=L}}return C.toFastProperties(Z),Z}l.promisify=function(Z,j){if("function"!=typeof Z)throw new F("expecting a function but got "+C.classString(Z));if(W(Z))return Z;var pe,J,ce=(pe=Z,J=void 0===(j=Object(j)).context?m:j.context,z(pe,J,void 0,pe,null,!!j.multiArgs));return C.copyDescriptors(Z,ce,G),ce},l.promisifyAll=function(Z,j){if("function"!=typeof Z&&"object"!==O(Z))throw new F("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var ce=!!(j=Object(j)).multiArgs,pe=j.suffix;"string"!=typeof pe&&(pe="Async");var J=j.filter;"function"!=typeof J&&(J=P);var Ee=j.promisifier;if("function"!=typeof Ee&&(Ee=z),!C.isIdentifier(pe))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var te=C.inheritedDataKeys(Z),ue=0;ue<te.length;++ue){var le=Z[te[ue]];"constructor"!==te[ue]&&C.isClass(le)&&(Q(le.prototype,pe,J,Ee,ce),Q(le,pe,J,Ee,ce))}return Q(Z,pe,J,Ee,ce)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(f,g,u){"use strict";g.exports=function(l,_,m,C){var A,$=f("./util"),K=$.isObject,B=f("./es5");"function"==typeof Map&&(A=Map);var F=function(){var P=0,G=0;function W(ne,X){this[P]=ne,this[P+G]=X,P++}return function(ne){G=ne.size,P=0;var X=new Array(2*ne.size);return ne.forEach(W,X),X}}();function k(P){var G,W=!1;if(void 0!==A&&P instanceof A)G=F(P),W=!0;else{var ne=B.keys(P),X=ne.length;G=new Array(2*X);for(var z=0;z<X;++z){var Q=ne[z];G[z]=P[Q],G[z+X]=Q}}this.constructor$(G),this._isMap=W,this._init$(void 0,W?-6:-3)}function U(P){var G,W=m(P);return K(W)?(G=W instanceof l?W._then(l.props,void 0,void 0,void 0,void 0):new k(W).promise(),W instanceof l&&G._propagateFrom(W,2),G):C("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}$.inherits(k,_),k.prototype._init=function(){},k.prototype._promiseFulfilled=function(P,G){if(this._values[G]=P,++this._totalResolved>=this._length){var W;if(this._isMap)W=function(Q){for(var Z=new A,j=Q.length/2|0,ce=0;ce<j;++ce)Z.set(Q[j+ce],Q[ce]);return Z}(this._values);else{W={};for(var ne=this.length(),X=0,z=this.length();X<z;++X)W[this._values[X+ne]]=this._values[X]}return this._resolve(W),!0}return!1},k.prototype.shouldCopyValues=function(){return!1},k.prototype.getActualLength=function(P){return P>>1},l.prototype.props=function(){return U(this)},l.props=function(P){return U(P)}}},{"./es5":13,"./util":36}],26:[function(f,g,u){"use strict";function l(_){this._capacity=_,this._length=0,this._front=0}l.prototype._willBeOverCapacity=function(_){return this._capacity<_},l.prototype._pushOne=function(_){var m=this.length();this._checkCapacity(m+1),this[this._front+m&this._capacity-1]=_,this._length=m+1},l.prototype.push=function(_,m,C){var A=this.length()+3;if(this._willBeOverCapacity(A))return this._pushOne(_),this._pushOne(m),void this._pushOne(C);var $=this._front+A-3;this._checkCapacity(A);var K=this._capacity-1;this[$+0&K]=_,this[$+1&K]=m,this[$+2&K]=C,this._length=A},l.prototype.shift=function(){var _=this._front,m=this[_];return this[_]=void 0,this._front=_+1&this._capacity-1,this._length--,m},l.prototype.length=function(){return this._length},l.prototype._checkCapacity=function(_){this._capacity<_&&this._resizeTo(this._capacity<<1)},l.prototype._resizeTo=function(_){var m=this._capacity;this._capacity=_,function(C,A,$,K,B){for(var F=0;F<B;++F)$[F+K]=C[F+0],C[F+0]=void 0}(this,0,this,m,this._front+this._length&m-1)},g.exports=l},{}],27:[function(f,g,u){"use strict";g.exports=function(l,_,m,C){var A=f("./util");function $(K,B){var F,k=m(K);if(k instanceof l)return(F=k).then(function(z){return $(z,F)});if(null===(K=A.asArray(K)))return C("expecting an array or an iterable object but got "+A.classString(K));var U=new l(_);void 0!==B&&U._propagateFrom(B,3);for(var P=U._fulfill,G=U._reject,W=0,ne=K.length;W<ne;++W){var X=K[W];(void 0!==X||W in K)&&l.cast(X)._then(P,G,void 0,U,null)}return U}l.race=function(K){return $(K,void 0)},l.prototype.race=function(){return $(this,void 0)}}},{"./util":36}],28:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A,$){var K=l._getDomain,B=f("./util"),F=B.tryCatch;function k(ne,X,z,Q){this.constructor$(ne);var Z=K();this._fn=null===Z?X:B.domainBind(Z,X),void 0!==z&&(z=l.resolve(z))._attachCancellationCallback(this),this._initialValue=z,this._currentCancellable=null,this._eachValues=Q===A?Array(this._length):0===Q?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function U(ne,X){this.isFulfilled()?X._resolve(ne):X._reject(ne)}function P(ne,X,z,Q){return"function"!=typeof X?m("expecting a function but got "+B.classString(X)):new k(ne,X,z,Q).promise()}function G(ne){this.accum=ne,this.array._gotAccum(ne);var X=C(this.value,this.array._promise);return X instanceof l?(this.array._currentCancellable=X,X._then(W,void 0,void 0,this,void 0)):W.call(this,X)}function W(ne){var X,z=this.array,Q=z._promise,Z=F(z._fn);Q._pushContext(),(X=void 0!==z._eachValues?Z.call(Q._boundValue(),ne,this.index,this.length):Z.call(Q._boundValue(),this.accum,ne,this.index,this.length))instanceof l&&(z._currentCancellable=X);var j=Q._popContext();return $.checkForgottenReturns(X,j,void 0!==z._eachValues?"Promise.each":"Promise.reduce",Q),X}B.inherits(k,_),k.prototype._gotAccum=function(ne){null!=this._eachValues&&ne!==A&&this._eachValues.push(ne)},k.prototype._eachComplete=function(ne){return null!==this._eachValues&&this._eachValues.push(ne),this._eachValues},k.prototype._init=function(){},k.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},k.prototype.shouldCopyValues=function(){return!1},k.prototype._resolve=function(ne){this._promise._resolveCallback(ne),this._values=null},k.prototype._resultCancelled=function(ne){if(ne===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof l&&this._currentCancellable.cancel(),this._initialValue instanceof l&&this._initialValue.cancel())},k.prototype._iterate=function(ne){var X,z;this._values=ne;var Q=ne.length;if(void 0!==this._initialValue?(X=this._initialValue,z=0):(X=l.resolve(ne[0]),z=1),this._currentCancellable=X,!X.isRejected())for(;z<Q;++z)X=X._then(G,void 0,void 0,{accum:null,value:ne[z],index:z,length:Q,array:this},void 0);void 0!==this._eachValues&&(X=X._then(this._eachComplete,void 0,void 0,this,void 0)),X._then(U,U,void 0,X,this)},l.prototype.reduce=function(ne,X){return P(this,ne,X,null)},l.reduce=function(ne,X,z,Q){return P(ne,X,z,Q)}}},{"./util":36}],29:[function(f,g,u){"use strict";var l,_,m,C,A,$=f("./util"),K=$.getNativePromise();if($.isNode&&"undefined"==typeof MutationObserver){var B=w.setImmediate,F=p.nextTick;l=$.isRecentNode?function(U){B.call(w,U)}:function(U){F.call(p,U)}}else if("function"==typeof K&&"function"==typeof K.resolve){var k=K.resolve();l=function(U){k.then(U)}}else l="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==x?function(U){x(U)}:"undefined"!=typeof setTimeout?function(U){setTimeout(U,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(_=document.createElement("div"),m={attributes:!0},C=!1,A=document.createElement("div"),new MutationObserver(function(){_.classList.toggle("foo"),C=!1}).observe(A,m),function(U){var P=new MutationObserver(function(){P.disconnect(),U()});P.observe(_,m),C||(C=!0,A.classList.toggle("foo"))});g.exports=l},{"./util":36}],30:[function(f,g,u){"use strict";g.exports=function(l,_,m){var C=l.PromiseInspection;function A($){this.constructor$($)}f("./util").inherits(A,_),A.prototype._promiseResolved=function($,K){return this._values[$]=K,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},A.prototype._promiseFulfilled=function($,K){var B=new C;return B._bitField=33554432,B._settledValueField=$,this._promiseResolved(K,B)},A.prototype._promiseRejected=function($,K){var B=new C;return B._bitField=16777216,B._settledValueField=$,this._promiseResolved(K,B)},l.settle=function($){return m.deprecated(".settle()",".reflect()"),new A($).promise()},l.prototype.settle=function(){return l.settle(this)}}},{"./util":36}],31:[function(f,g,u){"use strict";g.exports=function(l,_,m){var C=f("./util"),A=f("./errors").RangeError,$=f("./errors").AggregateError,K=C.isArray,B={};function F(U){this.constructor$(U),this._howMany=0,this._unwrap=!1,this._initialized=!1}function k(U,P){if((0|P)!==P||P<0)return m("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var G=new F(U),W=G.promise();return G.setHowMany(P),G.init(),W}C.inherits(F,_),F.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var U=K(this._values);!this._isResolved()&&U&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},F.prototype.init=function(){this._initialized=!0,this._init()},F.prototype.setUnwrap=function(){this._unwrap=!0},F.prototype.howMany=function(){return this._howMany},F.prototype.setHowMany=function(U){this._howMany=U},F.prototype._promiseFulfilled=function(U){return this._addFulfilled(U),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},F.prototype._promiseRejected=function(U){return this._addRejected(U),this._checkOutcome()},F.prototype._promiseCancelled=function(){return this._values instanceof l||null==this._values?this._cancel():(this._addRejected(B),this._checkOutcome())},F.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var U=new $,P=this.length();P<this._values.length;++P)this._values[P]!==B&&U.push(this._values[P]);return U.length>0?this._reject(U):this._cancel(),!0}return!1},F.prototype._fulfilled=function(){return this._totalResolved},F.prototype._rejected=function(){return this._values.length-this.length()},F.prototype._addRejected=function(U){this._values.push(U)},F.prototype._addFulfilled=function(U){this._values[this._totalResolved++]=U},F.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},F.prototype._getRangeError=function(U){return new A("Input array must contain at least "+this._howMany+" items but contains only "+U+" items")},F.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},l.some=function(U,P){return k(U,P)},l.prototype.some=function(U){return k(this,U)},l._SomePromiseArray=F}},{"./errors":12,"./util":36}],32:[function(f,g,u){"use strict";g.exports=function(l){function _(F){void 0!==F?(F=F._target(),this._bitField=F._bitField,this._settledValueField=F._isFateSealed()?F._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}_.prototype._settledValue=function(){return this._settledValueField};var m=_.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},C=_.prototype.error=_.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},A=_.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},$=_.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},K=_.prototype.isPending=function(){return 0==(50397184&this._bitField)},B=_.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};_.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},l.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},l.prototype._isCancelled=function(){return this._target().__isCancelled()},l.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},l.prototype.isPending=function(){return K.call(this._target())},l.prototype.isRejected=function(){return $.call(this._target())},l.prototype.isFulfilled=function(){return A.call(this._target())},l.prototype.isResolved=function(){return B.call(this._target())},l.prototype.value=function(){return m.call(this._target())},l.prototype.reason=function(){var F=this._target();return F._unsetRejectionIsUnhandled(),C.call(F)},l.prototype._value=function(){return this._settledValue()},l.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},l.PromiseInspection=_}},{}],33:[function(f,g,u){"use strict";g.exports=function(l,_){var m=f("./util"),C=m.errorObj,A=m.isObject,$={}.hasOwnProperty;return function(K,B){if(A(K)){if(K instanceof l)return K;var F=function(U){try{return(P=U).then}catch(P){return C.e=P,C}var P}(K);if(F===C){B&&B._pushContext();var k=l.reject(F.e);return B&&B._popContext(),k}if("function"==typeof F)return function(U){try{return $.call(U,"_promise0")}catch(P){return!1}}(K)?(k=new l(_),K._then(k._fulfill,k._reject,void 0,k,null),k):function(U,P,G){var W=new l(_),ne=W;G&&G._pushContext(),W._captureStackTrace(),G&&G._popContext();var X=m.tryCatch(P).call(U,function(z){W&&(W._resolveCallback(z),W=null)},function(z){W&&(W._rejectCallback(z,!1,!0),W=null)});return W&&X===C&&(W._rejectCallback(X.e,!0,!0),W=null),ne}(K,F,B)}return K}}},{"./util":36}],34:[function(f,g,u){"use strict";g.exports=function(l,_,m){var C=f("./util"),A=l.TimeoutError;function $(U){this.handle=U}$.prototype._resultCancelled=function(){clearTimeout(this.handle)};var K=function(U){return B(+this).thenReturn(U)},B=l.delay=function(U,P){var G,W;return void 0!==P?(G=l.resolve(P)._then(K,null,null,U,void 0),m.cancellation()&&P instanceof l&&G._setOnCancel(P)):(G=new l(_),W=setTimeout(function(){G._fulfill()},+U),m.cancellation()&&G._setOnCancel(new $(W)),G._captureStackTrace()),G._setAsyncGuaranteed(),G};function F(U){return clearTimeout(this.handle),U}function k(U){throw clearTimeout(this.handle),U}l.prototype.delay=function(U){return B(U,this)},l.prototype.timeout=function(U,P){var G,W;U=+U;var ne=new $(setTimeout(function(){var X,z,Q,Z;G.isPending()&&(X=G,Q=W,Z="string"!=typeof(z=P)?z instanceof Error?z:new A("operation timed out"):new A(z),C.markAsOriginatingFromRejection(Z),X._attachExtraTrace(Z),X._reject(Z),null!=Q&&Q.cancel())},U));return m.cancellation()?(W=this.then(),(G=W._then(F,k,void 0,ne,void 0))._setOnCancel(ne)):G=this._then(F,k,void 0,ne,void 0),G}}},{"./util":36}],35:[function(f,g,u){"use strict";g.exports=function(l,_,m,C,A,$){var K=f("./util"),B=f("./errors").TypeError,F=f("./util").inherits,k=K.errorObj,U=K.tryCatch,P={};function G(Z){setTimeout(function(){throw Z},0)}function W(Z,j){var ce=0,pe=Z.length,J=new l(A);return function Ee(){if(ce>=pe)return J._fulfill();var ue,le,te=(ue=Z[ce++],(le=m(ue))!==ue&&"function"==typeof ue._isDisposable&&"function"==typeof ue._getDisposer&&ue._isDisposable()&&le._setDisposable(ue._getDisposer()),le);if(te instanceof l&&te._isDisposable()){try{te=m(te._getDisposer().tryDispose(j),Z.promise)}catch(ue){return G(ue)}if(te instanceof l)return te._then(Ee,G,null,null,null)}Ee()}(),J}function ne(Z,j,ce){this._data=Z,this._promise=j,this._context=ce}function X(Z,j,ce){this.constructor$(Z,j,ce)}function z(Z){return ne.isDisposer(Z)?(this.resources[this.index]._setDisposable(Z),Z.promise()):Z}function Q(Z){this.length=Z,this.promise=null,this[Z-1]=null}ne.prototype.data=function(){return this._data},ne.prototype.promise=function(){return this._promise},ne.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():P},ne.prototype.tryDispose=function(Z){var j=this.resource(),ce=this._context;void 0!==ce&&ce._pushContext();var pe=j!==P?this.doDispose(j,Z):null;return void 0!==ce&&ce._popContext(),this._promise._unsetDisposable(),this._data=null,pe},ne.isDisposer=function(Z){return null!=Z&&"function"==typeof Z.resource&&"function"==typeof Z.tryDispose},F(X,ne),X.prototype.doDispose=function(Z,j){return this.data().call(Z,Z,j)},Q.prototype._resultCancelled=function(){for(var Z=this.length,j=0;j<Z;++j){var ce=this[j];ce instanceof l&&ce.cancel()}},l.using=function(){var Z=arguments.length;if(Z<2)return _("you must pass at least 2 arguments to Promise.using");var j,ce=arguments[Z-1];if("function"!=typeof ce)return _("expecting a function but got "+K.classString(ce));var pe=!0;2===Z&&Array.isArray(arguments[0])?(Z=(j=arguments[0]).length,pe=!1):(j=arguments,Z--);for(var J=new Q(Z),Ee=0;Ee<Z;++Ee){var te=j[Ee];if(ne.isDisposer(te)){var ue=te;(te=te.promise())._setDisposable(ue)}else{var le=m(te);le instanceof l&&(te=le._then(z,null,null,{resources:J,index:Ee},void 0))}J[Ee]=te}var N=new Array(J.length);for(Ee=0;Ee<N.length;++Ee)N[Ee]=l.resolve(J[Ee]).reflect();var M=l.all(N).then(function(L){for(var oe=0;oe<L.length;++oe){var de=L[oe];if(de.isRejected())return k.e=de.error(),k;if(!de.isFulfilled())return void M.cancel();L[oe]=de.value()}H._pushContext(),ce=U(ce);var we=pe?ce.apply(void 0,L):ce(L),Me=H._popContext();return $.checkForgottenReturns(we,Me,"Promise.using",H),we}),H=M.lastly(function(){var L=new l.PromiseInspection(M);return W(J,L)});return J.promise=H,H._setOnCancel(J),H},l.prototype._setDisposable=function(Z){this._bitField=131072|this._bitField,this._disposer=Z},l.prototype._isDisposable=function(){return(131072&this._bitField)>0},l.prototype._getDisposer=function(){return this._disposer},l.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},l.prototype.disposer=function(Z){if("function"==typeof Z)return new X(Z,this,C());throw new B}}},{"./errors":12,"./util":36}],36:[function(f,g,u){"use strict";var C,l=f("./es5"),_="undefined"==typeof navigator,m={e:{}},A="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==w?w:void 0!==this?this:null;function $(){try{var $e=C;return C=null,$e.apply(this,arguments)}catch(rt){return m.e=rt,m}}function F($e){return null==$e||!0===$e||!1===$e||"string"==typeof $e||"number"==typeof $e}function W($e,rt,mt){return F($e)||l.defineProperty($e,rt,{value:mt,configurable:!0,enumerable:!1,writable:!0}),$e}var X=function(){var $e=[Array.prototype,Object.prototype,Function.prototype],rt=function(Ot){for(var tn=0;tn<$e.length;++tn)if($e[tn]===Ot)return!0;return!1};if(l.isES5){var mt=Object.getOwnPropertyNames;return function(Ot){for(var tn=[],si=Object.create(null);null!=Ot&&!rt(Ot);){var bn;try{bn=mt(Ot)}catch(re){return tn}for(var Fn=0;Fn<bn.length;++Fn){var Pi=bn[Fn];if(!si[Pi]){si[Pi]=!0;var ie=Object.getOwnPropertyDescriptor(Ot,Pi);null!=ie&&null==ie.get&&null==ie.set&&tn.push(Pi)}}Ot=l.getPrototypeOf(Ot)}return tn}}var Ct={}.hasOwnProperty;return function(Ot){if(rt(Ot))return[];var tn=[];e:for(var si in Ot)if(Ct.call(Ot,si))tn.push(si);else{for(var bn=0;bn<$e.length;++bn)if(Ct.call($e[bn],si))continue e;tn.push(si)}return tn}}(),z=/this\s*\.\s*\S+\s*=/,j=/^[a-z$_][a-z$_0-9]*$/i;function J($e){try{return $e+""}catch(rt){return"[no string representation]"}}function Ee($e){return $e instanceof Error||null!==$e&&"object"===O($e)&&"string"==typeof $e.message&&"string"==typeof $e.name}function le($e){return Ee($e)&&l.propertyIsWritable($e,"stack")}var N="stack"in new Error?function($e){return le($e)?$e:new Error(J($e))}:function($e){if(le($e))return $e;try{throw new Error(J($e))}catch(rt){return rt}};function M($e){return{}.toString.call($e)}var L=function($e){return l.isArray($e)?$e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var oe="function"==typeof Array.from?function($e){return Array.from($e)}:function($e){for(var rt,mt=[],Ct=$e[Symbol.iterator]();!(rt=Ct.next()).done;)mt.push(rt.value);return mt};L=function($e){return l.isArray($e)?$e:null!=$e&&"function"==typeof $e[Symbol.iterator]?oe($e):null}}var xe,de=void 0!==p&&"[object process]"===M(p).toLowerCase(),we=void 0!==p&&void 0!==p.env,it={isClass:function Q($e){try{if("function"==typeof $e){var rt=l.names($e.prototype),mt=l.isES5&&rt.length>1,Ct=rt.length>0&&!(1===rt.length&&"constructor"===rt[0]),Ot=z.test($e+"")&&l.names($e).length>0;if(mt||Ct||Ot)return!0}return!1}catch(tn){return!1}},isIdentifier:function ce($e){return j.test($e)},inheritedDataKeys:X,getDataPropertyOrDefault:function G($e,rt,mt){if(!l.isES5)return{}.hasOwnProperty.call($e,rt)?$e[rt]:void 0;var Ct=Object.getOwnPropertyDescriptor($e,rt);return null!=Ct?null==Ct.get&&null==Ct.set?Ct.value:mt:void 0},thrower:function ne($e){throw $e},isArray:l.isArray,asArray:L,notEnumerableProp:W,isPrimitive:F,isObject:function k($e){return"function"==typeof $e||"object"===O($e)&&null!==$e},isError:Ee,canEvaluate:_,errorObj:m,tryCatch:function K($e){return C=$e,$},inherits:function($e,rt){var mt={}.hasOwnProperty;function Ct(){for(var Ot in this.constructor=$e,this.constructor$=rt,rt.prototype)mt.call(rt.prototype,Ot)&&"$"!==Ot.charAt(Ot.length-1)&&(this[Ot+"$"]=rt.prototype[Ot])}return Ct.prototype=rt.prototype,$e.prototype=new Ct,$e.prototype},withAppended:function P($e,rt){var mt,Ct=$e.length,Ot=new Array(Ct+1);for(mt=0;mt<Ct;++mt)Ot[mt]=$e[mt];return Ot[mt]=rt,Ot},maybeWrapAsError:function U($e){return F($e)?new Error(J($e)):$e},toFastProperties:function Z($e){function rt(){}rt.prototype=$e;for(var mt=8;mt--;)new rt;return $e},filledRange:function pe($e,rt,mt){for(var Ct=new Array($e),Ot=0;Ot<$e;++Ot)Ct[Ot]=rt+Ot+mt;return Ct},toString:J,canAttachTrace:le,ensureErrorObject:N,originatesFromRejection:function ue($e){return null!=$e&&($e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===$e.isOperational)},markAsOriginatingFromRejection:function te($e){try{W($e,"isOperational",!0)}catch(rt){}},classString:M,copyDescriptors:function H($e,rt,mt){for(var Ct=l.names($e),Ot=0;Ot<Ct.length;++Ot){var tn=Ct[Ot];if(mt(tn))try{l.defineProperty(rt,tn,l.getDescriptor($e,tn))}catch(si){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:de,hasEnvVariables:we,env:function Me($e){return we?p.env[$e]:void 0},global:A,getNativePromise:function Ve(){if("function"==typeof Promise)try{var $e=new Promise(function(){});if("[object Promise]"==={}.toString.call($e))return Promise}catch(rt){}},domainBind:function Qe($e,rt){return $e.bind(rt)}};it.isRecentNode=it.isNode&&(0===(xe=p.versions.node.split(".").map(Number))[0]&&xe[1]>10||xe[0]>0),it.isNode&&it.toFastProperties(p);try{throw new Error}catch($e){it.lastLineError=$e}g.exports=it},{"./es5":13}]},{},[4])(4)},"object"==O(q)&&void 0!==ae?ae.exports=S():void 0===(I="function"==typeof(V=S)?V.apply(q,[]):V)||(ae.exports=I),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,c(10),c(9),c(70).setImmediate)},function(ae,q,c){"use strict";var p=ae.exports={};p.DocumentNotFoundError=null,p.general={},p.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",p.general.required="Path `{PATH}` is required.",p.Number={},p.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",p.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",p.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",p.Date={},p.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",p.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",p.String={},p.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",p.String.match="Path `{PATH}` is invalid ({VALUE}).",p.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",p.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function D(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function I(y){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var S=c(5),O=c(4),v=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&x(_,m)}(l,y);var h,u=function V(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=I(y);if(h){var u=I(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return D(this,f)}}(l);function l(_,m,C,A){var $,K;!function(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")}(this,l);var B=S.messages;return K=null!=B.DocumentNotFoundError?"function"==typeof B.DocumentNotFoundError?B.DocumentNotFoundError(_,m):B.DocumentNotFoundError:'No document found for query "'+O.inspect(_)+'" on model "'+m+'"',($=u.call(this,K)).result=A,$.numAffected=C,$.filter=_,$.query=_,$}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(S);Object.defineProperty(v.prototype,"name",{value:"DocumentNotFoundError"}),ae.exports=v},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){var m;!function(A,$){if(!(A instanceof $))throw new TypeError("Cannot call a class as a function")}(this,g);var C=_.join(", ");return(m=f.call(this,'No matching document found for id "'+u._id+'" version '+l+' modifiedPaths "'+C+'"')).version=l,m.modifiedPaths=_,m}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"VersionError"}),ae.exports=S},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Can't save() the same doc multiple times in parallel. Document: "+u._id)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ParallelSaveError"}),ae.exports=S},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Cannot overwrite `"+u+"` model once compiled.")}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"OverwriteModelError"}),ae.exports=S},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Schema hasn't been registered for model \""+u+'".\nUse mongoose.model(name, schema)')}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"MissingSchemaError"}),ae.exports=S},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){!function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,g);var l="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+u.join("\n  ")+"\nUse Model.update() to update these arrays instead.";return f.call(this,l)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"DivergentArrayError"}),ae.exports=S},function(ae,q,c){"use strict";var p=c(34);ae.exports=function(w){var x,V;w.$immutable?(w.$immutableSetter=(x=w.path,V=w.options.immutable,function(D){if(null==this||null==this.$__||this.isNew||!("function"==typeof V?V.call(this,this):V))return D;var I=this.$__getValue(x);if("throw"===this.$__.strictMode&&D!==I)throw new p(x,"Path `"+x+"` is immutable and strict mode is set to throw.",!0);return I}),w.set(w.$immutableSetter)):w.$immutableSetter&&(w.setters=w.setters.filter(function(D){return D!==w.$immutableSetter}),delete w.$immutableSetter)}},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u,l,_){return function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,'Parameter "'+l+'" to '+_+"() must be an object, got "+u.toString())}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(5));Object.defineProperty(S.prototype,"name",{value:"ObjectParameterError"}),ae.exports=S},function(ae,q,c){"use strict";function p(O){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}function x(O,v){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,h){return y.__proto__=h,y})(O,v)}function D(O,v){if(v&&("object"===p(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(O)}function I(O){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)})(O)}var S=function(O){!function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}(g,O);var v,f=function V(O){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,h=I(O);if(v){var f=I(this).constructor;y=Reflect.construct(h,arguments,f)}else y=h.apply(this,arguments);return D(this,y)}}(g);function g(u){return function(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),f.call(this,"Can't validate() the same doc multiple times in parallel. Document: "+u._id)}return v=g,Object.defineProperty(v,"prototype",{writable:!1}),v}(c(14));Object.defineProperty(S.prototype,"name",{value:"ParallelValidateError"}),ae.exports=S},function(ae,q,c){"use strict";(function(p){function w(h,f){var g="undefined"!=typeof Symbol&&h[Symbol.iterator]||h["@@iterator"];if(!g){if(Array.isArray(h)||(g=function(A,$){if(A){if("string"==typeof A)return x(A,$);var K=Object.prototype.toString.call(A).slice(8,-1);if("Object"===K&&A.constructor&&(K=A.constructor.name),"Map"===K||"Set"===K)return Array.from(A);if("Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return x(A,$)}}(h))||f&&h&&"number"==typeof h.length){g&&(h=g);var u=0,l=function(){};return{s:l,n:function(){return u>=h.length?{done:!0}:{done:!1,value:h[u++]}},e:function(A){throw A},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,m=!0,C=!1;return{s:function(){g=g.call(h)},n:function(){var A=g.next();return m=A.done,A},e:function(A){C=!0,_=A},f:function(){try{m||null==g.return||g.return()}finally{if(C)throw _}}}}function x(h,f){(null==f||f>h.length)&&(f=h.length);for(var g=0,u=new Array(f);g<f;g++)u[g]=h[g];return u}function V(h){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function D(){this._pres=new Map,this._posts=new Map}function I(h,f,g,u,l,_,m){return _.useErrorHandlers?h.execPost(g,u,l,{error:f},function(A){return"function"==typeof m&&m(A)}):"function"==typeof m?m(f):void 0}function S(h,f,g){return h.has(f)?h.get(f):g}function O(h,f,g,u){var l;try{l=h.apply(f,g)}catch(_){return u(_)}v(l)&&l.then(function(){return u()},function(_){return u(_)})}function v(h){return null!=h&&"function"==typeof h.then}function y(h){var f=!1,g=this;return function(){var u=arguments;if(!f)return f=!0,p.nextTick(function(){return h.apply(g,u)})}}D.prototype.execPre=function(h,f,g,u){3===arguments.length&&(u=g,g=[]);var l=S(this._pres,h,[]),_=l.length,m=l.numAsync||0,C=0,A=m,$=!1,K=g;if(!_)return p.nextTick(function(){u(null)});var B=function k(){if(!(C>=_)){var U=l[C];if(U.isAsync){var P=[y(F),y(function(X){return X?$?void 0:($=!0,u(X)):0==--A&&C>=_?u(null):void 0})];O(U.fn,f,P,P[0])}else if(U.fn.length>0){P=[y(F)];for(var G=arguments.length>=2?arguments:[null].concat(K),W=1;W<G.length;++W)P.push(G[W]);O(U.fn,f,P,P[0])}else{var ne=null;try{ne=U.fn.call(f)}catch(X){if(null!=X)return u(X)}if(v(ne))ne.then(function(){return F()},function(X){return F(X)});else{if(++C>=_)return A>0?void 0:p.nextTick(function(){u(null)});k()}}}};function F(k){return k?$?void 0:($=!0,u(k)):++C>=_?A>0?void 0:u(null):void B.apply(f,arguments)}B.apply(null,[null].concat(g))},D.prototype.execPreSync=function(h,f,g){for(var u=S(this._pres,h,[]),l=u.length,_=0;_<l;++_)u[_].fn.apply(f,g||[])},D.prototype.execPost=function(h,f,g,u,l){arguments.length<5&&(l=u,u=null);var _=S(this._posts,h,[]),m=_.length,C=0,A=null;if(u&&u.error&&(A=u.error),!m)return p.nextTick(function(){l.apply(null,[A].concat(g))});var $=function K(){for(var B=_[C].fn,F=0,k=g.length,U=[],P=0;P<k;++P)F+=g[P]&&g[P]._kareemIgnore?0:1,g[P]&&g[P]._kareemIgnore||U.push(g[P]);if(A)if(B.length===F+2){var G=y(function(z){if(z&&(A=z),++C>=m)return l.call(null,A);K()});O(B,f,[A].concat(U).concat([G]),G)}else{if(++C>=m)return l.call(null,A);K()}else{var W=y(function(z){return z?(A=z,K()):++C>=m?l.apply(null,[null].concat(g)):void K()});if(B.length===F+2)return++C>=m?l.apply(null,[null].concat(g)):K();if(B.length===F+1)O(B,f,U.concat([W]),W);else{var ne,X;try{X=B.apply(f,U)}catch(z){ne=z,A=z}if(v(X))return X.then(function(){return W()},function(z){return W(z)});if(++C>=m)return l.apply(null,[ne].concat(g));K()}}};$()},D.prototype.execPostSync=function(h,f,g){for(var u=S(this._posts,h,[]),l=u.length,_=0;_<l;++_)u[_].fn.apply(f,g||[])},D.prototype.createWrapperSync=function(h,f){var g=this;return function(){g.execPreSync(h,this,arguments);var u=f.apply(this,arguments);return g.execPostSync(h,this,[u]),u}},D.prototype.wrap=function(h,f,g,u,l){var _=u.length>0?u[u.length-1]:null,m=("function"==typeof _&&u.slice(0,u.length-1),this),C=(l=l||{}).checkForPromise;this.execPre(h,g,u,function(A){if(A){for(var $=l.numCallbackParams||0,K=l.contextParameter?[g]:[],B=K.length;B<$;++B)K.push(null);return I(m,A,h,g,K,l,_)}var F="function"==typeof _?u.length-1:u.length,k=f.length,U=f.apply(g,u.slice(0,F).concat(P));if(C){if(null!=U&&"function"==typeof U.then)return U.then(function(G){return P(null,G)},function(G){return P(G)});if(k<F+1)return P(null,U)}function P(){var G=Array.prototype.slice.call(arguments,1);if(l.nullResultByDefault&&0===G.length&&G.push(null),arguments[0])return I(m,arguments[0],h,g,G,l,_);m.execPost(h,g,G,function(){return arguments[0]?"function"==typeof _?_(arguments[0]):void 0:"function"==typeof _?_.apply(g,arguments):void 0})}})},D.prototype.filter=function(h){for(var f=this,g=this.clone(),u=Array.from(g._pres.keys()),l=function(){var B=m[_],F=f._pres.get(B).map(function(k){return Object.assign({},k,{name:B})}).filter(h);if(0===F.length)return g._pres.delete(B),"continue";F.numAsync=F.filter(function(k){return k.isAsync}).length,g._pres.set(B,F)},_=0,m=u;_<m.length;_++)l();for(var C=Array.from(g._posts.keys()),A=function(){var B=K[$],F=f._posts.get(B).map(function(k){return Object.assign({},k,{name:B})}).filter(h);if(0===F.length)return g._posts.delete(B),"continue";g._posts.set(B,F)},$=0,K=C;$<K.length;$++)A();return g},D.prototype.hasHooks=function(h){return this._pres.has(h)||this._posts.has(h)},D.prototype.createWrapper=function(h,f,g,u){var l=this;return this.hasHooks(h)?function(){var _=g||this,m=Array.prototype.slice.call(arguments);l.wrap(h,f,_,m,u)}:function(){var _=arguments,m=this;p.nextTick(function(){return f.apply(m,_)})}},D.prototype.pre=function(h,f,g,u,l){var _={};"object"===V(f)&&null!=f?f=(_=f).isAsync:"boolean"!=typeof arguments[1]&&(u=g,g=f,f=!1);var m=S(this._pres,h,[]);if(this._pres.set(h,m),f&&(m.numAsync=m.numAsync||0,++m.numAsync),"function"!=typeof g)throw new Error('pre() requires a function, got "'+V(g)+'"');return l?m.unshift(Object.assign({},_,{fn:g,isAsync:f})):m.push(Object.assign({},_,{fn:g,isAsync:f})),this},D.prototype.post=function(h,f,g,u){var l=S(this._posts,h,[]);if("function"==typeof f&&(u=!!g,g=f,f={}),"function"!=typeof g)throw new Error('post() requires a function, got "'+V(g)+'"');return u?l.unshift(Object.assign({},f,{fn:g})):l.push(Object.assign({},f,{fn:g})),this._posts.set(h,l),this},D.prototype.clone=function(){var h,f=new D,g=w(this._pres.keys());try{for(g.s();!(h=g.n()).done;){var u=h.value,l=this._pres.get(u).slice();l.numAsync=this._pres.get(u).numAsync,f._pres.set(u,l)}}catch(A){g.e(A)}finally{g.f()}var _,m=w(this._posts.keys());try{for(m.s();!(_=m.n()).done;){var C=_.value;f._posts.set(C,this._posts.get(C).slice())}}catch(A){m.e(A)}finally{m.f()}return f},D.prototype.merge=function(h,f){var g,u=(f=1===arguments.length||f)?this.clone():this,l=w(h._pres.keys());try{var _=function(){var $=g.value,K=S(u._pres,$,[]),B=h._pres.get($).filter(function(k){return-1===K.map(function(U){return U.fn}).indexOf(k.fn)}),F=K.concat(B);F.numAsync=K.numAsync||0,F.numAsync+=B.filter(function(k){return k.isAsync}).length,u._pres.set($,F)};for(l.s();!(g=l.n()).done;)_()}catch($){l.e($)}finally{l.f()}var m,C=w(h._posts.keys());try{var A=function(){var $=m.value,K=S(u._posts,$,[]),B=h._posts.get($).filter(function(F){return-1===K.indexOf(F)});u._posts.set($,K.concat(B))};for(C.s();!(m=C.n()).done;)A()}catch($){C.e($)}finally{C.f()}return u},ae.exports=D}).call(this,c(10))},function(ae,q,c){"use strict";function p(I){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(I)}function w(I,S){for(var O=0;O<S.length;O++){var v=S[O];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,(h=function(f,g){if("object"!==p(f)||null===f)return f;var u=f[Symbol.toPrimitive];if(void 0!==u){var l=u.call(f,"string");if("object"!==p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(v.key),"symbol"===p(h)?h:String(h)),v)}var h}var V=c(8),D=function x(I,S,O){return S&&w(I.prototype,S),O&&w(I,O),Object.defineProperty(I,"prototype",{writable:!1}),I}(function I(S){(function(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")})(this,I),Object.assign(this,S),null!=S&&null!=S.options&&(this.options=Object.assign({},S.options))});Object.defineProperty(D.prototype,"ref",V),Object.defineProperty(D.prototype,"refPath",V),Object.defineProperty(D.prototype,"localField",V),Object.defineProperty(D.prototype,"foreignField",V),Object.defineProperty(D.prototype,"justOne",V),Object.defineProperty(D.prototype,"count",V),Object.defineProperty(D.prototype,"match",V),Object.defineProperty(D.prototype,"options",V),Object.defineProperty(D.prototype,"skip",V),Object.defineProperty(D.prototype,"limit",V),Object.defineProperty(D.prototype,"perDocumentLimit",V),ae.exports=D},function(ae,q,c){"use strict";var p=c(3),w=c(21);ae.exports=function(x){var V=[],D=new WeakMap,I=x.constructor.indexTypes,S=new Map;return function O(v,y,h){if(!D.has(v)){D.set(v,!0),y=y||"";for(var g=0,u=Object.keys(v.paths);g<u.length;g++){var l=u[g],_=v.paths[l];if(null==h||!h.paths[l]){if(_.$isMongooseDocumentArray||_.$isSingleNested){if(!0!==p(_,"options.excludeIndexes")&&!0!==p(_,"schemaOptions.excludeIndexes")&&!0!==p(_,"schema.options.excludeIndexes")&&O(_.schema,y+l+"."),null!=_.schema.discriminators)for(var m=_.schema.discriminators,A=0,$=Object.keys(m);A<$.length;A++)O(m[$[A]],y+l+".",_.schema);if(_.$isMongooseDocumentArray)continue}var B=_._index||_.caster&&_.caster._index;if(!1!==B&&null!=B){var F={},k=w(B),U=k?B:{},P="string"==typeof B?B:!!k&&B.type;if(P&&-1!==I.indexOf(P))F[y+l]=P;else if(U.text)F[y+l]="text",delete U.text;else{var G=-1===Number(B);F[y+l]=G?-1:1}delete U.type,"background"in U||(U.background=!0),null!=v.options.autoIndex&&(U._autoIndex=v.options.autoIndex);var W=U&&U.name;"string"==typeof W&&S.has(W)?Object.assign(S.get(W),F):(V.push([F,U]),S.set(W,F))}}}D.delete(v),y?function(ne,X){for(var z=ne._indexes,Q=z.length,Z=0;Z<Q;++Z){for(var j=z[Z][0],ce=z[Z][1],pe=Object.keys(j),J=pe.length,Ee={},te=0;te<J;++te){var ue=pe[te];Ee[X+ue]=j[ue]}var le=Object.assign({},ce);if(null!=ce&&null!=ce.partialFilterExpression){le.partialFilterExpression={};for(var N=ce.partialFilterExpression,M=0,H=Object.keys(N);M<H.length;M++){var L=H[M];le.partialFilterExpression[X+L]=N[L]}}V.push([Ee,le])}}(v,y):(v._indexes.forEach(function(ne){"background"in ne[1]||(ne[1].background=!0)}),V=V.concat(v._indexes))}}(x),V}},function(ae,q,c){"use strict";var p=c(144),w=c(146),x=c(3),V=c(77),D=c(35);ae.exports=function(I,S){var O=I.childSchemas.find(function(l){return!!l.schema.options.timestamps});if(S||O){var v=V(S,"createdAt"),y=V(S,"updatedAt"),h=null!=S&&S.hasOwnProperty("currentTime")?S.currentTime:null,f={};I.$timestamps={createdAt:v,updatedAt:y},y&&!I.paths[y]&&(f[y]=Date),v&&!I.paths[v]&&(f[v]=Date),I.add(f),I.pre("save",function(l){var _=x(this,"$__.saveOptions.timestamps");if(!1===_)return l();var m=null!=_&&!1===_.updatedAt,C=null!=_&&!1===_.createdAt,A=null!=h?h():(this.ownerDocument?this.ownerDocument():this).constructor.base.now(),$=this._id&&this._id.auto;if(!C&&this.isNew&&v&&!this.get(v)&&this.$__isSelected(v)&&this.$set(v,$?this._id.getTimestamp():A),!m&&y&&(this.isNew||this.isModified())){var K=A;this.isNew&&(null!=v?K=this.$__getValue(v):$&&(K=this._id.getTimestamp())),this.$set(y,K)}l()}),I.methods.initializeTimestamps=function(){var l=null!=h?h():this.constructor.base.now();return v&&!this.get(v)&&this.$set(v,l),y&&!this.get(y)&&this.$set(y,l),this},u[D.builtInMiddleware]=!0;var g={query:!0,model:!1};I.pre("findOneAndReplace",g,u),I.pre("findOneAndUpdate",g,u),I.pre("replaceOne",g,u),I.pre("update",g,u),I.pre("updateOne",g,u),I.pre("updateMany",g,u)}function u(l){var _=null!=h?h():this.model.base.now();"findOneAndReplace"===this.op&&null==this.getUpdate()&&this.setUpdate({}),w(_,v,y,this.getUpdate(),this.options,this.schema),p(_,this.getUpdate(),this.model.schema),l()}}},function(ae,q,c){"use strict";function p(S,O){var v="undefined"!=typeof Symbol&&S[Symbol.iterator]||S["@@iterator"];if(!v){if(Array.isArray(S)||(v=function(l,_){if(l){if("string"==typeof l)return w(l,_);var m=Object.prototype.toString.call(l).slice(8,-1);if("Object"===m&&l.constructor&&(m=l.constructor.name),"Map"===m||"Set"===m)return Array.from(l);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return w(l,_)}}(S))||O&&S&&"number"==typeof S.length){v&&(S=v);var y=0,h=function(){};return{s:h,n:function(){return y>=S.length?{done:!0}:{done:!1,value:S[y++]}},e:function(l){throw l},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,u=!1;return{s:function(){v=v.call(S)},n:function(){var l=v.next();return g=l.done,l},e:function(l){u=!0,f=l},f:function(){try{g||null==v.return||v.return()}finally{if(u)throw f}}}}function w(S,O){(null==O||O>S.length)&&(O=S.length);for(var v=0,y=new Array(O);v<O;v++)y[v]=S[v];return y}var x=c(145),V=c(77);function D(S,O,v){if(null!=O){if(Object.keys(O).some(function($){return $.startsWith("$")})){if(O.$push&&A(O.$push),O.$addToSet&&A(O.$addToSet),null!=O.$set)for(var y=0,h=Object.keys(O.$set);y<h.length;y++)I(v,h[y],O.$set,S);if(null!=O.$setOnInsert)for(var g=0,u=Object.keys(O.$setOnInsert);g<u.length;g++)I(v,u[g],O.$setOnInsert,S)}var _,m=p(Object.keys(O).filter(function($){return!$.startsWith("$")}));try{for(m.s();!(_=m.n()).done;)I(v,_.value,O,S)}catch($){m.e($)}finally{m.f()}}function A($){for(var K=function(){var k=F[B],U=v.path(k.replace(/\.\$\./i,".").replace(/.\$$/,""));if($[k]&&U&&U.$isMongooseDocumentArray&&U.schema.options.timestamps){var P=U.schema.options.timestamps,G=V(P,"createdAt"),W=V(P,"updatedAt");$[k].$each?$[k].$each.forEach(function(ne){null!=W&&(ne[W]=S),null!=G&&(ne[G]=S)}):(null!=W&&($[k][W]=S),null!=G&&($[k][G]=S))}},B=0,F=Object.keys($);B<F.length;B++)K()}}function I(S,O,v,y){var h=x(O),f=S.path(h);if(f){for(var g=[],u=h.split("."),l=u.length-1;l>0;--l){var _=S.path(u.slice(0,l).join("."));null!=_&&(_.$isMongooseDocumentArray||_.$isSingleNested)&&g.push({parentPath:O.split(".").slice(0,l).join("."),parentSchemaType:_})}if(Array.isArray(v[O])&&f.$isMongooseDocumentArray)!function(ne,X,z){var Q=X.schema.options.timestamps;if(Q)for(var Z=ne.length,j=V(Q,"createdAt"),ce=V(Q,"updatedAt"),pe=0;pe<Z;++pe)null!=ce&&(ne[pe][ce]=z),null!=j&&(ne[pe][j]=z),D(z,ne[pe],X.schema)}(v[O],f,y);else if(v[O]&&f.$isSingleNested)!function(ne,X,z){var Q=X.schema.options.timestamps;if(Q){var Z=V(Q,"createdAt"),j=V(Q,"updatedAt");null!=j&&(ne[j]=z),null!=Z&&(ne[Z]=z),D(z,ne,X.schema)}}(v[O],f,y);else if(g.length>0){var m,C=p(g);try{for(C.s();!(m=C.n()).done;){var A=m.value,$=A.parentPath,K=A.parentSchemaType,B=K.schema.options.timestamps,F=V(B,"updatedAt");if(B&&null!=F)if(K.$isSingleNested)v[$+"."+F]=y;else if(K.$isMongooseDocumentArray){var k=O.substr($.length+1);if(/^\d+$/.test(k)){v[$+"."+k][F]=y;continue}var U=k.indexOf(".");v[$+"."+(k=-1!==U?k.substr(0,U):k)+"."+F]=y}}}catch(ne){C.e(ne)}finally{C.f()}}else if(null!=f.schema&&f.schema!=S&&v[O]){var P=f.schema.options.timestamps,G=V(P,"createdAt"),W=V(P,"updatedAt");if(!P)return;null!=W&&(v[O][W]=y),null!=G&&(v[O][G]=y)}}}ae.exports=D},function(ae,q,c){"use strict";ae.exports=function(p){return p.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},function(ae,q,c){"use strict";var p=c(3);ae.exports=function(w,x,V,D,I){var S=D,O=S,v=p(I,"overwrite",!1),y=p(I,"timestamps",!0);if(!y||null==S)return D;var h=null!=y&&!1===y.createdAt,f=null!=y&&!1===y.updatedAt;if(v)return D&&D.$set&&(D=D.$set,S.$set={},O=S.$set),f||!V||D[V]||(O[V]=w),h||!x||D[x]||(O[x]=w),S;if(D=D||{},Array.isArray(S))return S.push({$set:{updatedAt:w}}),S;if(S.$set=S.$set||{},!f&&V&&(!D.$currentDate||!D.$currentDate[V])){var g=!1;if(-1!==V.indexOf("."))for(var u=V.split("."),l=1;l<u.length;++l){var _=u.slice(-l).join("."),m=u.slice(0,-l).join(".");if(null!=D[m]){D[m][_]=w,g=!0;break}if(D.$set&&D.$set[m]){D.$set[m][_]=w,g=!0;break}}g||(S.$set[V]=w),S.hasOwnProperty(V)&&delete S[V]}if(!h&&x){D[x]&&delete D[x],D.$set&&D.$set[x]&&delete D.$set[x];var C=!1;if(-1!==x.indexOf("."))for(var A=x.split("."),$=1;$<A.length;++$){var K=A.slice(-$).join("."),B=A.slice(0,-$).join(".");if(null!=D[B]){D[B][K]=w,C=!0;break}if(D.$set&&D.$set[B]){D.$set[B][K]=w,C=!0;break}}C||(S.$setOnInsert=S.$setOnInsert||{},S.$setOnInsert[x]=w)}return 0===Object.keys(S.$set).length&&delete S.$set,S}},function(ae,q,c){"use strict";var p=c(14),w=c(4);ae.exports=function(x,V){if("string"!=typeof x&&"function"!=typeof x)throw new p('Invalid ref at path "'+V+'". Got '+w.inspect(x,{depth:0}))}},function(ae,q,c){"use strict";function p(w,x){var V={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0},D=x.hooks.filter(function(I){var O,v,S=(v={},(O=I).hasOwnProperty("query")&&(v.query=O.query),O.hasOwnProperty("document")&&(v.document=O.document),v);return"updateOne"===I.name?null==S.query||!!S.query:"deleteOne"===I.name?!!S.query||0===Object.keys(S).length:"validate"===I.name||"remove"===I.name?!!S.query:null==I.query&&null==I.document||!!I.query});w.prototype._execUpdate=D.createWrapper("update",w.prototype._execUpdate,null,V),w.prototype.__distinct=D.createWrapper("distinct",w.prototype.__distinct,null,V),w.prototype.validate=D.createWrapper("validate",w.prototype.validate,null,V),p.middlewareFunctions.filter(function(I){return"update"!==I&&"distinct"!==I&&"validate"!==I}).forEach(function(I){w.prototype["_".concat(I)]=D.createWrapper(I,w.prototype["_".concat(I)],null,V)})}ae.exports=p,p.middlewareFunctions=["count","countDocuments","deleteMany","deleteOne","distinct","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndRemove","findOneAndReplace","findOneAndUpdate","remove","replaceOne","update","updateMany","updateOne","validate"]},function(ae,q,c){"use strict";function p(f,g){var u="undefined"!=typeof Symbol&&f[Symbol.iterator]||f["@@iterator"];if(!u){if(Array.isArray(f)||(u=function($,K){if($){if("string"==typeof $)return w($,K);var B=Object.prototype.toString.call($).slice(8,-1);if("Object"===B&&$.constructor&&(B=$.constructor.name),"Map"===B||"Set"===B)return Array.from($);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return w($,K)}}(f))||g&&f&&"number"==typeof f.length){u&&(f=u);var l=0,_=function(){};return{s:_,n:function(){return l>=f.length?{done:!0}:{done:!1,value:f[l++]}},e:function($){throw $},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m,C=!0,A=!1;return{s:function(){u=u.call(f)},n:function(){var $=u.next();return C=$.done,$},e:function($){A=!0,m=$},f:function(){try{C||null==u.return||u.return()}finally{if(A)throw m}}}}function w(f,g){(null==g||g>f.length)&&(g=f.length);for(var u=0,l=new Array(g);u<g;u++)l[u]=f[u];return l}var x=c(6),V=c(5),D=c(150),I=c(79),S=c(1),O=x.CastError;function v(f,g){this.enumValues=[],this.regExp=null,x.call(this,f,g,"String")}function y(f){return this.castForQuery(f)}v.schemaName="String",v.defaultOptions={},(v.prototype=Object.create(x.prototype)).constructor=v,Object.defineProperty(v.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:D}),v._cast=I,v.cast=function(f){return 0===arguments.length||(!1===f&&(f=this._defaultCaster),this._cast=f),this._cast},v._defaultCaster=function(f){if(null!=f&&"string"!=typeof f)throw new Error;return f},v.get=x.get,v.set=x.set,v._checkRequired=function(f){return(f instanceof String||"string"==typeof f)&&f.length},v.checkRequired=x.checkRequired,v.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(C){return C.validator!==this.enumValidator},this),this.enumValidator=!1),void 0===arguments[0]||!1===arguments[0])return this;var f,g;S.isObject(arguments[0])?Array.isArray(arguments[0].values)?(f=arguments[0].values,g=arguments[0].message):(f=S.object.vals(arguments[0]),g=V.messages.String.enum):(f=arguments,g=V.messages.String.enum);var u,l=p(f);try{for(l.s();!(u=l.n()).done;){var _=u.value;void 0!==_&&this.enumValues.push(this.cast(_))}}catch(C){l.e(C)}finally{l.f()}var m=this.enumValues;return this.enumValidator=function(C){return void 0===C||~m.indexOf(C)},this.validators.push({validator:this.enumValidator,message:g,type:"enum",enumValues:m}),this},v.prototype.lowercase=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.toLowerCase()})},v.prototype.uppercase=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.toUpperCase()})},v.prototype.trim=function(f){return arguments.length>0&&!f?this:this.set(function(g,u){return"string"!=typeof g&&(g=u.cast(g)),g&&g.trim()})},v.prototype.minLength=v.prototype.minlength=function(f,g){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(l){return l.validator!==this.minlengthValidator},this)),null!=f){var u=g||V.messages.String.minlength;u=u.replace(/{MINLENGTH}/,f),this.validators.push({validator:this.minlengthValidator=function(l){return null===l||l.length>=f},message:u,type:"minlength",minlength:f})}return this},v.prototype.maxLength=v.prototype.maxlength=function(f,g){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(l){return l.validator!==this.maxlengthValidator},this)),null!=f){var u=g||V.messages.String.maxlength;u=u.replace(/{MAXLENGTH}/,f),this.validators.push({validator:this.maxlengthValidator=function(l){return null===l||l.length<=f},message:u,type:"maxlength",maxlength:f})}return this},v.prototype.match=function(f,g){return this.validators.push({validator:function(l){return!!f&&(f.lastIndex=0,null==l||""===l||f.test(l))},message:g||V.messages.String.match,type:"regexp",regexp:f}),this},v.prototype.checkRequired=function(f,g){return x._isRef(this,f,g,!0)?!!f:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():v.checkRequired())(f)},v.prototype.cast=function(f,g,u){if(x._isRef(this,f,g,u))return"string"==typeof f?f:this._castRef(f,g,u);var l;l="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():v.cast();try{return l(f)}catch(_){throw new O("string",f,this.path,null,this)}};var h=S.options(x.prototype.$conditionalHandlers,{$all:function(f){var g=this;return Array.isArray(f)?f.map(function(u){return g.castForQuery(u)}):[this.castForQuery(f)]},$gt:y,$gte:y,$lt:y,$lte:y,$options:String,$regex:y,$not:y});Object.defineProperty(v.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(h)}),v.prototype.castForQuery=function(f,g){var u;if(2===arguments.length){if(!(u=this.$conditionalHandlers[f]))throw new Error("Can't use "+f+" with String.");return u.call(this,g)}return g=f,"[object RegExp]"===Object.prototype.toString.call(g)?g:this._castForQuery(g)},ae.exports=v},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"match",v),Object.defineProperty(O.prototype,"lowercase",v),Object.defineProperty(O.prototype,"trim",v),Object.defineProperty(O.prototype,"uppercase",v),Object.defineProperty(O.prototype,"minLength",v),Object.defineProperty(O.prototype,"minlength",v),Object.defineProperty(O.prototype,"maxLength",v),Object.defineProperty(O.prototype,"maxlength",v),Object.defineProperty(O.prototype,"populate",v),ae.exports=O},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"min",v),Object.defineProperty(O.prototype,"max",v),Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"populate",v),ae.exports=O},function(ae,q,c){"use strict";var p=c(23);ae.exports=function(w){return null==w?w:""===w?null:("string"!=typeof w&&"boolean"!=typeof w||(w=Number(w)),p.ok(!isNaN(w)),w instanceof Number?w.valueOf():"number"==typeof w?w:Array.isArray(w)||"function"!=typeof w.valueOf?w.toString&&!Array.isArray(w)&&w.toString()==Number(w)?Number(w):void p.ok(!1):Number(w.valueOf()))}},function(ae,q,c){"use strict";var p=c(13),w=c(6),x=c(53),V=c(1);function D(I,S){w.call(this,I,S,"Boolean")}D.schemaName="Boolean",D.defaultOptions={},(D.prototype=Object.create(w.prototype)).constructor=D,D._cast=x,D.set=w.set,D.cast=function(I){return 0===arguments.length||(!1===I&&(I=this._defaultCaster),this._cast=I),this._cast},D._defaultCaster=function(I){if(null!=I&&"boolean"!=typeof I)throw new Error;return I},D._checkRequired=function(I){return!0===I||!1===I},D.checkRequired=w.checkRequired,D.prototype.checkRequired=function(I){return this.constructor._checkRequired(I)},Object.defineProperty(D,"convertToTrue",{get:function(){return x.convertToTrue},set:function(I){x.convertToTrue=I}}),Object.defineProperty(D,"convertToFalse",{get:function(){return x.convertToFalse},set:function(I){x.convertToFalse=I}}),D.prototype.cast=function(I){var S;S="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():D.cast();try{return S(I)}catch(O){throw new p("Boolean",I,this.path,O,this)}},D.$conditionalHandlers=V.options(w.prototype.$conditionalHandlers,{}),D.prototype.castForQuery=function(I,S){var O;return 2===arguments.length?(O=D.$conditionalHandlers[I])?O.call(this,S):this._castForQuery(S):this._castForQuery(I)},D.prototype._castNullish=function(I){if(void 0===I&&null!=this.$$context&&null!=this.$$context._mongooseOptions&&this.$$context._mongooseOptions.omitUndefined)return I;var S="function"==typeof this.constructor.cast?this.constructor.cast():D.cast();return null==S?I:!(S.convertToFalse instanceof Set&&S.convertToFalse.has(I))&&(!!(S.convertToTrue instanceof Set&&S.convertToTrue.has(I))||I)},ae.exports=D},function(ae,q,c){"use strict";var p,w,x=c(57),V=c(13),D=c(19).EventEmitter,I=c(160),S=c(6),O=c(33),v=c(93),y=c(3),h=c(94),f=c(4),g=c(1),u=c(95),l=c(0).arrayAtomicsSymbol,_=c(0).arrayPathSymbol,m=c(0).documentArrayParent;function C(K,B,F,k){null!=k&&null!=k._id?B=h(B,k):null!=F&&null!=F._id&&(B=h(B,F));var U=A(B,F);U.prototype.$basePath=K,x.call(this,K,U,F),this.schema=B,this.schemaOptions=k||{},this.$isMongooseDocumentArray=!0,this.Constructor=U,U.base=B.base;var P=this.defaultValue;"defaultValue"in this&&void 0===P||this.default(function(){var W=P.call(this);return Array.isArray(W)||(W=[W]),W});var G=this;this.$embeddedSchemaType=new S(K+".$",{required:y(this,"schemaOptions.required",!1)}),this.$embeddedSchemaType.cast=function(W,ne,X){return G.cast(W,ne,X)[0]},this.$embeddedSchemaType.$isMongooseDocumentArrayElement=!0,this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function A(K,B,F){function k(){w.apply(this,arguments),this.$session(this.ownerDocument().$session())}w||(w=c(29));var U=null!=F?F.prototype:w.prototype;for(var P in(k.prototype=Object.create(U)).$__setSchema(K),k.schema=K,k.prototype.constructor=k,k.$isArraySubdocument=!0,k.events=new D,K.methods)k.prototype[P]=K.methods[P];for(var G in K.statics)k[G]=K.statics[G];for(var W in D.prototype)k[W]=D.prototype[W];return k.options=B,k}function $(K,B,F){if(F&&B){for(var k,U,P,G=K.path+".",W=Object.keys(B),ne=W.length,X={};ne--;)if((U=W[ne]).startsWith(G)){if("$"===(P=U.substring(G.length)))continue;P.startsWith("$.")&&(P=P.substr(2)),k||(k=!0),X[P]=B[U]}return k&&X||void 0}}C.schemaName="DocumentArray",C.options={castNonArrays:!0},(C.prototype=Object.create(x.prototype)).constructor=C,C.prototype.OptionsConstructor=I,C.prototype.discriminator=function(K,B,F){"function"==typeof K&&(K=g.getFunctionName(K));var k=A(B=v(this.casterConstructor,K,B,F),null,this.casterConstructor);k.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(k,"name",{value:K})}catch(U){}return this.casterConstructor.discriminators[K]=k,this.casterConstructor.discriminators[K]},C.prototype.doValidate=function(K,B,F,k){p||(p=c(18));var U=this;try{S.prototype.doValidate.call(this,K,function(P){if(P)return P.$isArrayValidatorError=!0,B(P);var G,W=K&&K.length;if(!W||k&&k.updateValidator)return B();function ne(j){null!=j&&((G=j)instanceof O||(G.$isArrayValidatorError=!0)),--W||B(G)}K.isMongooseDocumentArray||(K=new p(K,U.path,F));for(var X=0,z=W;X<z;++X){var Q=K[X];if(null!=Q){if(!(Q instanceof w)){var Z=u(U.casterConstructor,K[X]);Q=K[X]=new Z(Q,K,void 0,void 0,X)}null==k||!k.validateModifiedOnly||Q.isModified()?Q.$__validate(ne):--W||B(G)}else--W||B(G)}},F)}catch(P){return P.$isArrayValidatorError=!0,B(P)}},C.prototype.doValidateSync=function(K,B,F){var k=S.prototype.doValidateSync.call(this,K,B);if(null!=k)return k.$isArrayValidatorError=!0,k;var U=K&&K.length,P=null;if(U){for(var G=0,W=U;G<W;++G){var ne=K[G];if(ne){if(!(ne instanceof w)){var X=u(this.casterConstructor,K[G]);ne=K[G]=new X(ne,K,void 0,void 0,G)}if(null==F||!F.validateModifiedOnly||ne.isModified()){var z=ne.validateSync();z&&null==P&&(P=z)}}}return P}},C.prototype.getDefault=function(K){var B="function"==typeof this.defaultValue?this.defaultValue.call(K):this.defaultValue;if(null==B)return B;p||(p=c(18)),Array.isArray(B)||(B=[B]),B=new p(B,this.path,K);for(var F=0;F<B.length;++F){var k=new(u(this.casterConstructor,B[F]))({},B,void 0,void 0,F);k.init(B[F]),k.isNew=!0,Object.assign(k.$__.activePaths.default,k.$__.activePaths.init),k.$__.activePaths.init={},B[F]=k}return B},C.prototype.cast=function(K,B,F,k,U){if(p||(p=c(18)),null!=K&&null!=K[_]&&K===k)return K;var P,G,W={transform:!1,virtuals:!1};if(U=U||{},!Array.isArray(K)){if(!F&&!C.options.castNonArrays)throw new V("DocumentArray",f.inspect(K),this.path,null,this);return B&&F&&B.markModified(this.path),this.cast([K],B,F,k,U)}K&&K.isMongooseDocumentArray||U.skipDocumentArrayCast?K&&K.isMongooseDocumentArray&&(K=new p(K,this.path,B)):K=new p(K,this.path,B),null!=k&&(K[l]=k[l]||{}),null!=U.arrayPathIndex&&(K[_]=this.path+"."+U.arrayPathIndex);for(var ne=K.length,X={skipId:!0,willInit:!0},z=0;z<ne;++z)if(K[z]){var Q=u(this.casterConstructor,K[z]);if(!K[z].$__||K[z]instanceof Q&&K[z][m]===B||(K[z]=K[z].toObject({transform:!1,virtuals:K[z].schema===Q.schema})),K[z]instanceof w)null==K[z].__index&&K[z].$setIndex(z);else if(null!=K[z])if(F)B?P||(P=$(this,B.$__.selected,F)):P=!0,G=new Q(null,K,X,P,z),K[z]=G.init(K[z]);else if(k&&"function"==typeof k.id&&(G=k.id(K[z]._id)),k&&G&&g.deepEqual(G.toObject(W),K[z]))G.set(K[z]),K[z]=G;else try{G=new Q(K[z],K,void 0,void 0,z),K[z]=G}catch(j){var Z=f.inspect(K[z]);throw new V("embedded",Z,K[_],j,this)}}return K},C.prototype.clone=function(){var K=Object.assign({},this.options),B=new this.constructor(this.path,this.schema,K,this.schemaOptions);return B.validators=this.validators.slice(),void 0!==this.requiredValidator&&(B.requiredValidator=this.requiredValidator),B.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),B},C.prototype.applyGetters=function(K,B){return S.prototype.applyGetters.call(this,K,B)},C.defaultOptions={},C.set=S.set,ae.exports=C},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"enum",v),Object.defineProperty(O.prototype,"of",v),ae.exports=O},function(ae,q,c){"use strict";ae.exports=function p(w){if(!Array.isArray(w))return{min:0,max:0,containsNonArrayItem:!0};if(0===w.length)return{min:1,max:1,containsNonArrayItem:!1};if(1===w.length&&!Array.isArray(w[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var x=p(w[0]),V=1;V<w.length;++V){var D=p(w[V]);D.min<x.min&&(x.min=D.min),D.max>x.max&&(x.max=D.max),x.containsNonArrayItem=x.containsNonArrayItem||D.containsNonArrayItem}return x.min=x.min+1,x.max=x.max+1,x}},function(ae,q,c){"use strict";function p(m,C){var A="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!A){if(Array.isArray(m)||(A=function(U,P){if(U){if("string"==typeof U)return w(U,P);var G=Object.prototype.toString.call(U).slice(8,-1);if("Object"===G&&U.constructor&&(G=U.constructor.name),"Map"===G||"Set"===G)return Array.from(U);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return w(U,P)}}(m))||C&&m&&"number"==typeof m.length){A&&(m=A);var $=0,K=function(){};return{s:K,n:function(){return $>=m.length?{done:!0}:{done:!1,value:m[$++]}},e:function(U){throw U},f:K}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,F=!0,k=!1;return{s:function(){A=A.call(m)},n:function(){var U=A.next();return F=U.done,U},e:function(U){k=!0,B=U},f:function(){try{F||null==A.return||A.return()}finally{if(k)throw B}}}}function w(m,C){(null==C||C>m.length)&&(C=m.length);for(var A=0,$=new Array(C);A<C;A++)$[A]=m[A];return $}function x(m){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(m)}var V=c(13),D=c(34),I=c(56),S=c(158),O=c(3),v=c(24),y=c(159),h=c(83),f=c(4),g=c(21),u=c(31),l=["Polygon","MultiPolygon"];function _(m,C,A){if(Array.isArray(m))m.forEach(function(k,U){if(Array.isArray(k)||g(k))return _(k,C,A);m[U]=C.castForQueryWrapper({val:k,context:A})});else for(var $=Object.keys(m),K=$.length;K--;){var B=$[K],F=m[B];Array.isArray(F)||g(F)?(_(F,C,A),m[B]=F):m[B]=C.castForQuery({val:F,context:A})}}ae.exports=function m(C,A,$,K){if(Array.isArray(A))throw new Error("Query filter must be an object, got an array ",f.inspect(A));if(null==A)return A;A.hasOwnProperty("_bsontype")&&"ObjectID"!==A._bsontype&&delete A._bsontype,null!=C&&null!=C.discriminators&&null!=A[C.options.discriminatorKey]&&(C=y(C,A[C.options.discriminatorKey])||C);var B,F,k,U,P,G,W=Object.keys(A),ne=W.length;for($=$||{};ne--;)if(G=A[U=W[ne]],"$or"===U||"$nor"===U||"$and"===U){if(!Array.isArray(G))throw new V("Array",G,U);for(var X=0;X<G.length;++X){if(null==G[X]||"object"!==x(G[X]))throw new V("Object",G[X],U+"."+X);G[X]=m(C,G[X],$,K)}}else{if("$where"===U){if("string"!==(P=x(G))&&"function"!==P)throw new Error("Must have a string or function for $where");"function"===P&&(A[U]=G.toString());continue}if("$elemMatch"===U)G=m(C,G,$,K);else if("$text"===U)G=S(G,U);else{if(!C)continue;if(!(F=C.path(U)))for(var z=U.split("."),Q=z.length;Q--;){var Z=z.slice(0,Q).join("."),j=z.slice(Q).join("."),ce=C.path(Z),pe=O(ce,"schema.options.discriminatorKey");if(null!=ce&&null!=O(ce,"schema.discriminators")&&null!=pe&&j!==pe){var J=O(A,Z+"."+pe);null!=J&&(F=ce.schema.discriminators[J].path(j))}}if(F){if(null==G)continue;if("Object"===v(G))if(Object.keys(G).some(h))for(var Ee=Object.keys(G),te=void 0,ue=Ee.length;ue--;)if(k=G[te=Ee[ue]],"$not"===te){if(k&&F&&!F.caster){if((B=Object.keys(k)).length&&h(B[0]))for(var le in k)k[le]=F.castForQueryWrapper({$conditional:le,val:k[le],context:K});else G[te]=F.castForQueryWrapper({$conditional:te,val:k,context:K});continue}m(F.caster?F.caster.schema:C,k,$,K)}else G[te]=F.castForQueryWrapper({$conditional:te,val:k,context:K});else A[U]=F.castForQueryWrapper({val:G,context:K});else if(Array.isArray(G)&&-1===["Buffer","Array"].indexOf(F.instance)){var N,M=[],H=p(G);try{for(H.s();!(N=H.n()).done;)M.push(F.castForQueryWrapper({val:N.value,context:K}))}catch(mt){H.e(mt)}finally{H.f()}A[U]={$in:M}}else A[U]=F.castForQueryWrapper({val:G,context:K})}else{for(var oe=U.split("."),de=oe.length,we=void 0,Me=void 0,Ve=void 0;de--&&(we=oe.slice(0,de).join("."),!(F=C.path(we))););if(F){F.caster&&F.caster.schema?((Ve={})[Me=oe.slice(de).join(".")]=G,A[U]=m(F.caster.schema,Ve,$,K)[Me]):A[U]=G;continue}if(g(G)){var Qe="";if(G.$near?Qe="$near":G.$nearSphere?Qe="$nearSphere":G.$within?Qe="$within":G.$geoIntersects?Qe="$geoIntersects":G.$geoWithin&&(Qe="$geoWithin"),Qe){var it=new I.Number("__QueryCasting__"),xe=G[Qe];if(null!=G.$maxDistance&&(G.$maxDistance=it.castForQueryWrapper({val:G.$maxDistance,context:K})),null!=G.$minDistance&&(G.$minDistance=it.castForQueryWrapper({val:G.$minDistance,context:K})),"$within"===Qe){var $e=xe.$center||xe.$centerSphere||xe.$box||xe.$polygon;if(!$e)throw new Error("Bad $within parameter: "+JSON.stringify(G));xe=$e}else if("$near"===Qe&&"string"==typeof xe.type&&Array.isArray(xe.coordinates))xe=xe.coordinates;else if(("$near"===Qe||"$nearSphere"===Qe||"$geoIntersects"===Qe)&&xe.$geometry&&"string"==typeof xe.$geometry.type&&Array.isArray(xe.$geometry.coordinates))null!=xe.$maxDistance&&(xe.$maxDistance=it.castForQueryWrapper({val:xe.$maxDistance,context:K})),null!=xe.$minDistance&&(xe.$minDistance=it.castForQueryWrapper({val:xe.$minDistance,context:K})),u(xe.$geometry)&&(xe.$geometry=xe.$geometry.toObject({transform:!1,virtuals:!1})),xe=xe.$geometry.coordinates;else if("$geoWithin"===Qe)if(xe.$geometry){u(xe.$geometry)&&(xe.$geometry=xe.$geometry.toObject({virtuals:!1}));var rt=xe.$geometry.type;if(-1===l.indexOf(rt))throw new Error('Invalid geoJSON type for $geoWithin "'+rt+'", must be "Polygon" or "MultiPolygon"');xe=xe.$geometry.coordinates}else u(xe=xe.$box||xe.$polygon||xe.$center||xe.$centerSphere)&&(xe=xe.toObject({virtuals:!1}));_(xe,it,K);continue}}if(C.nested[U])continue;if($.upsert&&$.strict)throw"throw"===$.strict?new D(U):new D(U,'Path "'+U+'" is not in schema, strict mode is `true`, and upsert is `true`.');if("throw"===$.strictQuery)throw new D(U,'Path "'+U+"\" is not in schema and strictQuery is 'throw'.");$.strictQuery&&delete A[U]}}}return A}},function(ae,q,c){"use strict";function p(D){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var w=c(13),x=c(53),V=c(79);ae.exports=function(D,I){if(null==D||"object"!==p(D))throw new w("$text",D,I);return null!=D.$search&&(D.$search=V(D.$search,I+".$search")),null!=D.$language&&(D.$language=V(D.$language,I+".$language")),null!=D.$caseSensitive&&(D.$caseSensitive=x(D.$caseSensitive,I+".$castSensitive")),null!=D.$diacriticSensitive&&(D.$diacriticSensitive=x(D.$diacriticSensitive,I+".$diacriticSensitive")),D}},function(ae,q,c){"use strict";var p=c(82);ae.exports=function(w,x){if(null==w||null==w.discriminators)return null;for(var V=0,D=Object.keys(w.discriminators);V<D.length;V++){var S=w.discriminators[D[V]];if(null!=S.discriminatorMapping&&p(S.discriminatorMapping.value,x))return S}return null}},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"excludeIndexes",v),Object.defineProperty(O.prototype,"_id",v),ae.exports=O},function(ae,q,c){"use strict";function p(C){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(C)}var w,x=c(13),V=c(19).EventEmitter,D=c(75),I=c(162),S=c(6),O=c(52),v=c(36).castToNumber,y=c(93),h=c(84),f=c(3),g=c(95),u=c(94),l=c(17).internalToObjectOptions;function _(C,A,$){C=u(C,$),this.caster=m(C),this.caster.path=A,this.caster.prototype.$basePath=A,this.schema=C,this.$isSingleNested=!0,S.call(this,A,$,"Embedded")}function m(C,A){w||(w=c(92));var $=function(U,P,G){var W=this;this.$__parent=G,w.apply(this,arguments),this.$session(this.ownerDocument().$session()),G&&(G.on("save",function(){W.emit("save",W),W.constructor.emit("save",W)}),G.on("isNew",function(ne){W.isNew=ne,W.emit("isNew",ne),W.constructor.emit("isNew",ne)}))},K=null!=A?A.prototype:w.prototype;for(var B in($.prototype=Object.create(K)).$__setSchema(C),$.prototype.constructor=$,$.schema=C,$.$isSingleNested=!0,$.events=new V,$.prototype.toBSON=function(){return this.toObject(l)},C.methods)$.prototype[B]=C.methods[B];for(var F in C.statics)$[F]=C.statics[F];for(var k in V.prototype)$[k]=V.prototype[k];return $}ae.exports=_,(_.prototype=Object.create(S.prototype)).constructor=_,_.prototype.OptionsConstructor=I,_.prototype.$conditionalHandlers.$geoWithin=function(C){return{$geometry:this.castForQuery(C.$geometry)}},_.prototype.$conditionalHandlers.$near=_.prototype.$conditionalHandlers.$nearSphere=h.cast$near,_.prototype.$conditionalHandlers.$within=_.prototype.$conditionalHandlers.$geoWithin=h.cast$within,_.prototype.$conditionalHandlers.$geoIntersects=h.cast$geoIntersects,_.prototype.$conditionalHandlers.$minDistance=v,_.prototype.$conditionalHandlers.$maxDistance=v,_.prototype.$conditionalHandlers.$exists=O,_.prototype.cast=function(C,A,$,K,B){if(C&&C.$isSingleNested&&C.parent===A)return C;if(null!=C&&("object"!==p(C)||Array.isArray(C)))throw new D(this.path,C);var F,k=g(this.caster,C),U=f(A,"$__.selected",{}),P=this.path,G=Object.keys(U).reduce(function(W,ne){return ne.startsWith(P+".")&&(W[ne.substr(P.length+1)]=U[ne]),W},{});return B=Object.assign({},B,{priorDoc:K}),$?((F=new k(void 0,G,A)).init(C),F):0===Object.keys(C).length?new k({},G,A,void 0,B):new k(C,G,A,void 0,B)},_.prototype.castForQuery=function(C,A,$){var K;if(2===arguments.length){if(!(K=this.$conditionalHandlers[C]))throw new Error("Can't use "+C);return K.call(this,A)}if(null==(A=C))return A;this.options.runSetters&&(A=this._applySetters(A));var B=g(this.caster,A),F=null!=$&&null!=$.strict?$.strict:void 0;try{A=new B(A,F)}catch(k){throw k instanceof x?k:new x("Embedded",A,this.path,k,this)}return A},_.prototype.doValidate=function(C,A,$,K){var B=g(this.caster,C);if(K&&K.skipSchemaValidators)return C instanceof B||(C=new B(C,null,$)),C.validate(A);S.prototype.doValidate.call(this,C,function(F){return F?A(F):C?void C.validate(A):A(null)},$,K)},_.prototype.doValidateSync=function(C,A,$){if(!$||!$.skipSchemaValidators){var K=S.prototype.doValidateSync.call(this,C,A);if(K)return K}if(C)return C.validateSync()},_.prototype.discriminator=function(C,A,$){return A=y(this.caster,C,A,$),this.caster.discriminators[C]=m(A,this.caster),this.caster.discriminators[C]},_.defaultOptions={},_.set=S.set,_.prototype.clone=function(){var C=Object.assign({},this.options),A=new this.constructor(this.schema,this.path,C);return A.validators=this.validators.slice(),void 0!==this.requiredValidator&&(A.requiredValidator=this.requiredValidator),A.caster.discriminators=Object.assign({},this.caster.discriminators),A}},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"_id",v),ae.exports=O},function(ae,q,c){"use strict";(function(p){function w(f){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}var x=c(88),V=c(164),D=c(6),I=c(81),S=c(1),O=x.Binary,v=D.CastError;function y(f,g){D.call(this,f,g,"Buffer")}function h(f){return this.castForQuery(f)}y.schemaName="Buffer",y.defaultOptions={},(y.prototype=Object.create(D.prototype)).constructor=y,y.prototype.OptionsConstructor=V,y._checkRequired=function(f){return!(!f||!f.length)},y.set=D.set,y.checkRequired=D.checkRequired,y.prototype.checkRequired=function(f,g){return D._isRef(this,f,g,!0)?!!f:this.constructor._checkRequired(f)},y.prototype.cast=function(f,g,u){var l;if(D._isRef(this,f,g,u)){if(f&&f.isMongooseBuffer)return f;if(p.isBuffer(f))return f&&f.isMongooseBuffer||(f=new x(f,[this.path,g]),null!=this.options.subtype&&(f._subtype=this.options.subtype)),f;if(f instanceof O){if(l=new x(f.value(!0),[this.path,g]),"number"!=typeof f.sub_type)throw new v("Buffer",f,this.path,null,this);return l._subtype=f.sub_type,l}return this._castRef(f,g,u)}if(f&&f._id&&(f=f._id),f&&f.isMongooseBuffer)return f;if(p.isBuffer(f))return f&&f.isMongooseBuffer||(f=new x(f,[this.path,g]),null!=this.options.subtype&&(f._subtype=this.options.subtype)),f;if(f instanceof O){if(l=new x(f.value(!0),[this.path,g]),"number"!=typeof f.sub_type)throw new v("Buffer",f,this.path,null,this);return l._subtype=f.sub_type,l}if(null===f)return f;var _=w(f);if("string"===_||"number"===_||Array.isArray(f)||"object"===_&&"Buffer"===f.type&&Array.isArray(f.data))return"number"===_&&(f=[f]),l=new x(f,[this.path,g]),null!=this.options.subtype&&(l._subtype=this.options.subtype),l;throw new v("Buffer",f,this.path,null,this)},y.prototype.subtype=function(f){return this.options.subtype=f,this},y.prototype.$conditionalHandlers=S.options(D.prototype.$conditionalHandlers,{$bitsAllClear:I,$bitsAnyClear:I,$bitsAllSet:I,$bitsAnySet:I,$gt:h,$gte:h,$lt:h,$lte:h}),y.prototype.castForQuery=function(f,g){var u;if(2===arguments.length){if(!(u=this.$conditionalHandlers[f]))throw new Error("Can't use "+f+" with Buffer.");return u.call(this,g)}var l=this._castForQuery(g=f);return l&&l.toObject({transform:!1,virtuals:!1})},ae.exports=y}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"subtype",v),ae.exports=O},function(ae,q,c){"use strict";var p=c(5),w=c(166),x=c(6),V=c(167),D=c(24),I=c(1),S=x.CastError;function O(y,h){x.call(this,y,h,"Date")}function v(y){return this.cast(y)}O.schemaName="Date",O.defaultOptions={},(O.prototype=Object.create(x.prototype)).constructor=O,O.prototype.OptionsConstructor=w,O._cast=V,O.set=x.set,O.cast=function(y){return 0===arguments.length||(!1===y&&(y=this._defaultCaster),this._cast=y),this._cast},O._defaultCaster=function(y){if(null!=y&&!(y instanceof Date))throw new Error;return y},O.prototype.expires=function(y){return"Object"!==D(this._index)&&(this._index={}),this._index.expires=y,I.expires(this._index),this},O._checkRequired=function(y){return y instanceof Date},O.checkRequired=x.checkRequired,O.prototype.checkRequired=function(y,h){return x._isRef(this,y,h,!0)?!!y:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():O.checkRequired())(y)},O.prototype.min=function(y,h){if(this.minValidator&&(this.validators=this.validators.filter(function(u){return u.validator!==this.minValidator},this)),y){var f=h||p.messages.Date.min;"string"==typeof f&&(f=f.replace(/{MIN}/,y===Date.now?"Date.now()":y.toString()));var g=this;this.validators.push({validator:this.minValidator=function(u){var l=y;"function"==typeof y&&y!==Date.now&&(l=l.call(this));var _=l===Date.now?l():g.cast(l);return null===u||u.valueOf()>=_.valueOf()},message:f,type:"min",min:y})}return this},O.prototype.max=function(y,h){if(this.maxValidator&&(this.validators=this.validators.filter(function(u){return u.validator!==this.maxValidator},this)),y){var f=h||p.messages.Date.max;"string"==typeof f&&(f=f.replace(/{MAX}/,y===Date.now?"Date.now()":y.toString()));var g=this;this.validators.push({validator:this.maxValidator=function(u){var l=y;"function"==typeof l&&l!==Date.now&&(l=l.call(this));var _=l===Date.now?l():g.cast(l);return null===u||u.valueOf()<=_.valueOf()},message:f,type:"max",max:y})}return this},O.prototype.cast=function(y){var h;h="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():O.cast();try{return h(y)}catch(f){throw new S("date",y,this.path,f,this)}},O.prototype.$conditionalHandlers=I.options(x.prototype.$conditionalHandlers,{$gt:v,$gte:v,$lt:v,$lte:v}),O.prototype.castForQuery=function(y,h){if(2!==arguments.length)return this._castForQuery(y);var f=this.$conditionalHandlers[y];if(!f)throw new Error("Can't use "+y+" with Date.");return f.call(this,h)},ae.exports=O},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"min",v),Object.defineProperty(O.prototype,"max",v),Object.defineProperty(O.prototype,"expires",v),ae.exports=O},function(ae,q,c){"use strict";var p=c(23);ae.exports=function(w){return null==w||""===w?null:w instanceof Date?(p.ok(!isNaN(w.valueOf())),w):(p.ok("boolean"!=typeof w),x=w instanceof Number||"number"==typeof w?new Date(w):"string"==typeof w&&!isNaN(Number(w))&&(Number(w)>=275761||Number(w)<-271820)?new Date(Number(w)):"function"==typeof w.valueOf?new Date(w.valueOf()):new Date(w),isNaN(x.valueOf())?void p.ok(!1):x);var x}},function(ae,q,c){"use strict";var p,w=c(169),x=c(6),V=c(89),D=c(24),I=c(11),S=c(1),O=x.CastError;function v(g,u){!("string"==typeof g&&24===g.length&&/^[a-f0-9]+$/i.test(g))&&void 0!==g||u&&u.suppressWarning||(console.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),console.trace()),x.call(this,g,u,"ObjectID")}function y(g){return this.cast(g)}function h(){return new I}function f(g){if(p||(p=c(12)),this instanceof p){if(void 0===g){var u=new I;return this.$__._id=u,u}this.$__._id=g}return g}v.schemaName="ObjectId",v.defaultOptions={},(v.prototype=Object.create(x.prototype)).constructor=v,v.prototype.OptionsConstructor=w,v.get=x.get,v.set=x.set,v.prototype.auto=function(g){return g&&(this.default(h),this.set(f)),this},v._checkRequired=function(g){return g instanceof I},v._cast=V,v.cast=function(g){return 0===arguments.length||(!1===g&&(g=this._defaultCaster),this._cast=g),this._cast},v._defaultCaster=function(g){if(!(g instanceof I))throw new Error(g+" is not an instance of ObjectId");return g},v.checkRequired=x.checkRequired,v.prototype.checkRequired=function(g,u){return x._isRef(this,g,u,!0)?!!g:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():v.checkRequired())(g)},v.prototype.cast=function(g,u,l){if(x._isRef(this,g,u,l))return g instanceof I?g:"objectid"===(D(g)||"").toLowerCase()?new I(g.toHexString()):this._castRef(g,u,l);var _;_="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():v.cast();try{return _(g)}catch(m){throw new O("ObjectId",g,this.path,m,this)}},v.prototype.$conditionalHandlers=S.options(x.prototype.$conditionalHandlers,{$gt:y,$gte:y,$lt:y,$lte:y}),h.$runBeforeSetters=!0,ae.exports=v},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"auto",v),Object.defineProperty(O.prototype,"populate",v),ae.exports=O},function(ae,q,c){"use strict";var p=c(6),w=p.CastError,x=c(20),V=c(171),D=c(1);function I(O,v){p.call(this,O,v,"Decimal128")}function S(O){return this.cast(O)}I.schemaName="Decimal128",I.defaultOptions={},(I.prototype=Object.create(p.prototype)).constructor=I,I._cast=V,I.set=p.set,I.cast=function(O){return 0===arguments.length||(!1===O&&(O=this._defaultCaster),this._cast=O),this._cast},I._defaultCaster=function(O){if(null!=O&&!(O instanceof x))throw new Error;return O},I._checkRequired=function(O){return O instanceof x},I.checkRequired=p.checkRequired,I.prototype.checkRequired=function(O,v){return p._isRef(this,O,v,!0)?!!O:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():I.checkRequired())(O)},I.prototype.cast=function(O,v,y){if(p._isRef(this,O,v,y))return O instanceof x?O:this._castRef(O,v,y);var h;h="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():I.cast();try{return h(O)}catch(f){throw new w("Decimal128",O,this.path,f,this)}},I.prototype.$conditionalHandlers=D.options(p.prototype.$conditionalHandlers,{$gt:S,$gte:S,$lt:S,$lte:S}),ae.exports=I},function(ae,q,c){"use strict";(function(p){function w(D){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(D)}var x=c(20),V=c(23);ae.exports=function(D){return null==D?D:"object"===w(D)&&"string"==typeof D.$numberDecimal?x.fromString(D.$numberDecimal):D instanceof x?D:"string"==typeof D?x.fromString(D):p.isBuffer(D)?new x(D):"number"==typeof D?x.fromString(String(D)):"function"==typeof D.valueOf&&"string"==typeof D.valueOf()?x.fromString(D.valueOf()):void V.ok(!1)}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";(function(p){function w(_){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(_)}function V(_,m){(null==m||m>_.length)&&(m=_.length);for(var C=0,A=new Array(m);C<m;C++)A[C]=_[C];return A}function I(){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(_,m,C){var A=S(_,m);if(A){var $=Object.getOwnPropertyDescriptor(A,m);return $.get?$.get.call(arguments.length<3?_:C):$.value}}).apply(this,arguments)}function S(_,m){for(;!Object.prototype.hasOwnProperty.call(_,m)&&null!==(_=h(_)););return _}function O(_,m){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,A){return C.__proto__=A,C})(_,m)}function y(_,m){if(m&&("object"===w(m)||"function"==typeof m))return m;if(void 0!==m)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(_)}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)})(_)}var f=c(90),g=c(173),u=c(6),l=function(_){!function(B,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&O(B,F)}(K,_);var m,C,$=function v(_){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,A=h(_);if(m){var $=h(this).constructor;C=Reflect.construct(A,arguments,$)}else C=A.apply(this,arguments);return y(this,C)}}(K);function K(B,F){var k;return function(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}(this,K),(k=$.call(this,B,F,"Map")).$isSchemaMap=!0,k}return m=K,(C=[{key:"set",value:function(B,F){return u.set(B,F)}},{key:"cast",value:function(B,F,k){if(B instanceof f)return B;var U=this.path;if(k){var P=new f({},U,F,this.$__schemaType);if(B instanceof p.Map){var G,W=function x(_,m){var C="undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(!C){if(Array.isArray(_)||(C=function(k,U){if(k){if("string"==typeof k)return V(k,U);var P=Object.prototype.toString.call(k).slice(8,-1);if("Object"===P&&k.constructor&&(P=k.constructor.name),"Map"===P||"Set"===P)return Array.from(k);if("Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return V(k,U)}}(_))||m&&_&&"number"==typeof _.length){C&&(_=C);var A=0,$=function(){};return{s:$,n:function(){return A>=_.length?{done:!0}:{done:!1,value:_[A++]}},e:function(k){throw k},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K,B=!0,F=!1;return{s:function(){C=C.call(_)},n:function(){var k=C.next();return B=k.done,k},e:function(k){F=!0,K=k},f:function(){try{B||null==C.return||C.return()}finally{if(F)throw K}}}}(B.keys());try{for(W.s();!(G=W.n()).done;){var ne=G.value,X=B.get(ne);X=null==X?P.$__schemaType._castNullish(X):P.$__schemaType.cast(X,F,!0,null,{path:U+"."+ne}),P.$init(ne,X)}}catch(ce){W.e(ce)}finally{W.f()}}else for(var z=0,Q=Object.keys(B);z<Q.length;z++){var Z=Q[z],j=B[Z];j=null==j?P.$__schemaType._castNullish(j):P.$__schemaType.cast(j,F,!0,null,{path:U+"."+Z}),P.$init(Z,j)}return P}return new f(B,U,F,this.$__schemaType)}},{key:"clone",value:function(){var B=I(h(K.prototype),"clone",this).call(this);return null!=this.$__schemaType&&(B.$__schemaType=this.$__schemaType.clone()),B}}])&&function D(_,m){for(var C=0;C<m.length;C++){var A=m[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,(K=function(B,F){if("object"!==w(B)||null===B)return B;var k=B[Symbol.toPrimitive];if(void 0!==k){var U=k.call(B,"string");if("object"!==w(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(A.key),"symbol"===w(K)?K:String(K)),A)}var K}(m.prototype,C),Object.defineProperty(m,"prototype",{writable:!1}),K}(u);l.prototype.OptionsConstructor=g,l.defaultOptions={},ae.exports=l}).call(this,c(9))},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function x(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function V(y,h){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,g){return f.__proto__=g,f})(y,h)}function I(y,h){if(h&&("object"===p(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(y)}function S(y){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(y)}var O=function(y){!function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),m&&V(_,m)}(l,y);var h,u=function D(y){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}();return function(){var f,g=S(y);if(h){var u=S(this).constructor;f=Reflect.construct(g,arguments,u)}else f=g.apply(this,arguments);return I(this,f)}}(l);function l(){return x(this,l),u.apply(this,arguments)}return h=l,Object.defineProperty(h,"prototype",{writable:!1}),h}(c(7)),v=c(8);Object.defineProperty(O.prototype,"of",v),ae.exports=O},function(ae,q,c){"use strict";(function(p){function w(O){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(O)}var x=c(15).get().Binary,V=c(20),D=c(11),I=c(31);function S(O){return O&&"object"===w(O)&&!(O instanceof Date)&&!(O instanceof D)&&(!Array.isArray(O)||O.length>0)&&!(O instanceof p)&&!(O instanceof V)&&!(O instanceof x)}q.flatten=function O(v,y,h,f){var g,u=(g=v&&I(v)&&!p.isBuffer(v)?Object.keys(v.toObject({transform:!1,virtuals:!1})):Object.keys(v||{})).length,l={};y=y?y+".":"";for(var _=0;_<u;++_){var m=g[_],C=v[m];l[y+m]=C;var A=f&&f.path&&f.path(y+m),$=f&&f.nested&&f.nested[y+m];if(!A||"Mixed"!==A.instance){if(S(C)){if(h&&h.skipArrays&&Array.isArray(C))continue;var K=O(C,y+m,h,f);for(var B in K)l[B]=K[B];Array.isArray(C)&&(l[y+m]=C)}if($)for(var k=0,U=Object.keys(f.paths);k<U.length;k++){var P=U[k];P.startsWith(y+m+".")&&!l.hasOwnProperty(P)&&(l[P]=void 0)}}}return l},q.modifiedPaths=function O(v,y,h){var f=Object.keys(v||{}),g=f.length;h=h||{},y=y?y+".":"";for(var u=0;u<g;++u){var l=f[u],_=v[l];h[y+l]=!0,I(_)&&!p.isBuffer(_)&&(_=_.toObject({transform:!1,virtuals:!1})),S(_)&&O(_,y+l,h)}return h}}).call(this,c(2).Buffer)},function(ae,q,c){"use strict";var p=c(3);ae.exports=function w(x,V,D){for(var I=(D=D||{}).typeOnly,S=V.split("."),O=null,v="adhocOrUndefined",y=0;y<S.length;++y){var h=S.slice(0,y+1).join(".");if(null!=(O=x.schema.path(h))){if("Mixed"===O.instance)return I?"real":O;if(v=x.schema.pathType(h),(O.$isSingleNested||O.$isMongooseDocumentArrayElement)&&null!=O.schema.discriminators){var f=O.schema.discriminators,g=x.get(h+"."+p(O,"schema.options.discriminatorKey"));if(null==g||null==f[g])continue;var u=S.slice(y+1).join(".");return w(x.get(h),u,D)}}else v="adhocOrUndefined"}return I?v:O}},function(ae,q,c){"use strict";function p(){return null!=this._id?String(this._id):null}ae.exports=function(w){!w.paths.id&&!w.options.noVirtualId&&w.options.id&&w.virtual("id").get(p)}},function(ae,q,c){"use strict";var p=c(59);ae.exports=function(w){if(null==w)return null;var x=Object.keys(w),V=x.length,D=null;if(1===V&&"_id"===x[0])D=!!w[x[V]];else for(;V--;)if("_id"!==x[V]&&p(w[x[V]])){D=!w[x[V]];break}return D}},function(ae,q,c){"use strict";function p(y){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function w(y,h){var f="undefined"!=typeof Symbol&&y[Symbol.iterator]||y["@@iterator"];if(!f){if(Array.isArray(y)||(f=function(C,A){if(C){if("string"==typeof C)return x(C,A);var $=Object.prototype.toString.call(C).slice(8,-1);if("Object"===$&&C.constructor&&($=C.constructor.name),"Map"===$||"Set"===$)return Array.from(C);if("Arguments"===$||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return x(C,A)}}(y))||h&&y&&"number"==typeof y.length){f&&(y=f);var g=0,u=function(){};return{s:u,n:function(){return g>=y.length?{done:!0}:{done:!1,value:y[g++]}},e:function(C){throw C},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,_=!0,m=!1;return{s:function(){f=f.call(y)},n:function(){var C=f.next();return _=C.done,C},e:function(C){m=!0,l=C},f:function(){try{_||null==f.return||f.return()}finally{if(m)throw l}}}}function x(y,h){(null==h||h>y.length)&&(h=y.length);for(var f=0,g=new Array(h);f<h;f++)g[f]=y[f];return g}var V=c(179),D=c(3),I=c(37),S=c(59),O=c(26);function v(y){return function(h){h.options||(h.options={}),null!=y&&Array.isArray(y.virtuals)&&((y=Object.assign({},y)).virtuals=y.virtuals.filter(function(f){return"string"==typeof f&&f.startsWith(h.path+".")}).map(function(f){return f.slice(h.path.length+1)})),h.options.lean=y}}q.preparePopulationOptions=function(y,h){var f=y.options.populate,g=Object.keys(f).reduce(function(u,l){return u.concat([f[l]])},[]);return null!=h.lean&&g.filter(function(u){return null==D(u,"options.lean")}).forEach(v(h.lean)),g.forEach(function(u){u._localModel=y.model}),g},q.preparePopulationOptionsMQ=function(y,h){var f=y._mongooseOptions.populate,g=Object.keys(f).reduce(function(_,m){return _.concat([f[m]])},[]);null!=h.lean&&g.filter(function(_){return null==D(_,"options.lean")}).forEach(v(h.lean));var u=D(y,"options.session",null);null!=u&&g.forEach(function(_){null!=_.options?"session"in _.options||(_.options.session=u):_.options={session:u}});var l=y._fieldsForExec();return g.forEach(function(_){_._queryProjection=l}),g.forEach(function(_){_._localModel=y.model}),g},q.createModel=function(y,h,f,g,u){y.hooks.execPreSync("createModel",h);var l=y.schema?y.schema.discriminatorMapping:null,_=l&&l.isRoot?l.key:null,m=h[_];if(_&&m&&y.discriminators){var C=y.discriminators[m]||I(y.discriminators,m);if(C){var A=O(g);return q.applyPaths(A,C.schema),new C(void 0,A,!0)}}return void 0===u&&((u={}).defaults=!0),new y(void 0,f,{skipId:!0,isNew:!1,willInit:!0,defaults:u.defaults})},q.applyPaths=function(y,h){var f,g,u;if(y)for(u=(g=Object.keys(y)).length;u--;)if("+"!==g[u][0]){var l=y[g[u]];if(S(l)){f=!l;break}}var _=[],m=[],C=[];switch(function Q(Z,j){if(j||(j=""),-1!==C.indexOf(Z))return[];C.push(Z);var ce=[];return Z.eachPath(function(pe,J){j&&(pe=j+"."+pe);var Ee=z(pe,J);if(null==Ee&&J.$isMongooseArray&&!J.$isMongooseDocumentArray&&(Ee=z(pe,J.caster)),null!=Ee&&ce.push(Ee),J.schema){var te=Q(J.schema,pe);!1===f&&V(y,pe,J.schema,_,te)}}),C.pop(),ce}(h),f){case!0:var A,$=w(m);try{for($.s();!(A=$.n()).done;)y[A.value]=0}catch(Q){$.e(Q)}finally{$.f()}break;case!1:h&&h.paths._id&&h.paths._id.options&&!1===h.paths._id.options.select&&(y._id=0);var B,F=w(_);try{for(F.s();!(B=F.n()).done;){var k=B.value;y[k]=y[k]||1}}catch(Q){F.e(Q)}finally{F.f()}break;case void 0:if(null==y)break;for(var U=0,P=Object.keys(y||{});U<P.length;U++){var G=P[U];G.startsWith("+")&&delete y[G]}var W,ne=w(m);try{for(ne.s();!(W=ne.n()).done;)y[W.value]=0}catch(Q){ne.e(Q)}finally{ne.f()}}function z(Q,Z){var j="+"+Q,ce=y&&j in y;if(ce&&delete y[j],"boolean"==typeof Z.selected){if(ce)return delete y[j],void(!1===f&&g.length>1&&!~g.indexOf(Q)&&(y[Q]=1));for(var pe=Q.split("."),J="",Ee=0;Ee<pe.length;++Ee)if(-1!==m.indexOf(J+=J.length?"."+pe[Ee]:pe[Ee]))return;if(!f&&D(Z,"options.$skipDiscriminatorCheck",!1))for(var te="",ue=0;ue<pe.length;++ue){var le=D(y,te+=(0===te.length?"":".")+pe[ue],!1)||D(y,te+".$",!1);if(le&&"object"!==p(le))return}return(Z.selected?_:m).push(Q),Q}}},q.handleDeleteWriteOpResult=function(y){return function(h,f){if(h)return y(h);var g=Object.assign({},f.result);return null!=D(f,"result.n",null)&&(g.deletedCount=f.result.n),null!=f.deletedCount&&(g.deletedCount=f.deletedCount),y(null,g)}}},function(ae,q,c){"use strict";ae.exports=function(p,w,x,V,D){var I=Object.keys(p).reduce(function(O,v){return O||v.startsWith(w+".")},!1),S=w+"."+x.options.discriminatorKey;I||1!==D.length||D[0]!==S||V.splice(V.indexOf(S),1)}},function(ae,q,c){"use strict";function p(w){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}ae.exports=function(w){return!!w&&("object"===p(w)||"function"==typeof w)&&"function"==typeof w.then}},function(ae,q,c){"use strict";var p=c(12),w=c(19).EventEmitter,x=c(5),V=c(54),D=c(11),I=x.ValidationError,S=c(78),O=c(21);function v(y,h,f,g,u){if(!(this instanceof v))return new v(y,h,f,g,u);if(O(h)&&!h.instanceOfSchema&&(h=new V(h)),h=this.schema||h,!this.schema&&h.options._id&&void 0===(y=y||{})._id&&(y._id=new D),!h)throw new x.MissingSchemaError;for(var l in this.$__setSchema(h),p.call(this,y,f,g,u),S(this,h,{decorateDoc:!0}),h.methods)this[l]=h.methods[l];for(var _ in h.statics)this[_]=h.statics[_]}(v.prototype=Object.create(p.prototype)).constructor=v,v.events=new w,v.$emitter=new w,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(y){v[y]=function(){return v.$emitter[y].apply(v.$emitter,arguments)}}),v.ValidationError=I,ae.exports=v}])},module.exports=q()}},ae=>{ae(ae.s=904)}]);